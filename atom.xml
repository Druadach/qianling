<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>千灵</title>
  
  
  <link href="https://qianling.pw/atom.xml" rel="self"/>
  
  <link href="https://qianling.pw/"/>
  <updated>2023-11-29T02:24:58.000Z</updated>
  <id>https://qianling.pw/</id>
  
  <author>
    <name>千灵夙赋</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>《广告数据定量分析》书摘</title>
    <link href="https://qianling.pw/quantitative-data-analysis-for-advertising/"/>
    <id>https://qianling.pw/quantitative-data-analysis-for-advertising/</id>
    <published>2023-11-28T03:35:03.000Z</published>
    <updated>2023-11-29T02:24:58.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/110.webp"></p><span id="more"></span><hr><p><strong><center>广告数据定量分析：如何成为一位厉害的广告优化师 / 齐云涧著 . -- 北京：机械工业出版社，2019.6<br>（数据分析与决策技术丛书）<br>ISBN 978-7-111-63112-5</center></strong></p><hr><h1 id="第1章-广告优化中的统计学"><a href="#第1章-广告优化中的统计学" class="headerlink" title="第1章 广告优化中的统计学"></a>第1章 广告优化中的统计学</h1><h2 id="1-1-统计学：用一句话解释它是什么"><a href="#1-1-统计学：用一句话解释它是什么" class="headerlink" title="1.1 统计学：用一句话解释它是什么"></a>1.1 统计学：用一句话解释它是什么</h2><p>以互联网广告优化为例：<br>1）从媒体广告平台获取曝光、点击等数据，从广告主数据后台获取注册量、线索量、获客成本等数据，即为收集数据；<br>2）从广告点击率、获客成本等多个维度对广告效果进行评估，即为分析数据；<br>3）围绕“以更低的成本获取更多更优质的流量，提升广告投放的ROI”这一核心诉求，给出广告优化策略，指导下一步的优化操作，即为得出结论。</p><h2 id="1-2-学会运用统计：读者的目标"><a href="#1-2-学会运用统计：读者的目标" class="headerlink" title="1.2 学会运用统计：读者的目标"></a>1.2 学会运用统计：读者的目标</h2><h3 id="1-2-1-理解统计学术语"><a href="#1-2-1-理解统计学术语" class="headerlink" title="1.2.1 理解统计学术语"></a>1.2.1 理解统计学术语</h3><p>对于某个日均 UV 上万的页面做 A/B 测试，原始版本的转化率是 5.6%，试验版本_1 的转化率是 6.4%，看似转化率提高了 0.8 个百分点，但这会不会是随机波动导致的呢？</p><h3 id="1-2-2-掌握科学的数据分析方法论"><a href="#1-2-2-掌握科学的数据分析方法论" class="headerlink" title="1.2.2 掌握科学的数据分析方法论"></a>1.2.2 掌握科学的数据分析方法论</h3><p>大多数广告优化师没有受过专业的统计学思维训练，他们对数据分析的认知还停留在百分比、环比、同比等简单的概念上。举个例子，“昨天的注册量是 2，今天的注册量是 4，有广告优化师就在给广告主的日报中这样写道：优化有效果，注册量增长 100%。”这种从 2 到 4 的随机波动难道真能反映出什么规律吗？也许有，但任何一个接受过专业统计学训练的人都会认为这很困难。<br>广告优化这件事情，说简单点就是要不断地做正确的事情，在其他变量基本不变的条件下，只对少数变量做调整，积累数据，评估该调整是否能使效果显著优化，然后继续循环。科学的数据分析方法论能帮助我们更科学地设计优化试验，更高效地积累数据，更准确地评估优化效果，进而指导下一次的优化试验。</p><h3 id="1-2-3-理解什么地方可能出差错"><a href="#1-2-3-理解什么地方可能出差错" class="headerlink" title="1.2.3 理解什么地方可能出差错"></a>1.2.3 理解什么地方可能出差错</h3><p>例：简单平均，还是加权平均？<br>表1-1是某App在某应用商店共计两周的广告投放数据。下面我们分别用简单平均和加权平均两种计算方法，计算第一周和第二周的平均成本。<br>表1-1　某App在某应用商店的广告投放数据</p><table style="text-align:center"><caption>表1-1　某App在某应用商店的广告投放数据</caption><colgroup><col><col><col><col><col><col span="2"></colgroup><tbody><tr><td>日期</td><td>消费</td><td>下载量</td><td>注册</td><td>注册成本</td><td>简单平均注册成本</td><td>加权平均注册成本</td></tr><tr><td>5/30/2016</td><td>12788</td><td>1302</td><td>551</td><td>23.21</td><td rowspan="7">27.06</td><td rowspan="7">27.02</td></tr><tr><td>5/31/2016</td><td>16014</td><td>1637</td><td>624</td><td>25.66</td></tr><tr><td>6/1/2016</td><td>17699</td><td>1771</td><td>591</td><td>29.95</td></tr><tr><td>6/2/2016</td><td>17227</td><td>1746</td><td>570</td><td>30.22</td></tr><tr><td>6/3/2016</td><td>14546</td><td>1460</td><td>623</td><td>23.35</td></tr><tr><td>6/4/2016</td><td>18389</td><td>1803</td><td>711</td><td>25.86</td></tr><tr><td>6/5/2016</td><td>18908</td><td>1801</td><td>607</td><td>31.15</td></tr><tr><td>6/6/2016</td><td>11172</td><td>1117</td><td>325</td><td>34.38</td><td rowspan="7">34.02</td><td rowspan="7">29.79</td></tr><tr><td>6/7/2016</td><td>10876</td><td>1134</td><td>223</td><td>48.77</td></tr><tr><td>6/8/2016</td><td>12434</td><td>1683</td><td>238</td><td>52.24</td></tr><tr><td>6/9/2016</td><td>17288</td><td>1824</td><td>573</td><td>30.17</td></tr><tr><td>6/10/2016</td><td>15033</td><td>1496</td><td>631</td><td>23.82</td></tr><tr><td>6/11/2016</td><td>18542</td><td>1686</td><td>726</td><td>25.54</td></tr><tr><td>6/12/2016</td><td>15643</td><td>1702</td><td>674</td><td>23.21</td></tr></tbody></table><p>简单平均成本： 用每一天的注册成本加总，再除以 7 天，得到第二周的注册成本高达 34.0 元，环比第一周上涨 26%。<br>加权平均成本： 回归到注册成本的公式本身，用 7 天的消费合计除以注册量合计，得到第二周的注册成本 29.8 元，环比第一周仅上涨 10%。</p><p>结论：简单平均看似没有问题，但计算结果却和加权平均的计算结果相差超过 15 个百分点。<br>举一反三：凡是有计算公式的数据指标，如点击率、平均排名、平均点击成本、转化率等，在求平均时需多加注意，这些数据指标大多数不能直接简单相加求平均。正确的做法是回到公式本身，先将原始数据求合计，再进行计算。</p><h2 id="1-3-统计学的主要思想"><a href="#1-3-统计学的主要思想" class="headerlink" title="1.3 统计学的主要思想"></a>1.3 统计学的主要思想</h2><h3 id="1-3-1-随机性和规律性"><a href="#1-3-1-随机性和规律性" class="headerlink" title="1.3.1 随机性和规律性"></a>1.3.1 随机性和规律性</h3><p>我们可能会看到关键词近一周的点击率是比较稳定的，请注意是比较稳定，而不是恒定在某个准确的数字。这就是我想告诉你的，规律也会表现出某种随机性。如果我们再抛掷硬币 100 次，很大可能得到的结果和之前那一次是不一样的。在第一次抛掷硬币试验中，可能有 49 次正面向上，然而在第二次抛掷硬币试验中可能只有 47 次正面向上。<br>不管我们是否再进行一次或一组新的试验，大多数情况下我们并不能得到和上次试验一模一样的数据。比如观察某个信息流广告的创意 a 的转化率，今天有 1000 次点击，转化率接近 3%；明天还是同样的创意 a，还是同样的出价和 1000 次点击，但转化率可能会相差 ±1%。<br>这两个比例之间的差异主要是由于数据本身的随机性引起的。</p><h3 id="1-3-2-规律性中的随机性"><a href="#1-3-2-规律性中的随机性" class="headerlink" title="1.3.2 规律性中的随机性"></a>1.3.2 规律性中的随机性</h3><p>我们可以确定一项调查或试验中的某一比例有多大的随机性，以及在下一次的重复调查或试验中，这个比例可能有多大的偏差。我们甚至可以指出，这两个比例之间的差异，是否大到了随机性本身不能解释的地步，即这一项数据指标已经显著改变了。例如，还记得 1.2.1 节中提到的 A/B 测试吗？原始版本的转化率是 5.6%，试验版本_1 的转化率是 6.4%，A/B 测试系统会告诉你，转化率是显著优化的，换句话说，相差的 0.8 个百分点已经大到了随机性本身不能解释的地步。</p><h3 id="1-3-3-概率：什么是机会"><a href="#1-3-3-概率：什么是机会" class="headerlink" title="1.3.3 概率：什么是机会"></a>1.3.3 概率：什么是机会</h3><p>概率为统计学从数据中得出结论，奠定了基石。我们或许永远不能十分确定，两个数字之间的差别是否已超过随机性本身可以解释的范围，但是我们可以确定，这种差别的概率是大还是小。</p><h2 id="1-4-统计学和广告优化的关系"><a href="#1-4-统计学和广告优化的关系" class="headerlink" title="1.4 统计学和广告优化的关系"></a>1.4 统计学和广告优化的关系</h2><p>业内一些所谓的干货分享，重方法轻思想，不强调案例数据的有限性，缺乏可复制性和可迁移性。这也解释了，为什么看了那么多的干货分享，似乎掌握了各种各样的技巧，广告效果的优化还是不稳定。一旦开始优化实操，难免容易受到各种经验和教条的干扰，不利于做出正确的决策，优化效果往往不尽人意。以上即是野路子。<br>那什么是学院派呢？个人以为是基于对广告媒体的深刻理解、广告产品逻辑的准确认知、用户受众需求和偏好的洞察基础上，以统计学的思想和方法论指导我们的广告优化实操。对于每一个广告优化师来说，减少了个人认知、运气等主观成分，更加稳定和实用。</p><h2 id="1-5-广告数据定量分析的主要理念"><a href="#1-5-广告数据定量分析的主要理念" class="headerlink" title="1.5 广告数据定量分析的主要理念"></a>1.5 广告数据定量分析的主要理念</h2><h3 id="1-5-1-目的性Purpose"><a href="#1-5-1-目的性Purpose" class="headerlink" title="1.5.1 目的性Purpose"></a>1.5.1 目的性Purpose</h3><p>对广告数据的定量分析，一定要有很强的目的性，不能直击核心指标 ROI 优化的数据分析可能有理论意义，但是没有现实价值。<br>分享一下我走过的弯路，我曾经花费大量的时间精力研究了根据历史数据预测当天小米应用商店分时段的曝光量和下载率，估算百度 SEM 中 App 下载样式的展现概率等，实际上也确实取得了一些成果。但我后来反思，这些问题都太“绕”，哪怕得出的结论具有借鉴意义，也不能直接有效地影响核心指标优化。更何况，这类问题往往具有天生的局限性，受媒体流量、产品逻辑的影响很深。</p><p>想优化什么核心指标就去找与它直接相关的变量，科学地进行对比试验、数据分析和效果评估。<br>例如，在 SEM 广告优化中，想提高单个关键词的点击量，可以采取的方法不限于：<br>1）曝光量相对稳定的条件下，研究不同排名对点击率的影响，寻找最适合的排名位置组合，比如第 2 名和第 3 名各占 50%（普遍认为排名越靠前点击率越高）；<br>2）轮替多套创意，对比多套创意的点击率优劣，得到点击率显著最优的那一套，请注意是显著最优，而非我们觉得最优，有疑惑的读者建议回顾 1.2.1 节中提到的 A/B 测试例子。</p><h3 id="1-5-2-有限性Limited"><a href="#1-5-2-有限性Limited" class="headerlink" title="1.5.2 有限性Limited"></a>1.5.2 有限性Limited</h3><p>1.数据有效性<br>当我们对某一数据指标进行分析前，请先关注它的准确定义和有效性。</p><p>例如，什么是曝光量？乍一听是一个很简单的问题，实则不然。<br>信息流广告中，当用户往下翻阅回顾旧内容时，之前加载出的广告依然还存在，算不算一次新的曝光？这还是最简单的情况，如果算上联网状态或断网状态、间隔时间长短、是否重启过 App 等因素，问题更加复杂。<br>有些数据在广告后台写得清清楚楚，但曝光量真的是有效曝光吗？下载量真的是有效下载吗？值得仔细揣摩。<br>有效的曝光量，有效的点击量，才能得到有效的点击率。</p><p>除此之外，各家广告后台有技术差异，数据总会有或多或少的延迟和误差，这些都是不可避免的。但因为是技术黑箱，很难直接观测，所以我们在做广告定量数据分析时，一般可假设不存在延迟和误差，如果得到的数据模型的拟合度（这里指数据模型的预测结果与实际发生情况的吻合程度，2.8.2节中会有详细阐述）太低，则可以考虑加入一个常量，代指这些不可控的因素。</p><p>2.存量优化与增量优化<br>存量是指系统在某一时点所保有的数量，增量则是指在某一段时间内系统中保有数量的变化。<br>映射到广告优化领域，存量和增量可以理解为：存量是指某一时间段内、在某一媒体的、预算相对稳定的广告投放所带来的流量；而增量则是指可以使固有存量的特性和流程发生变化的另外一些特性和流程，是那些新的增长点。<br>现阶段的广告数据定量分析更擅长做存量优化，在增量优化上则略逊一筹。这是由多方面原因造成的：第一，广告优化工作中接触的多为存量优化，这种优化的目的性更强，适用范围更广，研究的难度也更小一点；第二，广告数据定量分析太依赖于历史数据，且历史数据需要比较稳定；第三，对于任何数据的分析，做预测都是难题之一。<br>然而，做增量是一件很不确定的事情，广告主可能是要加预算，可能要尝试新的广告资源，可能是因为他的主观感觉要求做什么操作或限制，这一切都会导致增量优化是一件困难的事情。</p><p>3.时效性<br>时效性包括两方面：一方面，用于分析的广告数据需要是最近比较新的数据，这样分析起来更能反映现阶段的流量规律，也对未来的优化更具现实意义；另一方面，数据分析得出的结论是有时效性的，我们不能拿上个月分析出的规律生搬硬套在本月的数据上，也不该期望得出什么一劳永逸的普遍规律。互联网时代，唯一不变的只有“变化”。</p><p>4.特定性<br>特定性指的是我们研究的对象，是在特定时间段内、在特定媒体推广的特定产品或服务，这里有三个特定，缺一不可。我和业内的朋友交流时，有的人说应用商店的首页推荐广告效果好，有的人说搜索广告效果好，还有的人说针对不同客户这两种广告效果不一样。他们说的都有各自的道理，也确实有案例和数据支持其观点，但都有以偏概全的嫌疑。不说清楚时间段，年前和年后的情况可能大不一样；不说清楚媒体，厂商的华为应用市场和第三方的应用宝可能存在很大差异；不说清楚产品，一个月活 500 万的老牌产品和才推广 3 个月的新品对比，更是千差万别。甚至连“效果好”这句话本身都是不严谨的，客户不同，客户满意度的阈值也不一样。</p><h3 id="1-5-3-相关性Correlation"><a href="#1-5-3-相关性Correlation" class="headerlink" title="1.5.3 相关性Correlation"></a>1.5.3 相关性Correlation</h3><p>维克托·迈尔·舍恩伯格在《大数据时代》里说，“要相关，不要因果”，在大数据时代有相关就够了。而周涛则在《为数据而生》一书中说，放弃对因果关系的追寻，就是人类的自我堕落，相关性分析是寻找因果关系的利器。<br>广告优化是一项很复杂的工程，无形之中我们做的每一个操作其实都有相关性和因果性的考量。我个人更偏向迈尔·舍恩伯格的观点，对于广告优化来说，大部分情况下做到相关分析即可，因为营销本来就因人而异，主观性太大。</p><p>X 发生时 Y 发生的概率足够显著，那么 A 和 B 就是相关的。</p><p>在 SEM 关键词的优化中，通常将关键词按词性分类，包括品牌词、通用词、竞品词等，每种类型的词甚至每个词背后都是网民的不同需求。但优化实践中，往往会看到有的关键词就是有转化，有的就是没有转化，有的关键词就是转化成本高，有的就是转化成本低，而这些词之间很可能还很相似，我们很难洞察到背后的用户需求存在什么细微差异。我们做的优化，看起来是基于相关关系，实际上是有因果关系的，只不过因为因果关系很难度量，我们能做的事情也有限，套路基本就是先圈一批词，投放一段时间，积累数据后，分析转化量和转化成本，再将预算、时间精力向那些转化多、成本低的关键词倾斜。</p><p>在相关性分析中，我们优先关注的应是直接相关，在 1.5.1 节中，我提到过“不要太绕”。对于广告优化来说，直接相关的相关分析就已经很不容易了，再绕到间接相关，分析的难度增加不说，可能得出的结论也会很奇怪，缺乏现实价值。</p><h3 id="1-5-4-抽样性Sampling"><a href="#1-5-4-抽样性Sampling" class="headerlink" title="1.5.4 抽样性Sampling"></a>1.5.4 抽样性Sampling</h3><p>在公布任何一次抽样调查的结果时都应说明抽样误差的大小，不管是比例、均值还是其他形式。例如，1.2.1 节中提到的 A/B 测试例子，说明抽样误差后，原始版本的转化率是 5.6%（±0.64%），试验版本_1 的转化率是 6.5%（±0.67%）。</p><p>广告优化成功一定程度上是受运气影响的，而运气本质上是因为我们观测的数据总是样本数据，抽样总会有随机性，哪怕没有进行任何操作，两次抽样的结果也可能存在较显著的差异。认识到这一点，广告优化师应以更平和地心态接受每一次数据反馈，效果好了不骄傲，效果差了不沮丧。</p><h3 id="1-5-5-显著性Significance"><a href="#1-5-5-显著性Significance" class="headerlink" title="1.5.5 显著性Significance"></a>1.5.5 显著性Significance</h3><p>显著性用于衡量两个样本数据之间的差异是由于系统因素而不是偶然因素的影响。在广告优化中，其实我们无时无刻不在考虑显著性，比如上周的注册成本是25元，本周优化到23元，相对变化来看下降了8%，但注册成本是否显著降低了呢？以住大部分优化师是不会去关心的，但现在我们需要学着关心这个问题。<br>如果不能准确判断这是否显著优化了，偶尔遇到一两次数据波动，情况较好，就以此为参照，对于管理客户和老板的预期都不是好事。优化师心里要一清二楚，效果是自己做出来的，还是撞大运撞出来的。</p><h1 id="第2章-广告数据分析中的统计学原理"><a href="#第2章-广告数据分析中的统计学原理" class="headerlink" title="第2章 广告数据分析中的统计学原理"></a>第2章 广告数据分析中的统计学原理</h1><h2 id="2-1-抽样：总体、样本和误差"><a href="#2-1-抽样：总体、样本和误差" class="headerlink" title="2.1 抽样：总体、样本和误差"></a>2.1 抽样：总体、样本和误差</h2><p>当预算和流量达到一定量级时，稳定性就会越好。</p><p>假设我们研究近一周的数据，算出日均获取流量、获客成本等多个数据指标，可以预见的是，如果我们什么都不做，未来短时间（1～2周）内，这些数据指标都是相对稳定不变的，而从未来长时间来看，由于受到媒体广告后台的规则限制、流量大盘变化等多因素影响，广告效果会越来越差。</p><p>抽样误差 ：是指用样本统计值与被推断的总体参数出现的偏差。<br>样本数据都存在抽样误差。抽样误差的大小依赖于得到样本的方式和样本中包含的观测个数。样本越大，误差越小。<br>在公布任何一次基于样本数据得到的结论前，都应说明抽样误差的大小，无论是比例、均值还是其他形式。<br>例如，某条信息流广告创意有 36432 的曝光量，1128 的点击量，计算的点击率为 3.1%（±0.18%），这里的 ±0.18% 即为抽样误差，差不多是 3.1% 的 1/20。抽样误差具体怎么计算的，在 2.4 的参数估计部分再作介绍。</p><p>选取样本数据时，应注意下面几点：<br>第一，应尽可能选取优化操作前后相邻的数据。<br>这里，其实是有一个广告数据分析的前提假设，假设其他条件不变（或者说是相对稳定），优化操作则是唯一的变量，对比前后的数据即可判断优化是否有显著效果。取优化操作前后越近的数据，就越能保证假设的准确性。比如，优化操作前一周的数据和优化操作后一周的数据。<br>第二，样本数据的积累不仅要看时间长短，更要看样本量的大小。<br>比如，只对比优化操作前一天和后一天的数据，受偶然性的影响效果会比较大，以优化操作后第一天的数据作为样本，对总体的代表性也会差很多。另一方面，无论任何抽样方式，抽样误差都是难以避免的，只有当样本量足够大，抽样误差才相对稳定、相对较小，对于总体的代表性也较好。<br>第三，如果样本数据中出现某些特别高或特别低的奇异值，应将其剔除。</p><p>表2-1　优化操作后一周的样本数据<br>|时间|展现量|点击率|<br>|—|—|—|<br>|第一天|3276|2.70%|<br>|第二天|3365|2.60%|<br>|第三天|3208|2.80%|<br>|第四天|3465|2.60%|<br>|第五天|3327|2.70%|<br>|第六天|3518|3.50%|<br>|第七天|3387|2.90%|</p><p>从表中不难看出，第一天至第七天的展现量是相对稳定的，但第六天的点击率是明显偏高的，这个数很可能是奇异值，应从样本数据中剔除，剔除之后展现量累计不够的话，则可以顺延至第八天。<br>一般来说，广告数据是相对稳定的，如果出现这种奇异值，多是受到大盘流量、竞争对手的广告投放等多因素影响。而这些因素恰恰是我们做广告数据定量分析前假设相对稳定不变的，一旦出现这样的情况，说明分析的前提是不存在，得到的样本数据自然也是没有代表性的，应作相应的数据处理。</p><h2 id="2-2-概率"><a href="#2-2-概率" class="headerlink" title="2.2 概率"></a>2.2 概率</h2><p>注意：在相同的条件下。这一点在广告优化实践中是很难做到的。以手机百度这一媒体为例，MAU 高达 5 亿多，DAU 是 1 亿多，这意味着，除少部分重度用户每天都在使用外，大多数用户一个月内只有可能不到一半的时间能看到某个广告主的广告。所以我们的总体是不变的，但每天观测得到的样本都不一样了。所以，广告优化实践中我们只能尽力保证能控制的部分保持稳定，比如落地页、广告创意、定向等，以此来观测样本、统计概率，进行数据分析。</p><h2 id="2-3-概率分布"><a href="#2-3-概率分布" class="headerlink" title="2.3 概率分布"></a>2.3 概率分布</h2><p>大部分用于统计分析的数据来自于连续变量，即在任意两个值间还有其他的值，故这里只讨论连续变量的概率分布。<br>最重要的是标准正态分布（z 变量），t 分布（t 变量）。</p><h3 id="2-3-3-中心极限定理"><a href="#2-3-3-中心极限定理" class="headerlink" title="2.3.3 中心极限定理"></a>2.3.3 中心极限定理</h3><p>之所以我们可以根据历史数据（样本）来估算未来的广告效果，就是因为中心极限定理的存在。只要我们在选取样本数据时严格遵循 2.1 节中的 3 点规范，同时样本量足够大，它的分布都是近似正态分布的，都是可以用同一个公式来计算的。<br>比如，广点通渠道某广告创意的点击量是 11076，转化率是 8.4%（±0.52%）；今日头条渠道某广告创意的点击量是 8659，转化率是 6.3%（±0.51%）。虽然是不同的渠道，不同的广告位，但统计指标的计算逻辑是一样的，转化率的抽样误差也是可以用同一个公式计算的，两个渠道的转化率是可以做对比分析的。</p><h2 id="2-4-统计推断：估计"><a href="#2-4-统计推断：估计" class="headerlink" title="2.4 统计推断：估计"></a>2.4 统计推断：估计</h2><h3 id="2-4-1-估计：用样本数据预估总体"><a href="#2-4-1-估计：用样本数据预估总体" class="headerlink" title="2.4.1 估计：用样本数据预估总体"></a>2.4.1 估计：用样本数据预估总体</h3><p>样本统计量：是从样本数据中计算出来的数。<br>比如样本均值、样本百分比等。<br>总体参数：是在原理上可以从整个总体中计算出来的数。<br>比如总体均值、总体百分比等。</p><h3 id="2-4-2-区间估计"><a href="#2-4-2-区间估计" class="headerlink" title="2.4.2 区间估计"></a>2.4.2 区间估计</h3><p>点估计： 是一个用来估计总体参数的数。<br>区间估计： 又称为置信区间，是用来估计参数的取值范围的。<br>点估计应该是我们最常用的方法，无论媒体广告后台的数据，还是我们平时做广告数据分析，计算点击率、转化率、转化成本的时候，用到的几乎都是点估计。<br>点估计也有其天然的局限性，它是以一种静态的视角看数据指标，所以解释不了诸如下面的问题：<br>1）数据量小的时候，各种指标波动程度较大。要等数据积累到一定量的时候，数据指标相对稳定了，才能开始做数据分析。优化人员常常面临“两难”的境地，数据积累不够，做分析容易被误导，而积累过多又会导致预算的部分浪费，所以应该待数据积累到多少时，恰好足够数据分析所用？<br>2）一个优化策略的执行，使得转化率从 5.6% 提升至 6.1%，转化成本从 32.5 元下降至 29.7 元，这次的优化算不算是成功的？<br>这时就需要用到区间估计了。无论是点估计，还是区间估计，理论基础其实还是抽样，根据抽样取得的样本直接计算的概率，其实就是点估计。如果同时考虑抽样误差，就是区间估计。区别于点估计，区间估计是以一种动态的视角看数据指标的，此刻的指标不再只是一个数，而是一个取值范围（点估计±抽样误差）。<br>如此一来，刚才提出的两个问题也有了很好的解释。<br>1）随着数据的不断积累，抽样误差会趋于稳定，且抽样误差的相对占比会趋于变小，当小到一定程度（5% 或者 3%，根据数据分析需求自定义）时，再开始数据分析是比较合适的。<br>2）转化率 5.6%、6.1%，都需要加上一个抽样误差，即数据波动的范围，假设这个抽样误差都是 0.2%，那优化前的转化率区间为[5.4%，5.8%]，优化后的转化率区间为[5.9%，6.3%]。简单来看，优化后的最低水平5.9%仍高于优化前的最高水平，因此可以得出这次优化是成功的结论。</p><p>估计区间是用如下方法得到的：<br>·找到样本统计量，如均值或者比例，这一步骤相当于是点估计的计算；<br>·从数据中计算出抽样误差；<br>·用样本统计量加、减抽样误差就得到了区间估计的两个端点。<br>回到前文的例子，某条信息流广告创意有 36432 的曝光，1128 的点击。点估计可得点击率为 3.1%；置信水平为 95% 的情况下，区间估计得到的点击率则是一个范围，即 2.92%<del>3.28%。这里的 95% 指的是我们有 95% 的把握相信这条信息流广告创意总体的真实点击率在 2.92%</del>3.28%。<br>例子中提到 95% 的置信水平，是与区间估计绑定的一个概念。如果我们收集了多组不同的样本，并对每个样本都构造了一个置信区间。其中有 95% 的区间包含真值，5% 的区间不包含真值，那么这个构造的置信区间就叫作置信水平为 95% 的置信区间，简称 95% 置信区间。<br>下面介绍区间估计的具体算法。主要列举了两种数据分析需求：总体比例的置信区间、总体均值的置信区间。</p><h3 id="2-4-3-总体比例的置信区间"><a href="#2-4-3-总体比例的置信区间" class="headerlink" title="2.4.3 总体比例的置信区间"></a>2.4.3 总体比例的置信区间</h3><p>总体比例的置信区间：通过样本数据计算的比例，估计总体的对应比例的取值范围。</p><p>主要适用于用户转化漏斗各环节的转化率估计。</p><p>总体百分比的一个 95% 置信区间计算公式：<br>$$p - 1.96 \sqrt{\frac{p(1 - p)}{n}} \quad \text{to} \quad p + 1.96 \sqrt{\frac{p(1 - p)}{n}}$$</p><p>某条信息流广告创意有 36432 的曝光，1128 的点击。<br>带入总体比例的置信区间的计算公式，p=1128/36432=3.10%，n=36432。<br>抽样误差为：<br>$$\pm 1.96 \sqrt{\frac{p(1 - p)}{n}} = \pm 1.96 \sqrt{\frac{3.10% \cdot (1 - 3.10%)}{36432}} = \pm 0.178%$$</p><p>这条信息流广告创意的点击率 95% 的置信区间为（3.10%-0.178%，3.10%+0.178%），即 2.92%~3.28%。</p><h3 id="2-4-4-总体均值的置信区间"><a href="#2-4-4-总体均值的置信区间" class="headerlink" title="2.4.4 总体均值的置信区间"></a>2.4.4 总体均值的置信区间</h3><p>总体均值的置信区间：通过样本数据计算的样本均值，估计总体的对应均值数的取值范围。<br>主要使用于估计流量的大小，比如点击量、下载量、注册量等。不可用于估计类似于广告消费等人为因素较大的指标，也不可用于估计类似 CPC、CPD 等二次计算的指标。<br>严格来说，要根据总体是否服从正态分布、总体方差是否已知、是大样本还是小样本的不同情况来具体分析。但在优化实践中，往往使用历史的样本数据预测未来的情况，总体包括未来一段时间的数据，有一定的不确定性，总体是否服从正态分布和方差多少都无从得知，但大样本是基本可以确定的（一般 n≥30 就可以算作大样本）。</p><p>总体均值的 95% 置信区间：<br>$$\left( \overline{x} - 1.96 \frac{s}{\sqrt{n}}, \overline{x} + 1.96 \frac{s}{\sqrt{n}} \right)<br>$$</p><p>举一个广告优化的例子。</p><p>表2-2　某App在360应用商店两个月的注册量<br>|日期|2017年4月|2018年5月|<br>|—|—|—|<br>|第1日|48|101|<br>|第2日|63|158|<br>|第3日|65|176|<br>|第4日|73|172|<br>|第5日|114|170|<br>|第6日|94|166|<br>|第7日|67|196|<br>|第8日|100|183|<br>|第9日|76|199|<br>|第10日|94|203|<br>|第11日|88|177|<br>|第12日|116|267|<br>|第13日|133|291|<br>|第14日|190|253|<br>|第15日|145|240|<br>|第16日|160|268|<br>|第17日|127|234|<br>|第18日|136|225|<br>|第19日|139|202|<br>|第20日|129|207|<br>|第21日|121|193|<br>|第22日|106|209|<br>|第23日|132|232|<br>|第24日|116|247|<br>|第25日|114|242|<br>|第26日|118|205|<br>|第27日|122|221|<br>|第28日|118|228|<br>|第29日|109|249|<br>|第30日|73|210|</p><p>以此作为样本数据，估计总体均值（即某 App 在 360 应用商店日均注册量的范围）。</p><ol><li>样本量 n=60，确定是大样本；</li><li>计算样本方差为 61.56*61.56；</li><li>带入总体均值的置信区间的计算公式，样本均值 -x=160.2，<br>样本量 n=60，s=61.56，<br>抽样误差为<br>$$\pm 1.96 \frac{s}{\sqrt{n}} = \pm 1.96 \times \frac{61.56}{\sqrt{60}} = \pm 15.6$$</li></ol><p>于是可以得到，该 App 在 360 应用商店日均注册量 95% 的置信区间为（160.2-15.6，160.2+15.6），即 144.6~175.8。<br>这个例子很有代表性，我们可以看到抽样误差有点大，差不多接近均值的 10% 了。2017 年 4 月和 5 月的数据分布有较大的差异，这是因为 4 月底到 5 月初的时候执行了新的优化策略，严格意义上来说，这两组数据不能算作同一个总体，应该分开讨论。<br>4 月：n=30，样本均值为 109.5，样本方差为 30.9<em>30.9，抽样误差为 ±11.1；<br>5 月：n=30，样本均值为 210.8，样本方差为 38.7</em>38.7，抽样误差为 ±13.8。<br>乍一看，第二个月的抽样误差更大，但要看到样本均值几乎翻番，抽样误差的相对大小不过 6.5%。<br>哪怕我们只看两组数据的均值，210.8 和 109.5，就可以得出优化效果显著的结论。但这只是优化的第一阶段，效果很明显；如果继续优化，日均注册量从 210.8 提高到 233，增幅达 10.5%。这时仅凭平均值比较，很难评估优化效果是否显著，而计算抽样误差和置信区间就成了帮助我们评估优化策略效果的利器。</p><h2 id="2-5-统计推断：假设检验"><a href="#2-5-统计推断：假设检验" class="headerlink" title="2.5 统计推断：假设检验"></a>2.5 统计推断：假设检验</h2><p>任何概率都是建立在某种假设为真的前提下的。<br>再次列举 1.2.1 节中的例子，对于某个日均 UV 上万的页面做 A/B 测试，原始版本的 UV 为 10000，转化率是 5.6%，试验版本_1 的 UV 为 10000，转化率是 6.4%。<br>首先要对研究对象作出某种假设，这里我们假设的是试验版本_1 和原始版本的转化率是没有显著差异的；<br>然后收集数据，在该假设的基础上计算假设成立的概率（这里隐去计算过程，直接得到概率是 p=0.0087）；<br>最后，如果这个概率 p 非常小，统计学上一般以 0.05 意味着该事件几乎不可能发生。<br>于是，当 p 值的小于 0.05 时，我们认为这一事件（试验版本_1 和原始版本的转化率是没有显著差异的）是几乎不可能发生的，所以之前所作的假设是错误的。再进一步，原假设的相反假设是正确的。我们的计算结果是 p=0.0087，可以得出“试验版本_1 和原始版本的转化率是没有显著差异的”这一假设是错误的，即“试验版本_1 和原始版本的转化率是有显著差异的”，换句话说，A/B 测试是成功的。</p><h3 id="2-5-2-两个总体比例之差的显著性检验"><a href="#2-5-2-两个总体比例之差的显著性检验" class="headerlink" title="2.5.2 两个总体比例之差的显著性检验"></a>2.5.2 两个总体比例之差的显著性检验</h3><p>计算两个总体比例的显著性差异的在线工具：<a href="https://vwo.com/ab-split-test-significance-calculator/">https://vwo.com/ab-split-test-significance-calculator/</a> 。</p><p>第一行是 Control，即控制组（原始版本），在广告优数据分析中用于对比参照的样本；<br>第二行是 Variation，即试验组（试验版本），是优化操作后所得到的数据；<br>第一列 Number of Visitors，是指流量数；<br>第二列 Number of Conversions，是指转化数。</p><p>在 Control 和 Variation 两列，输入对应的数据，控制组是 10000 和 560，即为流量是 10000，转化量为 560，转化率为 5.6%；试验组是 10000 和 640，即为流量是 10000，转化量为 640，转化率为 6.4%；<br>下面的 p 值显示为 0.009，是不是很接近我们刚才计算的 0.0087；Significace 显示 Yes，说明是有显著性差异的。<br>这个工具还可以帮助我们找到临界值，比如转化率从 5.6% 提升到 6.4% 是显著优化的，但其实应该不用到 6.4% 就可以满足显著性差异，这个临界值是多少呢？<br>我们把 Variation 列的 Number of Conversions 不断调小，最终找到临界值是 6.15%，p 为 0.049。只要我们的优化操作能在 10000 的流量前提下，将转化率提升至超过 6.15%，就可判定试验组是显著优于控制组的，即优化是显著有效的。<br>两个总体比例之差的显著性检验的适用范围很广，凡是需要对比优化操作前后的广告效果时，这种显著性检验能很方便快捷地得到结论。同时，要注意这种方法论的局限性——只能对两个总体比例做检验。包括：点击率、激活率、注册率等转化率的数据指标，不包括展现量、点击量、注册量、线索量等流量的数据指标。</p><h3 id="2-5-3-两个总体均值之差的显著性检验"><a href="#2-5-3-两个总体均值之差的显著性检验" class="headerlink" title="2.5.3 两个总体均值之差的显著性检验"></a>2.5.3 两个总体均值之差的显著性检验</h3><p>$$Z = \frac{\overline{x}_1 - \overline{x}_2}{\sqrt{\frac{S_1^2}{n_1}} + \sqrt{\frac{S_2^2}{n_2}}}$$</p><p>x1：样本 1 的均值；x1：样本 2 的均值；<br>S1：样本 1 的标准差；S2：样本 2 的标准差；<br>n1：样本 1 的样本量；n2：样本 2 的样本量。</p><p>两个总体均值之差的显著性检验的适用范围相对窄很多，包括展现量、点击量、注册量、线索量等流量的数据指标。</p><h2 id="2-6-变量间关系"><a href="#2-6-变量间关系" class="headerlink" title="2.6 变量间关系"></a>2.6 变量间关系</h2><p>分析由两个变量控制的数据，主要目的是回答以下四个重要问题。这些问题为我们研究变量间的关系提供了分析框架。<br>问题一：从数据来看，变量间有关系吗？<br>首先我们要尝试确定统计的数据中是否包含某种关系，如果发现确有关系，则继续回答后面的问题。<br>问题二：如果变量间有关系，这个关系有多强？<br>如果数据间存在某种关系，我们就可以试着去确定这种关系有多强。变量间的关系可能强，可能弱。<br>问题三：是否不仅在样本中，在总体中也有这种关系？<br>虽然我们分析的是样本数据中的两个变量，但实际上我们对总体更感兴趣，通过数据分析得出的结论是否能推广到总体，具有现实意义。有时问题三还可以换一种说法：这个结果是完全由偶然因素引起的，还是受某种系统影响而产生的？<br>问题四：这个关系是不是因果关系？<br>这是最难回答的一个问题，但它往往也是最重要的。我们不知道观测到的这两个变量间的关系是否由根本就没被考虑进来的一些变量引起的。</p><p>在广告优化实践中，较为可控、偏前端的数据指标多为自变量，如出价、创意、广告定向等；较为不可控、偏后端的数据指标多为因变量，如转化率、成本等。<br>为了判断自变量与因变量之间的关系是否为因果关系（一旦样本数据中两个变量之间的关系可以代表总体）我们应该：<br>1）用常识判断这种关系是否有现实价值；<br>2）注意自变量是否发生在应变之前；<br>3）如果可能，尝试适当调整自变量，观察因变量的值是否会受影响；<br>4）即使自变量是决定变量的原因，也要意识到，是否存在没有被考虑到的、可能对因变量有影响的其他变量。</p><h2 id="2-7-自变量和因变量之间的关系"><a href="#2-7-自变量和因变量之间的关系" class="headerlink" title="2.7 自变量和因变量之间的关系"></a>2.7 自变量和因变量之间的关系</h2><p>本书所介绍的广告数据定量分析的内容，主要涉及的是：<br>1）自变量是数值型，因变量是数值型。比如，CPD出价对下载量的影响；关键词出价对CPC的影响等。<br>2）自变量是分类型，因变量是数值型。比如，广告定向中的性别、城市、操作系统对信息流广告创意展现量、点击量的影响等；工作日和非工作日对转化成本的影响等。</p><h2 id="2-8-两个数值型变量的关系"><a href="#2-8-两个数值型变量的关系" class="headerlink" title="2.8 两个数值型变量的关系"></a>2.8 两个数值型变量的关系</h2><p>回归分析描述的是一个或多个自变量的变化是如何影响因变量的一种方法。<br>相关分析描述的是两个数值变量间关系的强度。</p><h3 id="2-8-1-相关分析"><a href="#2-8-1-相关分析" class="headerlink" title="2.8.1 相关分析"></a>2.8.1 相关分析</h3><p>对于两个数值型变量，一般用散点图来分析。<br>如图 2-12 所示。水平的 x 轴为自变量，垂直的 y 轴为因变量，图上每一个点代表一个观测值。<br>以某 App 在小米应用商店广告优化为例，来看一下精品广告下载量与总激活量是否有相关关系。</p><p><img data-src="/quantitative-data-analysis-for-advertising/quantitative-data-analysis-for-advertising-1.png" alt="图2-12　精品广告下载量与总激活量关系图"></p><p>这个散点图直观表明，精品广告下载量越高，总激活量也越高。图 2-12 中点的趋势说明两个变量间确实存在一定的关系。<br>当这些数据沿一条直线排列时，我们可以计算一个系数来衡量两个变量间的关系。对于两个数值型变量，计算出来的系数记作 r，我们一般称之为相关系数，或是线性相关系数。<br>r 的取值为 -1 到 +1，-1 代表两个变量是完全的负线性相关关系，+1 代表两个变量是完全的正线性相关关系，0 代表两个变量不存在线性相关关系，越接近 1 说明两个变量的关系强度越高。<br>两个数值型变量的 r 值介于 0.7～1.0，代表了一个很强的正相关性；r 值介于 0.3～0.7，代表了一个较强的正相关性；r 值介于 0～0.3，代表了一个较弱的正相关性。r 为负值时，同理类推。</p><h3 id="2-8-2-回归分析"><a href="#2-8-2-回归分析" class="headerlink" title="2.8.2 回归分析"></a>2.8.2 回归分析</h3><p>回归分析侧重考察变量之间的定量关系，并通过数学公式将这个定量关系描述出来，进而确定自变量的变化对因变量的影响程度。<br>回归分析的核心价值在于“预测”，即分析历史数据，构建预测未来因变量值的数学公式。<br>图 2-17 在散点图的基础上，加了一条穿过这些点的中心的直线，这条直线就是回归直线。<br>如果擦去这些点而只保留直线，我们仍然可以很清楚地了解精品广告下载量和总激活量的相关性。</p><p><img data-src="/quantitative-data-analysis-for-advertising/quantitative-data-analysis-for-advertising-2.png" alt="图2-17　精品广告下载量和总激活量的关系图"></p><p>图 2-17 中的回归直线在 y 轴上有一个截距，也就是说，当 x=0 时，回归直线与 y 轴相交的那一点。同时可以看到，我已经用 Excel 计算出回归直线的方程（在散点图的图表元素中添加“趋势线”，设置为线性，并且显示公式）：<br>$$y=0.6723 x+6976.6$$</p><p>如同这些点有一个正相关性（$r=0.87$），这条回归直线从图的左下角到右上角有一个正的斜率（$0.6723$），这意味着在一定范围内，随着精品广告下载量 $x$ 每增加 $1000$ 个，总激活量 $y$ 大约增加 $672$ 个。<br>一条回归直线的方程可以写作：<br>因变量 = 斜率 × 自变量 + 截距<br>用公式表达即为：<br>$$y = \beta_1 x + \beta_0$$<br>回归直线 $y = \beta_1 x + \beta_0$ 在一定程度上描述了变量 $x$ 与 $y$ 之间的定量关系，根据这一方程，可依据自变量 $x$ 的取值来估计或预测因变量 $y$ 的取值。但估计或预测的精确度如何是取决于回归直线对样本数据的拟合程度。<br>各散点越是紧密围绕直线，说明回归直线对样本数据的拟合程度越好，误差越小。</p><p>回归直线与各数据点的接近程度称为回归直线对样本数据的拟合优度，一般需要计算判定系数 $R^2$ 来度量。<br>$y$ 的取值是有波动的，统计学上称为变差。它的产生来自两个方面：一是自变量 $x$ 的取值不同造成的；二是除 $x$ 之外其他因素（如抽样误差）的影响。<br>判定系数 $R^2$ 的计算原理其实是看 $y$ 值的变差有多大比例来自 $x$ 与 $y$ 之间的线性关系。<br>如果所有的数据点都落在回归直线上，则 $R^2=1$，拟合很完美；<br>如果 $y$ 的变化与 $x$ 无关，则 $x$ 完全无助于 $y$ 的变差，则 $R^2=0$；<br>如此可见 $R^2$ 的取值介于 $0～1$ 之间，越接近 $1$，表明 $x$ 与 $y$ 之间的线性关系对预测 $y$ 值的贡献越大，拟合程度越好。</p><p>下面用 Excel 计算前文“精品广告下载量与总激活量”的回归方程的判定系数，具体操作方法是 Excel 的“数据”菜单栏-数据分析-回归，如图 2-18 所示。</p><p><img data-src="/quantitative-data-analysis-for-advertising/quantitative-data-analysis-for-advertising-3.png" alt="图2-18　精品广告下载量与总激活量的回归分析"></p><p>计算结果呈现出 3 个部分。</p><p>第一部分主要包括：</p><ul><li>Multiple R（相关系数 $r$）；</li><li>R Square（判定系数 $R^2$）；</li><li>Adjusted R Square（调整后的判定系数 $R^2$）；</li><li>标准误差（用回归方程预测因变量 $y$ 时预测了误差的大小，各数据点越靠近回归直线，标准误差越小，回归方程进行的预测也就越准确）。</li></ul><p>第二部分可以忽略。</p><p>第三部分主要包括：<br>Coefficients（系数，或者叫参数。在线性回归方程中，即为变量的斜率）；<br>回到刚才的回归方程，$y=0.6723 x+6976.6$，与图 2-18 中的两个系数是一致的。<br>相关系数 $r=0.87$，判定系数 $R^2=0.76$，标准误差 = 1301。</p><p>现在解读一下，这几个数字的现实价值。<br>在小米应用商店广告优化中，精品广告下载量和总激活量是有很强的相关性的（$r=0.87$）；根据回归方程，可以知道精品广告下载量 $x$ 每增加 $1000$，总激活量 $y$ 大约增加 $672$；根据精品广告下载量 $x$ 来预测总激活量 $y$ 时，平均的估计误差在 $1300$ 左右，结合 $y$ 的取值范围是 $10000～20000$，这个误差比例不到 $10%$；在总激活量的波动中，有 $76%$ 可以由精品广告下载量与总激活量之间的线性关系来解释。<br>这个预测准确度其实已经不错了，但还有提升的空间。比如，影响总激活量波动的因素有很多，只考虑精品广告下载量很明显是不够的。如果能同时考虑更多的因素，包括其他主要广告位的下载量等，就能使总激活量的预测效果有一定的提升。<br>需要区分一点。我们刚才讨论的都是一元线性回归，即只有一个自变量和一个因变量。<br>广告数据分析中，还可能遇到多元线性回归的问题。我们将在第五章中以案例的形式具体介绍，比如用多类广告位的下载量（精品、搜索、排行榜等）来预测总激活量。<br>细心的朋友还会留意到，判定系数 $R^2$ 之外还有一个调整后的判定系数 $R^2$。两者的区别在于，前者适用于一元线性回归，后者适用于多元线性回归。</p><h2 id="2-9-分类型变量和数值型变量的关系"><a href="#2-9-分类型变量和数值型变量的关系" class="headerlink" title="2.9 分类型变量和数值型变量的关系"></a>2.9 分类型变量和数值型变量的关系</h2><p>在广告优化实践中，经常会遇到广告定向的问题。<br>比如要不要限制广告投放受众的性别、城市、操作系统等，限制包括控制出价、仅投放某类特定人群等，以期获得更好的广告效果。<br>这时我们分析的就是分类型变量（广告定向、广告设置等）和数值型变量（流量、成本）的关系。统计学上最常用的数据分析方法叫作方差分析，从形式上看，方差分析是检验多个总体的均值是否相等的统计方法，但本质上它研究的是分类型自变量对数值型因变量是否有显著影响。<br>以多推广渠道的用户质量评估为例，如表 2-3 所示，某 App 在各应用商店推广渠道一个月的激活注册率。激活注册率=注册量/激活量，一定程度上可以反映获取的新用户质量。</p><p>表2-3　某App在各应用商店推广渠道一个月的激活注册率分布<br>|日期|应用宝|小米应用商店|豌豆英|百度手机助手|vivo应用商店|OPPO应用商店|360手机助手|<br>|—|—|—|—|—|—|—|—|<br>|2017/8/1|26.2%|11.2%|19.2%|21.2%|23.7%|26.8%|19.7%|<br>|2017/8/2|24.8%|10.3%|18.9%|23.5%|24.0%|29.2%|21.4%|<br>|2017/8/3|27.2%|10.7%|20.4%|23.2%|25.3%|27.5%|19.4%|<br>|2017/8/4|26.5%|11.4%|22.5%|24.0%|24.7%|27.9%|18.8%|<br>|2017/8/5|29.1%|12.3%|22.8%|24.7%|23.2%|26.0%|18.7%|<br>|2017/8/6|25.6%|12.6%|23.0%|21.7%|24.8%|27.1%|19.1%|<br>|2017/8/7|25.2%|11.7%|24.5%|19.9%|24.1%|27.5%|22.6%|<br>|2017/8/8|25.6%|10.9%|25.2%|23.9%|26.9%|29.8%|19.0%|<br>|2017/8/9|25.8%|5.5%|25.9%|23.4%|27.7%|33.4%|20.9%|<br>|2017/8/10|25.9%|7.7%|14.5%|20.7%|29.3%|34.0%|21.2%|<br>|2017/8/11|28.5%|9.1%|11.2%|20.7%|28.5%|36.6%|17.2%|<br>|2017/8/12|34.0%|13.0%|27.5%|18.1%|35.4%|40.6%|23.5%|<br>|2017/8/13|30.9%|13.2%|25.1%|23.9%|31.5%|37.9%|22.8%|<br>|2017/8/14|32.7%|15.4%|21.1%|24.3%|33.7%|41.0%|21.3%|<br>|2017/8/15|35.7%|13.8%|21.0%|258.0%|34.6%|40.1%|22.0%|<br>|2017/8/16|38.9%|13.4%|25.9%|15.9%|32.9%|41.3%|24.2%|<br>|2017/8/17|36.0%|12.7%|29.3%|21.1%|35.1%|39.9%|22.6%|<br>|2017/8/18|37.8%|12.1%|25.9%|20.9%|34.0%|34.9%|21.8%|<br>|2017/8/19|38.8%|10.8%|25.1%|15.5%|35.7%|33.1%|22.1%|<br>|2017/8/20|39.1%|12.6%|25.0%|17.6%|37.7%|36.9%|24.2%|<br>|2017/8/21|37.6%|12.1%|25.4%|15.6%|34.7%|34.6%|21.7%|<br>|2017/8/22|37.7%|14.0%|25.2%|18.3%|36.9%|36.6%|22.0%|<br>|2017/8/23|39.0%|15.0%|24.4%|11.4%|36.4%|38.1%|23.5%|<br>|2017/8/24|38.3%|17.3%|25.4%|10.9%|35.9%|36.5%|23.9%|<br>|2017/8/25|36.0%|16.6%|25.3%|12.0%|33.9%|35.7%|23.8%|<br>|2017/8/26|34.9%|14.3%|26.2%|15.0%|35.7%|35.0%|21.9%|<br>|2017/8/27|36.1%|15.0%|26.4%|13.6%|34.4%|36.5%|23.6%|<br>|2017/8/28|35.9%|14.3%|25.1%|12.9%|35.1%|36.2%|23.6%|<br>|2017/8/29|34.6%|15.3%|25.2%|15.1%|31.9%|34.8%|23.8%|<br>|2017/8/30|34.1%|13.2%|24.0%|13.0%|35.0%|33.4%|21.6%|</p><p>我们要问的第一个问题就是，数据中的两个变量之间是否存在差异，即不同推广渠道的 App 激活注册率是否真的有差别。<br>为了更容易地找出各推广渠道之间激活注册率的不同，我们需要一种比散点图更简单的图。如图 2-19 所示，在箱形图中，把每一个推广渠道的数据用 5 个数代替，分别是最大值、最小值、第 75 分位点、第 25 分位点、中位数。</p><p><img data-src="/quantitative-data-analysis-for-advertising/quantitative-data-analysis-for-advertising-4.png" alt="图2-19　不同推广渠道的激活注册率箱形图"></p><p>箱形图增强了不同推广渠道之间的可比性，从图中可以获悉哪些信息？首先应该来对比不同推广渠道的中位数，因为它们代表中心值。中位数由箱形图中间的横线代表，可以发现应用宝、vivo 应用商店、OPPO 应用商店三个渠道的中位数最高，接近于 35%。因此初步判断这三个渠道的平均激活注册率最高。同样，可以看到小米应用商店、豌豆荚、百度手机助手、360 手机助手等几个渠道的激活注册率是较低的。<br>箱形图的另一个特征是箱子的高度，高度越小，说明分布越集中。例如，小米应用商店的箱子比其他渠道要短，这意味着该渠道内不同日期之间的激活注册率比其他渠道要更稳定。<br>第一个问题的答案已经出来了，从图中可以直观地看出，不同推广渠道和 App 激活注册率这两个变量之间存在关系。<br>第二个问题是，我们还需知道这两个变量之间关系的强度，以及这个关系是否可能出于偶然。要回答这个问题，就需要使用方差分析。<br>不同推广渠道的激活注册率不尽相同，究其原因是它同时受到自变量和残差变量的影响。方差分析可以帮助我们将其定量化。自变量在这个例子中就是不同渠道，残差变量是除自变量之外能够对因变量（激活注册率）产生影响的变量。<br>渠道变量和残差变量的总效应=(每一个观测值-总均值)^2之和<br>自变量的效应=(每一组的均值-总均值)^2之和<br>残差变量的效应=(每一个观测值-所有组的均值)^2之和</p><p>图 2-20 是我用 Excel 计算得到的方差分析结果，具体操作方法是 Excel 的“数据”菜单栏-数据分析-方差分析：单因素方差分析。<br>图 2-20 的上半部分是不同渠道的描述统计，包括观测值、求和、平均值、方差。下半部分是我们关注的重点，差异源这一列包括组间、组内和总计，对应刚才介绍的自变量、残差变量和总效应。SS 这列为平方和，即为效应的具体值。可以简单计算一下，自变量（不同渠道）的效应占比是 0.6794/1.0167=66.8%。</p><p><img data-src="/quantitative-data-analysis-for-advertising/quantitative-data-analysis-for-advertising-5.png" alt="图2-20　单因素方差分析表"></p><h3 id="2-10-本章小结"><a href="#2-10-本章小结" class="headerlink" title="2.10 本章小结"></a>2.10 本章小结</h3><h1 id="第3章-广告数据的描述：图表"><a href="#第3章-广告数据的描述：图表" class="headerlink" title="第3章 广告数据的描述：图表"></a>第3章 广告数据的描述：图表</h1><h2 id="3-1-初阶：维度和指标"><a href="#3-1-初阶：维度和指标" class="headerlink" title="3.1 初阶：维度和指标"></a>3.1 初阶：维度和指标</h2><h3 id="3-1-1-看分布"><a href="#3-1-1-看分布" class="headerlink" title="3.1.1 看分布"></a>3.1.1 看分布</h3><h3 id="3-1-2-看趋势"><a href="#3-1-2-看趋势" class="headerlink" title="3.1.2 看趋势"></a>3.1.2 看趋势</h3><h3 id="3-1-3-多维度和指标交叉"><a href="#3-1-3-多维度和指标交叉" class="headerlink" title="3.1.3 多维度和指标交叉"></a>3.1.3 多维度和指标交叉</h3><h3 id="3-1-4-看相关"><a href="#3-1-4-看相关" class="headerlink" title="3.1.4 看相关"></a>3.1.4 看相关</h3><h2 id="3-2-进阶：用户行为洞察"><a href="#3-2-进阶：用户行为洞察" class="headerlink" title="3.2 进阶：用户行为洞察"></a>3.2 进阶：用户行为洞察</h2><h3 id="3-2-1-漏斗图"><a href="#3-2-1-漏斗图" class="headerlink" title="3.2.1 漏斗图"></a>3.2.1 漏斗图</h3><h3 id="3-2-2-用户行为路径图"><a href="#3-2-2-用户行为路径图" class="headerlink" title="3.2.2 用户行为路径图"></a>3.2.2 用户行为路径图</h3><h2 id="3-3-本章小结"><a href="#3-3-本章小结" class="headerlink" title="3.3 本章小结"></a>3.3 本章小结</h2><h1 id="第4章-SEM广告数据分析"><a href="#第4章-SEM广告数据分析" class="headerlink" title="第4章 SEM广告数据分析"></a>第4章 SEM广告数据分析</h1><h2 id="4-1-认识SEM广告"><a href="#4-1-认识SEM广告" class="headerlink" title="4.1 认识SEM广告"></a>4.1 认识SEM广告</h2><h3 id="4-1-1-SEM广告发展现状"><a href="#4-1-1-SEM广告发展现状" class="headerlink" title="4.1.1 SEM广告发展现状"></a>4.1.1 SEM广告发展现状</h3><h3 id="4-1-2-SEM推广渠道的特点"><a href="#4-1-2-SEM推广渠道的特点" class="headerlink" title="4.1.2 SEM推广渠道的特点"></a>4.1.2 SEM推广渠道的特点</h3><h3 id="4-1-3-SEM广告数据分析痛点"><a href="#4-1-3-SEM广告数据分析痛点" class="headerlink" title="4.1.3 SEM广告数据分析痛点"></a>4.1.3 SEM广告数据分析痛点</h3><h3 id="4-2-SEM广告数据分析关键指标解读"><a href="#4-2-SEM广告数据分析关键指标解读" class="headerlink" title="## 4.2 SEM广告数据分析关键指标解读"></a>## 4.2 SEM广告数据分析关键指标解读</h3><h3 id="4-2-1-CPC"><a href="#4-2-1-CPC" class="headerlink" title="4.2.1 CPC"></a>4.2.1 CPC</h3><h3 id="4-2-2-CTR"><a href="#4-2-2-CTR" class="headerlink" title="4.2.2 CTR"></a>4.2.2 CTR</h3><h3 id="4-2-3-质量度"><a href="#4-2-3-质量度" class="headerlink" title="4.2.3 质量度"></a>4.2.3 质量度</h3><h3 id="4-2-4-平均排名"><a href="#4-2-4-平均排名" class="headerlink" title="4.2.4 平均排名"></a>4.2.4 平均排名</h3><h3 id="4-3-SEM数据分析方法论"><a href="#4-3-SEM数据分析方法论" class="headerlink" title="## 4.3 SEM数据分析方法论"></a>## 4.3 SEM数据分析方法论</h3><h3 id="4-3-1-帕累托法则"><a href="#4-3-1-帕累托法则" class="headerlink" title="4.3.1 帕累托法则"></a>4.3.1 帕累托法则</h3><h3 id="4-3-2-四象限分析"><a href="#4-3-2-四象限分析" class="headerlink" title="4.3.2 四象限分析"></a>4.3.2 四象限分析</h3><h3 id="4-3-3-显著性检验"><a href="#4-3-3-显著性检验" class="headerlink" title="4.3.3 显著性检验"></a>4.3.3 显著性检验</h3><h3 id="4-3-4-关键词评分体系"><a href="#4-3-4-关键词评分体系" class="headerlink" title="4.3.4 关键词评分体系"></a>4.3.4 关键词评分体系</h3><h2 id="4-4-案例：某招聘网站的百度SEM广告优化"><a href="#4-4-案例：某招聘网站的百度SEM广告优化" class="headerlink" title="4.4 案例：某招聘网站的百度SEM广告优化"></a>4.4 案例：某招聘网站的百度SEM广告优化</h2><h3 id="4-4-1-项目背景"><a href="#4-4-1-项目背景" class="headerlink" title="4.4.1 项目背景"></a>4.4.1 项目背景</h3><h3 id="4-4-2-优化难点"><a href="#4-4-2-优化难点" class="headerlink" title="4.4.2 优化难点"></a>4.4.2 优化难点</h3><h3 id="4-4-3-优化思路"><a href="#4-4-3-优化思路" class="headerlink" title="4.4.3 优化思路"></a>4.4.3 优化思路</h3><h3 id="4-4-4-优化执行"><a href="#4-4-4-优化执行" class="headerlink" title="4.4.4 优化执行"></a>4.4.4 优化执行</h3><h3 id="4-4-5-效果评估"><a href="#4-4-5-效果评估" class="headerlink" title="4.4.5 效果评估"></a>4.4.5 效果评估</h3><h2 id="4-5-本章小结"><a href="#4-5-本章小结" class="headerlink" title="4.5 本章小结"></a>4.5 本章小结</h2><h1 id="第5章-信息流广告数据分析"><a href="#第5章-信息流广告数据分析" class="headerlink" title="第5章 信息流广告数据分析"></a>第5章 信息流广告数据分析</h1><h2 id="5-1-认识信息流广告"><a href="#5-1-认识信息流广告" class="headerlink" title="5.1 认识信息流广告"></a>5.1 认识信息流广告</h2><h3 id="5-1-1-信息流广告发展现状"><a href="#5-1-1-信息流广告发展现状" class="headerlink" title="5.1.1 信息流广告发展现状"></a>5.1.1 信息流广告发展现状</h3><h3 id="5-1-2-信息流推广渠道的特点"><a href="#5-1-2-信息流推广渠道的特点" class="headerlink" title="5.1.2 信息流推广渠道的特点"></a>5.1.2 信息流推广渠道的特点</h3><h3 id="5-1-3-信息流广告数据分析痛点"><a href="#5-1-3-信息流广告数据分析痛点" class="headerlink" title="5.1.3 信息流广告数据分析痛点"></a>5.1.3 信息流广告数据分析痛点</h3><h2 id="5-2-信息流广告数据分析关键指标解读"><a href="#5-2-信息流广告数据分析关键指标解读" class="headerlink" title="5.2 信息流广告数据分析关键指标解读"></a>5.2 信息流广告数据分析关键指标解读</h2><h3 id="5-2-1-ECPM和CTR"><a href="#5-2-1-ECPM和CTR" class="headerlink" title="5.2.1 ECPM和CTR"></a>5.2.1 ECPM和CTR</h3><h3 id="5-2-2-用户画像和广告定向"><a href="#5-2-2-用户画像和广告定向" class="headerlink" title="5.2.2 用户画像和广告定向"></a>5.2.2 用户画像和广告定向</h3><h2 id="5-3-信息流广告数据分析方法论"><a href="#5-3-信息流广告数据分析方法论" class="headerlink" title="5.3 信息流广告数据分析方法论"></a>5.3 信息流广告数据分析方法论</h2><h3 id="5-3-1-A-B测试"><a href="#5-3-1-A-B测试" class="headerlink" title="5.3.1 A/B测试"></a>5.3.1 A/B测试</h3><h3 id="5-3-2-朴素贝叶斯算法—优化广告定向"><a href="#5-3-2-朴素贝叶斯算法—优化广告定向" class="headerlink" title="5.3.2 朴素贝叶斯算法—优化广告定向"></a>5.3.2 朴素贝叶斯算法—优化广告定向</h3><h3 id="5-3-3-创意定量化的解决思路"><a href="#5-3-3-创意定量化的解决思路" class="headerlink" title="5.3.3 创意定量化的解决思路"></a>5.3.3 创意定量化的解决思路</h3><h2 id="5-4-案例：某金融App的今日头条信息流广告优化"><a href="#5-4-案例：某金融App的今日头条信息流广告优化" class="headerlink" title="5.4 案例：某金融App的今日头条信息流广告优化"></a>5.4 案例：某金融App的今日头条信息流广告优化</h2><h3 id="5-4-1-项目背景"><a href="#5-4-1-项目背景" class="headerlink" title="5.4.1 项目背景"></a>5.4.1 项目背景</h3><h3 id="5-4-2-优化难点"><a href="#5-4-2-优化难点" class="headerlink" title="5.4.2 优化难点"></a>5.4.2 优化难点</h3><h3 id="5-4-3-优化思路"><a href="#5-4-3-优化思路" class="headerlink" title="5.4.3 优化思路"></a>5.4.3 优化思路</h3><h3 id="5-4-4-优化执行"><a href="#5-4-4-优化执行" class="headerlink" title="5.4.4 优化执行"></a>5.4.4 优化执行</h3><h3 id="5-4-5-效果评估"><a href="#5-4-5-效果评估" class="headerlink" title="5.4.5 效果评估"></a>5.4.5 效果评估</h3><h2 id="5-5-本章小结"><a href="#5-5-本章小结" class="headerlink" title="5.5 本章小结"></a>5.5 本章小结</h2><h1 id="第6章-应用商店广告数据分析"><a href="#第6章-应用商店广告数据分析" class="headerlink" title="第6章 应用商店广告数据分析"></a>第6章 应用商店广告数据分析</h1><h2 id="6-1-认识应用商店广告"><a href="#6-1-认识应用商店广告" class="headerlink" title="6.1 认识应用商店广告"></a>6.1 认识应用商店广告</h2><h3 id="6-1-1-应用商店广告的发展现状"><a href="#6-1-1-应用商店广告的发展现状" class="headerlink" title="6.1.1 应用商店广告的发展现状"></a>6.1.1 应用商店广告的发展现状</h3><h3 id="6-1-2-应用商店推广渠道的特点"><a href="#6-1-2-应用商店推广渠道的特点" class="headerlink" title="6.1.2 应用商店推广渠道的特点"></a>6.1.2 应用商店推广渠道的特点</h3><h3 id="6-1-3-应用商店的几大核心广告资源介绍"><a href="#6-1-3-应用商店的几大核心广告资源介绍" class="headerlink" title="6.1.3 应用商店的几大核心广告资源介绍"></a>6.1.3 应用商店的几大核心广告资源介绍</h3><h3 id="6-1-4-应用商店广告数据分析痛点"><a href="#6-1-4-应用商店广告数据分析痛点" class="headerlink" title="6.1.4 应用商店广告数据分析痛点"></a>6.1.4 应用商店广告数据分析痛点</h3><h2 id="6-2-应用商店广告数据分析关键指标解读"><a href="#6-2-应用商店广告数据分析关键指标解读" class="headerlink" title="6.2 应用商店广告数据分析关键指标解读"></a>6.2 应用商店广告数据分析关键指标解读</h2><h3 id="6-2-1-自然量"><a href="#6-2-1-自然量" class="headerlink" title="6.2.1 自然量"></a>6.2.1 自然量</h3><h3 id="6-2-2-CPA"><a href="#6-2-2-CPA" class="headerlink" title="6.2.2 CPA"></a>6.2.2 CPA</h3><h3 id="6-2-3-ROI"><a href="#6-2-3-ROI" class="headerlink" title="6.2.3 ROI"></a>6.2.3 ROI</h3><h3 id="6-2-4-各广告位流量配比"><a href="#6-2-4-各广告位流量配比" class="headerlink" title="6.2.4 各广告位流量配比"></a>6.2.4 各广告位流量配比</h3><h2 id="6-3-应用商店广告数据分析方法论"><a href="#6-3-应用商店广告数据分析方法论" class="headerlink" title="6.3 应用商店广告数据分析方法论"></a>6.3 应用商店广告数据分析方法论</h2><h3 id="6-3-1-相关性分析"><a href="#6-3-1-相关性分析" class="headerlink" title="6.3.1 相关性分析"></a>6.3.1 相关性分析</h3><h3 id="6-3-2-线性回归分析"><a href="#6-3-2-线性回归分析" class="headerlink" title="6.3.2 线性回归分析"></a>6.3.2 线性回归分析</h3><h3 id="6-3-3-显著性检验分析"><a href="#6-3-3-显著性检验分析" class="headerlink" title="6.3.3 显著性检验分析"></a>6.3.3 显著性检验分析</h3><h2 id="6-4-案例：某生活消费App在小米应用商店渠道的广告优化"><a href="#6-4-案例：某生活消费App在小米应用商店渠道的广告优化" class="headerlink" title="6.4 案例：某生活消费App在小米应用商店渠道的广告优化"></a>6.4 案例：某生活消费App在小米应用商店渠道的广告优化</h2><h3 id="6-4-1-项目背景"><a href="#6-4-1-项目背景" class="headerlink" title="6.4.1 项目背景"></a>6.4.1 项目背景</h3><h3 id="6-4-2-优化难点"><a href="#6-4-2-优化难点" class="headerlink" title="6.4.2 优化难点"></a>6.4.2 优化难点</h3><h3 id="6-4-3-优化思路"><a href="#6-4-3-优化思路" class="headerlink" title="6.4.3 优化思路"></a>6.4.3 优化思路</h3><h3 id="6-4-4-优化执行"><a href="#6-4-4-优化执行" class="headerlink" title="6.4.4 优化执行"></a>6.4.4 优化执行</h3><h3 id="6-4-5-效果评估"><a href="#6-4-5-效果评估" class="headerlink" title="6.4.5 效果评估"></a>6.4.5 效果评估</h3><h2 id="6-5-本章小结"><a href="#6-5-本章小结" class="headerlink" title="6.5 本章小结"></a>6.5 本章小结</h2><h1 id="第7章-多广告推广渠道的统筹优化"><a href="#第7章-多广告推广渠道的统筹优化" class="headerlink" title="第7章 多广告推广渠道的统筹优化"></a>第7章 多广告推广渠道的统筹优化</h1><h2 id="7-1-多渠道广告统筹优化的现状"><a href="#7-1-多渠道广告统筹优化的现状" class="headerlink" title="7.1 多渠道广告统筹优化的现状"></a>7.1 多渠道广告统筹优化的现状</h2><h2 id="7-2-多渠道广告数据分析方法论：综合效果评分模型"><a href="#7-2-多渠道广告数据分析方法论：综合效果评分模型" class="headerlink" title="7.2 多渠道广告数据分析方法论：综合效果评分模型"></a>7.2 多渠道广告数据分析方法论：综合效果评分模型</h2><h2 id="7-3-案例：某金融App在多广告渠道的统筹优化"><a href="#7-3-案例：某金融App在多广告渠道的统筹优化" class="headerlink" title="7.3 案例：某金融App在多广告渠道的统筹优化"></a>7.3 案例：某金融App在多广告渠道的统筹优化</h2><h3 id="7-3-1-项目背景"><a href="#7-3-1-项目背景" class="headerlink" title="7.3.1 项目背景"></a>7.3.1 项目背景</h3><h3 id="7-3-2-优化思路和执行"><a href="#7-3-2-优化思路和执行" class="headerlink" title="7.3.2 优化思路和执行"></a>7.3.2 优化思路和执行</h3><h3 id="7-3-3-效果评估"><a href="#7-3-3-效果评估" class="headerlink" title="7.3.3 效果评估"></a>7.3.3 效果评估</h3><h2 id="7-4-本章小结"><a href="#7-4-本章小结" class="headerlink" title="7.4 本章小结"></a>7.4 本章小结</h2><h1 id="第8章-广告优化的未来会好吗"><a href="#第8章-广告优化的未来会好吗" class="headerlink" title="第8章 广告优化的未来会好吗"></a>第8章 广告优化的未来会好吗</h1><h2 id="8-1-广告业内的3种角色"><a href="#8-1-广告业内的3种角色" class="headerlink" title="8.1 广告业内的3种角色"></a>8.1 广告业内的3种角色</h2><h3 id="8-1-1-角色期待"><a href="#8-1-1-角色期待" class="headerlink" title="8.1.1 角色期待"></a>8.1.1 角色期待</h3><h3 id="8-1-2-角色冲突与认知偏差"><a href="#8-1-2-角色冲突与认知偏差" class="headerlink" title="8.1.2 角色冲突与认知偏差"></a>8.1.2 角色冲突与认知偏差</h3><h3 id="8-1-3-囚徒困境"><a href="#8-1-3-囚徒困境" class="headerlink" title="8.1.3 囚徒困境"></a>8.1.3 囚徒困境</h3><h2 id="8-2-广告优化的作用"><a href="#8-2-广告优化的作用" class="headerlink" title="8.2 广告优化的作用"></a>8.2 广告优化的作用</h2><h3 id="8-2-1-广告优化的边界"><a href="#8-2-1-广告优化的边界" class="headerlink" title="8.2.1 广告优化的边界"></a>8.2.1 广告优化的边界</h3><h3 id="8-2-2-广告优化的展望"><a href="#8-2-2-广告优化的展望" class="headerlink" title="8.2.2 广告优化的展望"></a>8.2.2 广告优化的展望</h3><h3 id="8-2-3-广告优化师的精进之道：内部创业者"><a href="#8-2-3-广告优化师的精进之道：内部创业者" class="headerlink" title="8.2.3 广告优化师的精进之道：内部创业者"></a>8.2.3 广告优化师的精进之道：内部创业者</h3><h2 id="8-3-本章小结"><a href="#8-3-本章小结" class="headerlink" title="8.3 本章小结"></a>8.3 本章小结</h2>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/110.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="运营" scheme="https://qianling.pw/categories/%E8%BF%90%E8%90%A5/"/>
    
    
    <category term="运营" scheme="https://qianling.pw/tags/%E8%BF%90%E8%90%A5/"/>
    
    <category term="电子商务" scheme="https://qianling.pw/tags/%E7%94%B5%E5%AD%90%E5%95%86%E5%8A%A1/"/>
    
    <category term="电商运营" scheme="https://qianling.pw/tags/%E7%94%B5%E5%95%86%E8%BF%90%E8%90%A5/"/>
    
    <category term="广告" scheme="https://qianling.pw/tags/%E5%B9%BF%E5%91%8A/"/>
    
  </entry>
  
  <entry>
    <title>《程序化广告》书摘</title>
    <link href="https://qianling.pw/programmatic-advertising/"/>
    <id>https://qianling.pw/programmatic-advertising/</id>
    <published>2023-11-28T03:35:03.000Z</published>
    <updated>2023-11-29T02:24:58.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/.webp"></p><span id="more"></span><hr><p><strong><center>程序化广告：个性化精准投放实用手册 / 梁丽丽著. -- 3版. -- 北京：人民邮电出版社，2017.10<br>ISBN 978-7-115-46896-3</center></strong></p><hr><h1 id="第一章-概述"><a href="#第一章-概述" class="headerlink" title="第一章 概述"></a>第一章 概述</h1><h2 id="一、互联网展示广告发展史"><a href="#一、互联网展示广告发展史" class="headerlink" title="一、互联网展示广告发展史"></a>一、互联网展示广告发展史</h2><p>弹窗广告：在用户打开网页时，在当前网页弹出广告；<br>背投广告：在用户打开网页时，自动弹出一个新页面。</p><h2 id="二、程序化广告"><a href="#二、程序化广告" class="headerlink" title="二、程序化广告"></a>二、程序化广告</h2><h3 id="程序化广告的定义"><a href="#程序化广告的定义" class="headerlink" title="程序化广告的定义"></a>程序化广告的定义</h3><p>广告主可以程序化采购媒体资源，并利用算法和技术自动实现精准的目标受众定向，只把广告投放给对的人。媒体可以程序化售卖跨媒体、跨终端（电脑、手机、平板、互联网电视等）的媒体资源，并利用技术实现广告流量的分级，进行差异化定价（如一线城市的价格高于二三线城市、黄金时段的价格高于其他时间段）。因此，程序化广告可以定义为：<br>（1）以人为本的精准广告定向；<br>（2）媒体资源的自动化、数字化售卖与采购。</p><h3 id="程序化广告的价值"><a href="#程序化广告的价值" class="headerlink" title="程序化广告的价值"></a>程序化广告的价值</h3><p>程序化广告购买模式下，广告主可以通过 DSP 或 DSP 广告代理投放到 Ad Exchange 或 SSP 中的众多媒体。广告主实现了从预定义人群定向到自定义人群精准定向的跨越。除了简单的定向条件外，广告主可以对用户属性进行精准定向（例如对已有用户群或流失用户群进行重定向投放等），使广告主的每一分钱都尽可能地投向精准的目标受众。通过 DMP 和 PCP（程序化创意平台）的个性化创意制作，可以实现“千人千面”的创意展示，与受众进行更高效的信息沟通和互动。另外，借助广告验证平台的投放验证，程序化广告还可满足广告主对品牌安全、反作弊过滤、广告可见度分析等方面的要求。</p><h1 id="第二章-参与者"><a href="#第二章-参与者" class="headerlink" title="第二章 参与者"></a>第二章 参与者</h1><p>相较于传统的网络广告产业链，程序化市场的新角色及技术服务主要分为以下五类：一是广告需求方，即流量的消费者，包括广告主或代理商；二是需求方服务，包括需求方平台 DSP 和采购交易平台 Trading Desk，它们为需求方提供精准的广告投放和管理服务；三是流量供应方，包括媒体网站或 App、广告网盟 Ad Network，它们是流量的供应方，程序化广告市场的发展壮大离不开它们的参与；四是流量方服务，包括广告交易平台 Ad Exchange 和供应方平台 SSP，用于整合市场流量，但由于这两者在发展过程中功能逐渐趋同，因此可以统称为广告交易平台；五是广告服务和数据管理，包括程序化创意平台 PCP、广告验证平台 AVP、数据管理平台 DMP、监测分析平台 MAP，它们为广告投放策略优化提供数据支持，以及为品牌安全提供保驾护航等服务。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-2.png"></p><h2 id="一、需求方"><a href="#一、需求方" class="headerlink" title="一、需求方"></a>一、需求方</h2><p>需求方即广告主（Advertiser），是购买流量进行广告投放的最终需求方。需求方也可以是代理商（Agency），即广告主的业务代理人，负责对接广告主需求，并代表广告主寻找媒体渠道进行合作。需求方一般分为效果类和品牌类。</p><h3 id="效果类需求方"><a href="#效果类需求方" class="headerlink" title="效果类需求方"></a>效果类需求方</h3><p>效果类需求方包括效果广告主直客和广告代理公司。<br>效果广告主一般是游戏、电商等行业内的企业或者其他中小企业。它们的广告投放需求以提升直接转化效果为主，并附带额外的品牌宣传。典型的效果类广告主有 37、游族、唯品会、京东、广发、招行、携程、同程等。</p><h3 id="品牌类需求方"><a href="#品牌类需求方" class="headerlink" title="品牌类需求方"></a>品牌类需求方</h3><p>品牌类需求方包括品牌广告主直客和4A广告代理。<br>品牌广告主直客主要是汽车、快消品等传统行业的企业。它们的广告投放需求以品牌宣传为主，并在此基础上提升转化效果。以公司规模和投放预算为标准，品牌广告主可以分为大型品牌广告主（如宝洁、伊利、欧莱雅等）和中小品牌广告主。<br>大型品牌广告主的代理商一般是 4A 广告代理公司。4A 广告代理公司分为国际 4A（global 4A）和中国本土 4A（local 4A）。国际 4A 代表有 WPP 集团、Omnicom 集团、阳狮集团、电通集团、IPG 集团等；中国本土 4A 公司代表有蓝色光标、广东省广告有限公司、昌荣传播、利欧股份等。</p><h2 id="二、需求方服务"><a href="#二、需求方服务" class="headerlink" title="二、需求方服务"></a>二、需求方服务</h2><h3 id="需求方平台（Demand-Side-Platform，简称DSP）"><a href="#需求方平台（Demand-Side-Platform，简称DSP）" class="headerlink" title="需求方平台（Demand-Side Platform，简称DSP）"></a>需求方平台（Demand-Side Platform，简称DSP）</h3><p>DSP 为需求方（即广告主或代理商）提供实时竞价投放平台。需求方可以在平台上管理广告活动及其投放策略，包括设置目标受众的定向条件、预算、出价、创意等。DSP 通过技术和算法自动优化投放效果并提供数据报告。</p><p>流量、竞价请求、QPS 三者的关系<br>QPS（Query Per Second）即每秒查询率，是对一个特定的查询服务器在规定时间内所处理流量多少（即竞价服务器性能）的衡量标准。AdX/SSP 发送竞价请求和 DSP 接收处理竞价请求是需要消耗服务器资源和带宽资源的，因此，为了控制成本，DSP 通常会在 AdX/SSP 管理后台设置能接受的 QPS 值，部分大型 AdX/SSP 会根据 DSP 的消耗能力设置固定 QPS 甚至是动态 QPS（根据 DSP 的出价和竞得情况自动调整 QPS 值）。<br>简单来说，每天的竞价请求数 = QPS×86400（一天有 86400 秒）。理论上，一个竞价请求一般只携带一个流量，但为了减少网络流量等原因，部分渠道的部分资源会通过一个竞价请求同时携带同一页面不同广告位的多个流量，即一个 bid_request（竞价请求）携带多个 impression（展示流量），如腾讯新闻客户端资源等，从而导致流量数大于竞价请求数。如 DSP 每天可竞价的流量大概为 500 亿，竞价请求数大概为 200 亿，对应的 QPS 峰值是 25 万（假设一台服务器对应处理 1 万 QPS，则需要 25 台服务器）。</p><p>根据需求方对数据和技术的控制权限，可将 DSP 的服务模式分为 SaaS、PaaS 和 IaaS。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-2.png"></p><p>SaaS：Software-as-a-Service（软件即服务）的简称，产品形态是软件。需求方可以在此软件上进行广告投放操作，但是数据和技术属于供应商。部分 SaaS 供应商提供 white label （贴牌）模式，即供应商可以将产品包装成买方的品牌提供其使用。该模式一般是通过赚取广告位差价或者收取技术服务费/广告优化服务费来盈利。<br>PaaS：Platform-as-a-Service（平台即服务）的简称，产品形态是平台。需求方可以通过 API 接口调用数据、设置策略、整合需求方自身的其他产品等。有些供应商还会提供算法接口，需求方可以通过接口运行自己或者第三方的算法模型。这种模式的数据和技术所有权仍然属于供应商。部分 PaaS 供应商能够为需求方定制个性化功能并贴上其品牌，这种服务称为 OEM（Original Equipment Manufacturer，代工生产）。该模式一般也是通过赚取广告位差价或者收取技术服务费来盈利。<br>IaaS：Infrastructure-as-a-Service（基础设施即服务）的简称，产品形态是基础设施。供应商直接将相关技术模块部署在需求方服务器，技术和数据所有权都归属于需求方。这种服务称为本地部署（in house），分为提供技术源码（需求方可进行二次开发）和不提供技术源码两种方式。部分独立的第三方 DSP 公司可以提供此服务，如舜飞科技。该模式一般通过收取技术服务费来盈利，可能是一次性费用，也可能是按年费的形式收取。对于已经具有技术团队的企业，可以通过购买源码的方式与第三方 DSP 公司合作，进行二次开发和渠道对接工作；如无技术团队，可以交由技术服务商进行后续个性化功能的定制开发和渠道对接工作，但广告主需支付额外的技术服务费。</p><h3 id="采购交易平台（Trading-Desk，简称TD）"><a href="#采购交易平台（Trading-Desk，简称TD）" class="headerlink" title="采购交易平台（Trading Desk，简称TD）"></a>采购交易平台（Trading Desk，简称TD）</h3><p>Trading Desk 称为采购交易平台，也可以理解为需求方平台，类似 DSP。TD 为需求方提供整合多个 DSP 平台的技术解决方案，需求方可以在 TD 上统一管理多个 DSP 平台的投放，包括分配投放预算、制定和调整投放策略、查看数据报告等。TD 一般是为品牌广告主服务的，品牌广告主通常会同时在多家 DSP 供应商进行广告投放，这就涉及整体预算、频次控制等在多家 DSP 的分配以及投放活动的统一管理。</p><h2 id="三、流量供应方"><a href="#三、流量供应方" class="headerlink" title="三、流量供应方"></a>三、流量供应方</h2><p>媒体包括 PC Web、Mobile Web（一般称为 WAP）以及 App 三大类资源。</p><h2 id="四、流量方服务"><a href="#四、流量方服务" class="headerlink" title="四、流量方服务"></a>四、流量方服务</h2><h3 id="供应方平台（Supply-Side-Platform，简称SSP）"><a href="#供应方平台（Supply-Side-Platform，简称SSP）" class="headerlink" title="供应方平台（Supply-Side Platform，简称SSP）"></a>供应方平台（Supply-Side Platform，简称SSP）</h3><p>理论上是 SSP（供应方平台）负责对接媒体，然后对接进 Ad Exchange（广告交易平台）。由于现在 SSP 的功能基本与 Ad Exchange 一致了，因此可以把 Ad Exchange 和 SSP 放到一起来讲，并统称为广告交易平台。DSP 通过 API 接口对接 Ad Exchange 或 SSP，实时竞价购买其流量。</p><h2 id="五、广告服务与数据管理"><a href="#五、广告服务与数据管理" class="headerlink" title="五、广告服务与数据管理"></a>五、广告服务与数据管理</h2><h3 id="程序化创意平台（Programmatic-Creative-Platform，简称PCP）"><a href="#程序化创意平台（Programmatic-Creative-Platform，简称PCP）" class="headerlink" title="程序化创意平台（Programmatic Creative Platform，简称PCP）"></a>程序化创意平台（Programmatic Creative Platform，简称PCP）</h3><p>PCP 专注于广告创意的投放优化，通过技术自动生成海量创意，并利用算法和数据对不同受众动态地展示广告并进行创意优化，这个过程叫做动态创意优化（Dynamic Creative Optimization，简称 DCO）。</p><h3 id="数据管理平台（Data-Management-Platform，简称DMP）"><a href="#数据管理平台（Data-Management-Platform，简称DMP）" class="headerlink" title="数据管理平台（Data Management Platform，简称DMP）"></a>数据管理平台（Data Management Platform，简称DMP）</h3><p>DMP 能够为广告投放提供人群标签进行受众精准定向，并通过投放数据建立用户画像，进行人群标签的管理以及再投放。其代表有百分点、达摩盘等。<br>按照数据归属，用户数据可以分为以下三类。<br>第一方数据：需求方即广告主自有用户数据，包括网站/App 监测数据、CRM 数据、电商交易数据等。<br>第二方数据：需求方服务提供者在广告投放过程中积累的业务数据，如 DSP 平台业务中积累的受众浏览广告、点击广告等相关数据。<br>第三方数据：非直接合作方拥有的数据，如运营商数据、百度的搜索人群数据、阿里的电商人群数据、腾讯的社交人群数据等。</p><p>按照 DMP 平台的归属，DMP 分为第一方 DMP、第二方 DMP 和第三方 DMP。<br>第一方 DMP：指大型广告主自己搭建或者寻找外部技术提供商为自己搭建的内部 DMP，用于分析和管理用户数据，为营销环节提供决策支撑和用户数据支撑，广泛应用于电商、游戏、旅游等行业。<br>第二方 DMP：指需求方服务提供者（一般是指 DSP）搭建的 DMP，旨在帮助广告主更好地进行投放，在提升效果的同时加大投放量，间接提升广告主在需求方平台的投放额度。<br>第三方 DMP：指以数据交易为主要形式的 DMP，为需求方提供数据交换、售卖等服务。通常需要对接入 DSP 后再运用到广告投放中。如果是 PC 端数据，DSP 与 DMP 之间还需要 cookie mapping。</p><h1 id="第三章-交易模式"><a href="#第三章-交易模式" class="headerlink" title="第三章 交易模式"></a>第三章 交易模式</h1><h2 id="一、交易模式种类"><a href="#一、交易模式种类" class="headerlink" title="一、交易模式种类"></a>一、交易模式种类</h2><p>默认广告/打底广告（Default Ad）<br>为了避免广告位出现空白情况，通常需要设定一个默认广告/打底广告用于确保 100% 填充率。特别是程序化交易市场下，流量的售卖是实时发生的，无人竞价时则展示默认广告，避免广告位的浪费。默认广告价格相对来说是最便宜的，可以用 CPM、CPC 甚至 CPA 计费方式售卖。有些媒体也会选择用百度网盟或者阿里妈妈网盟的广告进行打底。</p><p>底价（Floor Price）</p><p>私有竞价（Private Auction，Private RTB）<br>有些优质媒体为了保护自身媒体环境，不愿意进入公开交易市场，只邀请部分广告主竞价购买；有些媒体为了最大化媒体收入，会把流量先经过 PMP 私有交易市场，然后再进入公开交易市场。PMP 的流量库存和价格也是不固定的，私有竞价同样遵循 RTB 竞价规则。相比公开交易市场，PMP 的媒体质量更优质，因而价格也会更高。行业中所说的 RTB 一般代表的是公开竞价，而 PA 代表私有竞价。</p><h1 id="第四章-考核指标"><a href="#第四章-考核指标" class="headerlink" title="第四章 考核指标"></a>第四章 考核指标</h1><h2 id="一、广告效果的定义"><a href="#一、广告效果的定义" class="headerlink" title="一、广告效果的定义"></a>一、广告效果的定义</h2><p>广告效果是指广告传播对受众的影响程度，有狭义和广义之分。<br>狭义的广告效果是指通过广告传播带来的直接经济效益，即提升直接转化（如产品销售），如游戏行业比较关心的数据有点击、注册、下载用户数及相应的获客成本等。<br>广义的广告效果是指通过广告传播影响受众的认知、心理、行为和态度，由此带来的直接或间接广告效益的总和。这个定义比较接近“品效合一”的概念，直接广告效益可以理解成转化效果，间接广告效益可以理解成品牌知晓度、美誉度、忠诚度等。</p><h2 id="二、广告效果的层次"><a href="#二、广告效果的层次" class="headerlink" title="二、广告效果的层次"></a>二、广告效果的层次</h2><p>根据受众是否已看到广告以及受广告影响的程度，广告效果可以分为传播效果、心理效果和行动效果三个层次。<br>传播效果：传播是指广告已成功曝光到用户面前且被用户所关注。传播效果是指广告到达的广度和深度，取决于广告覆盖范围、曝光质量和曝光频次。<br>心理效果：指通过广告曝光影响用户的认知、心理和产品态度，比如用户从没兴趣到感兴趣、从感兴趣到产生购买行为等。心理效果取决于广告的创意和场景。<br>行为效果：指用户看到广告、产生兴趣后发生的进一步的交互行为，包括点击、注册、购买、分享等。行为效果取决于广告的创意、场景及产品本身相关的信息。</p><h2 id="三、广告效果的评估"><a href="#三、广告效果的评估" class="headerlink" title="三、广告效果的评估"></a>三、广告效果的评估</h2><p>广告效果的评估通常用 KPI（Key Performance Indicator）来表示。KPI 即关键指标考核，是广告主用来评估广告营销活动是否有效的指标体系和评价标准。程序化广告的 KPI 评估主要围绕广告效果、成本收益和投放保障三大方面。<br>广告效果： 衡量用户活跃度及其对广告的接受度。从广告效果的层次来说，传播效果可以用广告曝光维度衡量；心理效果一般很难直接评估，但是可以通过用户的行为效果进行衡量；行为效果可以从落地页/网站/App 访问以及用户互动角度进行考核。<br>成本收益： 衡量广告投放整体消耗、各渠道等维度的性价比。<br>投放保障： 衡量广告投放的真实性和安全性，用于保障广告效果以及成本收益。</p><h3 id="基础指标"><a href="#基础指标" class="headerlink" title="基础指标"></a>基础指标</h3><h3 id="效果指标（Performance）"><a href="#效果指标（Performance）" class="headerlink" title="效果指标（Performance）"></a>效果指标（Performance）</h3><p>点击量：广告被有效点击的次数，有点击总量和排重点击量之分。比如同一用户（同一 Cookie 或同一设备 ID）在一小时内 5 次点击同一页面同一广告（页面未刷新的情况下），点击总量加 5，排重点击量加 1。下面指标中出现的点击量均指排重点击量。<br>CPL：Cost Per Lead，指每潜在客户获取成本，即获取一个潜在客户信息对应的价格，如汽车行业需要潜在客户通过广告页面填写表单预约试驾。用公式表示即 CPL=Cost/Lead 数量。<br>召回率：在重定向（Retargeting）广告中，被重定向的用户通过广告重新注册或者登录的数量占总重定向用户数量的比例。<br>ROI：Return On Investment，指投资回报率，即特定周期内，广告主通过广告投放收回的价值占广告投入的比例。一般 ROI 都会带上周期，如 7 日 ROI 等。用公式表示即 ROI=回收价值/Cost。<br>留存用户数：留存用户是指未来一段时间内再次登录的用户，通常会带上时间周期，如次日留存用户、3 天留存用户、7 天留存用户等，分别代表注册并首次登录日期后的第 1 天、第 3 天、第 7 天再次登录的用户。<br>活跃用户数：活跃用户没有标准的定义，活跃用户可能是未来一段时间内再次登录或者未来几天内多次登录的用户，通常还带上时间周期，如次日活跃用户、3 天活跃用户、7 天活跃用户等。7 天活跃用户可能是注册并首次登录日期后的第 7 天再次登录的用户、或者 7 天内登录 4 天以上的用户。<br>DAU：即 Daily Active User，指每日成功登录的用户数量。有些用户在当天可能有多次登录，因此计算 DAU 时需要按照玩家账户 ID 排重。<br>WAU：即 Weekly Active User，指一个自然周内成功登录的总用户数。跟 DAU 一样，计算该指标时也需要按照玩家账户 ID 排重。<br>MAU：即 Monthly Active User，指一个自然月内成功登录的总用户。跟 DAU 一样，计算该指标时也需要按照玩家账户 ID 排重。<br>ARPU：特定周期内，活跃用户的平均付费金额。用公式表示即 ARPU=统计周期内的付费金额/活跃用户数，日 ARPU=日付费金额/DAU，周 ARPU=周付费金额/WAU，月 ARPU=月总付费金额/MAU。<br>ARPPU：特定周期内，付费用户的平均付费金额。用公式表示即 ARPPU=统计周期内的付费金额/付费用户数，日 ARPPU=日付费金额/日付费用户数，周 ARPPU=周付费金额/周付费用户数，月 ARPPU=月付费金额/月付费用户数。<br>留存率：特定周期内，留存用户数量占广告导入的注册用户数量的比例。用公式表示即留存率=留存用户数/注册量×100%。<br>活跃率：特定周期内，活跃用户数量占广告导入的注册用户数量的比例。用公式表示即活跃率=活跃用户数/注册量×100%。<br>付费率：特定周期内，付费用户数量占广告导入的注册用户数量的比例。用公式表示即付费率=付费用户数/注册量×100%。<br>留存成本：单个留存用户的获取成本，即获取一个留存用户对应的广告费用。用公式表示即留存成本=广告费用/留存用户数。<br>活跃成本：单个活跃用户的获取成本，即获取一个活跃用户对应的广告费用。用公式表示即活跃成本=广告费用/活跃用户数。<br>付费成本：单个付费用户的获取成本，即获取一个付费用户对应的广告费用。用公式表示即付费成本=广告费用/付费用户数。<br>LTV：指一段时间内用户生命周期总价值。用公式表示即 LTV=统计周期内的充值金额/注册量。一般有 LTV0、LTV7、LTV30，分别表示当天 LTV、7天 LTV、30天 LTV，对应的计算公式分别为：LTV0=当日注册用户的充值金额/当日注册量；LTV7=当日注册用户的 7 天内充值总额/当日注册量；LTV30=当日注册用户的 30 天内充值总额/当日注册量。</p><p>所有效果广告的投放目的一般是最终的 ROI。但 ROI 数据具有滞后性，需要过一段时间才能验证最终数值。为了达成 ROI 的 KPI 要求，广告主前期会通过 CPA、付费率、留存率等数据来参考判断，并结合一定时期的 ROI 和 LTV 情况进行整体预测。比如，有些资源的 CPA 虽然很低，留存率和付费率也较好，但是因为用户的整体付费水平偏低，导致最终无法完成 ROI 的 KPI 要求，因此，这类资源不宜大量投放；又比如，有些资源的 CPA 虽然较高，甚至超出 CPA 的 KPI 要求，但是由于用户的付费水平高，最终也一样可以完成 ROI 的 KPI 要求，因此，这类资源可以加大投放。</p><h3 id="品牌指标（Branding）"><a href="#品牌指标（Branding）" class="headerlink" title="品牌指标（Branding）"></a>品牌指标（Branding）</h3><p>某些品牌广告主要求进行纯广告展示，比如要求哪天在哪些渠道要投放多少广告量等，这类广告的考核集中在投放量上。<br><img data-src="/programmatic-advertising/programmatic-advertising-3.png"></p><p>广告可视度、Viewable TA%、Viewable TA N+Reach 和 Viewable IGRP 指标主要用于 OTV（Online TV，即网络电视或网络视频）广告投放中。</p><p>（1）广告可视度（Viewability）： 有些广告位置是在第二屏甚至最后一屏，用户进入媒体如果没有滚动页面，广告则无法进入其视野。以曝光计费的广告购买，只要广告曝光到广告位就会产生费用，而不管用户是否看到广告。广告可视度（Viewability）指广告出现在窗口可见区域的广告曝光量占广告总曝光量的比例。PC 和移动广告的可视度计算标准不同，展示广告和视频广告的计算标准也有所差异。另外，不同广告投放平台的计算标准也有可能会不一致。互动广告局 IAB 和媒体分级委员会 MRC 对可见曝光（viewable impression）的计算标准如下。<br>① 对测量对象的基本要求：<br>在客户端计数；<br>过滤非人类流量和无效流量；<br>缓存清除技术；<br>区分明显的（机器人）自动刷新行为与人为活动；<br>区分被遮挡及不在显示区域的曝光（由于用户可能同时打开多个窗口导致当前测量对象失焦而不在显示区域）；<br>广告素材的曝光数据透明性；<br>媒体网站/App、广告投放平台、广告网络和广告交易市场的流量透明性。<br>② 对可见曝光的计算要求：<br>PC 展示广告（PC display ad）：广告有大于等于 50％的像素面积在可视空间内，且展示时长大于等于连续 1 秒。此标准同样适用于信息流环境。需要说明的是，对于大面积广告，可以适当加以不同标准，比如对于大小为 242,500 像素（相当于 970 像素×250 像素展示广告的尺寸）或更大的展示广告，只要求广告有大于等于 30％的像素面积在可视空间内，且展示时长大于等于连续 1 秒；<br>PC 视频广告（PC video ad）：广告有大于等于 50％的像素面积在可视空间内，且展示时长大于等于连续 2 秒（不要求是视频广告的前 2 秒）；<br>移动展示广告（Mobile display ad）：广告有大于等于 50％的像素面积在可视空间内，且展示时长大于等于连续 1 秒。此标准同样适用于信息流；<br>移动视频广告（Mobile video ad）：广告有大于等于 50％的像素面积在可视空间内，且展示时长大于等于连续 2 秒（不要求是视频广告的前 2 秒）。<br>③特殊要求：<br>在用户与广告之间产生了互动的情况下，即使广告不符合上述像素面积和时间条件，该广告展示也可直接定义为可见曝光。互动是指用户在广告上的有效点击行为或有效鼠标移动行为等，但不包括鼠标悬停或者点击视频广告的播放按钮等行为。</p><p>（2）广告可见的 TA 浓度（Viewable TA%）：TA 是指目标受众，即 Target Audience，TA% 表示目标受众占广告投放曝光总人群的比例，计算公式为 TA%=目标市场中看到广告的 TA 数量/目标市场中的人群总数。Viewable TA%，特指可见曝光前提下的 TA%。因此，TA 浓度的高低代表着 TA 触达率的高低。<br>（3）广告可见的 TA 到达率（Viewable TA N+Reach）：N+表示 1+、2+、3+、……、N+。常见的有指标有 1+Reach、2+Reach 和 3+Reach。Viewable TA N+Reach 特指可见曝光前提下的 TA N+Reach。<br>① TA 1+Reach，又叫 TA Reach、净达到率、1+ 到达率，简称为 Reach，是指目标市场中看到广告 1 次或 1 次以上的目标受众占总目标受众的比例。计算公式为 TA1+Reach =目标市场中看到广告的 TA 数量/目标市场中符合条件的 TA 总数。一般来说，不同城市、不同时期的 TA Reach 都是不同的。<br>② 2+Reach、3+Reach、……、N+Reach 分别代表目标市场中看到广告 2 次或 2 次以上、3 次或 3 次以上、……、N 次或 N 次以上的目标受众占总目标受众的比例。由于同一受众看到广告的次数关系着该广告或者该品牌对受众的影响强度，因此广告投放会设置频次，如每天 6 次或每周 9 次。相应地，广告主会考核 2+Reach、3+Reach 等指标。<br>（4）广告可见的互联网总收视点（Viewable IGRP）： IGRP，即 Internet Gross Rating Points，译为互联网总收视点或互联网毛评点。计算公式为 IGRP=平均曝光频次×到达率×100。假设对目标受众的平均曝光频次为 3，到达率为 70%，则 IGRP 为 210。Viewable IGRP 特指可见曝光前提下的 IGRP 值。<br>（6）跳出率（Bounce Rate）：指只浏览了入口页面（一般指落地页 Landing Page）就离开的访问量占进入该页面的总访问量的比例，用于衡量用户点击广告后进入页面的访问质量，或者衡量该页面对用户的吸引力。<br>（7）频次（Frequency）：每波品牌广告通常会有频次控制的需求，以提升广告展示的有效性。比如同一波投放活动中，对每个 UV 的广告曝光频次不超过 3 次，或者是总共需要投放 3 套素材，每套素材向每个 UV 的曝光频次不超过 2 次。<br>（8）二跳率（2nd-click Rate）： 二跳是指浏览入口页后在页面上产生的首次有效点击。二跳量是二跳的次数，二跳率是二跳量占进入该页面的总访问量的比例，可用于衡量用户的访问质量或该页面对用户的吸引力。<br>（9）CPUV： Cost Per UV，指每 UV 成本，即广告曝光中获取一个 UV 的价格。计算公式为 CPUV=广告消耗金额/UV 数。<br>（10）CPE 或 CPEV： CPE（Cost Per Engagement）或 CPEV（Cost Per Engaged Visit），指单次互动成本，即获取一个用户互动行为对应的价格。<br>（11）CPH（Cost Per Hour）： 受众对广告的浏览/互动时长的成本。根据广告可视度的概念可知，可视广告对受众浏览广告的面积和时长都有要求，因此 CPH 是评估可视广告的进一步延伸，它可以考核受众对广告的关注度、兴趣度和活跃度。该指标特别适合品牌广告主，它在一定程度上代表了广告对受众品牌意识的影响力。<br>（12）互动率（Engagement Rate）： 用于衡量广告投放中用户在广告素材或者站内（网站或 App）的交互度和参与度。交互行为（Engagement）是指用户对广告产生兴趣之后，到发生最终转化之前的动作或行为过程，如点击、分享、在线体验、站内搜索等。相应地，还可以用单次互动成本 CPE（Cost Per Engagement）或 CPEV（Cost Per Engaged Visit）来衡量。<br>（13）回搜率（Search Conversion）： 看过广告的用户中，之后一段时间（如 1 天后、7 天后、30 天后等）在各个平台（包括百度、360、新浪、淘宝等）搜索广告主相关关键词的用户数占比，可用来衡量品牌广告对用户品牌认知的提升程度。<br>（14）品牌安全（Brand Safety）： 由于品牌广告宣传的是品牌的美誉度，因此对投放环境的要求非常高。比如品牌广告不允许出现在色情网站、敏感时事新闻等媒体上，否则用户可能会对此品牌产生负面印象，严重时还会影响品牌形象。品牌安全保障一般由广告验证平台（如 Adbug、Sizmek）提供，广告主通过广告验证平台过滤敏感或非法的关键词/页面。每个广告验证服务商都需要维护并公开潜在规避类别。<br>（15）反作弊（Anti-Fraud）： 所有广告主都需要反作弊，只是效果广告主衡量短期效果时就已经可以把大部分作弊流量过滤掉，因此对反作弊的需求没有品牌广告主那么强烈。相比之下，品牌广告主的考核指标比较容易被作弊，因此广告主需要考量服务方的反作弊能力。<br>（16）无效流量验证（Invalid Traffic Verification）： 需要说明的是，无效流量不等同于作弊流量，作弊流量只是无效流量中的一部分，并且无效流量的曝光不能计入可见曝光。MMA 中国无线营销联盟在 2017 年 5 月发布的移动互联网无效流量验证标准指出，无效流量分为两种。<br>① 第一种是“常规无效流量”（General Invalid Traffic，简称 GIVT），即通过使用名单或者其他标准化参数、定义及预设规则可检出的无效流量。<br>非浏览器用户代理头或其他形式的未知浏览器带来的流量；<br>来自声明的机器人爬虫的流量；<br>依据投放项目维度的参数设定，超出合理访问频度、访问时间间隔等目标设定的流量；<br>已知的来自数据中心的执行了预加载且没有指定加载后触发时间的流量；<br>媒体方发起的对广告主提供的点击链接的定期例行检测流量；<br>来自已知高危作弊来源的流量，依据预设列表判断；<br>带有非法参数及字符的流量，包括通过伪造等非正常手段生成的唯一标识等关键参数；<br>基本信息缺失或信息矛盾的流量（例如缺失用户代理信息）。<br>② 第二种是“复杂无效流量”（Sophisticated Invalid Traffic，简称 SIVT），包括了需要通过高级分析、多方合作乃至人工介入等方法，以及广告投放活动以外更大范围的数据信号才可能分析和辨识的无效流量。<br>高度模拟真人访客的机器人和爬虫流量；<br>广告插件、恶意软件产生的流量；<br>被劫持的设备产生的流量；<br>虚拟化设备中产生的流量；<br>被劫持的广告代码产生的流量；<br>广告伺服时故意隐藏、叠加，掩盖、自动刷新或使过程模糊；<br>通过作弊代理服务器产生的流量；<br>以金钱补偿为动机的操纵测量数据行为；<br>伪造的可见性曝光判定属性参数的流量；<br>篡改或重复使用窃取获得的 Cookie 信息的流量。<br>③ 针对来自数据中心或由机器人、爬虫等产生的异常流量：<br>数据中心及运营商网络节点 IP：数据中心（也被称作 IDC 服务器机房等）是为企业、政府自身或者对外提供服务器托管、租用以及其他服务的机构。运营商网络节点是网路运营商使用的网络设施，故数据中心及运营商网络节点 IP 产生的流量不被视为真实的广告受众；<br>高机器人概率 IP：有明显的大量机器人行为记录的 IP；<br>高机器人概率移动设备 ID：具有大量机器人刷量行为的移动设备 ID，包含 IDFA、IMEI 等种类的设备相关 ID；<br>无效 User-Agent 信息：User-Agent（UA）信息是指用户代理信息，用于识别发出请求的客户端的操作系统、浏览器等信息，故带有爬虫 UA 和伪造的非真实浏览器 UA 的流量不被视为真实的广告受众。<br>（17）第三方监测差异（Discrepancy）： 品牌广告主一般会寻找信任的第三方监测公司为其提供投放监测服务并输出数据分析报告，比如性别、年龄等人群属性以及地区定向的投放结果。因此，DSP 的投放效果是否达标，不仅仅在于 DSP 平台统计的数据，还需考核该数据与第三方监测数据之间的差异值（一般称为 gap 值）。</p><h1 id="第五章-广告投放"><a href="#第五章-广告投放" class="headerlink" title="第五章 广告投放"></a>第五章 广告投放</h1><h2 id="二、广告策划-提案"><a href="#二、广告策划-提案" class="headerlink" title="二、广告策划/提案"></a>二、广告策划/提案</h2><h3 id="方法论"><a href="#方法论" class="headerlink" title="方法论"></a>方法论</h3><p>广告提案（proposal）是指广告公司通过PPT或者其他表现方式向广告客户描述广告投放解决方案的报告，目的在于获取客户的认可和支持，赢得客户的广告投放预算。</p><p>1.用户旅程（user journey）<br>用户旅程模型分为以下六个阶段：<br>（1）认识：这一阶段的用户都是新用户，之前没听过或者不了解该企业/品牌。通过广告曝光，开始发现企业/品牌，对企业/品牌有初步的接触和了解。这一阶段的广告策划起码要保证广告的曝光强度和频率，这样才能让用户注意到广告，慢慢地了解并熟悉企业/品牌。对于有潜在需求的用户，在这一阶段还可以通过广告曝光去启发其需求，使之产生兴趣。<br>（2）熟悉：通过广告的多次曝光之后，用户大脑会潜移默化地形成一种记忆，企业/品牌作为一个已知事物、体验或情感联想存在于用户大脑中，并形成品牌意识。在后期考虑或评估阶段，可以产生品牌联想。品牌联想是指用户在需要的时候可以想起品牌或者通过广告曝光唤醒对品牌的记忆。广告中要突出品牌亮点和差异点，这样才能更容易被用户联想记忆。<br>（3）考虑：用户在这个阶段通常会同时考虑多个企业/品牌，并从中选择一个或多个。广告主要清楚地了解用户诉求，对不同诉求的用户采取不同的刺激点来进行引导。刺激点包括价格、折扣、质量、性价比、产品特色等。<br>（4）评估：用户进入考虑阶段后，可能会采取进一步的行动，比如点击广告等。同时，用户还会通过主动学习或试用等方式评估企业/品牌的产品服务是否满足自己的需求，比如通过搜索引擎查找信息、进入官网了解企业/品牌、申请试用等。因此，需要策划好相关内容和体验活动，这样才能给用户更好的印象，促使其购买。<br>（5）购买：在准备购买阶段，良好的用户体验非常重要。广告及网站的转化路径要简单、快捷、流程，这样才能促使用户更高效地完成购买动作。<br>（6）忠诚：对于已购买的用户，要努力使之成为忠诚用户，持续购买该产品或服务。<br>注意，整个用户旅程中的各个阶段并不是呈线性漏斗式的，有些用户可能会直接跳过某个阶段。比如在认识阶段的用户，可能因为广告内容刺激到其需求，直接跳过熟悉阶段进入考虑阶段。制定策略时，需要充分了解用户旅程中的各个影响因素，制定最优的组合策略，包括定向人群、媒体、创意、接触点等。</p><p>2.接触点（touch point）<br>简称触点（touch point 或 contact point），是指有需求或潜在需求的用户在购买之前、购买期间或者购买之后的企业/品牌接触点。<br>程序化广告的 user journey 中，用户从看到广告到点击广告、浏览官网或 App、订购商品或服务等过程中有一连串的交互行为，里面涉及各种触点。触点分为心理触点和行为触点两个层次。<br>（1）心理触点<br>信息感知：用户在看到广告的时候，当前的场景、需求状态都会影响其对广告内容的感知。在这个阶段，用户是通过听和看来接触品牌的。品牌通过广告内容将信息传达给用户，让用户认识品牌，并通过反复曝光在用户大脑中形成潜在记忆，让他们在有需求的时候可以轻易唤醒这些记忆。<br>启发需求：刺激用户需求，让用户产生兴趣、渴望。在了解清楚用户诉求，或者分析清楚用户之前购买的原因后，可以更好地设计广告内容去刺激用户，促使其购买或再次购买。启发性因素可以是价格、质量、性价比等。<br>唤起记忆：对处于考虑阶段或者评估阶段的用户进行广告曝光，使之产生品牌联想，唤起记忆，使用户考虑购买相应品牌。比如对将品牌产品加入过购物车的用户进行广告曝光，唤起其记忆。<br>（2）行为触点<br>指用户产生交互动作的触点，包括点击、购买、加入购物车等。引发用户触点的关键是内容信息和用户体验。</p><p>4.用户生命周期（user lifetime）<br>完整的广告策划需要对整个路径中处于不同阶段的用户进行归类，经过层层引导，最终产生转化，并持续循环，使之留存、活跃、忠诚，实现用户生命周期价值的最大化。用户生命周期中的行为路程可分为“看到广告—点击广告—进入页面—转化”。由于转化是广告投放的最终目的，因此，需要对转化前的每个节点设定广告行为上限。下面通过一则简单的示例来说明基于用户生命周期的优化思想。</p><p>如下图，假设广告投放设置为：用户看到广告的上限是 6，点击广告的上限是 3，进入页面的上限是 2。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-4.png"></p><p>基于此，可采取的广告策略则是（如下图）：尝试对潜在用户推广 X 游戏，向其展示 A 创意，在每个节点流失时，如果没达到上限，则返回起点重新对其展示 A 创意；如果达到上限，该用户可能对 A 创意不感兴趣，尝试向其展示 B 创意。同样地，用户在 B 创意路径中的每个节点也可能会有流失，如果没达到上限，则返回起点重新对其展示 B 创意；如果达到上限，该用户可能对 X 游戏不感兴趣，尝试向其推荐 Y 游戏，展示 C 创意。实际广告投放中，X 游戏肯定不只是展示 A 和 B 创意，可以继续展示更多不同风格的创意，试探用户兴趣。但是如果多次尝试 X 游戏和 Y 游戏的多套创意后，用户都未产生转化，说明该用户可能不是游戏用户，则需要考虑是否放弃对该用户继续投放此类广告。注意，实际优化过程中除了多版本的创意优化，还需要做多版本的落地页优化。为了简单说明优化思想，这里暂且忽略落地页的多版本测试。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-5.png"></p><h3 id="策划要素"><a href="#策划要素" class="headerlink" title="策划要素"></a>策划要素</h3><p>1.人群策略<br>目标受众定向分为新用户和老用户的定向投放，我们需要进行相应的拉新和留存，即吸引新用户和挽留老用户。根据二八原则，公司 80% 的利润来自 20% 的重要客户。以客户的忠诚度来分，这 20% 的重要客户是指忠诚客户群体，也就是我们常说的回头客、老顾客。因此，广告投放要抓住关键用户群，重视对老用户的重新召回。老用户可以是访问过官网或 App 的用户，也可以是注册、下载、购买用户等。当然，召回老用户的同时，还需要加大对新用户的投放，这样才能不断壮大老用户基数。<br>（1）老用户——站内人群重定向<br>重定向（Retargeting）也称为再营销（Remarketing），是指对老用户进行召回的广告投放。重定向投放的意义在于对客户进行二次营销，唤醒沉睡用户，召回流失用户。重定向一般是针对站内人群而言的。站内人群是指广告主官方网站/App 的用户，针对不同用户行为划分不同人群标签，如访问过网站、注册过账号、购买过商品等。<br>① 普通重定向：对站内不同行为人群标签展示差异性广告创意，进行用户召回。<br>② 个性化重定向：由于每个人的行为都是有区别的，所以他们在网站的浏览轨迹、对商品的兴趣爱好、用户旅程阶段、对创意的审美程度等也都是不同的。个性化重定向是指根据每一个用户的不同行为推送个性化广告，以提升访客召回的效果。这里面还包含“否定重定向（Negative Retargeting）”的概念，即个性化定向的前提是不再向用户推送他们已经购买过的商品的广告，减少广告主投放预算的浪费。否定重定向并不是完全停止对已购买过商品的用户推送广告，而是在特定周期内对该类用户停止推送他们已经购买的那个商品的广告，改为推送相关的其他商品的信息。比如对刚购买了手机的用户推送手机膜或者手机壳等广告，而不是持续用手机广告干扰用户。特定周期具体指多长时间，则需要根据该商品的属性来判断。比如刚购买冰箱或空调的用户，在未来一至两年内估计都不会有购买需求；又比如刚购买洗发水的用户，根据其过往买洗发水的频率，假设为 10 周，则应该在 9 周内暂停向该用户展示洗发水广告。<br>（2）新用户——站外人群扩展<br>重定向用户固然高质，但是数量有限，所以需要扩展。扩展不意味着盲目投放新用户，盲目通投（通投指不设任何定向条件而进行的广告投放）会导致成本变高，但效果却未必随之提升。高质的新客户从哪来？常用手段是设置合理的基础定向条件和人群标签，同时还可以用 Look Alike、获取搜索词用户等方法进行人群扩展。<br>① 基础定向：包括地区定向、设备定向、客户端定向等。<br>② 人群标签定向：分为预定义人群标签和自定义人群标签。预定义人群标签包括社会化属性、兴趣爱好、购买倾向等定向。自定义人群标签是根据广告主目标受众提炼出来的用户群体，比如已知某媒体网站用户基本为高端的女性用户，而广告主的目标受众正是此类用户，广告主可以通过购买该媒体网站人群，或者通过购买该媒体网站广告位用以收集人群，并将该人群定义为“X 媒体高端女性用户人群“。<br>③ Look Alike：又叫相似人群扩展，以重定向用户作为种子用户，并根据用户特性查找相似特性的人群。<br>④ 搜索词用户：当用户有需求时，会通过搜索引擎主动查找相关信息。因此，可以找供应商提供搜索词用户，对这些用户进行定向投放。<br>在 DSP 平台进行广告投放时，如何进行相应的重定向和拉新呢？<br>首先需要对 DSP 的人群数据有一定的了解。DSP 平台的数据来源分为广告主数据、广告投放业务数据及第三方数据。广告主数据主要用于重定向，广告投放业务数据及第三方数据主要用于拉新。<br>广告主数据：广告主添加 DSP 平台监测代码收集的人群数据（比如访问到官网的人群）；广告主 CRM 数据；广告主自有 DMP 数据。<br>DSP 自有数据：包括 DSP 对接的 AdX/SSP 流量中携带的用户上下文浏览历史、地域、客户端、设备品牌等信息；广告投放数据，如曝光、点击、转化数据等；基于种子用户的 look alike 而得到的更多人群数据；通过爬虫抓取的网络数据，如天气指数、百度指数、视频指数、新闻热点信息等。<br>第三方数据：一般由第三方数据供应商提供，有免费或付费两种合作模式。部分 AdX/SSP 会为 DSP 提供免费 DMP 人群数据。另外，DSP 也可以通过付费或者数据交换方式与第三方 DMP 平台合作来获取数据。需要注意的是，如果是 cookie 数据，则 DSP 平台需要与该第三方 DMP 进行 cookie 映射后方能使用。<br>要提升广告投放效果，需要对用户群体进行合理归类，并按照各类别用户的不同特性推送相应广告。具体要如何归类呢？我们可以根据“4W1H”模型来进行：Who、When、Where、What、How，分别对应用户的属性、时间、来源、行为、质量（如下图所示）。根据这个模型，我们可以从不同维度对用户进行细分，并针对不同群体推送个性化广告。<br>Who——谁 ：即用户属性，根据属性（性别、年龄、地区、收入、兴趣爱好等）判断这是什么类型的用户，比如爱好电子设备的学生群体、喜欢看汽车网站的白领、用户等级为高级 VIP 等。<br>When——何时 ：即用户行为对应的时间，根据时间可以算出用户对应的访问时长、频率、间隔等。比如第一次访问官网、30 天未登录过、每天都会访问一次等。<br>Where——哪里 ：即对应用户的来源，是点击广告进入、通过好友分享进入还是通过搜索引擎进入等。不同来源的用户代表着不同群体，比如通过搜索关键词进入的，属于主动行为的用户群，更贴合广告主需求；而通过点击广告进入，则可能是因为广告内容的吸引而产生兴趣等。<br>What——做了什么 ：即对应用户的行为，比如点击了什么类型的广告、访问了什么内容、购买了什么商品等。<br>How——如何 ：即用户质量如何，可以用访问深度、行为次数、订单金额等来衡量。比如浏览了 50 个不同商品页面的用户、一年之内总共成交了 20 单的用户、30 天订单金额大于 10 万元的用户等。<br>以电商为例，根据用户分类模型可以将用户分为下表所示的群体并制定相应投放策略。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-6.png"><br><img data-src="/programmatic-advertising/programmatic-advertising-7.png"></p><ol start="2"><li>媒体策略<br>（1）横幅广告（banner ad）<br>指在网站或 App 的顶部、中部或底部位置出现的广告。<br><img data-src="/programmatic-advertising/programmatic-advertising-8.png"><br>（2）富媒体广告（rich media ad）<br>富媒体广告不占用页面固定版面位置，而是通过弹出或者悬浮等方式展示广告，例如漂浮广告、右下角弹窗等。优质媒体的富媒体广告位一般单价较高，大型广告主采购较多（如下图）。<br><img data-src="/programmatic-advertising/programmatic-advertising-9.png"><br>（3）视频广告（video ad）<br>指视频网站或 App 中，在视频内容播放过程中出现的广告，包括视频（即 video in stream，指视频流中的视频广告）、图片等形式。视频播放器框内广告分为贴片、暂停、overlay 等：<br>① 贴片：广告形式是流媒体，一般分为前贴（pre-roll）、中贴（mid-roll）、后贴（post-roll），时长分为 15 秒、30 秒、60 秒甚至 90 秒。前贴是视频播放前出现的广告，中贴是视频播放中途出现的广告，后贴是视频播放结束后出现的广告。不同视频网站中的贴片广告会有不同的体验，比如自动播放或点击后播放、是否可跳过广告等（如下图）。<br><img data-src="/programmatic-advertising/programmatic-advertising-10.png"><br>② 暂停：用户看视频过程中，点击暂停时弹出的覆盖在视频上面的广告，可点击右上角的关闭按钮关闭广告（如下图）。<br><img data-src="/programmatic-advertising/programmatic-advertising-11.png"><br>③ 角标（overlay）：在视频播放过程中，在某些时段内弹出的覆盖在视频上面的角标广告，出现一段时间后又会自动消失。<br><img data-src="/programmatic-advertising/programmatic-advertising-12.png"></li></ol><h2 id="三、广告投放执行"><a href="#三、广告投放执行" class="headerlink" title="三、广告投放执行"></a>三、广告投放执行</h2><h3 id="基础设置"><a href="#基础设置" class="headerlink" title="基础设置"></a>基础设置</h3><p>频次控制：设置同一个用户在设定时间内看到特定广告的总次数，或者在设定时间内看到某个广告素材的总次数。<br>频次控制的价值<br>① 同段时间内对同一用户进行大量曝光可能会引起用户的反感。另外，在预算有限的情况下，对同一用户的曝光次数进行限制，可以将节省的广告费用于覆盖更多的其他用户，对考核 TA% 和 TA N+Reach 的广告来说尤其重要。<br>② 对同一用户重复曝光同一广告素材的意义不大，可能会引起用户的审美疲劳。用户对创意的内容和风格有一定的喜好度，通过频次控制设置多套不同创意的轮流曝光，还能在一定程度上提升点击率和转化率。</p><p>频次控制的原理<br>广告投放时，系统主要根据广告活动的预算、频次以及各个定向设置等综合条件进行出价决策。只要遇到符合综合条件的流量，系统就会向 AdX/SSP 发送竞价响应，再由 AdX/SSP 返回竞价结果。如果竞价成功，广告主的创意即可展示。<br>品牌广告中常见的频次控制要求有：频控为 N、控 N 追 N-1 的比例大于一定值（该条件一般还会带上时间周期要求）。假设 N 为 4。<br>频控为 4： 如每天频次为 4，代表同一用户每天看到广告的次数不能超过 4 次。<br>控 4 追 3 的比例大于一定值： 即频次控制为 4，并使尽可能多的人看到 3 次广告。如每个星期内控 4 追 3 的比例大于 45%，代表每个星期内同一用户看到广告的次数不能超过 4，并且看到广告 3 次的人占总投放人数的比例不能低于 45%。<br>在广告投放前期和中期，控 4 追 3 可以跟频次控制为 4 的出价决策一样，只要遇到符合综合条件的流量就出价，重点在于做好目标受众策略。假设 TA 为男性，则需要技术协助查询日志，将 TA 为男性并且每周出现在流量池中的总次数不低于 3 的用户筛选出来进行定向投放。<br>在广告投放的后期，重点工作是提升看过广告为 3 次的用户占比。即使前中期做好了受众策略，但是在竞价环境下，出价不代表会赢得展示。因此，后期的策略不应该是获取没有看过广告的新用户，而应该重定向看过 2 次广告的人使之达到 3 次、看过 1 次广告的人使之达到 2 次进而达到 3 次（根据剩余预算来决定）。</p><h3 id="媒体设置"><a href="#媒体设置" class="headerlink" title="媒体设置"></a>媒体设置</h3><p>媒体URL：设置具体的媒体根域名（如qq.com）、二级域名（如news.qq.com）等，或者是具体的URL地址。</p><p>广告可视度（Viewability）：根据广告主对可视度的要求，可以只对可视度高于某一数值的媒体资源进行定向投放，或反之，可排除可视度低于某一数值的媒体资源，不对这部分媒体资源进行投放。<br>页面广告位数量：由于页面的广告位数据会影响用户体验，有可能间接使用户对该页面的广告产生负面印象，因此，投放广告时可以对投放页面的广告位数量进行把控，如只定向投放到广告位数量在3以内的页面。<br>屏次：选择广告位所在的屏次，如首屏、第二屏等。一般需要排除尾屏等页面底部的位置，用户一般是看不到这种广告位的。<br>页面内容：选择指定页面关键词、视频内容定向等进行投放，如只投放包含化妆品相关关键词的页面，或者只投放青春偶像剧的视频广告，也可以直接指定电视剧名字等进行定向投放。</p><h3 id="定向设置"><a href="#定向设置" class="headerlink" title="定向设置"></a>定向设置</h3><p>重定向：重定向人群一般是广告主自有人群。广告主可以通过收集广告投放过程中看过广告、点过广告以及访问过官网的人群，并对其进行重定向投放。重定向人群里面可能包含着有需求人群、潜在需求人群甚至是已购买的人群等，也可能包含着正在使用产品/服务的人群或者是已流失的人群等。<br>社会化属性：包括受众的性别、年龄、教育程度、行业等标签定向。<br>兴趣爱好：根据受众的兴趣爱好（如汽车、母婴、休闲娱乐等标签）投放。<br>购买倾向：根据受众的近期浏览及其他交互行为等预估购买倾向。<br>地区定向：指定投放区域，包括国家、省份、城市等。<br>客户端定向：设置受众的操作系统、浏览器、系统语言等。<br>运营商定向：投放指定运营商所对应的设备，如电信、联通。<br>设备定向：由于不同设备代表着不同人群，或者是不同的消费水平，因此可以根据广告主的受众人群进行设备定向，包括设备品牌定向、设备型号定向、设备价格区间定向等。<br>网络类型：包括 2G、3G、4G、Wi-Fi 等。如果投放的广告需要用户点击并下载 App 安装的话，则需要根据 App 文件包的大小进行相应的网络类型定向。如果一个下载安装包太大（如 100M）的话，用户一般不会在非 Wi-Fi 环境中下载。<br>上网场景：包括家庭、公司、学校、网吧等。投放时需要根据广告的受众特点选择相应的上网场景。<br>LBS 定向：Location-based Service，即移动位置服务，可以根据用户所在的地理位置推送周边服务等。LBS 定向取决于 AdX/SSP 竞价请求（指移动端的竞价请求）是否携带用户当前的（实时）经纬度信息，并非所有流量都支持 LBS 定向。<br>天气定向：指定温度、湿度、空气指数或者温差，如空气净化设备、感冒药、羽绒服等产品的广告投放。<br>搜索人群定向：搜索人群是指在搜索引擎输入词语进行内容搜索的人群（比如在百度搜索“化妆品”的用户）。关键词搜索代表了用户的需求以及意愿，因此该人群是具有一定主动性的潜在人群。当然，还需要结合时效性，因为不同时期的搜索词代表了用户在不同阶段的需求信息。</p><p>To C 类广告和 To B 类广告<br>To C 类（针对消费者市场）广告面向的是个人用户，一般通过用户标签或者地区、客户端定向条件来找到目标用户；To B 类（企业级服务）广告面向的是企业用户，比如企业负责采购商品的决策人员或者执行人员等，这类广告无法简单地用 To C 类策略来找目标用户，需要通过企业上网 IP、公司地址经纬度、行业垂直网站定向等来寻找目标用户。</p><h4 id="创意设置"><a href="#创意设置" class="headerlink" title="创意设置"></a>创意设置</h4><p>展示规则：设置创意对同一个人展示多次时，用户看到创意的先后顺序规则一般会有循环轮播、按顺序展示等。比如对同一个用户需要展示创意 A、B、C，频次上限为每周 6 次，某用户看到创意的先后顺序可以是 AABBCC、ABCABC 等。</p><h2 id="四、数据分析及优化调整"><a href="#四、数据分析及优化调整" class="headerlink" title="四、数据分析及优化调整"></a>四、数据分析及优化调整</h2><h3 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h3><p>环比是本期与上期比，如 2016 年 12 月与 2016 年 11 月相比较。</p><h3 id="广告优化调整"><a href="#广告优化调整" class="headerlink" title="广告优化调整"></a>广告优化调整</h3><p>人群调整：根据目标受众的投放量级及转化效果，可以相应增加或减少人群标签的投放。</p><h2 id="五、项目总结-结案报告"><a href="#五、项目总结-结案报告" class="headerlink" title="五、项目总结/结案报告"></a>五、项目总结/结案报告</h2><h3 id="项目总结的价值"><a href="#项目总结的价值" class="headerlink" title="项目总结的价值"></a>项目总结的价值</h3><p>2.需求方角度<br>需求方通过执行方提交的结案报告，可以明确以下事项。<br>（1）全面了解整个投放的支出和投放活动的具体情况。<br>（2）评估衡量执行过程中的策略是否有效，并作为结算依据。<br>（3）评估执行方的各方面能力是否达标。</p><h3 id="结案报告的要素"><a href="#结案报告的要素" class="headerlink" title="结案报告的要素"></a>结案报告的要素</h3><p>一份完整的结案报告应该包含简报回顾、活动执行效果分析、执行和优化建议以及总结概括。<br>简报回顾（brief recap）：呼应投放需求，回顾广告主 brief 内容和项目背景，说明投放目标和 KPI 考核标准。<br>活动执行效果分析（strategy analytics）：根据 brief 的要求汇报 KPI 达成情况，并全面客观地分析投放策略与效果，透彻分析是如何完成 KPI 的。<br>执行和优化建议（advice）：总结项目执行过程中的不足之外，并针对不足提出改进的方案，同时对整个投放可以作出更有建设性的意见，用于指导未来的项目。<br>总结概括（summary）：简洁概括本次投放的效果，最好是将实际效果与 KPI 要求进行对比得出结论，这样的数据会更有力。总结内容要包含对此次投放结果的洞察（insight），与提案中的消费者洞察进行对比，在论证投放策略的基础上，进一步提炼受众特征，为广告主的后续投放提供有力的数据支撑。另外，还可以强调本次投放中的亮点，突出优势之处。</p><h1 id="第六章-相关技术"><a href="#第六章-相关技术" class="headerlink" title="第六章 相关技术"></a>第六章 相关技术</h1><h2 id="一、RTB竞价逻辑"><a href="#一、RTB竞价逻辑" class="headerlink" title="一、RTB竞价逻辑"></a>一、RTB竞价逻辑</h2><h3 id="竞价逻辑"><a href="#竞价逻辑" class="headerlink" title="竞价逻辑"></a>竞价逻辑</h3><p>用户开启电脑，打开浏览器，访问某媒体网站（如今日头条 toutiao.com），媒体网站页面通常会有广告位。以今日头条右上角 250×250 的广告位为例，假设此位置已加入 RTB 交易市场。从用户进入网站，到 250×250 广告位置向用户呈现广告，整个过程在毫秒级内发生。期间到底经过了哪些流程？<br>流程 1：用户 A 在 Web 浏览器访问今日头条首页。<br>流程 2：今日头条向 AdX/SSP 请求广告展示给用户 A，广告位是首页右上角 250×250 位置。<br>流程 3：触发 AdX/SSP 发起竞价。<br>流程 4：根据 User ID 向用户数据中心查询用户 A 的相关信息。<br>流程 5：用户数据中心向竞价发起服务返回用户 A 的信息，如性别、年龄等。<br>流程 6：AdX/SSP 根据这个竞价请求组织一次竞价，向各 DSP 平台发送竞价请求（Bid Request），询问是否需要竞价，并传输用户 A 的 User ID（广告交易平台的用户 cookie 或者移动设备 ID 等）及其他用户信息、广告位信息（页面 URL、广告位置等）。竞价请求一般会携带的信息有：竞价时间、竞价广告请求识别号、IP 地址、竞价网页 URL、竞价广告位识别号、广告位屏次、广告位宽/高、广告位类型、广告位底价、访客来源 url、媒体分类、IP、UA 信息、人群标签 ID、操作系统类型、设备信息（品牌、型号、联网类型）、地区等。<br>流程 7：DSP 竞价监听服务接收到 AdX/SSP 发来的竞价请求后，将竞价请求信息传输给竞价引擎。<br>流程 8：竞价引擎根据 AdX/SSP 平台 User ID 向用户数据中心查询用户相关信息。如果是 PC 端，竞价引擎需要查询 cookie mapping 数据库，得出用户 A 在需求方系统的 cookie ID（如果需求方对应的 cookie 不存在，则向 AdX/SSP 发起 cookie mapping 请求）。<br>流程 9：用户数据中心向竞价引擎返回用户 A 的信息，如性别、年龄、兴趣爱好等。返回的具体用户信息需要参照 DSP 用户数据中心的信息维度而定。<br>流程 10：竞价引擎将用户数据和投放需求进行匹配，决定是否参与出价以及 CPM 出价多少合适。<br>流程 11：DSP 竞价监听服务向 AdX/SSP 发送出价响应（Bid Response），并发送 CPM 价格和广告代码 Ad Tag。如果不参与竞价，则不响应。请注意，DSP 从接收到竞价请求到发送出价响应，这个过程必须在 80～100 ms 内完成（不同 AdX/SSP 的出价响应时长要求会有些区别）。如果网络发生错误或者出价响应超过该时间要求，则会被 AdX/SSP 判定为 DSP 自动放弃此次竞价。<br>流程 12：AdX/SSP 接收到所有 DSP 的出价响应后由竞价决策服务进行竞拍。价高者得，次高价结算，即出价最高的 DSP 赢得本次展示，并以第二高的投标价格（通常比第二高多 1 分钱）跟 AdX/SSP 结算。同时，竞价决策服务需要为供应方（今日头条）返回赢得本次竞价的 DSP 的竞价信息（CPM 价格和广告代码 Ad Tag）。<br>流程 13：Web 浏览器向 DSP 请求广告物料的展示。需要注意的是，部分 AdX/SSP 平台提供物料服务，即 DSP 事先将广告物料上传到 AdX/SSP，特别是 Video 视频贴片创意。这种情况下，Web 浏览器是向 AdX/SSP 请求广告物料的展示。<br>流程 14：DSP 物料管理服务返回对应的广告物料。需要说明的是，广告物料必须先经过 CDN 服务再呈现在广告位。另外，DSP 还会收到 AdX/SSP 发送的竞价消息（Win Notice），表示该次展示已经竞价成功。<br>流程 15：用户 A 看到广告，当前竞价流程结束。AdX/SSP 方和 DSP 方进行广告费用统计。一般 AdX/SSP 会为 DSP 提供 1～2 个月的账期，双方在次月初进行对账操作。双方数据会有所差异，正常差异值范围在 3% 以内。对于 DSP 来说，消耗量大的 AdX/SSP 渠道，假设 500 万/月，即使是 1% 的差异，都会造成 5 万的差距。因此，DSP 方需要密切关注该差异值，尽可能降低网络损耗。</p><p>竞价过滤<br>在 AdX/SSP 发过来的竞价请求中，DSP 会根据广告主设置的投放条件和 KPI 要求以及流量质量等进行过滤，过滤掉的流量将不应答出价。另外，有反作弊能力的需求方平台还会对作弊流量进行过滤，保障投放效果，减少投放浪费。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-13.png"></p><h3 id="AdX-SSP竞价结算规则"><a href="#AdX-SSP竞价结算规则" class="headerlink" title="AdX/SSP竞价结算规则"></a>AdX/SSP竞价结算规则</h3><p>表面上，GFP 模式的 First Price 可以让媒体收到更高的价格，赚到更多钱。但实际上，这种模式会让大家趋向于往低报。当用某价格买到流量后，买家会在猜想 Second Price 是多少，然后降低价格试探出价，直到竞不到的时候才会再往上加，加到刚好多一点哪怕是多一分，就可以赢得该流量了。这种模式会让市场上的价格波动很大，媒体费用也会波动很大。对 AdX/SSP 来说，不仅竞价性能成本高，而且媒体收益也没有保障。<br>相反，GSP 符合买家的“最合适的价格”心理，可以让买家尽可能地报出心理价位，在竞价过程中会更积极活跃同时也愿意出更高的价格。因为出价不代表结算价，而是以刚刚好比 Second Price 多 0.01 元结算。长此以往，建立在买家意愿基础上的流量市场会进入良性发展，AdX/SSP 的收益也更有保障。</p><h3 id="AdX-SSP底价规则"><a href="#AdX-SSP底价规则" class="headerlink" title="AdX/SSP底价规则"></a>AdX/SSP底价规则</h3><p>固定底价：目前行业内常见的方式是固定为广告位设置一个底价，DSP 出价高于该底价时才能获得竞拍资格。<br>双重底价：部分 AdX/SSP 会有双重底价标准。如不设广告位底价，即统一为 0，同时设定隐性底价（仅用于区分何时用 GFP 何时用 GSP 结算，不作为结算价格，假设为 2 元）。当 DSP 出价价格大于 0 而低于 2 时，则采用 GFP 模式用最高价结算；当 DSP 出价价格大于 2 时，则采用 GSP 模式用次高价结算。例如：该广告位只有 DSP A 出价为 1 元，则 DSP A 赢得展示并以 1 元结算；如果 DSP A 出价 1 元，DSP B 出价 0.8 元，同样是 DSP A 赢得展示并以 1 元结算；如果 DSP A 出价 3 元，DSP B 出价 1.5 元，则 DSP A 获得展示并以 1.51 元结算。<br>静态多重底价：部分 AdX/SSP 会根据流量的不同属性、广告主的不同行业设置不同底价。如一线城市的底价比二三线城市的底价高、汽车行业的广告底价比游戏行业的广告底价高、周末及节假日的底价比平时的底价高。<br>动态多重底价：部分 AdX/SSP 会根据广告质量动态地设置不同底价，如点击率高的广告可能获得更低的底价，从而促使其增加投放量。</p><h3 id="DSP内部竞价排名规则"><a href="#DSP内部竞价排名规则" class="headerlink" title="DSP内部竞价排名规则"></a>DSP内部竞价排名规则</h3><p>DSP 内部也会有多个广告主的广告活动，可能会同时需要竞价同一个流量，这时 DSP 也需要对这些广告活动进行内部竞价排名。在满足参与竞价条件的众多广告主中，根据内部平台每个广告活动的出价方式及数值、点击率、转化率进行计算，预估 eCPM 并对其进行排序，再将胜出者的出价返回给广告交易平台。</p><p>1.eCPM预估<br>RTB 竞价方式一般是按 CPM 出价的，部分 DSP 支持按 CPC 或者 CPA 出价方式（由算法计算 eCPM 值，从而用该值将 CPC/CPA 转换成 CPM 出价）。<br>2.点击率和转化率预估<br>上面提到的 oCPC/oCPA 出价预估模型需要动态点击率 pCTR/转化率 pCVR 数值，该数据是通过离线模型和实时模型同时作用得出的。<br>离线模型：一般是按天更新，使用一定时期内（如 60 天内）的日志数据进行特征分析。特征包括用户特征、广告位特征、创意特征、广告主特征（如行业）等。初次投放时，用离线模型的历史数据进行预估。<br>实时模型：一般是准实时更新，如 10 分钟（不同平台会有不同的更新时间），并将实时效果数据加入特征分析，包括广告位特征、创意特征和广告主特征等。<br><img data-src="/programmatic-advertising/programmatic-advertising-14.png"></p><h3 id="竞价相关指标"><a href="#竞价相关指标" class="headerlink" title="竞价相关指标"></a>竞价相关指标</h3><p>对于 DSP 来说，理论上成功竞得次数应该等于曝光次数。但在实际情况中，成功竞得次数会大于或小于曝光次数，常见情形如下。<br>（1）移动端缓存机制下：由于移动端的网络环境比较复杂，用户设备会使用 Wi-Fi、3G、4G 等网络，这容易导致广告（特别是开屏、视频广告等大文件素材）无法正常拉取并展示，用户体验也比较差。因此，AdX/SSP 通常会采用缓存机制，即在用户访问前预先请求广告并加载。当用户进入应用界面时，可以马上展示广告，确保整个用户体验过程的流畅性。其逻辑可以简单描述为：AdX/SSP 预先模拟用户请求发起竞价，出价最高的 DSP 广告素材将进入缓存队列。当用户进入当前界面时（如用户从信息流的第一屏滚动到第二屏），可以实时展示广告素材，此时该 DSP 成功竞得次数和广告曝光次数各加 1。但是如果用户未进入该界面，则该广告素材将没有曝光的机会，此时，该 DSP 成功竞得次数加 1，广告曝光次数不变，AdX/SSP 不会向 DSP 收取广告费用。<br>（2）AdX/SSP 同时对接了 DSP 需求方平台和 Ad N 广告网盟时：即使 DSP 出价最高赢得了当前竞价，但如果该价格低于 Ad N 价格，曝光到用户设备的将是 Ad N 广告而不是 DSP 广告。此时，该 DSP 成功竞得次数加 1，广告曝光次数不变，AdX/SSP 不会向 DSP 收取广告费用。<br>（3）AdX/SSP 在未重新加载广告代码的情况下多次执行代码触发曝光：比如新闻类 App 中，用户打开“娱乐频道”，DSP 获得广告曝光，此时该 DSP 成功竞得次数和广告曝光次数各加 1。接着用户切换到“体育频道”后再切回“娱乐频道”时，AdX/SSP 可能会将该 DSP 广告进行重复曝光，此时，该 DSP 成功竞得次数不变，广告曝光次数加 1，AdX/SSP 可能不再收费也可能重复收费。这种情形比较少见，而且也不合理，当出现这种情形时应及时与 AdX/SSP 沟通协调。</p><h2 id="四、程序化创意"><a href="#四、程序化创意" class="headerlink" title="四、程序化创意"></a>四、程序化创意</h2><h3 id="DCO原理"><a href="#DCO原理" class="headerlink" title="DCO原理"></a>DCO原理</h3><p>动态创意优化（Dynamic Creative Optimization，简称 DCO）是指根据用户的标签属性匹配相应的创意，并根据他们的行为实时调整策略，自动选择最优方案。具体流程如下图所示。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-15.png"></p><p>流程1：PCP 通过商品对接服务对接客户的商品信息，包括商品的名称、价格、页面、库存等。需要注意的是，商品库存和价格信息对实时性有要求，其他数据对实时性的要求则没那么高。商品库对接方式一般为 JS 代码、Feed 接口、FTP 方式、Excel/CSV 导入等。<br>流程 2：商品信息入库。<br>流程 3：创意管理平台调用商品库的商品信息和用户数据中心的用户信息设置动态创意规则，设置好需要推荐的商品、展示方式、创意样式等（如库存量低于某个值时，不推荐该商品；一次推荐 5 个商品，按销量降序排列等）。PCP 将设置好的动态创意规则生成创意代码 Ad Tag，发送到 DSP。<br>流程 4：DSP 竞价成功后，发送 Ad Tag 到浏览器。<br>流程 5：浏览器向创意渲染服务发起创意请求，携带当前用户的唯一标识 User ID。<br>流程 6：创意渲染服务向推荐引擎请求该 User ID 对应展示的创意内容，并携带 Ad Tag 对应的商品规则。<br>流程 7：推荐引擎向用户数据中心查询该 User ID 的用户信息，如兴趣爱好、行为数据等。<br>流程 8：用户数据中心返回用户信息。<br>流程 9：推荐引擎根据用户信息以及商品规则，得出要推荐展示的商品，并从商品库查询调用商品信息，返回到创意渲染服务。<br>流程 10：创意渲染服务根据推荐引擎返回的商品信息和 Ad Tag 对应的创意样式等，生成个性化创意，并展示到浏览器中。</p><h3 id="创意制作流程"><a href="#创意制作流程" class="headerlink" title="创意制作流程"></a>创意制作流程</h3><p>首先定好创意基本框架（称为创意模板），框架里面的内容可以分成 5 部分，也可以称为 5 个元素。<br>Key Vision（主视觉） ：显示创意的主要内容，通常是指商品图片。<br>Logo（品牌标识） ：用于显示广告主的 Logo。<br>Information（文案说明）： 主视觉的补充说明信息，通常是商品名称、价格、折扣信息等。<br>Call to Action（行为召唤）： 与用户进行互动，一般是转化通道，如下载、注册、购买按钮等。<br>Background（背景图）： 背景图，一般用来美化衬托创意。<br>具体如下图所示。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-16.png"></p><p>以上列举的是通用模板，不局限于这 5 个特定元素，但制作思路基本一致。<br>动态创意制作流程如下。<br>流程 1：上传各元素内容，形成物料库。具体包括 Logo、商品信息（包括图片、名称、价格、折扣等信息）、按钮等。商品信息一般对接广告主商品库批量导入。<br>流程 2：制作模板，定义好尺寸比例、各元素的位置及内容来源（比如主视觉引用商品库的商品图片，文案说明引用商品库对应商品的名称和价格）等。<br>流程 3：设置创意规则，比如对女性用户展示模板 A、商品内容为该用户加入到购物车的信息、每个动态创意自动轮播展示 5 个商品、商品展现顺序按热销度降序排列等。<br>流程 4：将模板和规则应用到广告投放，程序化自动生成创意展现给用户。</p><p>我们拿淘宝创意讲解一下动态创意框架（如下图），组成部分有：（1）淘宝 Logo 标识；（2）整体橙色背景框架；（3）登山鞋商品图，用户点击该图片会跳转到淘宝商品页面；（4）商品名称、价格、原价、销量等信息，用户点击商品名称等区域会跳转到淘宝商品页面；（5）页码，对于需要同时展示多个商品并自动循环轮播的创意，建议加上页码，方便用户切换查看。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-17.png"></p><h2 id="五、用户数据中心"><a href="#五、用户数据中心" class="headerlink" title="五、用户数据中心"></a>五、用户数据中心</h2><h3 id="DMP原理"><a href="#DMP原理" class="headerlink" title="DMP原理"></a>DMP原理</h3><p><img data-src="/programmatic-advertising/programmatic-advertising-18.png"></p><p>流程 1：将第一方、第二方、第三方数据输入到用户数据中心。具体包括：通过收数接口传输广告主通过加代码埋点时统计到的网站或 App 的数据、通过收数接口传输广告投放时的业务数据（如曝光、点击数等）、通过对接接口传输的外部数据（包括广告主 CRM 数据、电商交易数据、第三方 DMP 数据等）。<br>流程 2：传输数据信息并写入日志 Log，将 2.1 的收数接口和 2.2 的对接接口传输数据到日志整理存储。需要注意的是，由于数据输入的来源较多，用户标识不一致，特别是 PC 环境下的 cookie，因此需要利用用户 ID 映射表将所有来源的数据用唯一 ID 打通。<br>流程 3：日志管理存储将汇总后的数据信息（包括结构化数据、半结构化数据和非结构化数据）发给数据处理服务。<br>流程 4：数据处理服务对日志信息进行标准化处理，发送到分析引擎。<br>流程 5：分析引擎对数据进行清洗，过滤作弊数据和其他异常数据，将有效数据发送到算法中心。<br>流程 6：算法中心结合标签规则模型对数据进行机器学习和数据挖掘，将数据标签化处理后返回给标签管理平台。<br>流程 7：标签管理平台通过输出接口同步数据到各数据应用平台，如 DSP、PCP、AdX/SSP 或其他平台。</p><h3 id="用户画像逻辑"><a href="#用户画像逻辑" class="headerlink" title="用户画像逻辑"></a>用户画像逻辑</h3><p>1.人群标签原理<br>定向目标人群需要在设置广告活动时选择人群标签（tag），它有可能是广告投放平台的自有标签，也可能是第三方 DMP 的标签。标签一般包括用户的性别、年龄、行业、收入、婚姻状态、教育背景、兴趣爱好等。为每个用户打人群标签时，主要是基于用户识别号、用户行为、时间、地点、终端等属性进行综合分析，并标记该用户在各个维度上的属性特征（同一个用户会对应多个标签）。具体如下图所示。<br>用户识别号：主要是用户 cookie、设备号 ID。<br>行为：包括行为类型、行为介质、行为次数或金额。行为类型包括浏览、点击、下载、注册、购买等行为；行为介质包括广告、媒体、广告主网站/App 等；行为次数或金额指用户采取该行为的次数或金额。通过行为类型—行为介质—行为次数或金额的组合可以看出某用户的一些兴趣爱好和购买倾向，如点击—某广告—1 次、购买—网站内商品—2 万元、观看—优酷某视频—5 次等。<br>时间：主要是指行为发生的时间、持续时间以及间隔时间。发生时间代表行为点出现的时间，如某用户习惯晚上 8 点到 12 点上网、最近 3 天浏览过某页面；持续时间和间隔时间从一定程度上代表着该用户的质量，如连续看某广告 2 秒、每周一都购买某商品。<br>地点：包括用户所在国家、省份、城市、场所及移动轨迹。场所有家庭、学校、企业、网吧、商场等；通过日志可以分析用户的移动轨迹，如某用户地点基本是在北京、上海、广州，有可能是经常出差人群。<br>终端：包括浏览器、操作系统、设备品牌、设备价格、设备型号、语言等。不同终端也能从一定程度上反映该用户的消费水平等特征。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-19.png"></p><p>2.用户标签生成及优化过程<br>对于常规的用户属性标签，可以进行预先设置。但是对于一些特殊行业的定制人群标签，则需要事先分析好目标群体特性，并描述其在网络的行为表现。因此，生成人群标签需要经过用户定义、筛选条件、打标签、生成人群数据包、广告投放、数据收集/更新这六大步骤（如下图）。比如目前有个机票预订的广告投放需求，要怎么找到相应人群并打上标签呢？</p><p><img data-src="/programmatic-advertising/programmatic-advertising-20.png"></p><p>（1）用户定义：根据广告投放需求，分析并清晰定义目标人群的特征。<br>机票预订的目标人群是需要出行的人群，这些人群可能是出差或旅游人群，又或者是由于其他原因需要出行的人群。对于经常出差的人来说，他们的特征可能是用户坐标会经常出现在几个特定的城市中，比如北京、上海、广州、深圳等。对于经常旅游的人来说，他们的特征可能是用户坐标每年都在特定的时间范围内出现经纬度在不同城市或国家间移动的情况，比如每年 3 月和 10 月都喜欢外出旅游；另外这部分人可能还会经常上网浏览/关注旅游攻略或机票优惠等信息。对于由于其他原因需要出行的人群，一般也会有机票、酒店信息预订查询等行为。<br>（2）筛选条件：通过可用的用户属性字段，将人群特征用筛选条件表示出来。<br>机票预订的目标人群特征中，关注的是用户坐标的移动轨迹，以及网络上信息浏览的兴趣爱好、关键词等。因此，移动轨迹可以通过用户经纬度或 IP 信息，甚至是机场 Wi-Fi 信息等来解读；另外，可以根据用户是否浏览旅游相关网站、搜索旅游相关的关键词等进行用户需求的预测。<br>（3）打标签：将符合筛选条件的人群打上用户标签和对应的用户质量信息。<br>对于有出行需求的人群，根据其出行频率、消费金额等维度划分出不同的用户质量级别，并用权重表示。标签和对应权重可以使广告主在后续广告投放中，能够针对不同权重的用户设置不同的投放策略。比如对于低消费水平的旅游人群，可以向其推荐东南亚国家的机票，并尽可能地推送一些机票优惠信息等；对于高消费水平的旅游人群，可以向其推荐欧洲国家的机票，并在创意中彰显高档品位。按照步骤 2 的条件筛选出来目标人群后，需要为这些用户都打上标签（比如命名为出行人群）和对应权重（一般用数字表示）。<br>（4）生成人群数据包：将同一标签的人群生成人群数据包。<br>按照步骤 3 筛选出一批带有“出行人群”标签和不同权重数字标识的人群，将这些人群统一成人群数据包“出行人群”。<br>（5）广告投放：将人群数据包用于广告投放。<br>在投放机票预订广告时，在活动设置条件中选择人群标签为“出行人群”。<br>（6）数据更新：扩大人群标签数据量以及优化人群标签权重。<br>收集广告投放过程中的数据，并根据投放效果等进行数据更新，不断扩大“出行人群”标签的人群数据量并不断优化他们的权重，使之越来越精确。</p><h3 id="Look-Alike原理"><a href="#Look-Alike原理" class="headerlink" title="Look Alike原理"></a>Look Alike原理</h3><p>Look Alike 有基于用户和基于游戏/商品的协同过滤，找出用户之间的相似性和游戏/商品之间的关联度，并设置置信度，即概率值。<br>基于用户的 Look Alike 是指基于种子用户的浏览兴趣和广告行为找出相似用户，即找出种子用户与哪些人群更相似，从而扩大目标投放人群。浏览兴趣是根据用户浏览页面集的内容信息和浏览行为信息所汇总的用户浏览偏好。广告行为是指用户点击广告和转化行为，包括点击、下载、安装、激活、注册、购买等。用游戏玩家/消费人群的特征寻找具有相似特征的用户，并对这些用户进行广告定向投放。如玩同一游戏或购买同一商品的用户都喜欢浏览哪些页面内容？他们都是通过点击什么广告创意进行转化的？根据这些信息就可以找到用户之间的相似性。广告投放时，还可以根据“浏览兴趣—广告创意—游戏/商品”的关联性进行广告推荐，比如把种子用户玩过的游戏或购买过的商品推荐给 Look Alike 人群，并在转化率较高的媒体页面展示点击转化率较高的创意等。<br>基于游戏/商品的 Look Alike 是指通过分析同时玩多个游戏的用户或同时购买多个商品的同一用户，发现游戏或商品之间的关联性。如玩了 A 游戏的用户群中，大部分人都会玩 B 游戏，那么这两个游戏的关联性相对较高，可以将这个关联性用以广告推荐，比如向玩了 A 游戏的用户展示 B 游戏的广告，刺激用户产生更多转化。</p><h2 id="六、数据统计原理"><a href="#六、数据统计原理" class="headerlink" title="六、数据统计原理"></a>六、数据统计原理</h2><h3 id="网站统计逻辑"><a href="#网站统计逻辑" class="headerlink" title="网站统计逻辑"></a>网站统计逻辑</h3><p>流程 1：浏览器向网站 Web Server 发起请求 URL。<br>流程 2：网站 Web Server 解析请求 URL 并生成 Html 文档响应返回给浏览器。<br>流程 3：浏览器解析 Html 文件，加载外部脚本、样式表和图片等，触发 JS 统计代码。<br>流程 4：解析并执行 JS 脚本，请求数据收集脚本。通过浏览器内置 JS 收集域名、URL、页面标题、分辨率、客户端语言、referrer、cookie（如果在此用户浏览器“种”过 cookie，则能获取到对应 cookie 信息；如无，则通过流程 6.1“种” cookie）等信息，以及自定义事件（如注册等）数据。<br>流程 5：传输收集到的信息给后端脚本。<br>流程 6：流程 6.1 后端脚本生成透明 1×1 像素图片，在浏览器中种入 cookie 标识访客。流程 6.2 后端脚本解析并发送流程 5 得到的信息，同时从网站 Web Server 获取 IP、访问时间等信息，写入日志 Logo 队列。<br>流程 7：日志信息发送至实时统计服务，实时统计后数据进入实时数据库。<br>流程 8：从实时数据库调用数据进行离线分析，并入库至离线数据库。<br>流程 9：查询数据库，并以可视化数据报表呈现。<br>具体流程如下图所示。<br><img data-src="/programmatic-advertising/programmatic-advertising-21.png"></p><p>浏览器指纹（Finger Print）<br>用户使用浏览器浏览网站时，该用户在浏览器产生的相关数据和操作称为指纹，如 userAgent（包含浏览器版本号等信息）、http_accept（http 协议头中的一个字段）、plugins （浏览器安装的插件信息）、timezone（时区信息）、fonts（系统安装字体）等。这些指纹信息与用户的个人习惯、使用环境有关，综合用户其他信息（如 IP 地址等），可以有效辨别用户特征，因此称为浏览器指纹。进行反作弊工作时，经常需要用到这些指纹信息。</p><h3 id="App统计逻辑"><a href="#App统计逻辑" class="headerlink" title="App统计逻辑"></a>App统计逻辑</h3><p>流程 1：App 应用客户端向 App 应用服务端发起请求。<br>流程 2：App 应用服务端响应请求并返回应用信息。<br>流程 3：App 应用客户端调用统计 SDK 并初始化，同时通过 API 接口（OC/Java）写入版本、渠道等信息，并进行数据埋点。<br>流程 4：收集应用运行信息，包括访问者唯一标识、访问时间、应用版本号、运营商、联网方式、操作系统等。移动端访问者唯一标识通常是 IMEI 号、Android-ID 或 IDFA 等。<br>流程 5：在 App 启动/关闭或收集的信息数量达到某一上限时，传送信息给后端。<br>流程 6：后端脚本解析并发送流程 5 得到的数据包，写入日志 Logo 队列。<br>流程 7：日志信息发送至实时统计服务，实时统计后数据进入实时数据库。<br>流程 8：从实时数据库调用数据进行离线分析，并进入离线数据库。<br>流程 9：查询数据库，并进行可视化数据报表呈现。<br>具体流程如下图所示。</p><p><img data-src="/programmatic-advertising/programmatic-advertising-%EF%BC%92%EF%BC%92.png"></p><h2 id="七、广告验证"><a href="#七、广告验证" class="headerlink" title="七、广告验证"></a>七、广告验证</h2><h3 id="反作弊"><a href="#反作弊" class="headerlink" title="反作弊"></a>反作弊</h3><ol start="2"><li><p>作弊方式<br>大多数情况下，需求方都把焦点放在了非人类流量上，然而作弊远远不止那些机器人流量。下面简单列举几种常见的作弊方式。<br>假用户 ：一般是利用机器人，不断地变换 IP、cookie 甚至设备 ID 等来伪装成不同的“用户”去刷广告页面或点击广告。<br>真用户假流量 ：利用真实的用户设备，使得作弊流量的用户属性特征更接近真实流量。常见手段有：广告堆叠（同一广告位堆叠多个广告，只有顶层广告可被用户看到）、归因作弊、广告容器设置为 1×1 像素、利用插件植入不可见的广告位置（将广告放在页面顶部上面，即用户无法滚动看到的区域）、“肉鸡”刷广告、雇佣“枪手”刷广告等。归因作弊一般出现在移动端广告投放中，作弊平台只需要向广告主的点击服务发送用户的设备号 ID 即可，该用户一旦产生激活注册行为，这部分转化用户就直接成为作弊平台的功劳了。正常来说，该转化属于 B 平台，但是由于 C 平台的归因作弊出现在用户激活注册之前，因此转化归于 C 作弊平台（如下图）。<br>真用户真流量 ：这类作弊相较于前两种作弊方式而言更逼真。表现一就是“挂羊头卖狗肉”，用劣质流量滥竽充数卖高价；表现二是通过 http 或者 DNS 进行流量劫持，不完全算是作弊流量，称之为“非法流量”可能更准确。</p></li><li><p>常见的作弊现象<br>（1）可离线解决的作弊如下。<br>① 一个 cookie 对应超过 N 个 IP 或设备 ID。<br>② 一个设备 ID 对应 N 个以上 IP 或 userAgent。<br>③ 点击的 refererurl 包含 display_ad.php。<br>④ 有点击无曝光的 IP。<br>⑤ 点击率异常的 IP 和设备 ID（如：移动端大于 10% 或 PC 端大于 6% 且点击量大于 30）。<br>⑥ 广告位的曝光或点击集中在少量 IP、cookie 或者设备 ID，可能是作弊广告位。<br>⑦ 页面停留时间大于平均水平。<br>⑧ PC 端平均窗口大小指标小于 70 万像素或大于 110 万像素，或移动端 PC 端平均窗口大小指标小于 1 万像素或大于 50 万像素。<br>（2）可实时解决的作弊如下。<br>① 某个 cookie 在 N 分钟内使用的 IP 超过 N 个。<br>② 某个 cookie 在 N 分钟内点击超过 N 次。<br>③ 所有 userAgent 出现 java、python 关键字直接拉黑。</p></li><li><p>反作弊方法<br>（1）用户标识<br>一般是根据 IP、cookie（或设备 ID）作为分辨用户的依据，统计某些用户是否存在高频次或高频率的曝光或点击。有些媒体会通过机器人来变换 IP、干扰视线，这种情况下就必须综合考虑浏览器指纹等信息来识别作弊流量。比如：当 IP 或者 cookie 都不一样，但是这群 IP 或者 cookie 的浏览器型号、分辨率、用户窗口大小、操作系统版本号、设备品牌都相同时，就需要引起特别注意。<br>（2）用户行为<br>① 广告浏览/点击<br>对用户的广告浏览频次/频率和点击的频次/频率进行分析。常见的作弊行为模式包括以下几种。<br>a.同一用户、同一时间在多个广告位产生了浏览或点击行为，或短时间内在同一广告位产生多次曝光或点击。<br>b.同一用户的广告浏览或点击时间间隔过于规律。<br>c.曝光数和点击数在某个时间点暴涨。<br>d.用户未浏览广告就直接产生了点击行为，通常表现为出现大量无曝光的点击。<br>e.用户浏览广告的面积和时长数据异常，可用广告可见度（Viewability）衡量和分析。<br>f.用户点击广告的位置过于规律或过于集中，一般用广告位热图来观察分析。<br>g.用户行为的各环节（浏览广告→点击广告→到站→转化）遵循严谨的时间先后顺序，如果点击广告的时间早于浏览广告的时间，或浏览和点击行为之间的时间间隔异常，一般可以判断为作弊。<br>② 到站情况<br>综合考量用户留存、停留时间，访问深度等指标，用于分析转化用户的质量。同时，还得关注用户的站内交互情况（点击、滚动、输入等操作）。和广告点击作弊一样，为了制造用户活跃的假象，作弊的媒体供应方可能会利用机器产生大量页面点击，同样地，我们可以利用点击的区域、次数、频率、页面窗口大小等指标去伪存真。<br>（3）广告来源<br>对到站流量进行来源页面（一般叫 refer）的侦查。将 refer 数据与投放媒体进行匹配，如果出现以下情况，则可以判定为作弊流量。<br>① 出现大量无 refer 的广告流量：一般是通过非法手段直接刷广告点击代码，而不是通过媒体页面上的广告点击跳转。<br>② refer 与所投放的媒体不对应，例如要求投向 A 网站，refer 却出现大量 B 网站。</p></li></ol><h3 id="品牌安全"><a href="#品牌安全" class="headerlink" title="品牌安全"></a>品牌安全</h3><p>由于品牌广告宣传的是品牌的美誉度，因此对投放环境的要求非常高。比如品牌广告不允许出现在色情网站、敏感时事新闻等媒体上，否则用户可能会对此品牌产生负面印象。<br>通常会有专门的品牌安全供应商（也就是我们前面提到的广告验证平台）提供品牌安全（Brand Safety）保障服务。广告主通过广告验证平台设置敏感或非法的关键词/页面的黑名单，投放时过滤此黑名单的流量。<br>DSP 平台需要提前对接好这些广告验证平台，用于支持品牌广告的投放，此对接分为 Pre-bid 和 Post-bid，可以理解为竞价前和竞价后的品牌安全。<br>Pre-bid ：DSP 平台在出价前会先询问广告验证平台，根据此流量是否符合广告主设置的条件来决定是否出价，将效果差和内容敏感的流量排除在外，而不产生流量费用。<br>Post-bid ：DSP 平台在竞价成功后询问广告验证平台，广告验证平台根据广告主设置的条件返回结果。如果流量符合条件，则展示广告主广告；反之，则用空白或者其他图片代替。由于是在竞价成功后才进行流量的判断，因此，不管流量是否符合条件，广告主都需要为此流量付费。</p><h3 id="可见度测量"><a href="#可见度测量" class="headerlink" title="可见度测量"></a>可见度测量</h3><p>可见度是通过 JS 代码来检验当前页面的位置以及可视面积的。MMA 的广告可见性验证标准还对验证时间间隔进行了要求：在验证展示类广告时，最低 100 毫秒一次；验证视频广告时，最低每 200 毫秒一次。<br>在 App 环境里，由于广告位是基于 webview（网络视图，能够在移动应用程序中显示 HTML 文档，可以将其视为浏览器）的，整个广告位可以当成是一个完整的页面，即可视面积是 100%，因此移动端的 Viewability 并不是非常准确。</p><h1 id="第七章-系统实例"><a href="#第七章-系统实例" class="headerlink" title="第七章 系统实例"></a>第七章 系统实例</h1><h2 id="一、DSP系统实例"><a href="#一、DSP系统实例" class="headerlink" title="一、DSP系统实例"></a>一、DSP系统实例</h2><p>计划一般用来设置品牌广告主的订单合同信息，如合同总预算、总频次控制、地域控制、品牌安全设置等。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="运营" scheme="https://qianling.pw/categories/%E8%BF%90%E8%90%A5/"/>
    
    
    <category term="运营" scheme="https://qianling.pw/tags/%E8%BF%90%E8%90%A5/"/>
    
    <category term="电子商务" scheme="https://qianling.pw/tags/%E7%94%B5%E5%AD%90%E5%95%86%E5%8A%A1/"/>
    
    <category term="电商运营" scheme="https://qianling.pw/tags/%E7%94%B5%E5%95%86%E8%BF%90%E8%90%A5/"/>
    
    <category term="广告" scheme="https://qianling.pw/tags/%E5%B9%BF%E5%91%8A/"/>
    
  </entry>
  
  <entry>
    <title>《计算广告》书摘</title>
    <link href="https://qianling.pw/computational-advertising/"/>
    <id>https://qianling.pw/computational-advertising/</id>
    <published>2023-11-01T03:25:12.000Z</published>
    <updated>2023-11-28T03:07:51.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/250.webp"></p><span id="more"></span><hr><p><strong><center>计算广告 ：互联网商业变现的市场与技术 / 刘鹏，王超著. -- 3版. -- 北京：人民邮电出版社，2022.8<br>ISBN 978-7-115-59255-2 </center></strong></p><hr><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>在能够获得充分的流量或高价值的数据后，我们认为，所有能够传播信息的商品，其售价都会趋向其边际成本。这样的观点对许多传统行业商业模式的影响是深远的，也是我们认为大家应该在互联网时代深入了解广告、了解变现产品的原因。本书的核心目的，是让读者在清晰地了解互联网广告全貌的基础上，在遇到与后向变现相关的产品问题时，能够以合理的思维逻辑和背景知识来应对。对其中最重要的几类问题，我们来看看下面几个具体的例子。<br>（1）商业模式探索。例如，电影是一种边际成本很低、信息传播量又很大的典型商品。那么现在电影的票价为什么这么高？能否探索一种售价很低，而充分利用其信息传播能力的电影行业发行模式，获得更高的经济效益和社会效益？<br>（2）流量变现。例如，互联网电视厂商除了硬件销售的回报以外，还可以获得一部分用户流量。这些流量的性质和价值如何，应该以什么样的方式变现？<br>（3）数据变现。例如，室内导航技术是近年来快速发展的新型互联网应用，如果以向用户免费的方式运营室内导航产品，会得到什么有价值的数据资产，从而支撑相应的后向变现，又应该采用哪种具体的商业产品来支撑？<br>（4）商业产品建设和运营。例如，团购、游戏联运、返利购买、积分墙这些推广模式与一般的展示广告或搜索广告有什么内在联系？是否可以共用某些产品和技术平台？</p><p>在互联网广告中，服务于中小商家、以直接销售为目的的广告取代品牌广告成为主流，这也创造了全新的巨大市场：其次，它的关键不再是创意、策略等人工服务，而是以数据支撑的流量规模化交易为典型特点。也就是说，机器和算法取代了人员与服务，成为在线广告最鲜明的特色。可以说，互联网广告的灵魂就在于数据与计算，因此，也就产生了“计算广告”这个名词，以及其背后复杂的产品与技术。</p><h1 id="第一部分-在线广告市场与背景"><a href="#第一部分-在线广告市场与背景" class="headerlink" title="第一部分 在线广告市场与背景"></a>第一部分 在线广告市场与背景</h1><h2 id="第1章-在线广告综述"><a href="#第1章-在线广告综述" class="headerlink" title="第1章 在线广告综述"></a>第1章 在线广告综述</h2><h3 id="1-1-免费模式与互联网核心资产"><a href="#1-1-免费模式与互联网核心资产" class="headerlink" title="1.1 免费模式与互联网核心资产"></a>1.1 免费模式与互联网核心资产</h3><p>互联网免费模式的本质是将那些能够规模化、个性化传播信息的商品，以边际成本的价格出售。<br>网站等软件产品多服务一个用户的边际成本很小，因此这些产品都不收费，这是狭义的免费，而手机等硬件产品，边际成本即是量产成本，因此以毛利为零左右的价格出售，这是广义的免费。当然，这些产品的共同特点是能够传播信息，并且能够对不同用户个性化地传播信息，而像矿泉水、充电器这类无法传播信息的商品，是无法被互联网的免费模式改造的。<br>既然产品本身没有利润，这些产品的开发者的利润从哪里来呢？其实，这类免费产品在传播信息的过程中，获得了 3 项可变现的核心资产，这就是流量、数据和影响力。<br>（1）流量。流量的价值是，有人使用你的产品，你便可以在产品本身的功能之外夹带一些付费内容（sponsored content），或者称为广告，这样就把流量变成了收入。<br>（2）数据。有人在使用你的产品的过程中留下了一些行为和属性，比如搜过某个关键词，浏览过某个商品，填写过自己的性别，这些都是数据。根据这些数据，你可以更好地了解该用户的属性、偏好等信息。基于这些信息，可以调整投放付费内容的策略以提高效率。<br>（3）影响力。影响力指的是你的产品或内容获得了高于普通水准的关注与信任。当然，你投放的付费内容也就同时获得了更好的关注效果，而这些对于提高转化率同样是至关重要的（参见 2.1 节）。因此，具备影响力的产品或内容在投放广告时可以获得品牌溢价。<br>值得指出的是，近年来迅速崛起的大量网红和自媒体，实际上主要靠影响力而非流量和数据变现。如果将从公众号软文（影响力变现）标价与文末展示广告（流量和数据变现）收入进行对比，前者的价格往往是后者的数十倍。现有的在线广告体系并不能很好地处理这种以影响力为主要资产的媒体变现，这也是未来一个有趣的探索方向。<br>将这 3 项资产通过商业产品的形式转变成收入的过程，即商业化（monetization）过程，与用户使用免费产品的过程是分离的，因此称为后向变现。从上面的介绍可以看出，无论是数据变现还是影响力变现，都是建立在流量变现的基础上的，而这样的体系也就是计算广告技术所支撑的、现代的商业化产品体系。</p><h3 id="1-2-大数据与广告的关系"><a href="#1-2-大数据与广告的关系" class="headerlink" title="1.2 大数据与广告的关系"></a>1.2 大数据与广告的关系</h3><p>自从互联网公司开始挖掘海量用户行为数据中的价值，大数据这一概念就进入实践阶段了。它在工业界最显著的特点是区别于以往数据处理系统的低成本、分布式计算架构。从数据来源、处理方式和应用方向这 3 个角度来看，大数据问题都有鲜明的特点。<br>（1）行为数据。传统的数据处理任务往往面对的是交易数据。所谓交易数据指的是商业活动中必须记录的数据，如电信运营商的话费充值、通话记录，银行的存取款、利息等。交易数据处理的规模往往并不太大，但是对一致性和实时性的要求非常高，IOE（IBM、Oracle 和EMC）的计算架构为交易数据处理提供了成熟的方案。与此相对，商业活动中产生的非必须记录的数据，就是行为数据。电信运营商采集到的用户位置、银行的窗口排队以及网站的用户访问日志等，都属于行为数据。与交易数据相比，行为数据的加工有两个特点，首先是规模巨大，其次是对一致性的要求要低得多，例如，网站的日志丢失千分之一，往往并不是什么严重事故。由于这两个特点，传统的 IOE 架构并不合适，这些是大数据架构产生的原动力。<br>（2）全量加工。如果数据规模很大，并且问题无法通过采样来降低处理的复杂程度，那就必须利用一些专门为海量数据处理而设计的计算和存储技术（如 MapReduce、NoSQL 数据库等）来实现。如图 1-1 所示，我们考察某数据处理过程的目标函数，就有可能存在如下两类有代表性的情形。</p><p>使用数据的应用有两种类型。一种是洞察（insight）应用，即对数据进行统计分析后得到整体的结果报表，再由决策者根据结果进行决策。洞察应用传统典型的例子是企业的财务报表，而商业智能（Business Intelligence, BI）也属于洞察应用。另外一种是自动化（automation）应用，即将数据处理的结果直接送给对业务进行自动决策的引擎。计算广告正是典型的自动化应用，从用户行为数据收集，到受众定向，再到线上根据用户标签的自动决策，整个过程都是自动进行的，人的作用只是建立流程和调整策略。电商的自动进货系统，也是一种大数据的自动化应用。<br>洞察应用由于业务决策过程中有人的参与环节，因此报表的数据规模不能太大，这会带来一定的信息量损失。另外，对洞察报表的解读和决策，实际上需要相当专业的训练，这一点读者想想财务报表的例子就可以明白。而自动化应用由于是由机器进行决策的，数据可以在个体粒度上进行处理，这使得数据能够发挥更大的效果。因此，我们认为，相对于传统的洞察应用，自动化应用才是真正发挥大数据优势的应用形态。</p><p>由于存在商业上的限制条件，计算广告产品和技术比推荐系统更加复杂。</p><h3 id="1-3-广告的定义与目的"><a href="#1-3-广告的定义与目的" class="headerlink" title="1.3 广告的定义与目的"></a>1.3 广告的定义与目的</h3><p>出资人、媒体和受众这三者的利益博弈关系是广告活动的主线，这一主线将贯穿于商业和产品形态的整个演化过程。</p><p>在传统媒体时代，供给方与需求方在市场地位上有相当的距离，不论是电视台、机场还是杂志，都与大多数广告主需要的转化行为之间有相当大的差距。因此，传统广告的目的主要是借助媒体的力量来快速接触大量用户，以达到宣传品牌形象，提升中长期购买率与利润空间的目的。我们称这种目的的广告为品牌广告（brand awareness）。当然，也有许多广告商希望能利用广告手段马上带来大量的购买或其他转化行为，我们称这种目的的广告为直接效果广告（direct response），有时简称为效果广告。<br>传统媒体投送和优化效果广告的能力显然是缺乏的。这是因为，对短期效果的追求要求广告精准地送达目标人群，而这在传统媒体上缺乏有效的技术手段。我们能够想起的以效果为目的的传统广告，恐怕只有在写字楼下散发的快餐传单，这被称为直接营销(Direct Marketing,DM)。而数字媒体的出现使效果广告空前蓬勃地发展起来，这主要有两方面的原因：一是数字媒体的特点可以让我们低成本地投送个性化广告，这本质上是在变现流量；二是一些在线服务，如搜索、电子商务，由于可以更清楚地了解用户的意图，也就使广告效果的优化更加容易，这本质上是在变现数据。<br>在线广告兼有品牌和效果两方面的功能。不过，互联网广告行业的高速发展主要是因为效果广告市场带来的巨大红利。从 2007 年到 2015 年，网络广告的市场规模发展迅猛，目前已经全面超越了电视广告，在中国甚至占据了整个广告市场的一多半份额；与此同时，传统广告渠道则增长乏力或快速下降。对比来看，在线广告的迅猛成长并没有导致电视广告市场的显著萎缩。这是因为网络广告的主要场景仍然集中在搜索引擎营销、移动应用下载、电商再营销等直接效果广告上，而这部分相对于电视广告更多的是增量而非替代。另外，报纸广告快速下降，这首先是因为报纸占据的用户时间大幅被互联网抢走，其次是因为报纸上部分分类信息广告与互联网效果类广告重叠较大。目前，随着数字媒体越来越多地占据了人们的时间，以及在线视频等冲击力更强的媒体越来越普及，在线广告也必将在品牌广告方面有更大的空间。</p><p>广告的根本目的是广告主通过媒体达到低成本的用户接触。<br>也就是说，按某种市场意图接触相应的人群，进而影响其中的潜在用户，使他们选择某产品的概率增加，或者对产品性价比的求程度降低，这才是广告的根本目的。至于短期内的转化效果，由于市场意图或媒体性质的不同，并不是直接可比的。换句话说，如果仅仅以转化效果为目的来思考问题，可能会背离投放广告的正确方法论。举个例子，某感冒药广告商如果以短期效果为导向，那么最佳的策略是把广告投放给那些现在已经感冒的人，不过这显然是一个荒谬的决策；再比如，某汽车广告商为了提升自己的品牌形象，希望对自己竞品品牌的用户加强宣传，而对于这部分人群，广告的直接效果甚至有可能比随机投放还要差。认清这一概念，有助于在遇到多种广告渠道的效果比较时，避免得出偏颇的结论。<br>广告活动的总投入容易确定，但总产出却不一定明确且可衡量，特别是在投放以中长期收益为目标的品牌广告时。因此，绝对的 ROI 有时难以计算，不过通过各个渠道之间的对比，我们仍然可以评估广告的成本是否令人满意。<br>在互联网环境中，广告的本质虽然没有变化，但是由于大量直接效果需求的产生，其表现形式越来越丰富和灵活。不论是与线下类似的横幅、搜索竞价排名，还是软文，甚至是表面上与广告并不相干的游戏联运，其本质都是付费的信息推广，从产品的角度来看都可以归在广告的范畴下。因此，对于互联网广告，我们有如下认识：<br>一切付费的信息、产品或服务的传播渠道，都是广告。</p><h3 id="1-4-在线广告表现形式"><a href="#1-4-在线广告表现形式" class="headerlink" title="1.4 在线广告表现形式"></a>1.4 在线广告表现形式</h3><p>（1）横幅广告（bannerad）：它是嵌入在页面中的图片，往往需要占据固定大小的版面。目前，横幅广告大多数也都不再是静止的图片，而是由 Flash 或 HTML5 等方式实现的动态素材。</p><p><img data-src="/computational-advertising/computational-advertising-1.png" alt="图1-2　横幅广告示例"></p><p>（2）文字链广告（。textual ad）：一段链接到广告主落地页的文字，是搜索广告的主流形式。</p><p><img data-src="/computational-advertising/computational-advertising-2.png" alt="图1-3　文字链广告示例"></p><p>（3）富媒体广告（rich media ad）。这类广告利用视觉冲击力较强的表现形式，向用户侵入式地投送广告素材。富媒体广告常见的形式有弹窗、对联、全屏等。它比较适合在高质量的媒体做品牌性质较强的广告投放，但是对用户的使用体验往往影响也较大。</p><p><img data-src="/computational-advertising/computational-advertising-3.png" alt="图1-4　富媒体广告示例"></p><p>（4）视频广告（video ad）。视频广告指的是广告的创意由静态素材变成了一段视频，其信息的传播量和冲击力都得以大大提高。有关视频广告的效果评价，除了点击率等，还可以采用用户观看时长等更接近用户印象的指标。<br>视频广告有几种主要的形式。</p><ul><li>在视频内容播放之前的前插片广告。根据插入位置的不同，视频广告又可以分为前插片、后插片、暂停等类型。图 1-5 给出了视频广告的示例。视频广告由于载体的独特性质，其效果和广告创意会比较类似于线下的电视广告。这种广告一般采用短视频的形式，创意的表现力要远远强于普通的展示广告，因此价格往往也比较高。</li><li>在信息流中插入的视频广告。在 Wi-Fi 场景下往往自动播放，其效果远优于普通的信息流展示广告。</li><li>手机游戏中的激励视频广告。它主要是利用游戏中的积分奖励，刺激用户主动观看视频广告，这种广告往往观看率较高，广告效果也较好。</li></ul><p><img data-src="/computational-advertising/computational-advertising-4.png" alt="图1-5　视频广告示例：前插片广告（左），暂停广告（右）"></p><p>（5）交互式广告（playablead）。视频广告承载了更多的创意信息，因此会带来较好的推广效果。于是，在移动场景下，业界开始探索让用户直接在创意上完成交互，体验被推广产品的交互式方案。在移动应用和游戏推广中，交互式创意可以让用户不用下载 App 就可以体验其内容，有时可以带来更高的转化率，但同时对媒体也有用户注意力上的损失。交互式创意有两种</p><p><img data-src="/computational-advertising/computational-advertising-5.png" alt="图1-6　交互式广告示例"></p><p>（6）社交广告（socialad）。社交网络的兴起给广告传播的渠道和能力都赋予了新的空间。在社交网络中嵌入的广告，可以统称为社交广告。社交广告中最典型的形式是插入在信息流中的广告，这种方式最早见于 Twitter 的“PromotedTweets”产品。它力求在用户的交互过程中尽可能自然地插入广告，被归于原生广告的范畴中。“社交广告”与“社交网络中的广告”是两个不同的概念，例如，在社交网络页面上竞价售卖的文字链或横幅广告，其本质与普通网站上的展示广告并无太大区别。社交广告希望达到的效果是通过用户的扩散式传播获得更大的影响力，从这个意义上讲，在信息流的交互中挖掘价值前景光明。图 1-7 给出了社交网络信息流广告的一个示例。</p><p><img data-src="/computational-advertising/computational-advertising-6.png" alt="图1-7　社交网络信息流广告"></p><p>（7）移动广告（mobile ad）。</p><p>（8）邮件营销广告(Email Direct Marketing,EDM)。<br>这是通过电子邮件向用户推广信息的一种营销手段。与上面各种广告形式都不同，EDM 是一种主动营销方式，可以随时向合适的用户发送信息。不过也正因为如此，EDM 非常容易变成垃圾邮件的主要来源。对 EDM 的运营者而言，精准地把握用户兴趣，非常有节制地向用户提供相关信息非常关键。比起展示广告，EDM 中受众定向的利用更加直接，也更为重要。另外，通过短信、iMessage 等方式投放的广告，与邮件营销广告也非常相似。</p><p>（9）激励广告（incentivead）。直接激励用户产生转化以提高效果，这类广告称为激励广告。激励广告的典型代表之一是移动上常用的积分墙模式，如图1-10所示。</p><p><img data-src="/computational-advertising/computational-advertising-7.png" alt="图1-10　积分墙广告示例"></p><p>返利购买是电商行业常见的一种推广模式，它采用折扣或积分激励用户购买，也属于激励广告的一种。显然，这种方式可以获得任意高的投资回报率(ROI),但是也会带来一些老用户转由返利网下单。<br>除了积分墙、返利，激励广告，还有内容锁、锁屏等多种形式。特别需要注意的是，天下没有免费的午餐，激励广告虽然能显著提高转化效率，但是由于用户对产品的真实需求并不强，因此后续效果会大打折扣，特别是在获取新客方面的价值比较差。因此，激励广告的价格一般会显著低于非激励广告。</p><p>（10）团购。团购本质上是一种按照效果付费的泛广告产品，其本质也是一种激励性广告。团购推广的主要广告主是一些本地化的店铺，主要目的是为了获得新客。对团购平台来说，团购商品的排序与广告是一样的问题。传统的团购销售很少采用竞价的方式，而多是预先约定价格，不过目前各团购网站也在采用竞价的方式直接售卖。另外，团购的广告库中是付费信息而非创意，这有利于发展原生广告的推广方式，具体讲解参见第 9 章。</p><p>（11）游戏联运。游戏联运是根据用户的最终游戏内消费在推广渠道和游戏开发商之间分成的商业产品，这仍然是一种按效果付费的泛广告产品。在页游和手游的推广中，联运是一种非常常见的发行模式，读者在各种产品中看到的图 1-12 所示的游戏下载专区，其背后的商业模式往往都是联运。实际上，在中国的各大 Android 应用市场中，游戏联运的收入远远超过其他类型广告的收入。不同的联运渠道分成比例可能相差很大，在 Apple Store 这样典型的国外市场中，渠道的分成比例一般为 30%，但是在中国，有些强势的联运渠道分成比例甚至可以达到 90% 以上。游戏联运完全可以按照广告产品思路来设计和运营。</p><p><img data-src="/computational-advertising/computational-advertising-8.png" alt="图1-12　游戏联运产品示例"></p><p>（12）固定位导航。这主要包括网址导航站的位置入口（如图 1-13 所示）、应用分发平台的推荐位置等付费推广位置。一般来说，这种产品的销售都采用按时间付费的模式，而不是动态的竞价模式。这是因为广告主除了引流以外，往往更加关注这些入口位置的橱窗效应。这种广告的销售和运营模式与按天购买的合约广告相同。</p><p><img data-src="/computational-advertising/computational-advertising-9.png" alt="图1-13　网址导航产品示例"></p><h3 id="1-5-在线广告简史"><a href="#1-5-在线广告简史" class="headerlink" title="1.5 在线广告简史"></a>1.5 在线广告简史</h3><p>合约广告（agreement-based advertising），即采用合同的方式约定某一广告位在某一时间段为特定广告主所独占，并且根据双方的要求，制定广告创意和投放策略。如图 1-14 中左半部分所示，例如，这样一个广告位一天的售卖价格是 10000 元。显然，这样的采买模式并没有用到数字媒体可以对不同用户投放不同内容的个性化特征。</p><p><img data-src="/computational-advertising/computational-advertising-15.png" alt="图1-14　流量与数据变现示意"></p><p>互联网广告运营者经过探索，很快就发现了数字媒体不同于传统媒体的本质特点：可以对不同的受众呈现不同的广告创意。在今天看来再平常不过的这个观念，实际上是在线广告效果和规模不断发展的核心驱动力。认识到这一点，媒体找到了一条能使广告位报价继续提高的思路。如图 1-14 所示的情形，由于剃须刀广告只需要男性受众，我们将该广告位的男性用户流量分配给它，价格变成 6 000 元，而对女性受众展示某化妆品广告，价格也是 6000 元。这样的广告投放方式，称为定向广告（targeted advertising）。对广告主来说，用更低的成本获得了与原来通投广告位一样的有效受众，而对媒体来说，总收入变成了 12000 元，多出来的 2 000 元，就是数据（这里为每一个用户的性别数据）变现的价值。请读者注意：<br>在广告业务中，数据变现是附着在流量变现的基础上的。</p><p>定向广告系统对计算技术提出了两个需求：一是受众定向（audience targeting），即通过技术手段标定某个用户的性别、年龄或其他标签；二是广告投放（ad serving），即将广告投送由直接嵌入页面变为实时响应前端请求，并动态决策和返回合适的广告创意。由于是从传统广告延伸而来，此时的定向广告仍然以合约的方式进行：媒体与广告主约定广告位、时间段和投放量，并在此基础上确定合同的总金额以及量未达标的情况下的赔偿方案。这种担保式投送（guaranteed delivery，GD）的交易方式，逐渐成为互联网合约式广告的主要模式。一般来说，这样的合约仍然主要面向品牌广告主，并且采用按千次展示付费（cost per mille，CPM）的计费模式。<br>担保式投送广告系统中有一个重要的计算问题，即保证满足各合约目标量的要求的同时，尽可能为广告主分配到效果更好的流量。这个问题有两个难点：一是如何有效地将流量分配到各个合约互相交叉的人群覆盖上；二是要在在线的环境下实时地完成每一次展示决策。这就是在线分配（online allocation）问题。如果将各合约的量看作约束条件，将广告效果看作目标函数，则可以利用带约束优化（constrained optimization）的数学框架来解决。<br>展示广告领域定向投放的最初动机，是媒体为了拆分流量以获得更高的营收。但是如果提供非常精细的定向，反而会造成售卖率的下降，因此，最初的定向标签往往是人口属性等粒度较粗的标签。不过，精细受众定向显然更符合需求方的口味和利益——不要忘了，广告市场的钱全部是来自需求方的，他们的利益被满足得越好，市场的规模就会越大。因此，受众定向产生以后，有两方面的发展趋势：一是定向标签变得越来越精准，例如具体某件商品的购物兴趣；二是广告主的数量不断膨胀。在这些趋势下，按照合约方式售卖广告遇到了越来越多的麻烦：首先，很难对这些细粒度标签组合的流量做准确预估；其次，当一次展示同时满足多个合约的时候，仅按照在线分配策略决策，有可能浪费了部分本可以卖得更贵的流量。既然量的约束带来了这些麻烦，有没有可能抛弃它呢？这样的思路催生了计算广告历史上革命性的产品模式——竞价广告（auction-based advertising）。在竞价模式下，供给方只向广告主保证质即单位流量的成本，但不再给出量的保证。对于每一次展示，则按照收益最高这样的简单原则来决策。</p><p>付费搜索显然也是一种定向广告，即根据用户即时兴趣定向投送的广告，而即时兴趣的标签就是关键词。<br>除了变现搜索流量本身，搜索引擎也开始考虑将关键词竞价的方式推广到其他媒体上：如果将用户的搜索词换成正在页面中的关键词，可以将此产品从搜索结果页照搬到媒体页面上，这就产生了上下文广告（contextual advertising）。</p><p>从宏观市场上看，竞价广告与合约广告有很大的不同。没有了合约的保证，大量的广告主处在一个多方博弈的环境中。与直觉不同的是，在如何向广告主收取每次竞价费用这一点上，并不是按照微观上最优的方案实施就可以达到整个市场最大的收益。关于定价机制的深入研究，产生了广义第二高价（generalized second price，GSP）这一竞价重要的理论。<br>基于竞价和精准人群定向这两个核心功能，产生了广告网络（ad network，ADN）这种新的产品形式。它批量地运营媒体的广告位，按照人群或上下文标签售卖给需求方，并用竞价的方式分配流量。广告网络的计费模式以按点击计费（cost per click，CPC）模式为主，这里有数据和业务等方面的原因，我们将在 2.3.2 节中具体探讨。这种产品的千次展示收益（revenue per mille，RPM）一般来说达不到合约广告的水平，但它使大量媒体的剩余流量（remnant inventory），即没有能力通过合约售卖的流量，有了可行的变现手段：这些媒体可以直接把自己的库存（inventory）托管给 ADN，借助 ADN 的销售和代理团队让自己的流量变现。<br>搜索广告、广告网络只有出价接口，是否意味着广告主不再需要量的保证呢？实践中，往往还会由需求方产品来保量。竞价广告产生以后，流量采买形式发生了变化：一是更多地面向受众而非广告位进行采买；二是越来越需要技术手段保证广告主量的要求，并在此基础上优化效果。这又是一个与在线分配类似的带约束优化问题。但是实际上，这个问题有很大不同：因为只能在供给方定义好的标签组合上指定出价，而不能控制每一次展示的出价，市场看起来更像一个黑盒子，所以需求方只能靠选择合适的标签组合，以及阶段性调整出价来间接控制效果。这种面向多个 ADN 或媒体按人群一站式采买广告，并进行量和质优化的需求方产品，称为交易终端（trading desk，TD）。<br>广告网络的竞价过程是内部进行的，这无法满足广告主定制化的人群选择和优化要求。设想下面的两种情形。<br>（1）某电商网站准备通过广告召回它的流失用户。<br>（2）某银行准备通过已有的信用卡用户找到相似的潜在用户群，并通过广告触达他们。<br>显然，这些人群仅靠广告平台自己的数据无法得到。这样的需求催生了一种开放的竞价逻辑，让需求方按自己的人群定义来挑选流量，这就是实时竞价（real time bidding，RTB），它将竞价过程由广告主预先出价，变成每次展示时实时出价。只要把广告展示的上下文页面 URL，以及访客的用户标识等信息传给需求方，它就能进行完成定制化的人群选择和出价。于是，市场上产生了聚合各媒体流量，采用实时竞价方式进行变现的新产品形态——广告交易平台（ad exchange，ADX）。这个名称让我们很容易联想起股票交易所。事实上，如果我们把 ADN 的交易方式想象成场外交易市场（over-the-counter market），那么 ADX 与股票交易所确实有着类似的作用。<br>通过实时竞价，按照定制化人群标签采买广告，这样的产品就是需求方平台（demand side platform，DSP）。由于实时竞价一般采用按展示次数计费的方式（原因 7.3 节中会具体讨论），DSP 需要尽可能准确地估计每一次展示的期望价值。在这一点上，DSP 比 TD 要方便多了，因为充分的环境信息使得深入的计算和估计成为可能。基于 DSP 的广告采买，非常类似于股票市场上的程序交易，我们把这样的广告采买方式也叫作程序化交易（programmatic trade）。除了 RTB 以外，还有其他几种程序购买的交易方式，我们将在 7.2 节中具体介绍。总体而言，在线广告中程序化交易的地位将会不断加强，这是由广告主利益最大化的趋势所决定的。</p><p>除了这条交易形态的主线，互联网广告产品还有另外一条发展线路，即产品展现逻辑上的发展：在展示广告的最初阶段，广告位被作为与内容相对独立的单元来决策和运营，并且完全以优化收入为目标；同时，人们从搜索广告和社交网络信息流广告中得到了启发——将内容与广告对立起来，未必是一个好的选择，前面这两种广告产品，正是由于与内容的展现和触发逻辑有着高度的一致性，才使得它们的效果很突出。沿着这样的思路，将内容与广告以某种方式统一决策或展示的产品形式——原生广告（native ad）在近年来得到了越来越多的关注。如何将原生的决策方式与已经比较成熟的广告交易相结合，是目前移动互联网广告发展的热点。有关这方面的问题，我们将在第9章中具体讨论。</p><h2 id="第2章-计算广告基础"><a href="#第2章-计算广告基础" class="headerlink" title="第2章 计算广告基础"></a>第2章 计算广告基础</h2><p>千次展示期望收入（expected cost per mille, eCPM）是计算广告中最为核心的量化指标之一。eCPM 又可以分解为点击率和点击价值的乘积。</p><h3 id="2-1-广告有效性原理"><a href="#2-1-广告有效性原理" class="headerlink" title="2.1 广告有效性原理"></a>2.1 广告有效性原理</h3><p>用一个三段式信息传播模型来解剖广告由物理上产生到最终产生转化行为的全过程，广告转化的有效性模型如图 2-1 所示。<br><img data-src="/computational-advertising/computational-advertising-10.png" alt="图2-1　广告效果产生过程示意"><br>如图 2-1 所示，广告的信息接收过程分为 3 个大阶段，即选择（selection）、解释（interpretation）与态度（attitude），或者进一步分解为 6 个子阶段，即曝光（exposure）、关注（attention）、理解（comprehension）、接受（acceptence）、保持（retention）与决策（decision）。下面我们分别来讨论每个阶段的意义和关键点。<br>（1）曝光阶段。这一阶段指的是广告物理上展现出来的过程，其有效程度往往与广告位的物理属性有关，并没有太多可以通过技术优化的空间。实际的广告实践中，因为曝光的有效性对最终结果的影响往往远远高于其他技术性因素，所以才会有“位置为王”的说法。在互联网广告中，位置的影响有时会更加显著。因此，如何从算法上消除由此带来的点击率的偏差，是一个重要的实际问题。<br>（2）关注阶段。这一阶段指的是受众从物理上接触到广告，到意识上关注到它的过程。对广告而言，曝光并不一定意味着关注。<br>如何提高关注阶段的效率呢？首先，尽量不要打断用户的任务。这一点是上下文定向的原理基础，也是讨论原生广告产品的出发点之一，上面的例子也可以用这个原则来解释，当用户明确辨识出某个固定的广告位，并且不再认为它与当前网页的任务有关联时，他会下意识地屏蔽其内容；其次，明确传达向用户推送此广告的原因，这一点是受众定向广告创意优化的重要方向；最后，内容符合用户的兴趣或需求，这是行为定向的原理基础。<br>（3）理解阶段。用户关注到了广告的内容并不意味着他一定能理解广告传达的信息。举个例子，作者试玩了一款网页游戏，然后被某游戏广告定向到，并多次看到某宣传“四维城战新模式”的游戏广告。应该说这样的定向是精准的，我也认真地看了广告的内容，不过由于我不能直观理解这些内容，也就谈不上后续转化。<br>如何提高理解阶段的效率呢？首先，广告内容要在用户能理解的具体兴趣范围内，这说明真正精准的受众定向有多么必要；其次，要注意设定与关注程度相匹配的理解门槛。例如，在电视广告中，可以用有情节的短故事来宣传品牌；在路牌广告中，创意制作原则是将若干主要市场诉求都表达出来；而对于互联网广告，由于用户的关注程度非常低，我们应该集中强调一个主要诉求以吸引用户的注意力。<br>（4）接受阶段。受众理解了广告传达的信息，并不表示他认可这些信息。广告领域有一句名言：“我知道有一半的广告预算浪费了。”实际情况还有可能更糟，如果表达的信息不适当，甚至有可能有三分之一的广告展示起到负面效果！在使用幽默、性感这样非常规的广告手段时，要特别注意这一点。<br>广告的上下文环境对广告的接受程度有着很大的影响，同一个广告出现在某游戏社区上和门户网站首页上，用户会倾向于认为后者更具说服力，这也就是优质媒体的品牌价值。<br>（5）保持阶段。对于追求长期效果的品牌广告商，当然希望广告传达的信息给用户留下鲜明的记忆，以长时间影响他的选择。品牌广告商在创意设计上花了大量的精力提高这一阶段的效果。想想那些充满艺术性或浪漫气质的电视广告，就可以对此有直观的认识。<br>（6）决策阶段。成功广告的最终作用是带来用户的转化行为，虽然这一阶段已经离开了广告的业务范围，但好的广告还是能够为转化率的提高做好铺垫的。特别是对于电商或团购业务，在创意上强调哪些信息以打动那些价格敏感的消费者，是有相当学问的。</p><h3 id="2-2-互联网广告的技术特点"><a href="#2-2-互联网广告的技术特点" class="headerlink" title="2.2 互联网广告的技术特点"></a>2.2 互联网广告的技术特点</h3><p>在线广告刚刚产生的时候，大家对它最多的称道之处是它可以以展示和点击的形式直接记录和优化广告效果。不过，点击率这一指标从是否在绝对意义上能够反映广告效果是值得探讨的。从 1998 年到今天，横幅展示广告的平均点击率从 10% 一路降低到 0.1%，难道这说明广告的效果下降了两个数量级吗？快速增长的市场规模显然给出了否定的回答。我们认为，在不同的产品或时代中，点击率绝对值的比较并没有那么重要，而在一个特定时期不同广告和算法表现出来的差异，才是更有意义的。</p><p>根据功能的不同，媒体与转化行为的距离也不同。举个例子，对电商行业而言，门户网站、垂直网站、搜索引擎、电商网站、返利网，在转化链条上一个比一个更靠近购买行为。我们从直觉上就可以知道，越接近转化的媒体上的广告，其带来的流量就可以达到越高的 ROI，同时离“引导潜在用户”这样的广告目的也就越远。因此，在从需求方看在线广告时，应该注重各种性质媒体的配合关系，并从整合营销的角度去审视和优化整体效果。试想，如果一家电商只用返利网作为线上广告渠道，ROI 一定可以做到很高，可是这样的营销能给他带来大量潜在用户吗？</p><p>与工业革命时期机器化的根本驱动力——电力相类比，互联网化的根本驱动力可以认为是数据的深入加工和利用。<br>在线广告的计算技术，在很大程度上也要依赖于对于数据的大规模利用。广泛收集用户的行为数据和广告反馈数据，利用云计算对用户打上合适的标签，根据数据在多个广告竞争同一次展示时做出决策，再将投放的结果统计数据反馈给广告操作人员以调整投放策略，这已经成为在线广告的基本投放逻辑。</p><h3 id="2-3-计算广告的核心问题"><a href="#2-3-计算广告的核心问题" class="headerlink" title="2.3 计算广告的核心问题"></a>2.3 计算广告的核心问题</h3><p>计算广告的核心问题，是为一系列用户与上下文的组合找到最合适的广告投放策略以优化整体广告活动的利润。</p><h4 id="2-3-1-广告收入的分解"><a href="#2-3-1-广告收入的分解" class="headerlink" title="2.3.1 广告收入的分解"></a>2.3.1 广告收入的分解</h4><p>在一次广告展示产生后，有可能发生哪些后续行为呢？参见图2-3。当用户在媒体的广告位上看到广告以后，如果产生兴趣，首先产生的是点击行为，广告点击与广告展现的比率称为点击率（click through rate，CTR）；点击行为成功以后，将会打开广告主的落地页（landing page），落地页成功打开次数与点击次数的比例称为到达率，这是在广告主网站上发生的；如果用户从落地页开始，进一步完成下单等操作，则称为转化，转化次数与到达次数的比例称为转化率（conversion rate，CVR），这是在广告主网站上或线下发生的。</p><p>$eCPM = r(a, u, c) = \mu(a, u, c) \cdot \nu(a, u, c)　　（2.3）$</p><p>后文都将沿用这样的符号表示：µ 表示点击率，ν 表示点击价值（click value），即单次点击为广告主带来的收益。前者描述的是发生在媒体上的行为，后者描述的是广告主站内的行为。<br>在对多个候选排序时，是根据 eCPM 还是 CTR 排序，也是区别广告产品和用户产品的重要策略特征。进一步，如果我们将所有的点击价值都等同起来，那么根据 eCPM 排序和根据 CTR 排序实际上将得到一样的结果。因此，可以认为根据 CTR 排序是根据 eCPM 排序的一种特例，这也使得将内容与广告统一排序的原生广告成为可能。<br><img data-src="/computational-advertising/computational-advertising-11.png" alt="图2-3　在线广告产生效果的步骤"></p><p>eCPM 一般指的是估计的千次展示收益，它有两个很相近的概念：如果讨论的是千次展示收入，往往用 RPM；如果讨论的是千次展示成本，往往用 CPM。这 3 个术语有时在实用中的区别并不明显。<br>根据图 2-3 所示的流程，点击价值还可以进一步分解为到达率、转化率和客单价的乘积。</p><h4 id="2-3-2-市场上常用的计费模式"><a href="#2-3-2-市场上常用的计费模式" class="headerlink" title="2.3.2 市场上常用的计费模式"></a>2.3.2 市场上常用的计费模式</h4><p>（1）CPT（cost per time）计费模式。这是一种将某个广告位以独占式方式交给某广告主，并按独占的时间段收取费用的计费模式。严格来说，这是一种销售方式而非计费模式，因为价格是双方事先约定的，无须计量。这种计费模式主要适用于一些强曝光属性、有一定定制性的广告位。在一般的展示广告中，这种计费模式在欧美市场并非经常采用，但在中国的门户网站广告中，CPT 仍然是一种主流模式。CPT 这种独占式的售卖虽然有一些额外的品牌效果和橱窗效应产生，但是非常不利于受众定向和程序化交易的发展，因而长期看来比例会有下降的趋势。<br>（2）CPM（cost per mille）计费模式，即按千次（mille）展示计费，这里的“mille”是拉丁文“千次”的意思。这种计费模式是供给方与需求方约定好千次展示的计费标准，至于这些展示是否能带来相应的收益，由需求方来估计和控制其中的风险。对于品牌广告，由于目标是长期回报，很难通过短期数据反馈直接计算点击价值，而点击率也因为对于用户接触的核心要求变得不是唯一重要的因素。在这种情况下，由需求方根据其市场策略与预算控制流量单价并按 CPM 计费模式计费，是比较合理的交易模式。实际上，在大多数互联网品牌广告、特别是视频广告中，CPM 都是主流的计费模式。<br>（3）CPC（cost per click）计费模式，即按点击计费。这种计费模式最早产生于搜索广告，并很快为多数效果类广告普遍采用。在 CPC 计费模式下，点击率的估计是由供给方（或者中间市场）完成的。点击价值的估计则由需求方完成，并通过出价的方式向市场通知自己的估价。这样的分工对于以效果为目标的在线广告而言，有着清晰的合理性：供给方通过其用户行为数据，可以相对准确地估计点击率；而转化效果是广告主站内的行为，他们自己的数据分析体系也就能更准确地对其做出评估。因此，以 CPC 计费模式计费是效果类广告非常自然的合理方式。<br>当然需求方不会完全按照其点击价值来出价，而是会寻求更低的价格以获得套利空间。因此，如何在市场机制上避免广告主积极地调整出价，以促进市场竞争的激烈程度，是竞价体系设计的关键。我们将在第5章中讨论这一问题。<br>（4）CPS（cost per sale）/CPA（cost per action）/ROI计费模式，即按照销售订单、转化行为或投入产出比来计费，这些都是按照转化付费的一些变种。这是一种比较极端的计费模式，即需求方只按照最后的转化收益来计费，从而在最大程度上规避了风险。在这种计费模式下，供给方或中间市场除了估计点击率，还要对点击价值做出估计，这样才能合理地决定流量分配。CPA模式计费的广告中有两种特殊的类型：一类是某些收集销售线索的直接效果广告，按照收集到的线索数计费，这称为CPL（cost per lead）计费模式；另一类是移动应用下载的直接效果广告，按照安装数计费，这称为CPI（cost per install）计费模式。<br>5）oCPX（optimized CPX）计费。oCPX 是各移动广告平台广泛采用的一种新计费模式，这里的 X 可能是 M，也可能是 C，也就是说，广告平台仍然按 CPX 计费模式计费，但会根据后续的转化目标进行优化。也就是说，虽然计费模式仍然是 CPX，但是供给方会承担点击率和点击价值估计的任务。oCPM 是智能投放这一产品趋势下的新模式，也是 CPC 计费模式和 CPA 计费模式之间的一种中间状态。<br>综合起来看，对于效果广告，CPC 计费模式最有利于发挥供给方和需求方的长处，因而在 PC 时代为市场广泛接受；而对于品牌广告，由于效果和目的有时不便于直接衡量，可以考虑采用 CPM 计费模式；而 CPS/CPA/ROI 计费模式只在一些特定的环境下才比较合理。</p><p>既然广告有计费需求，也就同时产生了第三方监测的需求。在CPM类品牌广告中，由于曝光在媒体上产生，广告主往往会委托第三方的广告监测公司对曝光量、点击量等指标作技术核实，并以此作为计费的依据。在按CPC或CPS计费模式计费的广告交易中，由于计费的指标（即点击或转化）在广告主的网站上产生，并不需要特别的监测服务，因此，可以认为广告监测的主要服务对象是品牌广告主。随着CPM广告定向方式越来越复杂，广告监测也从简单的展示和点击计数到频次、人口属性等信息的验证和计量。另外，对于CPA类型的广告，实际执行中存在广告主故意扣量，从而低成本赚取大量品牌曝光的可能。因此，往往需要第三方的归因（attribution）监测工具来保证转化数和计费的公正。</p><h3 id="2-4-在线广告相关行业协会"><a href="#2-4-在线广告相关行业协会" class="headerlink" title="2.4 在线广告相关行业协会"></a>2.4 在线广告相关行业协会</h3><p>由于供给方和需求方的博弈关系，需要一些行业协会来约束和规范市场，关注这些行业协会的立场与使命，对更清晰地认识广告的商业逻辑大有帮助。以最重要的北美市场为例，主要有以下3个行业协会需要了解。</p><h4 id="2-4-1-交互广告局"><a href="#2-4-1-交互广告局" class="headerlink" title="2.4.1 交互广告局"></a>2.4.1 交互广告局</h4><p>交互广告局（Interactive Advertising Bureau，IAB）主要是站在供给方的长远利益上来研究和影响市场。换句话说，IAB 主要关注的是在线广告供给方的利益。正如 IAB 在自己网站标题上声明的那样，这一组织存在的使命，是“dedicated to the growth of interactive advertising market”，即致力于交互广告市场的壮大。而这个方向的受益者，主要是各在线媒体与广告技术公司。因此，IAB 的典型会员是 Google、Facebook、Yahoo!、Microsoft 这样的广告供给方，以及 AudienceScience 和 MediaMath 这样的广告技术公司。广告技术公司和产品的发展是为了更好地服务广告主和提升在线广告效果，以利于更多的预算进入在线广告领域。从具体工作上看，IAB 与互联网大量媒体和广告平台合作，制定了一系列意义重大的标准和规范，这些都极大地促进了在线广告行业的健康发展。其中包括如下几个重要的规范。<br>（1）展示广告创意尺寸标准。根据 2001 年 IAB 公布的标准仅仅支持 7 种创意尺寸，即 120 × 600（摩天大楼）、160 × 600（宽摩天大楼）、180 × 150（长方形）、300 × 250（中级长方形）、336 × 280（大长方形）、240 × 400（竖长方形）、250 × 250（正方形弹出）。创意尺寸的统一化，对于在线广告市场淡化广告位概念、推广受众定向有着非常根本的促进作用。中国市场与此对比，由于广告位尺寸非常复杂，因而各个网站之间的壁垒较高，非常不利于定向广告和程序采买的发展。<br>（2）视频广告标准 VAST（digital video ad serving template）。由于视频广告创意和展示形式比较复杂，消耗资源也较多，IAB 制定了一套统一的 XML schema 用于向在线视频媒体投放视频流内的广告，并对其用户进行相应的规范化的描述，这一标准实际上减少了进入视频广告领域的技术障碍，使得视频广告市场规模快速发展成为可能。<br>（3）通用实时竞价接口标准 OpenRTB。实时竞价的技术我们将在第 7 章中介绍，简单来说，这种采买方式是为了方便需求方按照自己的受众划分高精准地采买流量。假设各个广告交易平台的实时竞价接口不同，则意味着需求方需要付出几倍的技术成本以完成广泛的市场对接。于是，IAB 制定了统一的 OpenRTB 标准，将横幅广告、视频广告、移动广告情形下的实时竞价接口做了统一的规范。</p><h4 id="2-4-2-美国广告代理协会"><a href="#2-4-2-美国广告代理协会" class="headerlink" title="2.4.2 美国广告代理协会"></a>2.4.2 美国广告代理协会</h4><p>美国广告代理协会（American Association of Advertising Agencies，4A）并不是一个专门从事互联网广告的组织，而是线上线下各种广告，特别是品牌广告的代理商在美国的行业协会。4A 公司向其会员代理公司约定，至少要向广告主收取一定比例的服务费用，这一方面是为了避免行业内的恶性竞争，另一方面也是确保广告代理公司能够站在广告主的利益角度考虑问题，而后一点对于市场的长期健康发展是有很大帮助的。<br>为什么能够确保广告代理公司能够站在广告主的利益角度考虑问题</p><h3 id="2-4-3-美国国家广告商协会"><a href="#2-4-3-美国国家广告商协会" class="headerlink" title="2.4.3 美国国家广告商协会"></a>2.4.3 美国国家广告商协会</h3><p>美国国家广告商协会（Association of National Advertisers，ANA）是一个广告主的协会，也是最彻底地代表需求方利益的组织。其会员多是 AT&amp;T、宝洁（P&amp;G）、NBA 这些拥有大量广告预算的广告主。ANA 对广告主利益的维护可以从一件小事中得到体现：在微软宣布考虑在 IE10 支持限制第三方 cookie 滥用的“do not track”（DNT）协议时，是 ANA 明确声明对这样的计划表示反对，因为这样将会使得在线广告市场精确投送广告的能力受到很大影响，而这显然是与广告主的利益相违背的。</p><h3 id="第3章-在线广告产品概览"><a href="#第3章-在线广告产品概览" class="headerlink" title="第3章 在线广告产品概览"></a>第3章 在线广告产品概览</h3><p><img data-src="/computational-advertising/computational-advertising-12.png" alt="图3-1　在线广告产品进化示意"><br>图3-1所示的产品的发展历程，表面上看是广告产品和市场本身的进化，实际上是由于数据利用和变现需求的推动。为了方便讨论，我们这一发展历程分为 4 个阶段。<br>（1）合约广告产品。它由线下广告的交易形式衍生而来，又可以分为按照时段售卖的 CPT 广告和按照约定展示量售卖的 CPM 广告。这类广告产品主要服务于后续效果不宜直接衡量的品牌类广告主，在门户网站和视频网站较为常见。保量 CPM 广告产生的原动力是数据变现的需要。不过由于合约中量的约束的存在，它能够变现的往往只是人口属性这类规模较大的数据。<br>（2）竞价广告产品，它的最重要的形式是搜索广告，其产品形式为对搜索关键词的竞价。这种广告在拓展到站外展示广告流量时，演进成了对页面关键词或者用户标签竞价的产品形式，也就是 ADN。竞价广告的商业逻辑与合约广告完全不同，也是解决效果类广告需求的关键产品形式。竞价广告产生的根本原因是为了变现诸如关键词、精细用户标签等高价值但量不大的数据，从合约中放弃量的保证以后的结果。<br>（3）程序化交易广告产品。竞价广告的进一步发展催生了实时竞价的交易形式。实时竞价使得需求方可以更灵活地划分和选择自己的目标受众，也使得更广泛的数据使用和交易迅速发展起来。以实时竞价为核心的一系列交易方式逐渐演变为机器之间以程序化的方式完成广告交易决策，因此，这类产品称为程序化交易广告产品。程序化交易的主要推动力是市场中广告主数据和第三方数据的使用与变现，同时它也催生了与此相关的数据交易市场。<br>（4）原生广告产品。广告的产品体系除了自身的演进，另一个重要课题是如何处理与非商业化内容的关系，让广告与内容尽可能以“原生”的方式共存。搜索广告和社交网络信息流广告对此作了非常有价值的探索，不过这样的原生广告在规模化和交易化方面也遇到了很多的问题。然而，随着近年来移动设备对于原生广告的强烈渴求，以信息流广告、激励视频广告、灵活拼装素材的广告等为代表的原生广告正在快速发展中。从数据的角度来看，原生广告更加重视场景数据的加工和使用</p><h3 id="3-1-商业产品的设计原则"><a href="#3-1-商业产品的设计原则" class="headerlink" title="3.1　商业产品的设计原则"></a>3.1　商业产品的设计原则</h3><p>互联网是一个产品驱动的行业。熟悉产品设计的读者可能了解，用户产品演进的根本驱动力，是人们追求方便的天性。因此，用户产品的设计原则总是朝着更简单、更直观、更快捷的方向努力。而相应的产品设计重点也集中在关键功能的突出、操作过程的流畅等方面。</p><p>然而，商业产品关注的重点和运营的方式有相当大的区别。有时候用户体验优秀的商业产品，并不一定能带来良好的口碑或市场上的成功，这是为什么呢？商业产品一般都有一个明确的商业目标，而使用者的动力也是为了优化这个商业目标。例如，广告，其使用者不论是媒体、代理或广告主，都是为了优化自己的利润。因此，对这类产品的选择标准是客观的，也是可衡量的。Facebook 的广告之所以为大量的中小广告主广泛采用，主要原因并不是因为其使用便捷性远超同类产品，而是因为其推广效果有目共睹。因此，商业产品的任何一项功能改进，只要能带来其对应商业目标的上升机会，即使在使用流程上引入一些不便，也是可以接受的。这样的产品原则带来的结果，正如图 1-15 所示，整个广告市场的交易环节越来越复杂，使用门槛也越来越高，这与用户产品简化的大趋势是非常不同的。</p><h3 id="3-2-广告系统的产品接口"><a href="#3-2-广告系统的产品接口" class="headerlink" title="3.2 广告系统的产品接口"></a>3.2 广告系统的产品接口</h3><h4 id="3-2-1-广告主层级组织与投放管理"><a href="#3-2-1-广告主层级组织与投放管理" class="headerlink" title="3.2.1 广告主层级组织与投放管理"></a>3.2.1 广告主层级组织与投放管理</h4><p>在多数产品中，广告的层次分为广告主、广告（推广）计划（campaign）、广告（推广）组（ad group）、广告创意（creative）等几个层级。<br>（1）广告计划概念上对应于广告主的一次投放合同，其中包括预算、时间范围等基本信息，还有一些相关设置，例如：（a）在有多个广告产品可供选择时，要在广告计划中确定投放的是哪个产品；（b）预算的分配策略，对于大多数广告计划，较为均匀地分配预算可能比较合理，但是对于游戏开发、移动应用冲榜等类型的推广，预算的集中花费则很重要。<br>（2）广告组对应于一个具体的广告投放策略，主要是设定受众定向条件和出价。<br>对媒体的选择也可以认为是一种定向条件。<br>对于出价与能获得流量的规模和质量的关系，广告主很难有直觉上的认识。因此，从产品的角度来讲，往往需要给出一些有意义的提示，例如，根据当前出价做的流量预估，或者比较直接的“建议出价”。</p><p>（3）广告创意则是最终展示出来的素材，可能在同一个组策略下有不同尺寸的创意存在。广告创意的必要设置还应包括展示和点击的监测地址等。</p><p>这样的 4 层级组织方式是比较通用的。除了业务管理的便捷性，这样的层级结构还为数据统计和建模提供了天然的、合理的层级结构，让新创意的冷启动问题变得容易一些。</p><h4 id="3-2-2-供给方管理接口"><a href="#3-2-2-供给方管理接口" class="headerlink" title="3.2.2 供给方管理接口"></a>3.2.2 供给方管理接口</h4><p>供给端的资源组织主要分媒体和广告位两个层次，其中媒体可以是网站，也可以是移动应用开发者。<br>媒体的操作比广告主方要简单，一般来说，添加和删除广告位以及查看各广告位的运营数据是主要的功能需求。这一接口的功能性示例见图3-6（广告位名称已经被隐去）。<br><img data-src="/computational-advertising/computational-advertising-13.png" alt="图3-6　媒体广告位管理示意"><br>对于其中的某个具体广告位，根据产品功能的不同，需要的操作功能也不同，但一般来说，设定广告位尺寸、获取广告投放代码或SDK，设定该广告位对广告类型的要求，是一些通用的需求。在广告管家或SSP之类的供给方产品中，往往还会有精细的流量分配功能。</p><h2 id="第4章-合约广告"><a href="#第4章-合约广告" class="headerlink" title="第4章 合约广告"></a>第4章 合约广告</h2><p>在线广告业务的初始阶段，媒体与广告主的代理商是市场的主要参与者。线下广告的商业逻辑也被照搬到了线上，由广告代理公司和媒体签订协议，确保某些广告位在某时间段为指定的广告商所占有，同时广告商按整体合同支付广告费用。这种按CPT计费模式计费的广告位合约方式对技术的依赖性较小，只需要用到简单的广告排期系统。<br>合约广告的重要形式是按CPM计费的展示量合约。这种方式仍然用合同约定确定一次广告活动的投放总量和展示单价，但是售卖的对象已经由“广告位”进化到了“广告位+人群”。可以说，因为数据也被直接应用在广告售卖中，所以这是在线广告发展史上的一个重要里程碑。从供给方产品和技术的复杂程度来看，CPM合约甚至比竞价产品系统更加复杂，其复杂性主要来源于如何满足多个合约对投放系统量的要求，这就是合约广告中重要的在线分配问题。<br>按CPM售卖的展示量合约广告直接催生了受众定向技术。当然，受众定向本身的意义和重要程度远远超出了合约广告的范畴。</p><h3 id="4-1-广告位合约"><a href="#4-1-广告位合约" class="headerlink" title="4.1 广告位合约"></a>4.1 广告位合约</h3><p>广告位合约是最早产生的在线广告售卖方式。它是指媒体和广告主约定在某一时间段内在某些广告位上固定投送该广告主的广告，相应的计费模式为 CPT。这是一种典型的线下广告投放模式，在互联网广告早期被采用。这种方式的缺点非常明显，即无法做到按受众投放广告，因而也无法进行深入的效果优化。<br>不过，这种方式在一些特定的场景下也有可取之处：首先，在一些强曝光属性的广告位上采用这种独占式的广告投放，往往可以有效地给用户带来品牌冲击，而在其他一些横幅位置长期独占式的购买，有利于形成“橱窗效应”，塑造不断攀升的品牌价值和转化效果；其次，这种销售模式可以向广告主提供一些额外的附加服务，如同一个页面上的竞品排他，这就使高溢价的流量变现成为可能。<br>随着受众定向技术的发展，广告位合约的执行方式也发生了很大的变化。即使某个广告位全部投放一个广告主的创意，也并不意味着要投放同样的创意，受众定向在其中也可以起到很重要的作用。例如，某汽车生产商广告主旗下可能有多个系列的产品，如小型车、紧凑型车、豪华车、SUV 等，而这些车型的潜在购买人群其实也有很大的区别，如果能够对这些系列的受众分别投送相应的创意，就可以取得更好的效果。另外，即使在受众上无法区分，也可以利用频次控制的方式向同一用户递进式地展示一系列创意，以达到更好的效果。<br>广告位合约还有一种变形形式，即按照广告位的轮播售卖。在这种方式中，同一个用户对同一个广告位的一系列访问，被依次标上一组循环的轮播顺序号，如{1, 2, 3}。将其中具有同样顺序号的展示作为一个虚拟的广告位，售卖给广告主。需要注意的是，对某一个用户而言，第一次展示的顺序号不应该设为 1，而是应该按相等概率从所有轮播顺序号中随机选取一个，并从此开始累加和循环。这样做是为了保证各个轮播分配到的流量一致。这种轮播的售卖方式，在广告位独占式售卖库存不够而广告主又需要确定的展现规则保证时，被较广泛地采用，特别是在中国门户网站的品牌广告中。<br>在 CPT 售卖的情形下，供给方和需求方的计算需求和技术成分都不太高。广告主的营销需求往往是 4A 或其他代理公司进行媒介采买。而对于广告质和量两方面的要求，也都是根据代理公司人员对媒体广告位的历史经验，以及对广告主业务的了解，通过人工优化的方式来满足。对供给方（即媒体）而言，往往会使用一种在合同确定以后自动执行合同的广告管理工具，或者称为广告排期系统。</p><h3 id="4-2-受众定向"><a href="#4-2-受众定向" class="headerlink" title="4.2 受众定向"></a>4.2 受众定向</h3><p>从展示量合约开始，大多数广告产品的核心是按照受众售卖的。<br>在考察某种定向方法时，有两个关键点需要关注：一是定向的效果，即符合该定向方式的流量高出平均效果的水平；二是定向的规模，即这部分流量占整体广告库存流量的比例。<br>另一个类似的概念是用户画像，它与受众定向的意思很相近。不过，用户画像这个词可能会给人带来一定的错觉，让人以为对用户刻画的重点是年龄、性别、付费能力这些状态属性，而实际上，对用户刻画的重点往往是当前购物兴趣等直接驱动效果的标签。</p><h4 id="4-2-1-受众定向方法概览"><a href="#4-2-1-受众定向方法概览" class="headerlink" title="4.2.1 受众定向方法概览"></a>4.2.1 受众定向方法概览</h4><p><img data-src="/computational-advertising/computational-advertising-14.png" alt="图4-2　常见受众定向方法一览"><br>在图 4-2 中，水平方向表示的是定向技术在广告信息接收过程中大致起作用的阶段，而垂直方向为定性的效果评价。对受众定向的一些典型方法说明如下。<br>（1）地域定向（geo-targeting）。这是一种很直觉也很早就被广泛使用的定向方式。由于很多广告主的业务有区域特性，因此地域定向是所有在线广告系统都必须支持的定向方式。地域定向也可以被认为是一种上下文定向，不过其计算很简单，仅仅需要简单的查表就可以完成。虽然地域定向一般来说效果有限，却是一种不可或缺的流量选择手段。举个例子，假设某电商网站只在北京运营和送货，那么其效果广告一般来说应该定向在北京的区域内；否则，其他省的顾客点击广告进入购物环节后，会发现无法计费，这将带来很差的用户体验。<br>（2）人口属性定向（demographical targeting）。人口属性定向虽然在效果上未必突出，但是由于在传统广告的话语体系中大量使用这类标签来表达受众，因此它特别为品牌广告主所熟悉。在在线广告的品牌合约中也经常会有对人口属性的要求。人口属性的主要标签包括年龄、性别、受教育程度、收入水平等。人口属性有一点与兴趣标签不同，那就是它是可以监测的，即可以用采样加调研的方法来判断一次人口属性定向的广告活动受众中有多大比例是正确的。因此，在按 CPM 计费模式计费的广告中，人口属性比其他定向标签为广告主接受的程度更高。<br>如果没有特别的专门数据来源，如实名制 SNS 的注册信息或在线购物的消费记录等，一般情况下要准确进行人口属性定向并不容易。在人口属性数据覆盖率不足的情况下，我们可以用已知人口属性的用户作为训练集，构造分类器对人口属性自动标注。不过，这种分类器的方法确定人口属性的准确程度有限。在效果类的广告活动中，预测人口属性的必要性不大，因为预测出来的人口属性也是根据用户其他行为特征得到的，并不能提供额外的信息量。<br>（3）上下文定向（contextual targeting）。根据网页或应用的具体内容来匹配相关的广告，这就是上下文定向。上下文定向的粒度可以是关键词、主题，也可以是根据广告主需求确定的分类。上下文可以粗略地描述用户当前的任务，而任务的匹配对于提高广告的关注程度至关重要。在不同类别的内容上，上下文定向的效果有很大的区别。但是，这种方式有一个非常大的好处，那就是覆盖率比较高。对大多数广告展示，不论对当前访问用户的信息了解有多少，往往都可以根据当前浏览的页面推测用户的即时兴趣，从而推送相关广告。由于覆盖率高，上下文定向也是 ADN 中首选的定向方法之一。<br>（4）行为定向（behavioral targeting）。行为定向是展示广告中非常重要的一种定向方式，其框架是根据用户的历史访问行为了解用户兴趣，从而投送相关广告的。行为定向之所以重要，是因为它提供了一种一般性的思路，使我们可以变现在互联网上收集到的用户行为数据。因此，行为定向的框架、算法和评价指标奠定了在线广告数据驱动的本质特征，并催生了相关的数据加工和交易的衍生业务。如果把上下文定向看成是根据用户单次访问行为的定向，那么行为定向可以被认为是一系列上下文定向的融合结果。因此，上下文定向是行为定向的基础，而且对各种类型的上下文定向，都可以有相对应的行为定向方式。例如，地域定向是根据用户当前访问的 IP 来确定地理区域，相应地，也可以根据用户过去一段时间内的访问中最频繁的地理位置来定向，这种方式更接近用户的经常居住地。<br>（5）精确位置定向（hyper-local targeting）。在移动设备上投放广告时，有可能获得非常精准的地理位置。例如，利用蜂窝信息或者 GPS，地理定位的精度完全可以达到街区的粒度，如果进一步利用 Wi-Fi、蓝牙等设备的室内定位技术，精度可以进一步达到数米级。这就使得基于精确地理位置的广告成为可能，也使得大量区域性非常强的小广告主（如餐饮、美容等）有机会投放精准定位的广告，这已经与传统意义上的地域定向有了质的区别，也成为移动广告最重要的机会之一。<br>（6）重定向（retargeting）。这是一种最简单的定制化标签，其原理是对某个广告主过去一段时间内的访客投放广告以提升效果。显然，某个广告主的访客是其独有的信息，因此这属于定制化标签。重定向被公认为是精准程度最高、效果最突出的定向方式，不过其人群覆盖量往往较小。这是因为，重定向的覆盖投放量是由广告主固有用户的量和与媒体的重合比例共同决定的。关于重定向的原理，将在第 7 章中具体介绍。<br>（7）新客推荐定向（look-alike targeting）。由于重定向的量太小，而且无法满足广告主接触潜在用户的需求，因此不能仅仅依靠它来投送广告。新客推荐定向的思路是根据广告主提供的种子访客信息，结合广告平台更丰富的数据，为广告主找到行为上相似的潜在客户。这一方法的目的是希望在同等用户覆盖率的情况下，达到比一些通用的兴趣标签更好的效果，这也从实质上体现了广告主数据的核心价值。新客推荐只是一种大致思路，而非具体的方法，其基本原理将在第 7 章中介绍。<br>（8）动态定价（dynamic pricing）。这并不是一种定向广告技术，但却与其有一定的关联，因此我们在这里一并说明。根据我们的观点，团购也是一种变相的广告形式，这种广告有两个显著的特点：首先是一般都针对区域性的广告主，因此地域定向或者直接按照地域分类组织是必要的功能；另外，团购主要是利用价格工具，直接降低用户在决策阶段的门槛，使得对价格敏感的用户转化效果有明显的提升，当然，这一手段也是要付出成本的。用类似的手段在创意上直接显示打折或降价的促销信息也被其他的电商类广告广泛使用。<br>（9）场景定向（scenario targeting）。场景定向是移动环境下的新问题。移动设备不同于 PC，它体现了场景上的丰富性。你在健身时、吃饭时、看电视时、开会时，都会携带和使用手机，这些你在使用手机时的背景状态就是场景。显然，场景对于广告的决策有非常重要的意义。另外，移动设备丰富的传感器和状态信息为场景的判断提供了可能。关于场景定向，我们将在 9.4.2 节中具体讨论。</p><h4 id="4-2-2-受众定向标签体系"><a href="#4-2-2-受众定向标签体系" class="headerlink" title="4.2.2 受众定向标签体系"></a>4.2.2 受众定向标签体系</h4><p>在一些反映用户兴趣的受众定向方法（如行为定向、上下文定向等）中，我们需要一个标签体系，将每个用户映射到其中的一个或几个标签上去。如何规划合理的标签体系对广告产品的运营影响非常大。<br>标签体系有两种组织方式。一种是按照某个分类法制定一个层次标签体系，其中上层的标签是下一层的父节点，在人群覆盖上是包含关系。一些面向品牌广告的受众定向，往往采用这种结构化较强的标签体系。需要指出，这一体系中的标签是根据需求方的逻辑而制定的，某些在媒体方意义很大的分类标签，如军事等，由于没有明确的需求对应，不宜出现在标签体系中。<br>另外一种兴趣标签的组织方式，是根据广告主的具体需求设置相应的标签，所有的标签并不能在同一个分类体系中描述，也不存在明确的父子关系。这种半结构化或非结构化的标签体系往往包含一些比较精准的标签的集合，因而主要适用于多种目标，特别是效果目标并存的广告主的精准流量选择要求。</p><p>是选择结构化的兴趣标签体系还是选择非结构化的兴趣标签体系，更多的是商业上的决策，主要考虑下面两种情形。<br>（1）当标签作为广告投放的直接标的时（包括 CPM 广告及竞价广告中直接可被广告主选择的人群），这些标签既要能够为广告主所理解，又要方便广告主的选择。因此，在这种情形下，结构化的层级标签体系往往是较合理的产品方案，特别是在 CPM 广告中，标签的划分不能过细（原因在 4.3.1 节中讨论）。这种结构化标签体系的一个典型代表是表 4-1 所示的 Yahoo!担保式投送受众定向标签体系。从表 4-1 可以看出，这样的标签体系非常易于理解和操作，在面向品牌广告主售卖时较为适用。</p><p>表4-1　Yahoo! 担保式投送受众定向标签体系<br>|一级标签|二级标签|<br>|—|—|<br>|Finance|Bank Accounts、Credit Cards、Investment、Insurance、Loans、Real Estate…|<br>|Service|Local、Wireless、Gas &amp; Electric…|<br>|Travel|Europe、Americas、Air、Lodging、Rail…|<br>|Tech|Hardware、Software、Consumer、Mobile…|<br>|Entertainment|Games、Movies、Television、Gambling…|<br>|Autos|Econ/Mid/Luxury、Salon/Coupe/SUV…|<br>|FMCG|Personal care…|<br>|Retail|Apparel、Gifts、Home…|<br>|Other|Health、Parenting、Moving…|</p><p>（2）当标签仅仅是投放系统需要的中间变量，作为CTR预测或者其他模块的变量输入时，结构化的标签体系其实是没有必要的，应该完全按照效果驱动的方式来规划和挖掘标签，而各个标签之间也不太需要层次关系的约束。这样的标签体系，比较典型的代表是 BlueKai 的标签体系，由于其目的是追求效果或特殊人群定位，因此组织上的规整性也就让位于效果的精准性了。关于 BlueKai 标签体系的更多介绍，参见 8.2.4 节。<br>还有一种特殊的标签形式，即关键词。直接按照搜索或浏览内容的关键词划分人群，往往可以达到比较精准的效果。关键词标签是无层级关系、完全非结构化的，它虽然很容易理解，但并不太容易操作。</p><h4 id="4-2-3-标签体系的设计思路"><a href="#4-2-3-标签体系的设计思路" class="headerlink" title="4.2.3 标签体系的设计思路"></a>4.2.3 标签体系的设计思路</h4><p>标签体系的设计必须要分行业进行，而其中的关键思路是深入研究该行业的用户决策过程。简单来说，就是要洞彻在这个行业里，用户决定买什么、不买什么的原因和逻辑。我们举几个常见的广告主行业来说明此原理。<br>（1）汽车行业。汽车行业的用户决策逻辑比较清晰。一个准备购买汽车的用户首先考虑的因素一定是价格：如果有 20 万元预算，就买不了 50 万元的车，也不大会考虑 10 万元以下的车。在价格区间范围需要挑选的就是车型：如果家里有两个孩子，很可能会考虑七座车；如果是“单身贵族”，可能会对跑车感兴趣。这两项都是比较理性甚至刚性的约束。而在这之后，才是对品牌的精挑细选。<br>因此，汽车行业的标签体系大体应该是价格、车型和品牌，这里对重要程度的排序是不能错的。<br>（2）游戏行业。游戏有与电影和音乐类似的艺术性特质，它的用户决策过程总体上不易把握。因为人们对艺术的喜爱并不是理性的，也就难以总结规律。如果直接用 RPG、ACT、SLG、RTS、STG 这些游戏分类作为标签体系行不行呢？其实这些分类只是为了便于游戏的组织和索引，并不能准确反映用户的决策逻辑。难道一个“RPG 游戏爱好者”会看到 RPG 就非玩不可，其他的游戏都不屑一顾吗？显然不是如此。<br>要想把游戏的用户标签做好，就要深入细分的游戏场景中去深入研究。比方说，玩老虎机游戏的用户往往经常换不同素材的新游戏，也就是说，将“老虎机爱好者”作为一个用户标签，与用户决策过程是相符的。而喜欢海岛奇兵游戏的用户，对于 SuperCell 新出的游戏也往往心仪，此时“SuperCell”这个品牌就成了有效的用户标签。<br>（3）电商行业。从消费者决策的角度来看，电商行业其实不能称为一个行业，而是多个行业的集合。不过，对于电商中典型的商品类型，如服装等，用户决策过程也是相当微妙的：某个女生看了 H&amp;M 的某款裙子，其实很难推断出她要买裙子，也不一定是对 H&amp;M 情有独钟，也许仅仅是因为这款裙子的特殊造型。在这类商品中，“H&amp;M”或者“连衣裙”都不一定是有效的用户标签。因此，在实践当中，电商行业的实际做法是基本上不依靠分类，主要以“单品+个性化推荐”的方法构建和使用标签体系。详细讨论参见 7.4.4 节。</p><h3 id="4-3-展示量合约"><a href="#4-3-展示量合约" class="headerlink" title="4.3 展示量合约"></a>4.3 展示量合约</h3><p>广告位合约并非主流。实际上，互联网主流的品牌广告投放方式是按 CPM 计费模式计费的展示量合约。展示量合约指的是约定某种受众条件下的展示量，并按照事先约定好的单位展示量价格来计费。这种合约还有一个名称，就是担保式投送（GD），其中的“担保”指的就是量的约定。在实际执行中，在未能完成合约中的投放量时，可能要求媒体承担一定的赔偿。<br>很多情况下，我们把展示量合约通俗地称为“CPM 广告”。实际上，CPM 广告还包括另一种按 CPM 计费模式计费但是不约定展示量的售卖方式，如广告交易市场中的广告售卖。而那样的非保量 CPM 实际上属于竞价广告而非合约广告，其商业逻辑差别较大。因此，这里我们仍然采用展示量合约的说法。<br>媒体从按固定广告位售卖变为按 CPM 售卖，初衷是为了在流量变现的基础上加入数据变现，面向的仍然是原来的品牌广告主。广告主按广告位采买时，比较容易预估自己拿到的流量，可是按照人群定向的方式采买，流量却有诸多不确定的因素。因此，需求方希望在合约中加入对量的保证，才能放心地采买。<br>展示量合约虽然以人群为显式标的进行售卖，但是请注意一个非常重要的事实：展示量合约并没有摆脱广告位这一标的物。<br>这是因为在 CPM 这种计费模式下，无法将多个差别很大的广告位打包成同一售卖标的。因为不同广告位的曝光有效性可能差别巨大，所以合理的 CPM 也会相应地大幅变动。实践中展示量合约往往是以一些曝光量很大的广告位为基础，再切分人群售卖，最典型的例子是视频网站的贴片位置或者门户网站首页的广告位。对实时竞价有所了解的读者可能会有疑问：广告交易市场里的广告位五花八门，为什么可以按 CPM 计费模式计费呢？这个问题我们在后面谈到实际竞价的产品逻辑时再进行讨论。<br>虽然从交易模式上看，展示量合约仍然是比较传统的交易模式，但是从技术层面上看，这种模式的出现实际上已经反映了互联网广告计算驱动的本质：分析得到用户和上下文的属性，并由服务端根据这些属性及广告库情况动态决定广告候选。这一商业模式的出现，需要有一系列技术手段的支持，这些手段主要包括受众定向、流量预测和担保式投放等。</p><h4 id="4-3-1-流量预测"><a href="#4-3-1-流量预测" class="headerlink" title="4.3.1 流量预测"></a>4.3.1 流量预测</h4><p>展示量合约售卖的是某特定人群上的广告曝光次数，而人群不同于确定的广告位，因此必须在合约中约定投放的量。于是，就产生了流量预测（traffic forecasting）这一问题。流量预测在广告产品中有以下 3 个主要用途。<br>（1）售前指导。因为要约定曝光总数，所以事先尽可能准确地预测各人群标签的流量至关重要。如果流量严重被低估，就会出现资源售卖量不足的情形；如果流量严重被高估，则会出现一部分合约不能达成的状况。这些都会影响系统的收入。<br>（2）在线流量分配。同样是在展示量合约广告中，由于合约之间在人群选择上会有很多交集，当一次曝光同时满足两个以上合约的要求时，怎样决策将它分配给哪个合约以达到整体满足所有合约的目的，这是下文将要讨论的在线分配问题。各种在线分配算法都要依赖流量预估的结果，以达到高效和准确的目标。<br>（3）出价指导。在竞价广告中，由于没有了量的保证，广告主往往需要根据自己预计的出价先了解一下可能获得多少流量，以判断自己的出价是否合理。<br>综上所述，广告里一般的流量预测问题，可以描述成对流量 t(u, b) 这个函数的估计，其中第一个参数 u 是给定的人群标签或人群标签的组合，第二个参数 b 是出价。在展示量合约中，因为没有竞价，所以可以看成是上述问题在 b →∞ 情形下的特例。</p><h4 id="4-3-2-流量塑形"><a href="#4-3-2-流量塑形" class="headerlink" title="4.3.2 流量塑形"></a>4.3.2 流量塑形</h4><p>流量预测对于展示量合约非常重要，不过这本质上还是被动地统计流量情况。在有些情形下，我们可以主动地影响流量，以利于合约的达成。这一产品策略问题称为流量塑形（traffic shaping）。<br>流量塑形的典型场景可以参考门户网站上售卖的展示量合约广告。门户网站各子频道的流量严重依赖于首页关键位置链接的导流。假如在车展期间，汽车频道上的展示广告需求旺盛，那么首页上的链接应该更多地给汽车频道导流以利于收入的增加。这样的想法相当直接，在实践中也被广泛使用。不过，从商业产品的要求来看，要系统化、高效率地达到流量塑形的目标，需要将用户产品与广告产品的需求情况打通，然后按照一定的准则，在不伤害用户体验的情况下，尽可能提高商业变现的效率。</p><h4 id="4-3-3-在线分配"><a href="#4-3-3-在线分配" class="headerlink" title="4.3.3 在线分配"></a>4.3.3 在线分配</h4><p>展示量合约这种保量合约会面临一个问题：各个合约要求的人群很可能大量交叠，如何设计分配策略，使得各个合约都尽可能被满足。我们将其简化为一个二部图（bipartite graph）匹配问题：二部图的一方表示广告库存的供给节点，每个节点代表的是所有人群标签都相同的流量集合；二部图的另一方表示广告合约的需求节点，每个节点代表的是一个广告合约的人群标签条件。<br>供给节点、需求节点和在线分配二部图的示例如图 4-3 所示。在这个示例中，下方的 6 个节点为供给节点，而上面的 3 个节点为需求节点。如果某供给节点的受众标签能够满足某需求节点的要求，我们就在相应的 2 个节点间建立一条连接边。供给节点中的各个条件之间都是“与”的关系，因此各个供给节点之间的流量是无重合的；需求节点中的各个条件也是“与”的关系。（如果广告投放中设置的是“或”的关系，则可以转化为多个需求节点。）显然，需求节点之间可能会抢夺同一个供给节点的流量。</p><p><img data-src="/computational-advertising/computational-advertising-16.png" alt="图4-3　在线分配中的二部图匹配问题示意"></p><p>如果系统允许在一天结束后才对流量做分配，我们可以很容易地设计策略：根据每个供给节点的流量和各需求节点的约束，解上面的分配问题，得到每个供给节点应该分配多少比例的流量给某个需求节点。不过在实际情况中，我们不可能等到流量情况全部已知后再做决策，而是需要在每一次曝光时实时做出分配决策，因此，这一策略问题称为在线分配。在线分配需要根据历史数据和某种策略，离线得到一个分配方案，线上则照此方案执行。<br>随着标签数量的增加，供给节点的数量会以指数速度上升，而每一个供给节点的流量当然也就迅速收缩。当节点的流量过小时，对其进行相对准确的预测就变得相当困难，这时上面所说的方案就会变得完全不可行。因此，展示量合约这类广告产品在人群标签非常丰富和精准时，是无法有效地运作的，而这正是竞价广告产品的原动力之一。</p><h4 id="4-3-4-产品案例"><a href="#4-3-4-产品案例" class="headerlink" title="4.3.4 产品案例"></a>4.3.4 产品案例</h4><p>展示量合约有两种典型的产品场景：一是用于视频广告资源；二是全球主要门户网站的品牌性广告位。</p><p>Yahoo! 担保式投送市场为品牌广告主提供合约式的采买接口（可以通过 API 下单），并且提供了基础的定向功能来划分人群。Yahoo! 担保式投送中的人群标签包括地域、人口属性（主要是年龄和性别）以及行为定向标签。其行为定向标签分为多个层次，其中前两层的一部分标签如表 1-1 所示。<br>在这个行为定向标签体系中，一共有数千个标签，不过实际售卖中，产生过销售合约的不过 100 多个。这非常典型地反映了合约广告的尴尬：大量精准的标签在合约量的束缚下基本无法售卖。因此，要特别注意，一个广告产品声称自己的标签体系多么复杂，有多少标签种类，这些在实际上没有太大的意义，而这些标签的人群规模才更有说服力。</p><h2 id="第5章-竞价广告的产品脉络"><a href="#第5章-竞价广告的产品脉络" class="headerlink" title="第5章 竞价广告的产品脉络"></a>第5章 竞价广告的产品脉络</h2><p>合约广告在现代数字广告平台已非主流，而主流的广告产品几乎无一例外采用了竞价模式。竞价广告的基本逻辑很容易从 5.1 节中的计算广告核心问题得出：估算每个广告候选的 eCPM，决策本次展示的 eCPM 最高者胜出。<br>竞价广告不同于内容推荐场景的关键因素，其关键是竞价过程里被调度的对象（广告客户）与调度方（广告平台）之间存在利益的不一致，这形成了一个博弈的市场环境。因此，围绕着平台与客户之间如何分工与合作，就衍生出了产品、技术和市场机制等方面的若干核心问题。其中，如何设计合理的市场机制是在其他场景中不太容易遇到的问题。在现代广告系统中，这个问题的解决思路和框架是在严谨的博弈论指导下建立起来的，并且形成了商业化产品在设计和运营过程中的一些重要基础概念和指导原则。应该说，区分一个商业化产品经理是否合格的一个核心标志，就是他对市场在博弈和机制这两个方面的理解。<br>在计算用于排序的eCPM过程中，因为数据分布在供需双方，所以如何分工计算eCPM中的点击率和点击价值就成了需要探讨的问题。沿着这个思路，市场上逐渐形成了“程序化交易”和“智能投放”两个异化的产品方向。</p><h3 id="5-1-竞价广告的三大核心问题"><a href="#5-1-竞价广告的三大核心问题" class="headerlink" title="5.1 竞价广告的三大核心问题"></a>5.1 竞价广告的三大核心问题</h3><p>竞价广告是用拍卖的方式销售广告的：系统根据计算得到的eCPM决定谁可以得到本次展示机会。显然，这里不再像第4章中介绍的合约广告那样，需要预估流量和分配流量，只需要把eCPM算清楚，按照价高者得的方式决策即可。在同一次拍卖中，可能存在几个广告位。竞价广告在搜索广告和信息流广告中的具体位置，可以参见图5-1中的示例。<br><img data-src="/computational-advertising/computational-advertising-17.png" alt="图5-1　竞价广告位置示例"></p><p>我们把这一竞价过程抽象一下。假设在某次广告展示中有一组广告位可以被占用，将这些广告位按照其经验价值排名，分别记为 s = 1, 2, … , S（如果只有一个广告位，S 为 1）。同时，在该次广告请求中，有一组广告 a = 1, 2, 3,… , A 出价参与拍卖，系统将前 S 个 eCPM 最高的广告依次放到前面排序好的 S 个广告位上，如图 5-2 所示。这一问题也被称为位置拍卖（position auction）。<br>这看起来是一个典型的博弈论问题。如何设计其中的一些重要机制往往对整个竞价市场的收益、稳定性、公平性等有着巨大的影响，这就是我们后面要谈到的机制设计。</p><p><img data-src="/computational-advertising/computational-advertising-18.png" alt="图5-2　位置拍卖问题示例"></p><p>竞价广告的好处：首先，它避免了刚性的媒体定价，采用市场博弈的方式决定价格，这让各种类型的流量因其供需的紧张程度自动得到了合适的定价，有利于资源效率的最优化配置；其次，它去除了合约广告中供需双方之间量的约束，使调度过程变得简单明晰，也使细分流量、容纳大量的广告客户成为可能。</p><p>实际上，在竞价广告产生以后，广告平台的客户数量才有了质的突破，从几千迅速上升到几万、几十万直至数百万。在今天，Facebook 广告平台有超过 900 万的活跃账户。</p><p>$eCPM = r(a, u, c) = \mu(a, u, c) \cdot \nu(a, u) = \mu(a, u, c) \cdot c(a, u) \cdot t(a)　（5.1）$</p><p>如上所示，eCPM 可以分解成点击率和点击价值的乘积，或者进一步分解成点击率、转化率和转化价值三者的乘积。由于点击率相关的数据产生在媒体上，而转化率、转化价值相关的数据产生在客户那边，因此要得出这个用于排序的 eCPM 指标必然要涉及供需双方的数据和计算合作。<br>竞价问题的复杂性和产品的多样性，就是从供需双方合作这一点引入的。看一看式（5.1）的计算过程，很容易发现，有 3 个重要问题需要解决。<br>（1）计算的供需分工问题。虽然说数据分属供需双方，媒体计算点击率、客户计算点击价值是最自然的分工。然而，这并不是唯一可行的方式，如果深入思考一下，就会产生这样的想法：为什么不能将点击率和转化率全都交给媒体计算，客户只提供转化价值？或者为什么不能整个 eCPM 都交给客户计算？<br>实际上，这两种思路也是完全可行的，并且是竞价广告产品发展的主要方向，我们将在 5.3 节中探讨计算分工带来的产品演进方向。<br>（2）合作的信息透明问题。不论由客户方提供转化价值、点击价值还是整体的 eCPM，在 eCPM 的计算过程中，必定需要客户提供的某种数据信息。这就产生了一个直接的问题：为什么客户要把自己的真实数据上报给广告平台？<br>当然，客户确实是没有义务说实话的。但是，如果客户不说实话，eCPM 的计算就会不准确，相应地排序自然也就是错乱的，这就违背了我们设计竞价市场的初衷。具体来说，这违背了我们希望整个市场能够“将广告展示机会提供给产出最大的人”这样一种最优化社会资源配置的理念。<br>之所以有这个问题，核心原因是客户与平台的利益诉求并不一致：客户希望有更高的投入产出比，而平台希望有更高的收益，他们之间是既合作又斗争的博弈关系。<br>（3）如何准确估计的问题。在供需双方完成了 eCPM 的计算分工以后，需要探讨的就是具体的计算方法了。在此过程中，需要计算的核心量包括点击率、转化率和用于竞价标的物的受众定向标签等，而这些更多是属于技术的范畴的，会用到一些大数据和机器学习方面的能力。</p><h3 id="5-2-竞价市场的机制设计"><a href="#5-2-竞价市场的机制设计" class="headerlink" title="5.2 竞价市场的机制设计"></a>5.2 竞价市场的机制设计</h3><p>我们先给图 5-3 中的位置拍卖问题标示一些相关数值：当某个广告 a 被放在 s 位置上时，其期望收益即 eCPM 为 ras = µsνa。这里做了一些假设，比如点击率µ仅与位置 s 有关，而点击价值ν仅与广告 a 有关，但这并不影响对竞价问题宏观市场的讨论。<br><img data-src="/computational-advertising/computational-advertising-19.png" alt="图5-3　位置拍卖问题示例"><br>所谓机制设计（mechanism design），就是在博弈论的框架下指定其中的一些数值的计算规则和方法，这里有可能涉及的数值包括对每个位置上的广告收取的费用（即价格 p），还包括允许参与竞价的准入门槛，以及计算过程中的一些参数等。在讨论这些具体的机制之前，我们有必要先说明，设计这些机制的根本目标或原则是什么。<br>如前所述，在竞价广告中，机制设计最基本的任务是解决客户真实上报需求方的价值问题，以达到正确排序的目的。在博弈论框架下，把这一目标函数称为社会福利最优，即广告主和广告平台总体的收益最大。其中的逻辑不难理解：如果客户实话实说，广告平台会把广告机会分配给后续回报价值最高的广告主，也就实现了资源的最合理配置，即社会福利最优。<br>然而，必须说明的是，平台真实希望的结果并不一定是社会福利最优，而是平台方利益最大，在机制设计中，这一目标称为收入最优。在5.2.4节中，我们会讨论收入最优的机制设计，我们可以看到，与社会福利最优相比，收入最优将带来机制上非常显著的差异。</p><h4 id="5-2-1-定价问题"><a href="#5-2-1-定价问题" class="headerlink" title="5.2.1 定价问题"></a>5.2.1 定价问题</h4><p>位置拍卖最重要的机制设计是定价（pricing）问题，它探讨的是在一次位置拍卖中，给定各参与者的出价以及他们的期望收益，如何对最后获得某个位置的广告商收取合适的费用。</p><p>假设有某个单位置（S = 1）的广告机会在竞拍，开始有两个广告主参与，甲出价 1 元，乙出价 2 元，于是乙赢得了此次竞价，如果按照其出价来收费，市场就向他收取 2 元的费用。在广告市场里，这一拍卖机会还会重复出现（对应于不断产生的展示），因此广告主也存在调整出价的机会，假设乙在发现自己出 2 元钱能拿到流量以后，自然就会想到，是不是可以调低出价，用更低的成本拿到流量？乙将一直不断尝试，直到把出价调低到 1.01 元，发现继续调低就拿不到位置了。于是系统稳定在甲出价 1 元，乙出价 1.01 元。此时，假设又有一个广告主丙加入竞争，并希望赢得此广告位，那么以此类推，他在不断调整后将会出价 1.02 元，市场的收入也就是 1.02 元。我们有可能通过调整定价策略来影响系统的总收益吗？答案是肯定的。例如，我们在甲出 2 元，乙出 1 元参与竞价时，并不对获胜的甲收 2 元，而是收取其下一名（即乙）的出价 1 元，那么甲就没有动力调低其出价了。那么当丙加入时，就需要出价 2 元以上才可以赢得竞价，市场的收入也就变成了 2 元（不论丙出价多少，我们都按其下一位即甲的出价来收费）。这个简单的例子告诉我们，在广告这样的参与者可以针对同一个标的物不断调整出价的拍卖环境中，通过聪明的定价策略，完全可能为整个市场创造更高的收益和更好的市场稳定性。<br>在定价问题上，微观上的直觉未必可以推广到宏观市场。从整个市场的角度来看，我们重点需要研究的是市场处于稳定状态下的收益和其他特性。而所谓稳定，指的是整个竞价系统处于纳什均衡（Nash equilibrium）状态，即每个广告商都通过出价得到了最符合自己利益的位置。对某一次位置竞价来说，其对称纳什均衡（symmetric Nash equilibrium）状态的意义很容易理解：对于最终位置排名竞价结果中的每一条广告，其收益都比排在其他位置上要高。显然，在这样的状态下，每个广告商都达到了自己的最优状态，整个系统也就随之稳定下来。<br>市场方能够主动调整的是定价策略。随着定价策略的不同，市场达到稳定状态时的宏观收益情况和稳定的程度都有所不同。因此，有关竞价市场宏观性质的研究，主要目的是寻找更好的定价策略以优化整体收益。</p><p>在线广告竞价市场最常见的定价策略是 GSP 方案，另外还有一种 Vickrey-Clarke-Groves（VCG）定价策略，我们分别来介绍一下。<br>1．广义第二高价（GSP）<br>在只有一个位置的拍卖中，向赢得该位置的广告商收取其下一位广告主的出价，这样的拍卖也叫作 Vickrey 拍卖。在搜索广告这种有多个位置的拍卖过程中，很容易凭直觉将第二高价策略推广成这样的策略：对每一个赢得位置的广告主，都按照他下一位的广告主出价来收取费用，这就是广义第二高价。<br>第二高价有个重要的性质：客户将自己的回报作为出价忠实表达的话，将会获取最大的总利益。这称为“实话实说原理”，这正是我们在 5.1 节中希望得到的结果。显然，在实话实说原理的引导下，很容易理解第二高价是社会福利最优的机制。<br>第二高价和广义第二高价的直觉合理性在上面已经有所解释。不过，实际上广义第二高价并不是多位置拍卖时社会福利最优的机制（最优策略是下面要介绍的 VCG 定价）。但是，广义第二高价却有着实现简单、容易向广告主解释等诸多操作中的优点，因此在实际的竞价广告系统中是最主流的定价策略。</p><p>如果按 CPM 计费模式计费，那么广义第二高价可以非常直接应用。但在按 CPC 计费模式计费的竞价广告系统中，广告主的出价是针对点击的，而竞价是针对 eCPM 的，因此要对两者做一下换算，以实现 CPC 情形下的广义第二高价，其定价公式为：</p><p>$qs = \frac{\mu_{s+1} \cdot b_{s+1}}{\mu_s} + \Delta    （5.3）$</p><p>如果将等式两边同时乘以 $\mu_s$，可以看出广义第二高价实际上仍然是 eCPM 上的第二高价。<br>不论是采用 CPM 计费模式还是 CPC 计费模式，在广义第二高价的情形下，对某广告主的定价是一定不会大于其出价的。实际上，这种定价策略也同样适用于采用 CPS 计费模式的竞价市场，并且只需要将式（5.3）中的 µ 换成 µν 即可。式（5.3）最后的 ∆，一般为广告系统计费货币的最小单位，如 1 美分，这是一种历史惯例，也在某种程度上让广告主心理上感觉更加合理。</p><p>2．VCG<br>VCG 定价是 Vickrey、Clarke 和 Groves 在研究竞价系统均衡状态时得到的社会福利最优的定价策略，其基本思想是对于赢得了某个位置的广告主，其所付出的成本应该等于他占据这个位置给其他市场参与者带来的价值损害。<br>这种定价策略在直觉上的合理性很容易理解。理论分析表明，VCG 定价策略的优越性体现在如下几个方面：首先，在这种定价策略的稳定状态下，市场中的理性广告主是忠实出价的，也就是说，每人能找自己的回报价值来出价，就找到了自己的最优状态；其次，相对于其他定价策略，这种定价向广告主收取的费用是最少的。在单广告位拍卖的情形下，VCG 定价策略就退化为第二高价策略。<br>这种定价策略在直觉上的合理性很容易理解。理论分析表明，VCG 定价策略的优越性体现在如下几个方面：首先，在这种定价策略的稳定状态下，市场中的理性广告主是忠实出价的，也就是说，每人能找自己的回报价值来出价，就找到了自己的最优状态；其次，相对于其他定价策略，这种定价向广告主收取的费用是最少的。在单广告位拍卖的情形下，VCG 定价策略就退化为第二高价策略。<br>可以证明 VCG 是社会福利最优的定价方式，也就是说，广告平台和广告主的整体收益达到了最大。不过，在 VCG 定价情况下，平台的收入却不如 GSP。<br>VCG 定价在竞价广告中并不是一种主流的方式。这主要是因为这种定价方式的逻辑过于复杂，比较难以向广告主解释清楚；另外，在广告主和媒体存在博弈关系的情形下，媒体是否正确地计算了“给其他市场参与者带来的价值损害”也很难验证。不过这种定价方法也有其市场空间，有的广告厂商（如 Facebook）在实际产品中也采用了这一定价机制。</p><h4 id="5-2-2-价格挤压"><a href="#5-2-2-价格挤压" class="headerlink" title="5.2.2 价格挤压"></a>5.2.2 价格挤压</h4><p>在采用 CPC 计费模式的广告产品中，eCPM 可以表示成点击率和出价的乘积，即 $r = \mu \cdot \nu = \mu \cdot {bid_{CPC}}$。但是在竞价的机制设计中，我们有时会对此公式做一些微调，把它变成下面的形式：</p><p>$r = \mu^{\kappa} \cdot \text{bid}_{\text{CPC}} （5.5）$</p><p>其中的 κ 为一个大于 0 的实数。我们可以考虑两种极端情况来理解 κ 的作用：当 κ→∞ 时，相当于只根据点击率来排序，而不考虑出价的作用；反之，当 κ→0 时，则相当于只根据出价来排序。因此，随着 κ 的增大，相当于我们在挤压出价在整个竞价体系中的作用，因此我们把这个因子叫作价格挤压（squashing）因子。<br>价格挤压因子的作用主要是能够根据市场情况，更主动地影响竞价体系向着需要的方向发展。例如，如果发现市场上存在大量的出价较高但品质不高的广告主，则可以通过调高κ来强调质量和用户反馈的影响；如果发现市场的竞价激烈程度不够，则可以通过降低κ来鼓励竞争，如果存在短期的财务压力，这样就可以短期使整体营收有所上升；如果要鼓励广告主提高广告质量和相关性，则可以通过提高κ来降低出价的影响。</p><h4 id="5-2-3-市场保留价"><a href="#5-2-3-市场保留价" class="headerlink" title="5.2.3 市场保留价"></a>5.2.3 市场保留价</h4><p>为了控制广告的质量和保持一定的出售单价，竞价广告市场往往要设置一个赢得拍卖位置的最低价格，我们将这一价格称为市场保留价（market reserve price，MRP），俗称“起价”或“底价”。广告主的出价只有在高于市场保留价时，才能获得竞价机会，同时在赢得某个拍卖位置后，如果根据定价策略算出的付费低于市场保留价（以广义第二高价为例），也需要调整到市场保留价的水平上。<br>确定 MRP 是竞价广告重要的产品策略，MRP 定得过低或过高，都不利于整个市场的收益最大化。一般来说，当竞争较充分、广告主深度足够时，MRP 可以设置得比较高；反之则应适当降低。市场保留价的设置有两种方法：一是对整个竞价市场采用同样的保留价格；二是根据不同标的物（如搜索广告里的关键词）的特性设置不同的保留价格。如果按照后一种方法设置，显然应该对那些竞争较激烈的关键词设置比较高的 MRP。<br>在搜索广告的实践中还有一点：北区和东区的广告虽然共享一个竞价队列，但为了保证北区黄金位置得到较好的变现，我们往往会对北区单独设一个较高的 MRP。<br>关于如何计算最优的市场保留价，也有一些理论研究和实践方法。简单来说，一个特定关键词的最优起价仅与竞价和质量度的分布有关，通过拟合其被保留价截断的分布为核心，可以通过理论上的计算公式来解出最优起价。自付费搜索的商业模式成型以来，搜索引擎便在不断尝试调整关键词竞拍的起价，在市场可以接受的前提下提升自身的收益水平。2001 年，Yahoo!将其起价统一设置为 5 美分，2008 年，Yahoo!结合理论的推导结果，对部分雅虎搜索关键词进行动态调价，不同价值的关键词被调整为不同的起价。此次调价后，据持续观测，起价提升在 2008 年第三季度，对收入的影响为 +13%。而谷歌并没有公开自己的起价计算方法与过程，但是一般认为其起价的制定策略是业界较为先进的，早在 Yahoo!实行动态起价之前，研究人员即发现谷歌的起价也是动态的。<br>无论是调整市场整体的 MRP，还是在不同流量划分上动态设置 MRP，其基本原理都是根据竞价广告主的 eCPM 分布，找到一个使填充率没有明显下降的 CPM 底价，然后再根据质量度倒算其 CPC 底价。实际上，由于考虑质量度，动态底价可以同时与 (a、u、c) 这 3 个参数都有关系，做到完全的动态。</p><h4 id="5-2-4-收入最优和迈尔森拍卖"><a href="#5-2-4-收入最优和迈尔森拍卖" class="headerlink" title="5.2.4 收入最优和迈尔森拍卖"></a>5.2.4 收入最优和迈尔森拍卖</h4><p>第二高价和 VCG 是社会福利最优的定价机制。但在实践中，广告平台更加关注的是使收入最优（也就是平台方价值最优）的方法。这个问题，称为最优拍卖问题（optimal auction problem）。当拍卖的标的是单个的不可分物品时，罗杰·迈尔森（Roger Myerson）给出了理论上的最优机制，称为迈尔森拍卖。<br>在迈尔森拍卖中，我们假设某个广告主 a 的点击期望收益 $ν_a$ 为一个随机变量，其概率密度函数为 $f_a$，累积分布函数为 $F_a$，而广告主 a 的出价为 $b_a$。为了简化问题，我们先假设所有广告候选的点击率没有差别，在这种情形下，最优的拍卖机制如下。<br>（1）将广告主的出价映射成一个虚拟出价 $b_a’ = b_a - [1-F_a(b_a)]/f_a(b_a)$。<br>（2）以 0 作为虚拟出价上的 MRP，对出价者进行过滤。<br>（3）在虚拟出价上按第二高价方式进行定价，并转换回真实出价域来扣费。<br>总结起来，这种机制不保证按照出价的高低进行排序，甚至有时还会拒绝所有的出价者。当 $f_a$ 皆为[0, 1]区间的均匀分布时，此机制等价于第二高价加上 0.5 的底价。其作用直观上也很好解释：对于那些期望收益很可能比较高的大玩家，我们会通过虚拟出价的变换对其进行一定程度的惩罚，以刺激其出更高的价格。<br>由于迈尔森拍卖不仅会影响定价结果，甚至还会影响排序结果，很难向广告主解释其公平性，因此，实践当中各大广告平台虽然或多或少地会采用一些迈尔森拍卖的思想（如对出价能力强的买家进行一定程度的价格歧视），但很少直接采用迈尔森拍卖的形式作为市场规则。当然，即使有的平台确实采用了类似的机制，也不会公开宣称。<br>严格按照迈尔森拍卖的方式对客户的出价上下其手以获取更多的利益会导致不公平的拍卖机制。另外，建模过程也相当复杂，并不容易实践。虽然如此，迈尔森的结论还是给竞价广告市场的运营者带来了非常重要的启示：在一个拍卖市场中，客户的数量和活跃度才是收入的根本决定因素，而若干大客户鹤立鸡群的预算反而可能是毒药。于是，除机制本身以外，在产品、运营各环节中，如果能够尽量降低小客户进入的门槛，为他们提供便利甚至扶持，对整体市场的健康运转十分有益。</p><h4 id="5-2-5-定价结果示例"><a href="#5-2-5-定价结果示例" class="headerlink" title="5.2.5 定价结果示例"></a>5.2.5 定价结果示例</h4><p>我们用一个具体的例子来直观地说明上述的综合竞价和定价过程：假设有一组广告竞争一个有多个位置的搜索广告展示机会，其出价和系统对其点击率[1]的预估如表 5-2 中的第一列和第二列所示，那么计算出的 eCPM，以及按照 GSP 定价策略并取不同 κ 值时向每个广告主收取的费用，如表 5-2 的后面几列所示[2]。从表 5-2 的例子中可以看出，经过 GSP 的 CPC 定价并不是降序的，并且存在低于 MRP（如第三位的广告）的情形，这时需要将其强制设为 MRP；另外，κ 对排序和定价都有明显的影响。</p><blockquote><p>[1]　这里的点击率考虑了广告而未考虑位置和其他因素的影响，因此仅仅是示意性的。<br>[2]　计算中忽略了式（5.3）中计价时多加的 ∆。</p></blockquote><p>表5-2　GSP广告竞价过程示例（单位：元。MRP=0.25）<br>|出价|点击率（%）|排序/定价（κ = 1.0）|排序/定价（κ = 2.5）|排序/定价（κ = 0.5）|<br>|:-:|:-:|:-:|:-:|:-:|<br>|0.8|1.6|1/0.50|1/0.25|2/0.25|<br>|2|0.4|2/0.75|3/0.70|1/1.60|<br>|0.3|1|3/0.25|2/0.25|3/0.28|<br>|0.4|0.5|4/0.25|4/0.25|4/0.25|</p><h3 id="5-3-计算分工带来的产品方向演进"><a href="#5-3-计算分工带来的产品方向演进" class="headerlink" title="5.3 计算分工带来的产品方向演进"></a>5.3 计算分工带来的产品方向演进</h3><p>如果将 eCPM 全都交给需求方计算，并将算出的 eCPM 值上报广告平台参与竞价，这就是程序化交易模式，我们将在第 16 章详细解读；如果将点击率和转化率都交由供给方平台预估，需求方只需要给出转化价值，这就是在移动广告时代越来越重要的以 oCPX 为代表的智能投放模式，我们将在 9.5 节中探讨这一模式。</p><p>根据 eCPM 的分解决定某部分由谁来计算，是各种计费模式产生的根本原因。<br>表 5-3　竞价广告的计算分工与产品方向<br>|计费模式|点击率|转化率|转化价值|产品关键|<br>|—|—|—|—|—|<br>|CPC竞价|供给方|需求方|需求方| |<br>|程序化交易|需求方|需求方|需求方|实时报价|<br>|智能投放|供给方|供给方|需求方|oCPX|</p><h4 id="5-3-1-自然的计算分工与CPC计费"><a href="#5-3-1-自然的计算分工与CPC计费" class="headerlink" title="5.3.1 自然的计算分工与CPC计费"></a>5.3.1 自然的计算分工与CPC计费</h4><p>按点击计费的 CPC 模式，在竞价广告中具有最为自然的合理地位，其原因很容易理解：在广告的数据链路中，供给方占有展示和点击数据，自然具备计算点击率的基础；需求方占有广告主站内数据，自然具备评估转化率的基础。<br>这种中庸的计费模式，在通过机制解决了需求方上报真实点击价值的问题以后，理论上具备了得到相对正确的 eCPM 并用于排序的产品基础。因此，在 PC 时代的竞价广告市场中，CPC 这种计费模式具有接近垄断的地位，这也是计算分工最为自然的结果。<br>这种计算分工只是“自然”的，因为谁的数据谁负责计算，但并不一定是“合理”的，因为供需双方在具体场景下的数据价值、计算能力，可能有着巨大的差异。因此，深入思考的商业产品领域的产品经理，一定会思考另外两个显而易见的可能的产品方向：让需求方承担更多计算任务，或者让供给方承担更多计算任务。</p><h4 id="5-3-2-程序化交易——需求方承担更多计算分工"><a href="#5-3-2-程序化交易——需求方承担更多计算分工" class="headerlink" title="5.3.2 程序化交易——需求方承担更多计算分工"></a>5.3.2 程序化交易——需求方承担更多计算分工</h4><p>有些情况下，除了计算点击价值，需求方还有充分的能力，在点击率计算方面也有可能比媒体方做得更好。既然如此，一个自然的产品思路就是干脆把点击率也交给需求方来计算。<br>需求方同时计算点击率和点击价值，从计费模式上来看，就要变成 CPM 计费模式。读过 2.3.2 节的读者应该对此不难理解。可是，在竞价广告中，仅将计费模式变成 CPM 还不能达到由客户承担更多计算任务的目的，问题出在哪儿呢？<br>我们注意到，在式（5.1）中 eCPM（即点击率）是 a、u、c 这 3 个变量的函数，也就是说，它与某次具体的展示相关。但是，如果仅从广告 a 的角度来看，点击率显然不能当成常量来理解和建模，否则就失去了数字广告对不同的用户动态分配不同的广告这一根本性的优势。因此，对于同一个广告，即使由需求方来计算整体的 eCPM，也必然要求对每次展示机会分别计算，才有可能比供给方计算更有优势。<br>要对每次展示机会分别计算 eCPM，并上报给供给方排序，显然，原有的基于人工操作的出价界面就不适合了——现代广告平台每秒都可能有成千上万次的广告请求。于是，新的市场诉求催生了新的产品形式：将供给方询价、需求方报价变成实时接口，而需求方用一段程序代替原有的人工出价，在每次展示机会上分别计算 eCPM 并报价，这就是所谓的程序化交易。<br>因此，程序化交易的本质就是为了适应需求方承担更多计算任务的产品诉求，用程序替代人进行报价的新交易接口形式。程序化交易一般都是采用 CPM 计费模式。</p><p>细心的读者会产生一个疑问：需求方计算eCPM时要在每次展示机会上分别计算，那么在CPC计费的场景中，需求方负责计算并作为报价输出的点击价值，难道不也是要在每次展示上分别计算吗——不同的人群和场景，显然对转化率和转化单价也有影响。一点儿没错，在CPC计费模式下，客户给出的统一点击报价其实是抹杀了各次展示之间转化率的差异，用下面的式子做了近似：</p><p>$\text{eCPM} = r(a, u, c) = \mu(a, u, c) \cdot \nu(a) \quad (5.6)$</p><p>虽然有这样的近似，但是由供给方计算的点击率部分还是与(u, c)有关，于是，整体的 eCPM 计算仍然体现了人群和环境的差异，具有细分流量的能力。可是，如果在需求方计算整体 eCPM 的场景时抹去(u, c)的差异，代之以统一的值 eCPM(a)，那么整个竞价广告体系就失去了个性化的基本能力。<br>我们再从宏观博弈的角度分析一下程序化交易产生后的市场影响。什么样的客户有能力计算 eCPM，并实时提供报价呢？显然，只有那些信息技术能力较强，并且具备一定数据基础的客户才有可能这么做，做了也才有意义。于是，程序化交易的新模式，服务的主要是那些能力较强的头部客户。他们本来就是市场竞争中的相对强者，再加上程序化接口的出现，他们的买量能力又进一步加强了。于是，市场上可以预期的后果之一就是“强者更强，弱者更弱”，而根据我们在 5.2.4 节中的迈尔森拍卖理论，这对于拍卖方的收入最优很可能并不是好事。<br>那么，如果从扶持小客户的角度出发，又会有什么样的产品方向呢？</p><h4 id="5-3-3-智能投放——供给方承担更多计算分工"><a href="#5-3-3-智能投放——供给方承担更多计算分工" class="headerlink" title="5.3.3 智能投放——供给方承担更多计算分工"></a>5.3.3 智能投放——供给方承担更多计算分工</h4><p>对大量的中小客户来说，理解竞价广告的逻辑是有一定困难的：什么是竞价？什么是CPC？什么又是二价？这些理论上自洽的体系，对各行各业将数字广告视为一个新推广渠道的客户来说是相当费解的。于是，虽然有适合驱动直接效果的产品优势，这些与传统广告截然不同的模式和术语，不得不说还是阻碍了相当多客户进入这一领域。<br>除了模式和术语带来的鸿沟，我们认为自然合理的 CPC 计费模式其实对很多中小客户来说也是不小的挑战：计算点击价值用于 CPC 计费模式下的出价，对那些根本还没有建立数字化运营体系而无从量化计算每个点击带来转化的客户来说，实在是勉为其难。即使能参与，他们往往也会非常感性地设置出价，整个市场也就离社会福利最优的目标相去甚远。<br>这么看来，在 CPC 计费模式下，市场上肯定还有大量潜在的中小客户因为无法定量计算点击价值等问题，对竞价广告只能望洋兴叹。而根据我们在 5.1 节中的讨论，竞价广告市场收入最核心的原则是尽量扩大活跃的客户群，而扩大客户群最重要的产品动作，就是帮助中小客户解决以上困惑和定量计算问题。<br>如果按 CPS/CPA/ROI 计费，看起来以上问题可以迎刃而解：客户无法理解和计算 CPC，但是对单次转化带来的收益一般都是比较容易评估的，如果按效果计费，显然有更多的客户可以参与到市场中来。这就带来了我们所说的第二个产品方向——智能投放。<br>智能投放的产品理念，就是由平台承担更多的计算任务，帮客户计算好转化率，而客户只需给出转化价值作为出价即可。那么，能不能直接采用 CPS/CPA/ROI 计费模式呢？看起来可行，可实际上这会带来非常严重的劣币驱逐良币问题。<br>举个不太恰当的例子，某网络红人以亲自发明制造“绝对没有用处的机械装置”而走红。假设有人按这个思路生产了一批毫无用处、根本不会有人买单的产品，那么在以 CPS 模式计费的广告平台上，他尝试着卖这些东西是没有任何成本的——卖出去了才交钱，卖不出去无所谓。于是，就会有大量没有经过精细打磨的“劣币”产品跑到平台上来以 CPS 模式蹭流量。而我们知道，平台对一个产品转化率的判断，归根结底要靠数据积累，因此在数据积累还不充分的学习期，这些“劣币”的转化率肯定是会被高估的。而随着这种蹭流量的“劣币”大量涌入，大量的流量就会浪费在它们身上，整个生态也会逐渐崩溃。<br>这么看来，直接采用 CPS 计费模式计费一般不可取。那么，合理的智能投放模式是什么样的呢？目前的主流是 oCPX 计费模式。oCPX 是现在各移动广告平台广泛采用的新计费模式：广告平台采用 CPX 计费模式计算费用，但是在内部引擎的优化上，会根据客户给出的转化出价，计算转化率并进行优化。也就是说，虽然计费模式仍然是 CPM，但是供给方会承担点击率和点击价值估计的任务。<br>对于新广告，因为无法确定它是不是“良币”，所以采用 CPA 计费风险较高。而在 oCPX 模式下，广告主将自己的转化数据对接给平台，在积累到一定转化量，建模上已经可以较准确评估其转化率以后，“劣币”自然也就拿不到流量了，而那些转化率好的“良币”也就可以“躺着赚钱”了。<br>通过 oCPX 计费模式，平台可以极大地降低了广告主的投放优化工作量。而这样的变化，让大量运营能力薄弱的客户进入竞价广告市场成为可能。于是，这一产品方向实际上起到了扶持小客户、提高市场活跃度的作用，而这对平台的收入水平与健康程度至关重要。从实践效果来看，Facebook 的活跃账户数量已经突破了 900 万，这与其 oCPX 的产品创新应该说有直接的关系。</p><h2 id="第6章-搜索广告与竞价广告网络"><a href="#第6章-搜索广告与竞价广告网络" class="headerlink" title="第6章 搜索广告与竞价广告网络"></a>第6章 搜索广告与竞价广告网络</h2><p>对比合约广告可知，竞价交易模式的本质是将量的约束从交易过程中去除，仅仅采用“价高者得”的简单决策方案来投放广告。<br>本章将集中介绍非实时的竞价类广告产品，主要是搜索广告和竞价广告网络，并重点讨论其中关键的产品策略。<br>在竞价的交易逻辑下，展示广告领域也产生了广告网络这种批量采购各种媒体剩余流量，然后按照点击付费的方式售卖给广告主的产品形式。广告网络中竞价的标的有两种：一是上下文页面中的关键词，这是直接从搜索广告衍生而来的；二是根据用户行为加工的兴趣标签，这是从展示广告的定向逻辑发展而来的。广告网络的竞价环境与搜索广告有所不同：各种上下文或用户标签的有效性差别巨大，另外各种广告位的差别也会很大。因此，除了完全依照 eCPM 估计排序广告外，冷启动问题以及各种复杂环境下点击率的归一化非常重要。这些使广告网络的效果优化有着独特的挑战性。<br>面对竞价广告的产生，需求方的产品和技术也在发生变化。其中关键的变化有两点：一是由面向广告位采买变成面向人群的跨网络采买；二是帮助广告主在竞价环境中完成量的保证，而这一点是竞价市场本身不再保证的。能达到这些需求方目的的产品，我们称其为媒体采买平台。在媒体采买平台里，在量的约束下完成 ROI 优化的问题依然存在，并且变得比在线分配问题更加困难，ROI 优化也成为高端采买平台提供的服务之一。当然，搜索广告的媒体采买和 ROI 优化同样十分重要，这项专门的服务被称为搜索引擎营销（search engine marketing，SEM）。</p><h3 id="6-1-搜索广告"><a href="#6-1-搜索广告" class="headerlink" title="6.1 搜索广告"></a>6.1 搜索广告</h3><p>搜索广告是典型的竞价广告产品，其特点是广告主就某标的物（在这里是关键词）的广告展示机会展开拍卖式的竞争，并根据竞争结果依次占据该广告展示的若干位置。这与第4章中的展示量合约是截然不同的：首先，量的保证不复存在，广告主需要自行调整效果与量的平衡；其次，价格的约定也被去掉，每个广告主都可以随时调整个关键词上的出价。</p><h4 id="6-1-1-搜索广告产品形态"><a href="#6-1-1-搜索广告产品形态" class="headerlink" title="6.1.1 搜索广告产品形态"></a>6.1.1 搜索广告产品形态</h4><p>搜索广告是以查询词为粒度进行受众定向，并按竞价方式售卖、按CPC计费模式计费的广告产品。通常，搜索广告展示在搜索结果页，如图6-2所示。PC搜索广告创意的展示区域一般来说分为北（north）、东（east）、南（south）3个部分。北区和东区的所有位置构成同一次关键词拍卖的位置集合，竞价时位置的排序为{north1, north2, …, east1, east2, … }，这基本上是根据各个位置点击率的高低排列的。同时，并不需要在这些位置上全出广告，这与横幅广告有显著的区别。对于南区的广告，不同的搜索引擎有不同的产品处理方法，有的直接照搬北区广告，有的则直接照搬东区的前几条。<br><img data-src="/computational-advertising/computational-advertising-20.png" alt="图6-2　搜索广告竞价位置示例"><br>搜索广告最基本的形式是与自然检索结果一致的文字链，一般会加底色和角上的“推广”“推广链接”“Ads”等字样，以区别于自然结果，这样做的目的是让那些对广告没有兴趣的人尽量减少误点击，从而降低广告主的无效消费和提升用户体验。<br>由于移动搜索结果一般简单组织成信息流的形式，移动搜索广告的形式比 PC 搜索广告要简单：在通用搜索中，广告往往出现在最上面或最下面，并没有东区的存在；在一些垂直搜索中，广告则可能穿插在内容里。图 6-3 给出了移动搜索广告的产品示例。<br><img data-src="/computational-advertising/computational-advertising-21.png" alt="图6-3　移动搜索广告产品示例"><br>搜索广告竞价的标的物是竞价关键词（bid term），用户输入的查询（query）通过与关键词相匹配，来确定是否可以触发该条广告。匹配的方式既可以采取简单的精确匹配，也可以有更多的扩展方式，这称为查询扩展，是搜索广告的一项比较关键的产品策略。</p><p>在互联网广告的整个产品谱系当中，搜索广告有着特别重要的地位，具有以下一些鲜明的产品和技术特点。<br>（1）搜索广告的变现能力，即 eCPM 远远高于一般的展示广告，其市场重要程度也就得以彰显。因此，与搜索广告相关的一些独特问题和算法的研究，受到了高度的重视。而搜索广告高变现能力最关键的产品原因就是，用户主动输入的查询直接反映了用户的意图。<br>（2）搜索广告的受众定向标签，即是上下文的搜索查询。由于搜索词非常强地表征着用户的意图，因此搜索广告可以进行非常精准的定向。相对于搜索词，根据用户历史行为得到的兴趣标签的重要性大打折扣，这一方面是因为其信号远不如搜索词强烈，另一方面是因为用户这样明确意图的任务是不能被打断的（参见 2.1 节）。因此，搜索广告里的 eCPM 由一般情形下的 r(a, u, c)退化成了 r(a, c)。<br>（3）搜索广告的展示形式与自然结果的展示形式非常接近，往往仅在底色和文字链接中有不太引人注目的提示。这样的产品设计使得它有原生广告的意味，也进一步提高了广告效果。但是，这样的广告结果对相关性的要求远远超过展示广告，因此在根据查询匹配广告时需要非常精细的策略和技术。</p><h4 id="6-1-2-搜索广告产品新形式"><a href="#6-1-2-搜索广告产品新形式" class="headerlink" title="6.1.2 搜索广告产品新形式"></a>6.1.2 搜索广告产品新形式</h4><p>1．超越文字链的创意<br>显然，蓝色超链接不是搜索广告的产品终点。随着搜索结果本身向着展示更丰富、获取内容更直接、行业性不断加强的方向发展，搜索广告也在探索一些能传递更多价值的展现形式，以同时提升用户体验和变现效率。<br><img data-src="/computational-advertising/computational-advertising-22.png" alt="图6-4　搜索广告新产品示例"></p><p>2．弱相关广告形式<br>搜索引擎右侧的产品原则与左侧相比，有一点点区别，那就是在合理和可解释的范围内可以增加一点相关性要求稍低的泛化内容，因此为这部分的广告产品设计也提供了新的空间。我们用两个例子来介绍这方面的探索。<br>（1）图 6-4 中的③部分是一种在搜索广告中常见的带有一定品牌意味的广告形式。它是以广告主对应的一组导航类搜索关键词，在用户搜索这些关键词时展示该广告主的品牌宣传性创意。这样的产品，可以提升广告主用户对品牌的认知程度和后续黏性。<br>（2）图 6-4 中的④部分是一些搜索引擎提供的同类推荐功能，在此例中，为相关的旅游类网站。显然，这部分的列表和排序可以按照竞价广告的逻辑来运营。通过这一广告产品，可以为搜索引擎提供一些离决策稍远、以接触潜在用户为目的的广告。如图中的例子，携程的用户可能不一定用过同城网，但是在此处看到以后，或许会尝试并对其发生兴趣。当然，这样的产品绝对不能在搜索左侧的结果中展示，因为那样会引起用户对结果相关性的质疑。</p><p>3．原生化探索<br>搜索广告从一开始就具有原生广告的特点：它的商业化结果与自然结果一样，由用户的主动意图触发，并且在展示形式上与自然结果相差不大。实际上，有相当比例的用户是完全无法区分自然结果和广告结果的。因此，探索搜索广告与内容的自然结合，以越来越“原生”的方式投放广告，也是产品的重要方向。<br>与谷歌不同，中国的搜索广告有混排在自然结果中的竞价排名方式，而类似于图6-2的标准形式是后来才逐渐发展起来的，但是这种混排的形式一直存在于广告产品中，并且对营收仍然发挥着重要的作用。这种混排虽然褒贬不一，而且在一部分查询上降低了结果的质量，但可以说是搜索广告原生化的一种探索。另外一个原生化的趋势是，在有些直接面向商品的信息类搜索中，像图6-5中那样提供结构化内容结果时，在其中混入商业化结果，并进行统一排序。与只提供自然结果相比，这可以增强变现能力；与只提供广告结果相比，这可以避免需求不足带来的结果质量下降。这样的广告，也可以称为“商品直达式广告”。</p><h4 id="6-1-3-搜索广告产品策略"><a href="#6-1-3-搜索广告产品策略" class="headerlink" title="6.1.3 搜索广告产品策略"></a>6.1.3 搜索广告产品策略</h4><p>如图 6-6 所示，搜索广告的决策过程可以分为查询扩展、检索、排序、放置、定价等几个阶段。在搜索广告中，竞价标的即关键词的粒度很细。查询扩展是搜索广告独有的策略，目的是为广告主自动拓展相关的查询词，扩大匹配流量；广告检索和根据 eCPM 排序候选广告，是广告系统的核心流程，本章后面介绍竞价广告网络时会再讨论；而定价是竞价广告非常核心的策略，我们在 5.2 节的机制设计中重点介绍。</p><p><img data-src="/computational-advertising/computational-advertising-24.png" alt="图6-6　搜索广告决策过程示意"></p><p>在搜索广告中，排序的依据（即 eCPM）可以简单地表示成 $r(a, c) = \mu(a, c) \cdot \text{bid}_{\text{CPC}}(a)$。不过在实际产品中，点击率 µ 这一项会被质量度（quality score）所替代，而后者除了考虑点击率，还需要综合诸如落地页质量等其他因素，得到更全面的对广告质量的评价，其目的是避免广告主的恶意行为、促进市场长期发展等。而在本书中，为了说明基本概念和算法，将主要考虑点击率的作用。</p><p>1．查询扩展<br>查询扩展是搜索广告的一项关键策略。对广告主来说，从浩若烟海的关键词中找到符合自己需求的组合绝非易事。因此，搜索引擎会提供将广告中的关键词自动匹配到更多相关查询的服务，常见的匹配方式有以下几种。<br>（1）精确匹配，即不对广告主提供的关键词做任何形式的扩展，保证忠实按照广告主的意图精准执行。精确匹配的执行方式是，先将用户输入的查询分词，例如“英语培训”这个查询可以分成{英语，培训}这个词集合，当这个词集合与广告主设定的关键词集合完全一致时，就触发精确匹配。以“英语培训”这个关键词为例，在精确匹配方式下，可能触发广告的有“英语培训、培训英语”这两个查询。<br>（2）短语匹配。当用户的查询完全包含广告主关键词或关键词（包括关键词的同义词）的集合时，就认为匹配成功，可以触发相应的广告候选。仍以“英语培训”这个关键词为例，在短语匹配方式下，可能触发广告的搜索有“英语培训、英语培训暑期班、哪个英语培训机构好、英语的培训、英语相关培训、英文培训”等。但像“英语歌曲、电脑培训”这样的词就不会被触发。总的来说，这种方式是用较精细的概念匹配较宽泛的概念，因此一般来说还是比较精准的。<br>（3）广泛匹配。当用户的查询词与广告主的关键词高度相关时，即使广告主并未提交这些查询词，也可能被匹配。仍以关键词“英语培训”为例，在广泛匹配方式下，可能会触发“外语学习班、四级证书”这样的查询。广泛匹配的逻辑并没有清晰的定义，一般来说，都是用数据挖掘的算法自动获得。因此，虽然打开广泛匹配可以获得较多的流量，但是流量的精准性往往会打一定的折扣。<br>（4）否定匹配。由于短语匹配和广泛匹配都是由系统自动完成，难免会出现一些匹配不精准的结果，因此，需要同时向广告主提供否定匹配的功能，即明确指出哪些词是不能被匹配的，这样可以灵活地关停一些低效的流量。<br>短语匹配和广泛匹配都属于典型的拓词方式，将其与否定匹配相结合，广告主可以比较自由地在流量和质量之间找到平衡点。然而由于媒体与广告主利益的不一致，搜索引擎提供的拓词方式未必是对广告主最佳的，我们后面介绍 SEM 产品时会讨论这一点。</p><p>2．广告放置<br>当广告候选完成排序以后，需要分别确定北区和东区的广告条数，这个环节称为广告放置（ad placement）。由于这两个区域构成一个统一的竞价队列，实际上是要分别设定进入北区和进入东区的条件，其中最关键的是进入北区的条件。<br>北区是黄金的广告展示位置，一般来说，通用搜索引擎的广告收入中绝大部分都来自于北区，因此北区广告的平均条数与收入直接相关。但同时，由于北区广告直接压低了自然结果的位置，必然会对用户体验产生一定的影响。因此，要想获得商业利益与用户体验较好的平衡，我们在关注收入指标时，也要特别关注北区广告的数量和质量。整个搜索引擎的北区广告平均条数，称为 NFP（north foot print）或 ASN（average show number），在考察一项新算法对 RPM 的影响时，我们往往也应同时关注 NFP，而在 NFP 显著变化时，对比对应的 RPM 变化没有太大意义。<br>确定一条广告能否进入北区要考虑两个关键因素：一是该广告相关性是否足够，二是该广告的 RPM 是否足够，前者是为了确保用户体验，后者是为了高效地利用展示位置。另外，一般来说，北区还会设定一个广告条数的上限。根据整体 NFP 的约束和收入的目标，我们可以很容易通过数据模拟的方法确定相关性和 RPM 的最优阈值，这些将在第 14 章中再讨论。<br>前面说过，搜索广告的决策一般来说不太考虑用户 u 的影响，但是在确定北区广告条数这个问题上是一个例外，这就是个性化的广告放置。个人偏好、对广告了解程度的不同，不同的用户对广告的容忍度和点击率呈现出明显的差别：有一部分用户总是会跳过广告，直接从自然结果开始浏览，但也有一部分用户或者对广告不太会分辨或者对其接受程度高，会将广告与自然结果一样看待，因此产生大量点击。很显然，对前一类用户，应该降低北区广告条数，这样在不显著减少收入的情况下可以换来更好的用户体验；而对后一类用户，应该在有符合条件的广告时，尽可能用足北区的位置。</p><h4 id="6-1-4-产品案例"><a href="#6-1-4-产品案例" class="headerlink" title="6.1.4 产品案例"></a>6.1.4 产品案例</h4><p>1．Google AdWords<br>Overture 发明 CPC 售卖方式的时候，广告的投放方式很简单，只是以广告主的出价高低排序，出价最高的广告赢得曝光的机会。谷歌发现了此模式的缺陷：出价最高的广告赢得了很多曝光，但如果没人点击，平台还是没有收入。因此，谷歌将策略改变为在投放过程中预估每条广告的点击率，然后按点击率和出价的乘积大小对广告排序，这样就形成了现在竞价广告普遍采用的根据 eCPM 决策的逻辑。<br>在引入点击率来表达相关性后，在 CPC 计费模式下形成了一个对广告主、用户、平台都有利的生态。在此生态下，广告主可以通过选择关键字来定向目标受众，并通过改善广告创意提高点击率的方式降低出价。谷歌通过给用户投放点击率高和出价高的广告提高收益。因为每次给用户投放都是点击率高的“个性化”广告，所以用户在使用搜索引擎时看到了更多相关付费信息，降低了广告对用户的干扰。<br>相关性提高后，广告主就会以更低的出价赢取更多的点击，所以广告主就有动力通过更精准的关键词条件和更好的广告创意来提高广告的点击率。整个系统的营收也就相应增长了。2013 年，谷歌财报中谷歌网站的收益达到了 374 亿美元，而这主要来自于 Google AdWords 这一款搜索广告产品。<br>为了简化概念，这里介绍的 AdWords 是其过去的产品范畴。目前，谷歌已经将其展示广告网络、移动广告网络的需求方入口统一在 AdWords 产品下，目的是为广告主提供一个统一市场（universal marketplace），方便统一的效果跟踪的优化，这实际上也是广告产品面向需求方接口的一个重要趋势。</p><p>2．淘宝直通车<br>淘宝直通车广告主要出现在淘宝站内搜索结果页上。但是由于商品搜索的结果展示与通用搜索引擎有很大区别，相应的广告展示也有很大不同。在图 6-7 中，广告只出现在页面的东区和南区。</p><p><img data-src="/computational-advertising/computational-advertising-25.png" alt="图6-7　淘宝直通车广告示例"></p><p>淘宝直通车的前身是雅虎直通车，卖家可以在雅虎搜索和雅虎网站上投放广告，2008 年改名为淘宝直通车。开始的广告排名规则非常简单，即出价高的广告主赢得投放机会。之后淘宝也完善了广告策略，开始采用与 AdWords 一样的 eCPM 排序方式。与之前的广告排名规则相比，由于投放的广告相对来说点击率都比较高，因此卖家的转化率提升，而淘宝也因为宝贝整体的点击率提升获得更多的营收，形成共赢的局面。<br>与通用搜索引擎的广告主来自各行各业不同的是，淘宝直通车的广告主来自于淘宝平台上的卖家群体。淘宝与它的广告主之间基本是共生的关系，这使得淘宝对其广告主有更大的影响力，并在如下的几个方面有明显的优势。<br>（1）广告主可以推广单品，并且直接复用商品的图片、描述等信息，而不需要针对广告渠道制作创意，这使得大量中小卖家使用直通车的额外成本很低。<br>（2）由于站内搜索与用户购买意图强相关，因此广告的效果较好。<br>（3）由于淘宝对其广告主全部转化流程的了解，使得淘宝直通车在利用后续数据优化广告系统（如转化预估、商品上下架同步等）方面，都达到了一般搜索广告难以达到的深入程度。<br>因此，虽然淘宝直通车仅仅是一个垂直搜索引擎的广告系统，但是其生态体系却支撑了阿里巴巴这一中国最大互联网公司大部分的营收和利润，也是淘宝变现的主要途径之一。这个例子告诉我们，在一些高商业价值的垂直搜索引擎（如电商、房产、汽车、应用下载）中，利用搜索广告的产品体系进行变现是需要最优先考虑的流量变现方式。</p><h3 id="6-2-竞价广告网络"><a href="#6-2-竞价广告网络" class="headerlink" title="6.2 竞价广告网络"></a>6.2 竞价广告网络</h3><p>竞价机制在搜索广告逐渐成熟的同时，也在展示广告领域得到了广泛应用。对展示广告而言，合约式的售卖方式必然无法消耗所有的库存，实际销售中为了控制售卖比例以获得更高的品牌溢价空间，未通过合约售卖的广告流量很多。这部分流量，我们称为剩余流量（remnant inventory）。竞价交易模式的产生，为这部分流量提供了变现的机会，催生了广告网络这一产品。广告网络的产品功能是，批量聚合各媒体的剩余流量，按照人群或上下文标签的流量切割方式售卖给广告主。<br>对一些中小媒体而言，甚至完全没有按合约售卖的流量，而是将所有的广告位都交给广告网络来变现，图 6-8 中给出了一个网页上所有广告网络位置的示例，其中所有用线框标出的部分，都是交由广告网络来变现的。<br>移动应用内流量的广告网络最常见的广告形式是横幅与插屏。不过近年来，移动广告网络原生化发展的趋势已经确立，我们将把这部分有关产品形式的讨论放在第 9 章中讲解，这里主要介绍广告网络在广告决策方面的产品逻辑。</p><p><img data-src="/computational-advertising/computational-advertising-26.png" alt="图6-8　广告网络广告示例"></p><h4 id="6-2-1-广告网络产品形态"><a href="#6-2-1-广告网络产品形态" class="headerlink" title="6.2.1 广告网络产品形态"></a>6.2.1 广告网络产品形态</h4><p>一般来说，广告网络中的投放决策过程对媒体而言类似于一个黑盒子：只需要在广告位的剩余流量上调用广告网络的投放代码或SDK，而不用关心每次展示的投放结果。在实际运营中，广告网络既有竞价的售卖方式，也有合约的售卖方式。不过我们这里重点讨论的是其竞价部分。<br>竞价广告网络的产品逻辑示意如图6-9所示。这里的产品关键，一是售卖的标的主要是人群，而广告位被淡化了。（根据第4章的讨论可知，合约广告是很难淡化广告位标的的。）另外，当流量满足多个广告活动要求时，简单地采用竞价模式而不用考虑量的约束。</p><p><img data-src="/computational-advertising/computational-advertising-27.png" alt="图6-9　广告网络产品示例"></p><p>根据人群划分模式的不同，广告网络产品其实有两个来源：一方面来源于搜索引擎发展出来的上下文广告产品，即根据页面中提取的关键词来投放广告；另一方面来源于展示广告的兴趣标签向精细化发展后。无论是上下文还是兴趣，都可以看成是对受众的划分方式，因而它们都统一在广告网络这一产品中。<br>竞价广告网络有下面几个关键的产品特点。<br>（1）竞价方式不向广告主做量的约定，而是根据变现能力，即 eCPM，来决定每次展示分配给哪个广告主。因此，与合约式的广告系统不同，广告网络大大降低了为保证合约而设计复杂在线分配算法的必要性，因而其中的计算技术可以把精力集中在对 eCPM 的估计上。<br>（2）由于是按人群售卖，广告网络会极力淡化媒体和广告位的概念。由于淡化了媒体的概念，广告网络中很难拿到品牌溢价高的广告位，一般来说也不适合广告主的品牌类需求。<br>（3）从商业角度来看，广告网络的销售模式与合约的方式相比，无须再满足广告主品牌独占的要求，而像是让国美和苏宁同时参与同一个人群的竞价，这使得提高市场流动性成为可能，而在合约广告中，这一点是很难做到的。<br>（4）由于广告网络根据实际消耗来计费，一般来说财务上采用广告主先充值的方式，这区别于合约广告投放结束后计费的方式，结果使得广告网络运营方的现金流状况大为改善。<br>广告网络存在 CPM、CPC 和 CPS 等不同的计费模式，不过最主流的计费模式是 CPC。我们有必要从计算的角度分析一下采用 CPC 计费模式的合理性：首先，从需求方来看，既然是各种媒体的不同广告位聚合在一起售卖，广告主无法知道每个媒体上广告的具体位置。而位置对于广告的曝光效果影响巨大，因此实际上广告主根本无法评估每次展示的出价，而在点击上出价，这个问题就没那么严重了。另外从供给方来看，由于淡化了广告位的概念，并且聚合了多个媒体的流量，广告网络可以接触到同一个用户比较丰富的网络行为，并且知道每次展示所在的媒体与广告位位置，因此比广告主更容易估计点击率。根据第 1 章中的讨论，由广告网络负责估计点击率，需求方根据对点击价值的估计来出价，是最合理的市场分工。<br>但是，对一些有特殊业务需求或者特殊数据来源的媒体或媒体组合来说，有时候希望能够直接从广告网络的广告库中挑选广告，并能够创造比广告网络自动挑选更多的价值。因此，某些广告网络也会对一部分合作供给方开放广告库供其自行挑选，这种广告网络的运营模式可以称为联盟（affiliate）模式。</p><h4 id="6-2-2-广告网络产品策略"><a href="#6-2-2-广告网络产品策略" class="headerlink" title="6.2.2 广告网络产品策略"></a>6.2.2 广告网络产品策略</h4><p>广告网络中的广告决策过程与搜索广告相比，流程要简单一些，如图6-10所示，分为检索、排序、定价等几个阶段。虽然流程相对简单，但是广告网络在广告检索和排序两个环节上面对的问题与搜索有些区别。</p><p><img data-src="/computational-advertising/computational-advertising-28.png" alt="图6-10　竞价广告网络广告决策过程示意"></p><p>1．广告检索<br>广告与搜索面对的文档其实不同，它往往是一个用布尔表达式表达的投放条件，而不可以简单看成一个词的集合。而像搜索那样的面向词集合的检索方案，对布尔表达式来说不是最有效的。在搜索广告条件下，这一问题并不突出，但是在展示广告网络中，这样的差别就值得重视了。<br>搜索广告检索与搜索基本一致，用常规的倒排索引技术就可以解决。展示广告网络与搜索广告不同，由于用户意图不明确，我们往往要将更多的关键字、兴趣标签同时用于检索过程，而实践也证明，使用更多的标签对于提高效果是有直接帮助的。将很多的标签同时用于一次检索也与搜索中的短查询情形差别很大，这可以描述为一个相关性检索问题，需要探索专门的方法。<br>以上两个问题主要都与具体的算法有关，在第 14 章中介绍广告技术时再详细讨论。</p><p>2．广告排序<br>竞价广告中排序的准则是 eCPM，而在采用 CPC 计费模式的情形下，对 eCPM 的估计转化为对点击率的估计问题。应该说，在搜索广告和展示广告网络这样的竞价广告产品中，点击率预测的问题才开始面临真正的挑战。<br>与广告位较规整、点击率较高的搜索广告相比，广告网络中的 CTR 预测有两方面的困难。首先，点击数据更加稀疏，而且需要同时考虑上下文和用户量方面的信息，这使得各种新广告、新策略的冷启动问题非常突出。如何设计好一个合理可行的冷启动策略，对展示广告网络来说至关重要。其次，广告网络中由于广告位的差别巨大，点击率的变动范围很大，这使得稳健地估计点击率变得相对困难。我们在后面讨论点击率预估技术时，将主要以展示广告的复杂情形为场景展开讨论，并将其与搜索广告的特例做对比。</p><h4 id="6-2-3-产品案例"><a href="#6-2-3-产品案例" class="headerlink" title="6.2.3 产品案例"></a>6.2.3 产品案例</h4><p>广告网络有两种不同的业务方向：一种是广泛承接各种广告库存并面向所有品类的广告主进行服务，称为水平广告网络；另一种则专门服务于某一种类型的广告主（如电商、游戏等），并寻找相关的媒体资源来搭建网络，称为垂直广告网络。下面我们分别举例来介绍这两种类型的广告网络。</p><p>Google Display Network<br>与 AdWords 只通过采用关键词来定向人群不同，AdSense 定向人群的方式更加多样化，可以通过一系列关键词或主题来确定相关的网页，或者通过人群兴趣、性别、历史访问信息等属性来定向人群，也可以通过这些定向条件的组合精确地选择想到达的网页和人群。与 AdWords 相比，广告主可以有机会接触更多的网页和流量。<br>在 AdSense 的生态圈中，媒体方会通过调整广告位置和格式、给页面补充合适的关键字以吸引更多同类广告等方式提高点击率。广告主方则会通过选择合适的定向条件和出价提高点击率。在这种机制下，用户会看到更多相关广告，而平台方也会有比较好的收益。</p><h3 id="6-3-竞价广告需求方产品"><a href="#6-3-竞价广告需求方产品" class="headerlink" title="6.3 竞价广告需求方产品"></a>6.3 竞价广告需求方产品</h3><p>竞价广告市场的产生对需求方的技术也提出了新的要求：原来通过直接与媒体签订保量合约的采买方式，变成通过竞价为广告主完成量与质需求的采买产品。具体来说，这样的产品需要具备一项基本功能，即按照广告主预算跨媒体一站式采买人群的功能。另外，还可以具备一项高级功能，即机器决策的 ROI 优化功能。<br>这样的需求可以分解为两个基本问题：一是如何挑选合适的目标人群；二是如何对各个目标人群给出合适的出价。由于竞价广告平台的决策过程对于需求方来说是个黑盒子，因此要解决好这两个问题其实并不容易。</p><h4 id="6-3-1-搜索引擎营销"><a href="#6-3-1-搜索引擎营销" class="headerlink" title="6.3.1 搜索引擎营销"></a>6.3.1 搜索引擎营销</h4><p>搜索广告对应的需求方产品，即通过竞价采买搜索引擎关键词来做推广，这就是搜索引擎营销，即 SEM。上面说的两个基本问题在 SEM 中具体表现为关键词选择和出价。对 SEM 来说，各个标签即关键词的流量是互不重叠的，这与展示广告受众定向标签之间可以做复杂的布尔运算不同。<br>首先来看关键词选择，如果广告主提供一些种子词，那么这个问题看起来非常类似于 6.1.3 节中的查询扩展问题，但又有相当大的区别：搜索引擎进行查询扩展的目的是为了提高自己的营收，而需求方进行关键词选择的目的是提高广告主采买流量的 ROI。这两个目标显然有着很大的区别，因此广告主更信赖代表需求方利益的 SEM 公司。不过 SEM 公司由于数据来源的问题，需要长期的数据积累才能达到较好的效果。同时，对于大量长尾的小型广告主，往往比较难于积累起足够的数据用于优化，因此这类 SEM 公司服务的对象主要是中型以上的广告主。<br>关键词选择和出价两个问题都有相当的难度。首先来看关键词选择，如果广告主提供一些种子词，那么这个问题看起来非常类似于 6.1.3 节中的查询扩展问题，但又有相当大的区别：搜索引擎进行查询扩展的目的是为了提高自己的营收，而需求方进行关键词选择的目的是提高广告主采买流量的 ROI。这两个目标显然有着很大的区别，因此广告主更信赖代表需求方利益的 SEM 公司。不过 SEM 公司由于数据来源的问题，需要长期的数据积累才能达到较好的效果。同时，对于大量长尾的小型广告主，往往比较难于积累起足够的数据用于优化，因此这类 SEM 公司服务的对象主要是中型以上的广告主。<br>对于出价的问题，传统的认识是广告主根据到达率、自己网站的转化率和客单价来估计点击价值，并以此点击价值为参考来出价。不过这忽略了一个问题，那就是各个关键词的转化率、客单价和市场竞争水平都有很大的区别，因此只有在不同关键词上做不同的出价，才能更深入地优化整体采买的 ROI。由于搜索广告的定向粒度很细，可以看出关键词选择和出价都是规模很大的优化问题，而且由于广告网络半封闭的竞价机制，数据的反馈和调整都不够及时，因此这一优化问题的技术挑战是比较大的。</p><h4 id="6-3-2-交易终端"><a href="#6-3-2-交易终端" class="headerlink" title="6.3.2 交易终端"></a>6.3.2 交易终端</h4><p>我们将面向 ADN、DSP 等的一站式采买平台称为交易终端（TD），与之类似的概念还有媒介采买平台，可以认为它们是同一类产品。<br>媒体采买平台的技术挑战主要在于 ROI 的优化部分，要合理地选择需要的受众定向条件，并在每个人群上优化出价，以保证量的要求和优化收益，是一个复杂的组合优化问题。由于无法具体控制每一次展示，其困难程度要高于后面实时竞价的情况下的效果优化。<br>无论是对接 ADN 还是 DSP，TD 都需要采取 API 接入的形式，才能完成自动的流量选择和优化。在程序化交易越来越普遍的今天，TD 主要对接的对象已经成了各种 DSP。</p><h4 id="6-3-3-产品案例"><a href="#6-3-3-产品案例" class="headerlink" title="6.3.3 产品案例"></a>6.3.3 产品案例</h4><p>EfficientFrontier<br>EfficientFrontier开始是一家专门从事SEM优化的广告技术公司。<br>他们的业务是通过关键词选择和出价，为搜索广告主提供大量关键词情形下的 ROI 优化。EfficientFrontier 采用金融领域的投资组合（portfolio selection）理论方法来解决这两个问题，而有效边界（efficient frontier）也是这一金融领域中的术语。这一问题是通过计算的方法确定一个投资组合中各个品种的投资比例，以达到期望收益最优情况下风险最小的理论。在各个投资期望收益水平下，相应的最小组合风险对应的曲线就称为有效边界。<br>如果将搜索广告里的标的物，即关键词，类比于股票，那么在一定预算的限制下分配各个关键词上的投入，以求达到整体 ROI 的最优，从框架上看非常类似于上述的投资组合问题。因此，EfficientFrontier 公司按照这一思路，将量化金融里的投资组合理论与计算广告技术结合起来，创造性地发展出了大规模的关键词出价优化技术。图 6-11 中给出了有效边界的一个示例，图中每个点代表一个广告投放设置，即关键词组合及其出价，而每一个组合也就对应了一个收入和成本。将各成本对应的最高收入的投放设置连接起来，就构成了有效边界曲线。找到这条有效边界曲线后，给定广告主的预算，就可以找到最佳的投放策略。在可选的关键词数量很大时，投放设置的集合规模非常大，再加上搜索引擎非实时的数据反馈，可以想见此优化问题的困难程度。<br>广告主优化广告投放收益的问题其实比优化股票收益还要复杂。由于广告主的收益就是 ROI，而无论是估计点击率还是估计点击价值都严重依赖于数据，因此这方面数据的积累实际上才是 EF 最核心的竞争力。为了获得更多的数据来强化其竞争力，它被 Adobe 旗下的 Omniture 收购也就符合逻辑了，因为 Omniture 是专门提供网站分析工具的公司，积累了大量的网站行为数据，这对优化 ROI 来说非常有价值。</p><p><img data-src="/computational-advertising/computational-advertising-29.png" alt="图6-11　SEM中的有效边界示意"></p><h3 id="6-4-竞价广告与合约广告的比较"><a href="#6-4-竞价广告与合约广告的比较" class="headerlink" title="6.4 竞价广告与合约广告的比较"></a>6.4 竞价广告与合约广告的比较</h3><p>从需求端来看，合约广告的采买方式对广告主来说缺乏透明性，唯一能做的就是在合约的层面预先约定好一些最关心的利益条款，但是很难做深入的优化。不过，合约的采买方式也有一定的好处，特别是可以对量的保证可以有预先的约定，这对于品牌性质较强的广告活动来说是比较有意义的。</p><h2 id="第7章-程序化交易广告"><a href="#第7章-程序化交易广告" class="headerlink" title="第7章 程序化交易广告"></a>第7章 程序化交易广告</h2><p>随着需求方优化效果的要求进一步加强，广告网络在产品形态上已经无法完全满足需要，而市场的一个重要发展方向是向需求方彻底开放。具体而言，除了允许广告主按照已经定义好的用户划分来购买，还要进一步提供广告主自行选择流量和在每次展示上独立出价的功能。这样的功能，必然要求询价、出价和竞价在展示时进行，这就产生了以实时竞价（即 RTB）为核心的程序化交易市场。</p><p>RTB 的产生使得广告市场向着开放的竞价平台的方向发展，这样的平台就是广告交易平台，即 ADX，其主要特征是用 RTB 的方式实时得到广告候选，并按竞价逻辑完成投放决策。与广告交易平台对应的采买方称为需求方平台，即 DSP。<br>从需求方来看，定制化的用户划分能力使得广告主可以像优化自己的推荐系统那样优化广告购买，唯一的区别是这个推荐系统是放在站外的。动态出价的产品需求以及广告主预算范围内的套利，要求 DSP 具备点击率预测、点击价值估计、流量预测、站外推荐等多方面的计算能力。除了站外推荐，新的技术发展趋势是根据广告主提供的种子用户，利用媒体数据为广告主找到行为相似的潜在用户。这样的一些定向方式都是针对 (a, u) 组合的定制化用户划分。<br>在需求方的利益得到充分保证后，媒体的变现手段也发生了相应的变化。发展到今天，媒体至少有 4 种广告变现选择：合约售卖方式、自营竞价广告网络、集成其他广告网络、通过 RTB 市场变现。如何动态地选择这 4 种模式中变现价值最高者，最大化媒体收益，是供给方的需求痛点。在这样的需求驱动下，产生了 SSP 这种优化媒体利益的产品。<br>除了交易模式的改变，程序化交易还催生了另外一个重要的市场：数据加工和交易市场。开放的交易模式使得广告主可以自由地使用各种数据指导投放，而 RTB 过程又为附带的数据交易提供了天然的基础设施。因此，在程序化交易时代，数据加工和交易规模化地发展了起来。作为数据加工与交易的两个关键产品，即数据交易平台（data exchange）和数据管理平台（即 DMP），分别从第三方数据和第一方数据入手，为市场提供了有价值的数据源或数据加工服务。</p><h3 id="7-1-实时竞价"><a href="#7-1-实时竞价" class="headerlink" title="7.1 实时竞价"></a>7.1 实时竞价</h3><p>先来直观地了解一下，为什么广告交易会向实时竞价的方向发展。竞价广告网络中的受众定向虽然可以很精准，但是还是会有一些完成不了的场景。例如，某广告主希望对自己的流失用户进行一次广告促销，或某广告主希望广告平台帮助找到与其现有用户类似的潜在用户。显然，无论怎样选择在广告网络中既有的人群标签，都不可能完成上述的任务。实际上，这两个任务有一个共同的特点，即在做人群选择时，需要利用广告主自有的数据。我们称这样的人群标签为定制化用户划分（customized audience segmentation）标签。<br>利用定制化标签进行投放，在传统广告网络中并非完全无法解决：对于最常见的重定向，采用由广告网络在广告主网站布设代码或 SDK 的方式，也可以收集人群和投放广告；而对于一般的定制化标签，可以采用由广告主上传用户 ID（cookie 或移动设备 ID）集合的方案，由广告网络来决策和投放，例如 Facebook 的广告产品就提供这样的功能。不过，这样的方案仍然存在着很多问题。<br>（1）这种定制化标签的数量是与广告主的量级成正比的，将这些标签由广告平台集中加工使用，显然是一个低效的解决方案。<br>（2）除了定制化的人群库，需求方往往还对频次、时间、地域等诸多因素有综合决策的需求，而简单地上传用户 ID 集合显然无法达到这样的目的。<br>（3）简单的人群库交互无法做到精细的出价和预算控制。<br>因此，采用广告网络这样的封闭式竞价方案，是无法规模化和精细化地针对定制化标签做投放的。什么样的解决方案更加合理呢？其实很简单，只要把竞价过程开放，在广告展示时由需求方来判断是否需要并出价，就可以解决上面的问题，这样的思路就产生了实时竞价。因此，我们认为：<br>用定制化标签指导广告投放，是实时竞价的关键产品目标。<br>实时竞价的交易方式不仅解放了相关的效果类广告需求，也为品牌广告创造了全新的机会。我们知道，品牌广告的核心在于其人群触及策略，但无论在展示量合约广告，还是竞价广告网络中，人群的定义方式都由广告平台决定，需求方基本没有加工的自由。然而，在实时竞价交易中，服务于品牌广告主的 DSP 可以根据市场上采买的各种数据，为某个特定的广告主加工特有的人群，完成更加符合其市场策略的人群触及。因此，我们会发现，品牌广告的预算基本上没有进入竞价广告网络，但是在向程序化交易转移。</p><h4 id="实时竞价的流程"><a href="#实时竞价的流程" class="headerlink" title="实时竞价的流程"></a>实时竞价的流程</h4><p>实时竞价的产品接口可以分成两个过程，即预先将 ADX 与 DSP 的用户标识对应的 cookie 映射（cookie mapping）过程以及线上广告请求时的竞价与投放过程，如图 7-2 所示。下面我们分别介绍一下这两个过程。</p><p><img data-src="/computational-advertising/computational-advertising-30.png" alt="图7-2　实时竞价（RTB）过程示意"></p><p>（（1）用户标识映射（cookie 映射）。当供给和需求双方都可以得到同样的用户标识时，例如在移动上用 IDFA 或 Android ID 投放时，并不需要此映射过程。但是在 Web 环境下根据 cookie 投放广告时，映射过程不可避免。cookie 映射一般是由 DSP 在广告主网站上发起，这样做的原因是，一般情况下 DSP 负责的是加工广告主定制受众标签，因而不需要对所有用户都做映射。映射过程又可以细分为以下两个步骤。<br>1）用户标识映射（cookie 映射）。当供给和需求双方都可以得到同样的用户标识时，例如在移动上用 IDFA 或 Android ID 投放时，并不需要此映射过程。但是在 Web 环境下根据 cookie 投放广告时，映射过程不可避免。cookie 映射一般是由 DSP 在广告主网站上发起，这样做的原因是，一般情况下 DSP 负责的是加工广告主定制受众标签，因而不需要对所有用户都做映射。映射过程又可以细分为以下两个步骤。<br>步骤 1.1：从广告主网站向 DSP 服务器发起 cookie 映射请求。<br>步骤 1.2：DSP 与 ADX 服务器之间通信完成 cookie 映射。由于 cookie 映射这项专门技术的应用范围不仅限于 RTB，我们将在第 16 章中介绍实时竞价技术时对其进行详细讨论。<br>（2）广告请求（ad call）。RTB 的广告请求可以分为以下 3 个步骤。<br>步骤 2.1：当用户接触到媒体网站的广告位时，前端向 ADX 发起广告请求。<br>步骤 2.2：ADX 向各 DSP 传送 URL（或应用 ID）和用户标识，发起询价请求。如果是 Web 环境，DSP 还要根据 cookie 映射查出对应的己方用户标识。随后，DSP 根据数据决定是否参与竞价，如果参与则计算并返回自己的出价。在等待一个固定的时间片后，ADX 选出出价最高的 DSP 返回给媒体网站。<br>步骤 2.3：媒体网站从胜出的 DSP 拿到广告创意并展示。<br>其中步骤 2.2 和步骤 2.3 可以合并为一步，即 DSP 同时返回出价和广告创意地址，由 ADX 返回给媒体。这样做的好处是减少了一次服务器往返，用户看到的广告延迟也会减少，缺点是 ADX 可以获得 DSP 某个广告商的相关受众，因而存在信息泄露风险，不太符合 ADX 中立市场的地位。<br>实际产品中，这两种方式都有采用。实时竞价的交易方式，给予了广告主最大的流量选择空间，也对系统提出了更高的要求，并且带来了下面这些实际的问题。<br>（1）每次展示都有 ADX 服务器与多个 DSP 服务器的参与，这使得服务器与带宽成本大大增加。读者可以简单计算一下，假设每个广告请求包的大小是 1 KB，每秒产生 5 000 个广告请求，在将每个广告请求都发给 10 个 DSP 的情形下，需要的带宽就将达到 400 Mbit/s，而这样的数字对 ADX 来说只是一个不大的规模。<br>（2）在询价过程中，ADX 要等待一个约定好的时间片（一般为 100 ms 左右），这使得用户看到的广告延迟增加，对 CTR 有负面影响。但是，在移动应用内广告场景下，由于客户端可以缓存广告创意，这一问题的影响变得不太严重。<br>（3）原理上，DSP 可以以极低的出价参与竞价，这样虽不能获得流量，却可以低成本得到媒体的用户行为数据，这里存在着潜在的信息泄露风险。<br>需要特别提醒的是，实时竞价中的“实时”这一限定，特指的是需求方实时地，也就是在每一次展示时参与广告竞价，而供给方对不同广告实时比价的过程，在前面讲到的一般竞价广告中也存在。因此，不要把搜索广告、广告网络等也理解成实时竞价产品。</p><h3 id="7-2-其他程序化交易方式"><a href="#7-2-其他程序化交易方式" class="headerlink" title="7.2 其他程序化交易方式"></a>7.2 其他程序化交易方式</h3><p>在实时竞价产生以后，广告交易越来越多地依赖机器间的在线通信，而非事先约定或由人工操作完成，这样的交易方式称为程序化交易。程序化交易的核心目的是让需求方能够自由地选择流量和出价。除实时竞价以外，市场上还存在若干其他的程序化交易方式，IAB 在其报告中，根据库存类型和价格模式这两个关键产品特征，把市场上与程序化交易相关的交易方式分成 4 类，如表 7-2 所示。</p><p>表7-2　IAB总结的与程序化相关的交易方式<br>|交易方式|库存类型|价格模式|参与方式|市场术语举例|<br>|—|—|—|—|—|<br>|担保投送优化|预留|定价|一对一|programmatic direct, programmatic premium|<br>|非预留定价交易|非预留|定价|一对一|preferred deals, private access, ﬁrst right of refusal|<br>|邀请制竞价交易|非预留|竞价|一对少量|private marketplace, private auction, closed auction, private access|<br>|公开竞价交易|非预留|竞价|一对多个|real-time bidding (RTB), open exchange, open marketplace|</p><h4 id="7-2-1-优选"><a href="#7-2-1-优选" class="headerlink" title="7.2.1 优选"></a>7.2.1 优选</h4><p>优选（preferred deal）比实时竞价产生要早，可以看成是只有一个需求方的程序化交易，其交易过程如图7-3 所示。</p><p><img data-src="/computational-advertising/computational-advertising-31.png" alt="图7-3　优选交易过程示意"></p><p>优选方式允许单个需求方既可以按照自己的意愿来挑选流量，又可以避免复杂的竞价过程。这个过程主要有以下 5 个步骤。<br>（1）用户访问媒体页面。<br>（2）媒体页面通过 JavaScript 代码或 SDK 向供给方广告投放机发起广告请求。这里的供给方广告投放机，有时是媒体自己的广告投放机，有时则是其他供给方产品的广告投放机。<br>（3）供给方广告投放机向需求方的广告投放机发起请求，询问是否需要此次广告展示机会。<br>（4）需求方广告投放机判断是否需要此次展示机会，如果需要，则返回相应的广告创意。<br>（5）需求方如果不需要此次展示机会，则通知媒体广告投放机，由供给方广告投放机从自有广告库中选择合适的创意返回。<br>优选过程同样可以使需求方自由地挑选流量，因此也是一种程序化交易方式。因为只有一个需求方参与，所以媒体比较容易控制广告的质量和来源。优选一般按 CPM 计费模式计费，由于没有了多方竞价，又有选择流量的便利，因此往往要约定一个比市场价格更高的 CPM 单价。与 RTB 相比，优选的一个缺点是决策过程可能存在比较多的投放机往返：在极端情况下，需要 3 次投放机的往返才能够得到最后的广告。</p><h4 id="7-2-2-私有市场"><a href="#7-2-2-私有市场" class="headerlink" title="7.2.2 私有市场"></a>7.2.2 私有市场</h4><p>除了实时竞价这种公开市场拍卖机制，有时媒体为了保证广告主的质量，希望将拍卖限制在一些被邀请的需求方的小范围内。这种程序化交易叫作私有市场。私有市场中的在线交易过程与公开的实时竞价一致，在此不再赘述。<br>私有市场兼顾了优选与实时竞价的好处：首先，私有市场与优选一样，是一种邀请制而非公开的交易方式，因此广告主的质量可以较好地控制，这有利于确保媒体的价值不受伤害；其次，在被邀请的各需求方之间仍然保留了竞价的关系，这有利于提升媒体的变现能力。当然，与实时竞价相比，这两点主要都是对媒体有利，因此私有市场往往是大型优质媒体在考虑程序化交易时的选择。私有市场使更多的优质媒体加入程序化交易市场，反过来可以促进品牌广告投放的程序化进程。<br>从 2014 年开始，私有市场在整个程序化交易市场中得到了越来越多的重视，以 DoubleClick ADX、Mopub 等为代表的主流 ADX 都在大力加强私有市场的产品和服务。可以预见，随着私有市场与公开市场的充分发展与融合，程序化交易能在效果与品牌、媒体利益与广告主利益的平衡方面变得越来越成熟。</p><h4 id="7-2-3-程序化直投"><a href="#7-2-3-程序化直投" class="headerlink" title="7.2.3 程序化直投"></a>7.2.3 程序化直投</h4><p>程序化直投属于直接购买与实时竞价之间过渡的一种交易模式。这种方式的特点是，交易本身仍然以定价、保量或半保量的方式完成，但是需求方可以自行对采买的库存做广告投放决策，有时也可进行一定的流量选择。一般来说，程序化直投主要有以下几种应用场景。<br>（1）跨媒体频次控制。在传统的合约广告模式中，各个媒体分别与广告主签订合同，而媒体负责合同的执行。当同一个用户在不同的媒体上出现时，频次控制也是分别进行的，这对于预算的有效利用是不利的。而在 PDB 模式中，DSP 代表广告主可以进行广告投放，因此也就可以进行跨媒体的频控，这是此种交易模式的优势之一。<br>（2）多个子产品流量分配。对于一些集团性的大广告主，如宝洁、大众等，往往有多条子产品线有广告投放的需求。于是，在统一采买的资源上对子产品进行流量的再分配也就成了切实存在的需求。在 PDB 模式下，需求方的广告投放机可以根据自有的 CRM、DMP 以及自行决定的策略在子产品之间灵活地分配流量，相当于将采买的资源变成了一个内部的 ADN，这对于提高流量使用价值非常重要。<br>（3）一定比例的还量。部分媒体在支持 PDB 方式时，向 DSP 提供了一定比例的还量自由（例如可以返还 20% 的广告请求），这使得 DSP 获得了介于合约购买与 RTB 之间的流量选择能力。在频次过高或人群不匹配时，DSP 可以利用还量权力决定不投放广告。不过，这种还量远非 RTB 那样彻底，仍然是一个有较强约束的优化过程，实际的优化效果也相当有限。</p><h4 id="7-2-4-广告交易方式谱系"><a href="#7-2-4-广告交易方式谱系" class="headerlink" title="7.2.4 广告交易方式谱系"></a>7.2.4 广告交易方式谱系</h4><p>现在我们对在线广告市场上主流的交易方式做一个小结。如图7-4所示，按时间段和广告位独占式的售卖，以及展示量合约的售卖，是销售与客户之间将广告投放的关键要求约定下来的交易方式，其中人的因素起了相当大的作用，不过这种售卖一般来说由于能满足一些品牌性需求，溢价能力也较强，属于高质量媒体优先考虑的售卖方式，我们将其称为优先销售（premium sale）。从技术层面来说，优先销售整体对计算的要求不算特别深入，而且主要技术集中在供给方（如在线分配、受众定向）。</p><p><img data-src="/computational-advertising/computational-advertising-32.png" alt="图7-4　在线广告主要交易方式一览"></p><p>在竞价广告网络的市场形态下，对供给方而言，可以通过将广告位直接托管给 ADN 的方式变现，也可以同时使用给多个广告联盟，按照一些规则或模型对不同的流量分割选择不同的 ADN，这称为网络优化（network optimization），7.4 节中还会讨论。对需求方而言，存在着选择合适的人群标签并合理出价，以优化整体 ROI 的需求。这样的交易方式虽然已经比较依赖计算，但是双方的决策并不是实时完成，效率还没有达到最高。我们可以把这种交易方式称为半程序化交易。<br>在实时竞价市场中，程序交易的过程变得更加简单直接，通过 RTB 或优选等接口，DSP 与 ADX 直接对接，并完成精细的流量采买。我们在图 7-4 中列出了包括优先销售和程序化交易等各种在线广告主要的交易方式，供大家参考。</p><h3 id="7-3-广告交易平台"><a href="#7-3-广告交易平台" class="headerlink" title="7.3 广告交易平台"></a>7.3 广告交易平台</h3><p>广告交易平台，即 ADX，是程序化交易时代的关键产品，它负责将媒体流量以拍卖的方式售卖给 DSP。<br>ADX 的产品策略较为简单，由于所有的广告竞价都是实时进行，因此不需要保存广告库，也不需要广告检索流程，排序过程也非常简单。广告交易平台中需要注意的产品策略，主要是如何解决给多个 DSP 发广告请求带来的带宽和机器成本的上升。这一问题，我们称为询价优化（call out optimization）。询价优化的具体技术方案将在第 16 章中再做介绍。<br>ADX 一般采用 CPM 计费模式，这一点要特别说明一下。我们前面提到过，展示量合约采用 CPM 计费模式计费，但是不同的广告位一般要放在不同的合约中，分别定价；而广告网络由于广告位复杂，一般只能采用 CPC 计费模式计费。那么为什么在情况与广告网络类似的广告交易市场中可以采用 CPM 计费模式计费呢？原因在于，在实时竞价中，广告决策是由 DSP 完成的，而且对每次展示都可以得到广告位信息。因此，虽然各个广告位的点击率差别很大，但是 DSP 还是可以自行精细估计点击率，并实时计算出当前展示的合理 eCPM。并且，由于第一方数据在程序化交易中的广泛使用，DSP 对于人群在特定广告上产生的效果，往往能够估计得更加精细。因此，采用 CPM 计费模式计费，将 eCPM 整体的估计都交给需求方是比较合适的市场分工。</p><h4 id="产品案例"><a href="#产品案例" class="headerlink" title="产品案例"></a>产品案例</h4><p>DoubleClick ADX<br>DoubleClick 作为一个 ADX，连接了众多广告网络和 DSP，当一次广告展示发生时，AdSense 和 AdWords 只是作为其中两个参与者而已，AdWords 赢得的展示并不一定在 AdSense 上展示，在 AdSense 上展示的广告也不一定是来自 AdWords 的。<br>DoubleClick 提供的是一个完全透明、理论上任何 DSP 都可以对任何流量竞价的公开交易市场。媒体一般会允许一些或所有需求方通过这种方式接入他们的流量。通常不会与需求方产生直接交流，媒体主可以在完全不知情的情况下参与公开市场流量竞拍。<br>DoubleClick 的公开透明的 RTB 模式克服了 RightMedia 由于历史问题带来的一些设计上的不足，在其 ADX 的拓扑结构设计上有其独到之处。RightMedia 在拓扑结构设计上，任意两个媒体间换量需要双方签订合同，即在会进行换量的媒体间连边，伴随着换量的媒体的增多，节点之间的连接是任意的，没有规律，这带来了设计上的复杂性。DoubleClick 采用了星形拓扑结构，媒体直接换量需要先经过谷歌公司，直接和谷歌公司签订合同，这么做一方面降低了 ADX 模式的复杂性，另一方面将单纯的分成收益拆分成了两份合同里的收入和成本，也增加了谷歌公司的现金流。</p><h3 id="7-4-需求方平台"><a href="#7-4-需求方平台" class="headerlink" title="7.4 需求方平台"></a>7.4 需求方平台</h3><p>与 ADX 相对应，程序化市场中的需求方产品就是 DSP。DSP 产品的核心特征有两个：一个是 RTB、优选等程序化的流量购买方式；另一个是支持需求方定制化用户划分的能力。这两个核心特征其实是同一问题的两个方面：为了按需求方定制化的用户划分采买广告，需要市场开放竞价接口；但如果仅根据供给方定义的用户划分来采买，那么像广告网络那样的非实时竞价也就够了。<br>什么是定制化用户划分呢？从受众定向的角度看，那些形如 t(a, u) 的定向方式，即与广告主相关的定向方式，就是定制化用户划分。举两个直观的例子。先看第一个例子，假设某电商网站准备进行一次面向其老客户的广告投放，这里的“老客户”就是一种定制化用户划分，显然只有该电商自己才能找到这个用户群，而任何媒体或广告网络，无论数据能力有多强，也无法加工出这样的标签。再看第二个例子，某银行希望通过广告接触到自己信用卡的潜在客户。要找到这些潜在客户，我们需要以银行现有的客户作为基础，分析其行为和人口属性有哪些特征，然后再根据这些特征去拓展可能的潜在客户。这一过程既需要需求方的数据，又需要媒体或第三方数据，而其加工出的人群仍然是与广告主相关的，因此也属于定制化用户划分。<br>[1]　本书用“定制化”一词来表示对不同客户的不同结果，而用“个性化”一词来表示对不同用户的不同结果。<br>由于可以细分到每次展示来决策和出价，使得推荐和广告这两项互联网重要的产品找到了完美的契合点。</p><h4 id="7-4-1-需求方平台产品策略"><a href="#7-4-1-需求方平台产品策略" class="headerlink" title="7.4.1 需求方平台产品策略"></a>7.4.1 需求方平台产品策略</h4><p>DSP 的广告决策过程（见图 7-5）与广告网络非常相似，同样先要经过检索、排序、定价几个阶段，主要的差别是完成广告选择后，增加了一个出价的步骤。因为在实时竞价环境中，出价直接决定着 DSP 的流量基本单位成本和利润，所以出价是 DSP 的关键产品策略之一。<br><img data-src="/computational-advertising/computational-advertising-33.png" alt="图7-5　需求方平台广告决策过程示意"><br>DSP 与广告网络另一个不同的产品策略问题，体现在受众定向的方式上。在广告网络中，主流的定向方式都是根据第二方数据加工的标签；但是在 DSP 中，以第一方数据为核心，结合第二方或第三方数据的定制化标签，即 t(a, u)的定向方式，是其关注的重点。在各种定制化标签中，重定向和新客推荐的方法具有一定的普适性，是 DSP 需要特别重视的产品策略。<br>下面我们来讨论一下 DSP 中这两个关键的产品策略。</p><h4 id="7-4-2-出价策略"><a href="#7-4-2-出价策略" class="headerlink" title="7.4.2 出价策略"></a>7.4.2 出价策略</h4><p>在竞价广告网络中，估计 eCPM 的目的是为了对广告进行排序，而绝对的 eCPM 值并不需要太精确。但是在 DSP 中，由于每次展示都要按 CPM 向 ADX 报价，因此准确地估计 eCPM 非常关键，这也成为 DSP 出价策略的基础。<br>DSP 直觉的出价策略比较简单，只要 eCPM 估计足够精准，并按照此值出价即可。由于 ADX 一般也是按照 GSP 来计费，这样的策略是可以确保有利润空间的。如果高于此价格出价，则可能存在亏损的风险，如果低于此价格出价，则没有充分利用流量。如果没有预算的限制，那么这样的出价策略就是最优策略了。<br>为什么预算的限制使得情况有变化了呢？我们来看一看图 7-6。图 7-6 中的曲线是某 ADX 的成交价在一天内随时间变化的曲线[29]。我们发现，由于市场中各 DSP 的广告主、预算及出价的变化，这一曲线不但不平滑，甚至变化还非常剧烈。在这样的市场中，假设我们的 eCPM 是某高于市场水平的固定值，可以比较两种出价策略。</p><p><img data-src="/computational-advertising/computational-advertising-34.png" alt="图7-6　DSP不同出价策略"></p><p>（1）由于 eCPM 高于市场水平，我们可以对所有询价按 eCPM 出价，这样可以获得所有流量，直至当日预算消耗完，即图 7-6 中的策略 A。<br>（2）我们选择一些市价较低的流量出价，获得这些流量，直至当日预算消耗完，即图 7-6 中的策略 B。<br>很显然，采用策略 B 中我们付出的成本，要显著低于策略 A，当然也就能获得更高的利润。<br>在上面的例子中，DSP 优化的出价策略可以定性地描述为：首先，通过历史的观察和预测，得到市价的曲线；然后，将一天的预算分配到那些市价较低的流量上。当然，实际情况要更加复杂，因为 eCPM 也会随着时间而变化，例如游戏广告在休闲时间的 eCPM 显著高于上班时间。于是我们希望获得的并不是市价较低的流量，而是 eCPM 与市价的比例较大的流量。因此，DSP 的出价策略要基于两条曲线，即 eCPM 和市价随时间变化的曲线。<br>当然，除了在时间轴上找合适的出价区间，也可以将此策略拓展到更多的维度上。例如，一般来说女性用户流量的商业价值较高，市场价也可能会比较高，如果 DSP 广告在男女用户的 eCPM 上差别不大，甚至在男性用户上更高（如游戏），那么就应该尽量多投放男性流量，以获得更高的利润。不过，加入更多维度使问题变得复杂了很多，而且其他因素对市场价的影响没有时间那么大，因此，做好时间轴上的出价策略是实践中最关键的。</p><h4 id="7-4-3-出价和定价过程"><a href="#7-4-3-出价和定价过程" class="headerlink" title="7.4.3 出价和定价过程"></a>7.4.3 出价和定价过程</h4><p>DSP同时存在面向广告主的定价过程和面向ADX的出价过程，而这两个过程又有密切的关联。我们考虑DSP在各个广告主之间按CPC竞价方式收费的情形，在这种情况下，出价和定价的过程如图7-7所示。</p><p><img data-src="/computational-advertising/computational-advertising-35.png" alt="图7-7　DSP出价与定价过程示例"></p><p>DSP 对各个广告候选估计 eCPM 并进行排序，由于向排名第一的广告主（图 7-7 中的 a1）收费时，要按 CPC 的第二高价 p1 = r2/µ1，因此向 ADX 的 CPM 出价也要等于 r2。值得一提的是，由于 ADX 一般也采用第二高价，因此 r2 已经是最优出价策略，当然在有预算限制的情况下，策略会有所不同，详见 16.2.4 节中的讨论。<br>如果 DSP 赢得了实时竞价，那么 ADX 会按照第二名 DSP’ 的出价 b’ 向 DSP 收取费用。在这种情形下，DSP 就获得了 b − b’ 的期望收益。但是，在 DSP 按 CPC 向广告主收费的情形下，这只是期望而非确定的收益。</p><h4 id="7-4-4-重定向"><a href="#7-4-4-重定向" class="headerlink" title="7.4.4 重定向"></a>7.4.4 重定向</h4><p>它的概念很简单，即把那些曾经对广告主服务发生明确兴趣的用户找出来，向他们投放该广告主的广告。在不同的广告类型上，重定向主要有以下两种目的。<br>（1）用于品牌广告。当用户已经选择过某品牌的服务或产品后，如果在质量比较高的媒体上看到该品牌的广告，这个用户会进一步肯定自己决策的正确性，从而对该品牌的认知度也大大加强。这种用途下，应当以宣传品牌而不是具体产品为主要诉求。<br>（2）用于效果广告。当用户曾经考虑过某种产品，但没有完成最终转化，通过在线广告将这个用户找回，点击率和转化率都会明显高于平均水平。如果用户已经选择了该产品，那么可以利用推荐技术向这个用户推送相关的产品广告。<br>重定向可以根据信息来源和使用信息的精细程度区分为网站重定向、个性化重定向和搜索重定向。下面分别加以说明。</p><p>1．召回重定向与个性化重定向<br>网站重定向（site retargeting），即将在一段时间内到达过广告主网站或应用的用户作为重定向集合。这样的重定向流量其 eCPM 一般来说要比无定向流量高出一个数量级，因此需要尽可能扩大投放量。在媒体上采买这种重定向流量时，能够得到的量有两个主要影响因素，一是广告主网站本身的访客量水平，二是这些访客与媒体的重合程度。前一个因素没有办法通过广告手段扩大，而后一个因素则要求尽可能多地通过各种渠道采买重定向流量，显然 DSP 是合适的方式。<br>个性化重定向（personalized retargeting），是召回重定向的一种特例。对重定向流量进行深入加工，按照品类和购买阶段等因素进行创意上的深度个性化，就是个性化重定向。具体来说，个性化重定向可以在两个方面做深入挖掘：一是对于处于不同购买阶段的用户，采用合适的创意推动他尽快完成转化行为，这里的购买阶段包括浏览、搜索、加入购物车等；二是对于已经有过一些购买记录的用户，使用推荐技术向其展示相关的商品以提升二次购买率。从这两层意义上看，这一方法与推荐有非常多的共通之处：从广告产品的视角看，我们称之为个性化重定向；而从推荐产品的视角看，则可以认为是一种站外推荐（off-site recommendation），换句话说，是将原来广告主网站上的推荐模块搬到了站外。<br>在图 7-8 中，我们给出了个性化重定向广告的一个示例。该广告投放的对象是某个京东商城的用户。该用户很可能在京东商城关注过某种手机商品，以及有关 PHP 编程的技术书。因此，广告系统根据他的个性化购物兴趣，结合京东商城的商品库存，为其推荐了相关的手机和技术书籍。可以想见，这样的广告其点击率和转化率都会比较高。</p><p><img data-src="/computational-advertising/computational-advertising-36.png" alt="图7-8　个性化重定向广告示例"></p><p>个性化重定向与传统的受众定向方式有较大的差别，其产品关键有以下几点。<br>（1）动态创意。个性化重定向的核心是用推荐的思路实时决定展示什么商品。由于广告主的商品数量往往相当大，因此显然不可能为所有的商品组合预先准备好创意。因此，动态创意是个性化重定向最重要的支持技术，这也是在线广告朝着彻底个性化、动态化方向发展迈出的重要一步。<br>（2）推荐引擎。个性化重定向可以看作是站外推荐。不过与站内推荐相比，它有一些不同之处：首先，站内商品页上的推荐主要根据上下文信息来进行，而站外推荐则是根据用户信息来进行；其次，站内推荐由于是发生在某个特定的购买环节上的，因而往往不需要根据用户的购买阶段来调整创意，而站外推荐这么做则非常必要。<br>（3）广告主商品库存实时接口。对于站外的商品推荐，如果用户在点击某单品到达广告主网站时，发现该商品已经售完或下架，或者是价格与创意上的宣传不符，会对该广告主的品牌形象有较严重的伤害。为了尽可能避免这种情况的发生，个性化重定向服务需要提供准实时的商品库接口，让广告主可以及时地将库存和价格信息同步过来。</p><p>2．搜索重定向<br>搜索重定向（search retargeting），即将搜索过与广告主直接相关的关键词的用户群作为重定向集合。这样的方式也可以获得很精准的用户群，其绝对量也要高于网站重定向，不过对于非主要搜索引擎提供商来说，依靠搜索重定向能覆盖的人群比例未必会高于网站重定向。<br>既然搜索重定向使用的是搜索引擎的第二方数据，那么为什么也归为定制化标签呢？这要从如何获得搜索重定向中用的词表说起。给一次广告活动确定合适的搜索重定向词表，一般来说有下面3种思路。<br>（1）人工根据经验确定词表。<br>（2）如果该广告主同时也在搜索引擎投放，可以直接采用对应投放的关键词表。<br>（3）基于广告主流量统计的方法，即统计广告主网站流量中从搜索引擎来的流量，将其中频度较高的关键词作为搜索重定向词表。<br>其中最后一种策略在实践中表现出来两方面的优势：首先，由于是根据实际流量数据统计得到，效果往往比其他方法更好；其次，通过在广告主网站布置代码等手段得到第一方数据后，整个过程可以自动化，简便易行。因此，我们建议的首选搜索重定向策略，是第三种策略，而这种策略需要依赖于第一方数据，因此也是一种定制化标签。</p><h4 id="7-4-5-新客推荐"><a href="#7-4-5-新客推荐" class="headerlink" title="7.4.5 新客推荐"></a>7.4.5 新客推荐</h4><p>重定向的方式虽然精准，但是量受到极大的限制。而且对于大部分广告主来说，除了对老用户精耕细作，他们更希望能有办法接触到那些“有可能”对自己产品发生兴趣的潜在用户。对于那些处于快速成长期的电商，或者是网站流量并不大的线下业务广告商（如银行、汽车），这方面的需求尤其强烈。<br>“有可能对自己产品发生兴趣”这样的用户标签，从目的上来说很明确，但从做法上来说比较模糊。很容易想到的思路是：由广告主根据自己的第一方数据提供一部分种子用户，再由拥有更丰富数据的第二方数据的广告平台分析这些用户网络行为的特征，并根据这些特征找到具有相似特征的拓展人群。很显然，这也是一种定制化用户标签。这样的标签加工策略称为“新客推荐”。<br>从推荐的角度来看新客推荐，重点在于向没有关注广告主产品的潜在用户推广。既然是推荐，就不是漫无目的的撒网式推广。另外，这样的推荐技术，考虑的是没有广告主站内行为情况下的推荐，是原有狭义推荐问题的扩展。<br>新客推荐是一种合理的受众定向产品思路，但是要在一定的数据支持下才有可能产生价值，并且由于它涉及第一方数据和第三方数据的获取与加工，在技术上是有一定的挑战的。读者在遇到这类产品时，要特别注意从数据和技术方案合理性的角度判断其真正价值。不客气地说，在中国市场，“新客推荐”这个词已经在一定程度上变成了效果不明、原理解释不清的定向方式的遮羞布，而几乎所有的广告产品都声称自己有此项能力，这实在可以称为中国的“新客推荐乱象”。</p><h4 id="7-4-6-产品案例"><a href="#7-4-6-产品案例" class="headerlink" title="7.4.6 产品案例"></a>7.4.6 产品案例</h4><p>定制化用户划分和 RTB 技术的产生，催生了许多以技术方式优化广告采买的 DSP 公司。这些公司当中，有些以 CPM 采买并优化 ROI 的套利模式为主；有的则以透明的采买和效果优化功能性服务为主。</p><p>1．Criteo<br>Criteo 的重点产品是按照个性化重定向方式采买广告。其核心技术也就是前面介绍的 3 项：动态创意、推荐引擎和广告主商品库存实时接口。<br>Criteo 按照 RTB 或优选的方式，以 CPM 计费模式与媒体结算，但是与广告主之间的结算完全采用 CPC 计费模式，从而实现套利，并且也比较容易被效果类广告主接受。在个性化重定向的方案框架内，Criteo 还提供了 user、category、data 和 banner 这 4 个维度上比较灵活的优化功能，即广告主可以根据不同的用户细分、商品种类、具体数据和创意类型设置不同的点击出价，从而达到非常精细的 ROI 管理和优化的目的。这样的展示广告运营和投送方式，其精细程度与搜索广告有相似之处：都是在非常精准的流量细分上以效果为导向投放广告，并且能够在非常精细的粒度上控制出价。不过，这种方式对展示广告来说有一些先天的缺点：个性化重定向不同于搜索广告，需要预先在广告主网站布置跟踪代码，这使得新广告主加入的进程变得大为复杂。因此，专门从事个性化重定向的公司，在初期会面临需求不足的问题，并且需要运营商大量的努力和效果上良好的记录才能逐步改善，而 Criteo 也同样经历了这一过程。</p><p>2．InviteMedia<br>InviteMedia 原是一家独立的 DSP 公司，它在 2010 年 6 月以约 7 000 万美元的价格被谷歌公司收购，现已整合进 DoubleClick 的广告系列产品，并改名为 DoubleClick Bid Manager。虽然谷歌在广告产品中全线布局，但 InviteMedia 被整合后仍然保持相对独立，和代表媒体利益的 DoubleClick ADX 之间仍然是相互博弈的关系。<br>其业务是提供比较透明的 RTB 采买功能，例如，设定一些规则和优化目标，帮广告主把相关 ADX 接入进来，并从中收取固定比例的佣金，希望借此方式快速拓展广告主端的影响力。当然，随着业务发展，现在也正在提供越来越深入的采买 ROI 优化服务。同时伴随着 2013 年 InviteMedia 将域名切换到 DoubleClick 的域名 dc.com，InviteMedia 不再需要和 DoubleClick ADX 进行 cookie 映射，减少了由 cookie 映射带来的损失，从而提升了采买的效率和最终投放的效果。</p><h3 id="7-5-供给方平台"><a href="#7-5-供给方平台" class="headerlink" title="7.5 供给方平台"></a>7.5 供给方平台</h3><p>我们再来看看在程序化交易产生以后，供给方的收益优化方案。对于媒体而言，没有必要把全部流量变现都放在一种交易方式上，媒体既可以通过直接销售来高溢价地售卖品牌广告，也可以综合使用各种程序交易方式以追求更高的填充率。<br>参照 7.2 节中的广告交易方式谱系，媒体的变现平台可以采用这样的产品逻辑：当广告请求到达时，首先检查优先销售的订单有无需求，这包括 CPT 和 CPM 的合约，如果有需求，按照优先级和在线分配的方案完成投放；如果没有这类销售合约，则进入竞价流程，从自运营广告主库中找出 eCPM 较高的，并估算可供调用的若干广告网络的 eCPM，在这两者之间找到较高的，再以此为 MRP 通过 RTB 接口向接入的各 DSP 实时询价。可以看出，在这样的逻辑中，广告请求是被分配到自运营广告库进行广告投放（ad serving），还是以嵌入 JavaScript 或 SDK 的方式对接其他广告网络，或者是以 RTB 方式对接 DSP，是根据其收益在线动态决定的，这样的方案称为动态分配（dynamic allocation）。对应的产品形态就叫作供给方平台（supply side platform, SSP）。</p><h4 id="7-5-1-供给方平台产品策略"><a href="#7-5-1-供给方平台产品策略" class="headerlink" title="7.5.1 供给方平台产品策略"></a>7.5.1 供给方平台产品策略</h4><p>SSP中多种广告源动态分配的决策过程如图7-10所示。</p><p><img data-src="/computational-advertising/computational-advertising-37.png" alt="图7-10　动态分配决策过程示意"></p><p>这一过程有如下几个关键环节。<br>（1）聚合（mediation）：集成多个 ADN 的 JavaScript 代码或者 SDK，在线动态决定向谁请求广告。选择 ADN 的逻辑，也是对某次展示机会的(u, c)，对候选的 ADN 估计其 eCPM 以优化收益。由于此时我们没有具体广告的信息，因此这里只能做粗略的估计。在实际策略中考虑的因素主要有两个：一是广告网络或 DSP 的分成模式和比例；二是它们各自的广告返回率，当然可以分时间段和地域进行统计。如果这些合作方本身集中投放某种行业类型的广告，那么人群和环境标签也是有帮助的。<br>（2）广告投放（ad serving）：SSP 一般也会提供投放媒体自行销售的广告的功能，即帮助媒体做广告投放。从这个功能来看，更像是帮助媒体实现了一个私有的 ADN。不同之处在于，这些内部的广告需要跟外部的 ADN 一起排序，决定是投放内部广告还是向外部 ADN 请求广告，而唯一的准则就是优化收入。<br>（3）市场（marketplace）：在程序化交易产生以后，SSP 也会以 RTB 方式向 DSP 请求广告，这形成了一个市场。SSP 里的市场与 ADX 并没有本质的区别，尤其是在 DSP 越来越多、ADN 越来越少以后，SSP 与 ADX 呈现出越来越强的同质化趋势。<br>在上述 3 个需求来源中，一般的决策过程是先估算被聚合 ADN 和内部广告的 eCPM，排序选出最优以后，再以此最优的价格作为底价，向 DSP 发出询价请求。有时，向选出的 ADN 投放请求以后，该 ADN 并不一定能填充这次展示机会，那么 SSP 就要转向排名第二的需求方，如果仍然是 ADN，则需要向其再次请求广告，依此类推。这样的模式叫作瀑布模式。显然，多次请求使得总体请求广告的延迟大大增加，因此这是一种比较低效的模式，而下面要提到的 Header Bidding 模式，则可以在一定程度上解决这个问题。</p><h4 id="7-5-2-Header-Bidding"><a href="#7-5-2-Header-Bidding" class="headerlink" title="7.5.2 Header Bidding"></a>7.5.2 Header Bidding</h4><p>在程序化交易市场中起决定作用的不只是技术，还有商业利益上的博弈。随着谷歌、Mopub 等在供给方市场的地位日趋垄断，它们一来在流量分配时会或多或少优先自己内部的广告主，二来会收取比较高的费用（可能高达 40%），广告主和媒体的利益受到了一定的损害。在收益最大化的驱使下，市场驱使广告主和媒体联合起来打破垄断，这便催生了 Header Bidding 技术。<br>从 2016 年 2 月到 9 月，使用 Header Bidding 技术的媒体网站的数量几乎呈爆发式增长：不到一年时间，就有超过 40% 的头部网站采用了 Header Bidding 技术。<br>Header Bidding 是 Bidder 和媒体建立直连绕过 ADX 的一种方式，Bidder 有机会在实时竞价开始之前直接向媒体报价，媒体根据出价高低决定中标者。这里的 Bidder 就是所有可以进行报价的服务，可以是 DSP，也可以是 ADX 或者其他广告参与者。如果没有，再交由 ADX 进行实时竞价。而直接的报价过程，是在客户端即浏览器或应用中发生的。其广告决策过程如图 7-11 所示。</p><p><img data-src="/computational-advertising/computational-advertising-38.png" alt="图7-11　Header Bidding决策过程"></p><p>（1）用户访问媒体页面，向媒体服务器发起 HTTP 请求。<br>（2）媒体服务器将实现 Header Bidding 功能的脚本 hb.js 放在 HTML 的 head 标签中，该 HTML 作为 HTTP 响应发给用户浏览器。<br>（3）用户浏览器在解析 HTML 时，将媒体网站配置好的 hb.js 下载到本地。在 hb.js 的控制下，用户浏览器向媒体网站约定好的 Bidder 发起本次曝光机会的竞价请求，Bidder 将报价返回给用户浏览器。<br>（4）在 hb.js 控制下，用户浏览器将各家 Bidder 报价信息回传给媒体网站。<br>（5）媒体服务器同时向 ADX 或 SSP 发送广告请求。<br>（6）ADX 或 SSP 发起 RTB 过程并获得广告候选。<br>（7）媒体服务器将 Header Bidding 出价结果和 RTB 出价结果放在一起进行排序，出价最高者赢得本次广告展示机会，用户浏览器请求胜出方加载广告。<br>Header Bidding 也可以被认为是供给端产品，或者一种特殊的 SSP。与上面一般 SSP 的决策过程相比较，它们主要区别在于绕过 ADX 接入的是可以返回报价的 DSP 而非只能估计 eCPM 的 ADN，这使得收入优化变得简单直接，也比较容易获得更高的 eCPM。但是这种方式在技术上存在明显的问题：最关键的一点是，客户端询价的模式带来了比较大的广告时延，这使实际的曝光减少了，也影响了用户体验。因此，我们更倾向于认为 Header Bidding 的成功是商业博弈的结果，而不是一种技术上的进步。</p><h4 id="7-5-3-产品案例"><a href="#7-5-3-产品案例" class="headerlink" title="7.5.3 产品案例"></a>7.5.3 产品案例</h4><p>在广告网络时代，SSP 产品由于可以一站式地接入多个广告网络，对媒体来说价值较大。当今，随着程序化交易的发展，其市场空间有所减小，产品功能上也与 ADX 有更多交叠。</p><p>1．Admeld<br>早年 Admeld 在为媒体做收益管理时，接入的主要流量并不只是来自 ADX 里的 RTB 流量，而是主要来自各大 ADN，比如，在北美市场就接入了 50 多家 ADN，换句话说，媒体只要加一段 Admeld 的代码，就可以对接所有这些 ADN，这极大地方便了剩余流量的变现和优化。在对这 50 多家广告网络做网络优化时，如前所述，由于对广告网络自己的定向方式和广告库不是特别清楚时，反而是使用广告位和时间段这样的基本划分比较稳健，因此主要在广告位维度、时间维度、广告返回率和分成比例等少数维度上进行 eCPM 估计和流量切分。<br>Admeld 也会从 DMP 购买用户数据，这样做一方面是为了自己能更进一步深入地估计各广告网络的 eCPM，另一方面也是为了方便参与竞价的各 DSP 了解流量质量，从而刺激 DSP 的竞价价格和市场的流动性。</p><p>2．Mopub<br>随着程序化的发展，ADN 的重要性在逐渐下降，于是 SSP 也演变成以实时竞价为主的与 ADX 类似的产品形式。不过在移动应用变现领域，随着 FAN 这样的封闭 ADN 越来越重要，传统的 SSP，或称为聚合平台的产品又逐渐在市场中占有一席之地，而其中最典型的代表之一就是 Mopub。<br>Mopub 是面向移动应用媒体，通过综合管理各种广告来源优化媒体收入的平台。与 7.5.1 节中的产品逻辑相对应，Mopub 主要提供以下几种变现功能。<br>（1）ADN 聚合。ADN 一般以 SDK 的形式嵌入 Mopub 的 SDK 中。媒体可以自行管理在各地区、各时间段中各个广告网络的优先级，并且采用瀑布式的请求来综合利用各个 ADN。Mopub 在这部分变现中并不向媒体收取费用。<br>因为 Facebook、Admob 等在移动应用变现中具有一定的重要性，所以这一部分往往是媒体最重要的收入来源。不过，由于 ADN 不会向 Mopub 实时报价，因此算法优化的空间相对较小。一般来说，SSP 需要以 API 的方式从 Facebook、Admob 等 ADN 拉取报表以优化收入，Mopub 目前采用的是由媒体手工填写各 ADN 的 RPM 的操作方式，似乎不是特别方便，也不太容易做到实时优化。<br>（2）程序化交易市场。对于 ADN 变现以外的流量，Mopub 自建了一个程序化交易市场，从各 DSP 处获得广告和变现能力。这部分与一般 ADX 的功能差别不大，但是因为是在 SSP 内的程序化交易市场中，所以需要按照 7.5.1 节中的动态分配方案来综合优化收入。<br>在程序化交易市场部分，Mopub 收取的中间费用较高，可以达到 30%～40%。<br>（3）广告投放（ad serving）。Mopub 也允许媒体自行进行广告销售，并为媒体的直客提供广告投放功能服务。一般来说，媒体的直接销售可能在一些头部流量上获得最高的溢价。因此，SSP 需要以最高优先级投放直客广告，再将剩余流量交由 ADN 聚合或交易市场来变现。</p><h2 id="第8章-数据加工与交易"><a href="#第8章-数据加工与交易" class="headerlink" title="第8章 数据加工与交易"></a>第8章 数据加工与交易</h2><p>要提高定向的精准程度与人群覆盖率，技术并不是最重要的因素。那么什么才是决定性的呢？是数据的来源与质量。这是正确认识精准广告业务非常重要的观点。为了强调这一观点，我们以大家更容易理解的石油加工工业为例来做类比。在石油工业中，从油田挖掘出的原油是整个行业的原材料，炼油厂的作用是把这一原材料加工成汽油等燃料，再输送给加油站这样的销售终端。在精准广告中，可以把用户的行为类比于石油工业中的原材料，而日志收集和清洗系统的作用就相当于油田的挖掘设备。而受众定向的平台可以类比于炼油厂，它把原油，即清洗过的日志，加工成用户标签，而这些用户标签就像汽油一样，是可以被销售和使用的了。而传统广告中起关键作用的广告位，在这里仅仅变成了加油站，负责完成产品消费的过程而已。<br>技术能力的高低，直接影响着数据采集和变现的有效性。不过从另一个角度说，技术的作用也不能被过分夸大。巧妇难为无米之炊，没有高质量的原材料，即用户数据，再高明的技术也没有用武之地。</p><h3 id="8-1-有价值的数据来源"><a href="#8-1-有价值的数据来源" class="headerlink" title="8.1 有价值的数据来源"></a>8.1 有价值的数据来源</h3><p>（1）用户标识。对广告而言，如何确定哪些行为来自于同一个用户是非常关键的问题。用户标识对于行为定向的重要性往往容易被忽视。实际上，稳定精确的用户身份，对准确界定受众和利用数据至关重要。无论能拿到多少行为数据，如果没有办法把它们与投放系统联系起来，这些数据就没有办法发挥作用。<br>对于浏览器行为，我们最常使用的用户标识是 cookie，但是由于存在同时使用多个浏览器、cookie 过期或用户主动清除 cookie 的情况，这种用户标识的长期一致性并不算太好。好在对广告来说，起关键作用的还是用户近期内的行为，所以用 cookie 作为用户标识还是为业界广泛采用的基础方案。如果运营广告业务的域名同时提供其他有永久身份的服务，比如电子邮件、SNS 等，那么可以用这一永久身份找回过期或被清除的 cookie，这样用户身份的一致性就会有所改善。当然，如果广告业务域名和用永久身份服务的域名不同，也不是完全没有办法，在后者同意的前提下，可以采用 cookie 映射的方法来对应彼此的用户身份，这一技术的细节将在后面谈到广告交易的技术时再讨论。<br>在移动互联的情形下，iOS 与 Android 在应用内广告使用的用户 ID 有所不同：前者是苹果公司设计的广告专用用户标识符（IDentiﬁer For Advertising，IDFA），其性质与 cookie 类似，而后者没有专门的广告用户 ID，一般采用 Android ID 或国际移动设备标识（International Mobile Equipment Identity，IMEI）等标识信息。<br>由于高质量的用户标识本身就是一种非常有价值的数据，因此也是可以在市场交换和售卖的。</p><p>（2）用户行为。业界通常认为，主要有转化（conversion）、预转化（pre-conversion）、搜索广告点击（sponsored search click）、展示广告点击（ad click）、搜索点击（search click）、搜索（search）、分享（share）、页面浏览（page view）、广告浏览（ad view）等在线行为是可以被广泛采集并且对受众定向或广告决策有明确作用的。按照对效果广告的有效性分类，这些行为又可以分为决策行为、主动行为、半主动行为和被动行为。<br>决策行为主要包括转化和预转化。这些都是在广告主的网站内发生的行为，往往对应着非常明确的用户兴趣。例如，在电商网站上，转化对应最后的下单，而预转化对应下单前的搜索、浏览、比价、加入购物车等多种准备工作。这类行为的价值是最高的，但是也是供给方或广告平台最难得到的。根据广告主的数据来进行重定向或者个性化重定向是对此类行为最直接的利用。在行为定向中，这类数据虽然量不大，但却不能忽视。<br>主动行为主要包括广告点击、搜索和搜索点击。这一组行为都是用户在网络上在明确意图支配下主动产生的行为，因而也有比较丰富的信息量。其中的广告点击行为一般来说量不大，并不能作为定向的主要数据来源。而搜索行为是能够大量获得的最主要的主动行为，要特别注意挖掘利用。<br>半主动行为主要包括分享和网页浏览。主动行为和半主动行为都是用户在目的比较弱的内容消费过程中产生的，因此，其所涉及的兴趣领域对把握用户信息有价值，但是细节的内容精准程度有限。半主动行为的指导意义虽然有限，但是其数据量却是各种行为中最大的。<br>被动行为主要是指广告浏览。广告浏览严格来说不能算作定向的行为依据，但是由于其频次与相应类别的广告点击负相关，因而在行为定向的建模中也可以使用。</p><p>（3）人口属性。人口属性是常用的一种定向标签，因此其数据来源很重要。一般来说，只有一些能够与用户实名身份绑定的服务才可以得到此信息。我们也可以利用网络行为数据来进行人口属性标签的预测，但是这样做的准确程度一般都很有限，而且这仍然需要一些标定的数据用于训练。对于某些人口属性，可能一些特别的信息比较容易给出准确的判定，例如，用语音服务记录的声音信号，可以将男女区分得相当准确。</p><p>（4）地理位置。地理位置信息随着能获得的精度不同，其用途也会有相当大的差异。如果只能根据 IP 进行映射，我们往往只能拿到精确到城市级别的地理位置，当然这对于很多广告投放来说，已经有相当的价值。而在移动互联环境下，GPS 或蜂窝可以提供的定位往往可以精确到几百米的范围，这就让我们可以收集用户线下的到店兴趣，并使精确位置定向的区域广告商（如餐饮）投放定向广告成为可能。</p><p>（5）社交关系。社交网络上的关系反映了人与人之间的联系，也隐含了一种联系人之间“兴趣相似”的合理推测。因此，社交关系可以用于用户兴趣的平滑。当广告系统观察到某个人的行为不足，无法进行精准的行为定向时，可以考虑借鉴其社交网络朋友的行为和兴趣。例如，一个人在微博上的好友有很多都是足球爱好者，那么可以猜测他也是一名足球爱好者。虽然这样的猜测未必准确，但只要统计上合理，就会对广告投放效果有帮助。需要注意的是，这样的平滑只适用于那些长期稳定的兴趣，对于短时的购买兴趣则不太适用。从这个意义上来看，强关系类型的 SNS 比弱关系的 SNS 有优势。</p><p>（6）设备信息。移动设备能够获得的数据比 PC 要丰富得多，其中一些设备的状态信息，如设备的应用安装列表、机型、年龄、陀螺仪乃至电池电量等，对场景的确定非常有帮助。因此，移动广告对于设备信息的收集和深入加工有特别重要的意义。</p><p>关于以上各类行为数据对广告效果的意义，有两条基本的规律：首先，随着用户主动意图的提升，相应的行为数据价值也随之增大；其次，越接近转化的行为，对效果广告的精准指导作用越强。把握这两条规律，有助于大家判断各种各样的行为数据的价值。不过读者不要忘记，广告的根本目的是“低成本地接触潜在用户”。如果仅仅从转化效果上判断行为数据的作用，会发现靠近转化的行为更精准，实际上是因为这部分人群已经更加接近于决策的最终阶段，也就是说越发不是“潜在用户”。因此，在行为定向这个问题上，不能单纯追求ROI或者转化效果，而是要根据广告主的具体的人群接触目标来平衡效果和覆盖率。</p><h3 id="8-2-数据管理平台"><a href="#8-2-数据管理平台" class="headerlink" title="8.2 数据管理平台"></a>8.2 数据管理平台</h3><h4 id="8-2-1-三方数据划分"><a href="#8-2-1-三方数据划分" class="headerlink" title="8.2.1 三方数据划分"></a>8.2.1 三方数据划分</h4><p>广告中用到的用户数据，根据其来源的不同，可以分为第一方数据、第二方数据和第三方数据。一般我们说的第一方和第二方分别是指广告主和广告平台，而不直接参与广告交易的其他数据提供方统称为第三方。在广告网络中，主要使用第二方数据指导广告投放；而在实时竞价环境下，不仅第一方数据可以被利用起来，大量第三方数据的加工和交易也逐渐发展起来。第一方数据的量虽然一般较小，却是所有数据的灵魂。以第一方数据为基础，用好第二方数据和第三方数据，是实时竞价时代重要的方法论。</p><h4 id="8-2-2-第一方数据管理平台"><a href="#8-2-2-第一方数据管理平台" class="headerlink" title="8.2.2 第一方数据管理平台"></a>8.2.2 第一方数据管理平台</h4><p>面向第一方的数据加工产品，是狭义的数据管理平台。第一方数据的收集和加工是广告市场上非常重要的环节。不过，对没有这方面技术积累的广告主而言，专门设团队进行数据加工是没有必要的。因此，市场上产生了专门管理此业务的产品，这就是第一方数据管理平台。这一产品有下面几个核心功能。<br>（1）它可以为网站（可以是媒体，也可以是广告主网站）提供受众定向功能，并将得到的用户标签应用于网站业务。在这一过程中，除了加工一些通用标签，DMP 还需要能够比较灵活地按照网站定义的用户标签来加工受众人群。<br>（2）广告主网站可以通过 DMP 与广告采买渠道进行更方便的数据对接。这一点可以通过下面的应用来理解。假如某广告主需要通过外部广告平台做重定向，那么需要将自己的用户集合通过某种技术方式通知广告平台。如果每个广告平台都采用在广告主网站上加跟踪代码的方式来收集用户，就会有两个弊端：一是多个广告平台同时加代码，有可能使页面变得太重；二是访客的积累可能需要长达数周的时间，这使得广告平台重定向的效率降低。如果由 DMP 唯一负责广告主网站的用户积累和划分，并通过数据接口的方式传送给广告平台，那么可以在很大程度上解决上述问题。<br>第一方 DMP 的商业逻辑如图 8-3 所示。DMP 应数据源（data provider，DP）的要求，收集第一方数据，并加工成第一方需要的用户标签。DP 可以根据这些用户标签进行站内运营，也可以用这些用户标签来指导 DSP 进行广告投放。如图 8-3 所示，DSP 利用这些标签数据以 RTB 方式在 ADX 中投放广告，当然，第一方需要同时向 DSP 支付费用。</p><p><img data-src="/computational-advertising/computational-advertising-39.png" alt="图8-3　第一方DMP商业逻辑"></p><p>虽然 DMP 按照 DP 需求整理和加工数据会向 DP 收取费用，但是绝对不应该把数据看作自己的财产进行二次变现，或者把不同 DP 的数据混合使用。第一方 DMP 是一种数据托管和加工服务，并非以数据变现为目的，其客户也多为大中型的媒体和广告主。</p><h4 id="8-2-3-第三方数据管理平台"><a href="#8-2-3-第三方数据管理平台" class="headerlink" title="8.2.3 第三方数据管理平台"></a>8.2.3 第三方数据管理平台</h4><p>第三方DMP，也称数据交易平台。它的主要产品功能是聚合各种来源的在线的用户行为数据，将这些数据加工成有价值的用户标签，然后在广告市场上通过售卖这些标签来变现。数据交易平台与数据管理平台的产品边界并不是泾渭分明，一般来说，数据交易平台除了聚合成形的用户标签，也都会提供聚合原始行为数据、自行加工标签的功能，也就是兼具 DMP 的产品功能；不过，数据交易平台往往是按照自己的逻辑，而非媒体的需求来制定标签体系和加工数据。因此，数据交易平台主要是站在第三方数据的角度提供产品，所以称为第三方 DMP。<br>第三方 DMP 的商业逻辑如图 8-4 所示。DMP 从多个 DP 那里收集原始数据，按照自己的逻辑加工成用户标签，并向 DSP 出售标签数据收入。同时，获得的收入再按照一定的比例分成给 DP。与第一方 DMP 不同，第三方 DMP 是一种数据变现产品，其 DP 也以中小型的媒体和数据所有者为主。</p><p><img data-src="/computational-advertising/computational-advertising-40.png" alt="图8-4　第三方DMP商业逻辑"></p><h4 id="8-2-4-产品案例"><a href="#8-2-4-产品案例" class="headerlink" title="8.2.4 产品案例"></a>8.2.4 产品案例</h4><p>数据管理和交易产品在程序化交易市场已经比较普及，但是在中国市场中还没有形成规模。究其原因，恐怕与大量作弊和流量劫持（参见17.4节）等灰色低成本渠道不无关系。</p><p>1．BlueKai<br>BlueKai 的主要业务模式，是聚合大量中小媒体的有价值行为数据，使用受众定向技术为用户打上标签，并对外售卖标签以获取收入。BlueKai 通过数据交易获得的收入，其中很大比例还将返还给数据提供方。BlueKai 的重点放在汽车网站、旅游网站和各种购物网站上，因为这些网站背后代表着某一个同质性较高的族群，与这些主题网站相关的广告主，如航空公司、汽车厂商等，也非常需要精准营销。例如，有一家卖服装的小网店，它有自己用户的搜索行为和购买行为，但它的数据量不大，不值得用这些数据去分析变现，BlueKai 就会与这些中小网站合作，通过汇聚众多中小网站的用户资料和行为数据，加工成受众定向标签对外售卖。例如，某些 DSP 想知道用户身上有什么标签，而它又没有用户信息，就可以向 BlueKai 购买或分成，BlueKai 再向网站分成。<br>通过这种数据交换方式，广告市场上最有价值的数据资源被盘活利用了：数据拥有者不需要直接涉足复杂的广告业务，也可以对数据进行变现；而数据需求者也可以方便地找到数据购买来源，以快速提高自己广告投放的效果。BlueKai 也注意到了隐私的问题，它提供了一个接口，用户可以看到自己的资料被谁使用，也可以选择“捐给慈善机构”。而实际上这不过是一种规避风险的方式，基本上不会影响到 BlueKai 和中小网站原本的收入。有关隐私方面的问题，读者可以进一步参考 8.4 节。<br>BlueKai 提供大量细分的类别，它有着开放体系上的标签，如“对宝洁洗发水感兴趣的人”“想去日本旅游的人”，这些非常精细的类目对于要做效果广告的广告主来说非常有意义，所以它的售价也很高。根据广告主使用目的和数据来源的不同，这些标签又分成如下的几种：Intent、B2B、Past Purchases、Geo/Demo、Interest/Lifestyle、Branded、Estimated Finan-cial/Economic。这是一个比较典型的半开放的标签体系，其中的 Intent 部分非常类似于前面的兴趣定向体系，这部分是由 BlueKai 根据通过数据交易平台收集的用户行为加工的。而其他部分，有的由其他数据提供商直接提供，如由 Bizo 提供的 B2B 标签，也有的根据多家的数据融合决策而成，如 Demo/Geo 标签，实际上融合了 Bizo、Datalogix、Expedia 等多家数据提供商的数据源。<br>之所以说 BlueKai 的标签体系是开放式的，是因为它会根据数据的来源和市场需求不断拓展和调整标签的类别和内容，力求能够满足尽可能多的广告主的特质化需求。表 8-1 中列出了 BlueKai 的几种主要标签、覆盖用户量和主要数据来源。</p><p>表8-1　BlueKai标签体系主要类别<br>|类别|描述|数据来源|用户规模|<br>|—|—|—|—|<br>|Intent|最近输入词表现出某种产品或服务需求的用户|BlueKai Intent|16亿以上|<br>|B2B|职业上接近某种需求的用户|Bizo|9亿|<br>|Past Purchase|根据以往消费习惯判断可能购买某产品的用户|Addthis, Alliant|6.5亿以上|<br>|Geo/Demo|地理上或人口属性上接近某标签的用户|Bizo, Datalogix, Expedia| |<br>|Interest/LifeStyle|可能喜欢某种商品或某种生活方式的用户|Forbes、i360、IXI……|10.3亿以上|<br>|Qualiﬁed Demo|多数据源上达成共识验证一致的人口属性|多数据源|9亿以上|<br>|Estimated Financial|根据对用户财务状况的估计做的分类|V12| |</p><p>2．AudienceScience<br>它的核心业务有以下两项。<br>（1）主要提供面向媒体和广告主的第一方 DMP 服务。例如，《纽约时报》自己有很多用户，也有很多在线数据，但它的核心业务不是做广告，也不是做数据加工，它更愿意把数据交给 AudienceScience。AudienceScience 帮它加工一些有意义的用户标签，如财经类用户、体育类用户。《纽约时报》的 BI 系统可以用这些标签分析哪些用户对哪些内容感兴趣，应该如何优化内容。<br>（2）AudienceScience 还直接运营一个效果广告网络，并帮助广告主进行投放管理和优化，这里它就用到了它分析得到的用户标签。就其数据聚合和收入分成的模式来说，AudienceScience 与 BlueKai 有很多相似之处。两者主要的区别是 AudienceScience 并不通过售卖标签来获得收入，而是仅供委托他们优化效果的广告商使用，即通过运营一个自有的广告网络来变现，使用标签创造的营收按照一定比例与提供数据的媒体分成。这样做的原因是 AudienceScience 认为数据加工业务在扣除媒体分成以后利润空间太小，而自营广告网络有可能获得更大的套利空间。<br>AudienceScience 具体的商业流程是：网站（可以是广告主或媒体网站）先把自己的流量托管给 AudienceScience，并付给 AudienceScience 一定的技术服务费，AudienceScience 把数据加工成标签，首先提供给网站用以优化它的流量和用户体验。<br>2017 年 5 月，AudienceScience 公司关闭了，这也反映出在当今互联网广告业中，单纯的数据服务规模化和盈利能力都比较有限，在市场上举步维艰。</p><p>3．TalkingData<br>TalkingData 以向开发者提供应用统计分析工具为切入点，积累每月 700 PB 左右的独立设备数据，在这些数据的基础上，又推出了营销云产品 MarketingCloud。从产品上看，这是一个将第三方数据和第一方数据相结合用于营销的 DMP 产品，从商业模式上看，更接近于第一方 DMP 产品。MarketingCloud 主要的产品功能有以下几个。<br>（1）用户 ID 的映射与管理。客户在各种情形下收集到的第一方用户数据，往往以不同的 ID 出现。例如，CRM 数据、线下门店数据、线上浏览数据、微信公众号数据，其对应的用户标识都不一样。为了有效地管理用户，需要把以不同 ID 出现的同一个用户数据打通，这需要比较强的第三方数据积累，MarketingCloud 提供了这方面的产品功能。<br>（2）向客户开放的第三方标签库。由于 TalkingData 已经积累了大量的第三方数据，可以让客户在自己的第一方数据以外，使用全网用户数据进行受众定向或新客推荐。比起第一方 DMP 主要利用第一方数据的方法，这些第三方数据有可能让客户面向新用户的营销能力有质的提升。目前，MarketingCloud 中的第三方用户标签包括人口属性、城市、设备属性、应用兴趣、消费偏好等体系，一共 800 多个细分维度。<br>（3）地理围栏目标受众。通过 GPS、Wi-Fi 信号、蓝牙等方式，移动设备可以更准确地了解用户的地理位置，恢复用户的场景。MarketingCloud 利用 TalkingData 积累的地理位置数据，向客户开放根据地理围栏构建目标受众的能力。<br>（4）营销过程监测和管理。第一方数据管理和第三方数据利用的主要目的之一是用于营销过程。对此，MarketingCloud 提供了用于营销前的受众洞察和营销后的数据分析，希望逐渐驱动营销过程的自动化。</p><h3 id="8-3-数据交易的基本过程"><a href="#8-3-数据交易的基本过程" class="headerlink" title="8.3 数据交易的基本过程"></a>8.3 数据交易的基本过程</h3><p>数据交易一般是通过 ADX 或 SSP 作为中转来完成的，如图 8-5 所示。DMP 的各种用户标签，以批量传输的方式提供给 ADX，并作为 ADX 的一个辅助产品售卖给各 DSP。标签一般按照 CPM 计价，DSP 如果选择购买某种标签，则在广告询价的过程中，ADX 将本次请求的用户标签传给 DSP，最终以 DSP 实际成交的展示量乘以 CPM 价格作为其购买数据的附加费用。</p><p><img data-src="/computational-advertising/computational-advertising-41.png" alt="图8-5　数据交易过程示意"></p><p>以广告交易为载体进行数据交易，与在 DMP 和 DSP 之间直接进行数据交易相比，是更加合理的产品方案，它有以下一些好处。<br> （1）因为数据的量级可能较大，所以数据传输的成本是无法忽略的。如果在 DMP 和 DSP 之间进行数据交易，总体的数据传输成本就非常高。而在广告请求上附加用户标签本身不会带来额外的服务开销，因此整体数据交易的传输成本就只有 DMP 和 ADX 之间的一次传输。<br>（2）所有的 DSP、数据提供方都只需要与 ADX 进行 cookie 映射，这种以 ADX 为中心的星形拓扑结构，比起 DSP 直接与数据提供方进行 cookie 映射的拓扑结构，显然要方便得多。ADX 触达的用户规模往往比单个 DSP 或 DMP 要高很多，这种方案实际上最大限度地避免了由于 cookie 映射带来的数据损失。<br>（3）实现了数据的部分交易。DSP 显然很少有机会利用到某个 DMP 的所有数据，通过在广告交易过程中传数据的办法，DSP 可以自由限制需要的数据范围。例如，某 DSP 只投放上海地区的客户，那么在 ADX 中选择上海地区以后，就只会收到上海地区的数据了。<br>（4）ADX 在数据的买方和卖方之间恰好起到了数据使用量监测和计费的作用。<br>不过，数据作为一种信息类商品，其属性与其他实体商品乃至广告这种虚拟商品最大的不同在于可以重复售卖；另外，数据又不同于软件这种可以重复售卖的信息商品，因为软件售卖后使用者之间是彼此分离的，而同一份数据的使用则是面对同一批用户群的，因此存在博弈关系。<br>对于这样一种特殊商品的交易，我们对其规律的认识也是循序渐进的。目前看来，8.2 节介绍的现有数据管理机制是存在一些问题的。我们举个例子来说明：假如某 DMP 知道某个用户是高尔夫爱好者，把这个信息以数据交易的模式卖给了一家 DSP，于是该 DSP 可以利用此信息获得较高的回报，当然也就可以承受比较高的数据采购价格；但是，如果 DMP 将此数据出售给了 DSP，那么这些 DSP 在定向同一个用户时，必然因为竞价的关系抬升流量成本，于是因为数据获得的回报就变少了，当然也会间接影响数据的变现价格。简单来说，我们认为：数据的重复售卖会引起数据价格向流量价格的转移。<br>无限制重复售卖数据的另一个问题是无法按竞价的方式售卖，这一点并不难理解。我们知道，在线广告市场正是因为采用了竞价交易模式，才带来了客户数量和变现能力的大幅提升。因此，我们期望数据也能探索竞价的交易模式，如果数据采用限量的售卖，则有可能发展竞价模式，同时保证数据的提供方的利益。限量的数据售卖就是，每条信息在一定时间内仅提供给有限家购买者，不过究竟应该提供给几家，竞价方式该如何确定，还有待探讨。</p><h3 id="8-4-隐私保护和数据安全"><a href="#8-4-隐私保护和数据安全" class="headerlink" title="8.4 隐私保护和数据安全"></a>8.4 隐私保护和数据安全</h3><p>广告是一个典型的个性化系统，它需要大量使用用户的行为数据来进行受众定向，同时，在广告市场中还存在着数据交易的产品。无论是受众定向还是数据交易，都需要谨慎地考虑对行为数据的使用是否会泄露用户的隐私；同时也要考虑拥有数据的利益方，特别是广告主，是否在广告市场中被平台或竞争对手获得和利用了自己的关键商业数据。</p><h4 id="8-4-1-隐私保护问题"><a href="#8-4-1-隐私保护问题" class="headerlink" title="8.4.1 隐私保护问题"></a>8.4.1 隐私保护问题</h4><p>隐私保护除了关心那些成批的用户资料泄露，更大的挑战是针对熟人的隐私窥探，即窥探者在了解被窥探者一些背景信息的基础上，用这些背景信息进一步试图获取其更多的隐私信息。后一种挑战由于可能是人工与机器相结合，而且对成本往往不敏感，给隐私带来的风险也最大。一个最生动的例子可以参见“清华学生用自拍照推理出王珞丹住址”这篇报道，在这个例子里，一名清华学生通过分析王珞丹的微博发帖和照片，准确地得到了其住址这一隐私信息。下面我们来具体看一下隐私保护的原则。</p><p>1．隐私保护基本原则<br>（1）要严格避免使用个人可辨识信息（personal identiﬁable information，PII）。PII 是最重要的隐私信息，它指的是那些被获取后可以方便地定位到具体人的信息，如身份证号、电话号码、电子邮件地址、家庭住址等。这些信息一旦被恶意获取，会给当事人带来非常大的不便和潜在风险，因此需要无条件地被严格保护。需要说明的是，广告系统中经常使用的用户标识，如 cookie、IMEI 等，由于不具有方便地辨识人的作用，因此不属于 PII。<br>（2）用户有权要求系统停止跟踪和使用自己的行为数据。如图 8-6 所示，当向用户提供行为定向广告时，广告提供商应该给出明确的提示，如图 8-6 中的广告创意右上角的“AdChoices”。如果用户对自己的行为被使用感到不满，可以通过此入口得到更多的详细说明，并且可以通过说明页面上的“Opt-Out”操作来通知系统停止跟踪和使用自己的行为数据。系统得到通知后，必须停止记录该用户的行为信息，也不再向其投放行为定向广告。这样的入口给了用户决定是否接受个性化广告的权力，对特定情形下的隐私保护非常重要。<br>（3）不应长期保留和使用用户行为数据。即使用户同意接受行为定向广告，广告平台在数据的使用和存储上也应该有所节制。长期保留用户行为数据对受众定向价值有限，同时又加大了数据泄露的风险，因此应该只保存一段时间内的行为数据，过期的数据如果并非与业务直接相关，不应再存储。</p><p><img data-src="/computational-advertising/computational-advertising-42.png" alt="图8-6　Ad Choices示例"></p><p>（4）工程上还需要特别注意权限的严格分配和最小数据访问的原则。工程师在调试程序时，最好使用采样过的、关键信息被匿名化处理过的数据子集，而在生产系统中要通过特别的密钥访问原始数据全集，即使是开发数据处理程序的人，包括管理层，也不应当有数据访问的权限。<br>上面的这些原则相当基本，也非常重要，是广告系统、推荐系统在用户行为数据使用中首先要遵循的。不过，这些原则并不能解决一些深层次的数据隐私泄露问题，对此我们还需要更加深入的认识与对策。</p><p>2．准标识符与 K 匿名<br>PII 是可以辨识个人身份的隐私信息，那么是不是非 PII 的信息就无法辨识身份了呢？举个例子，假设有这样一条用户信息“姓名：×××；手机号：×××；年龄：36；工作地点：上海市携程大厦；性别：男；职位：测试工程师；爱好：羽毛球；月薪：15 000 元”，其中的“姓名”“手机号”等 PII 已经被隐藏。但是，如果此用户的一个朋友看到这条记录，根据“年龄、工作地点、性别、职位、爱好”这些非 PII 的组合，还是很容易辨识出是谁的信息，从而得到“月薪”这一隐私信息。<br>在上面的例子里，年龄、工作地点、性别、职位、爱好这组信息虽然单独看来都无法确定一个人，但组合在一起就有可能让熟人确定出对应的人，这样的信息，我们称为准标识符（quasi-identiﬁer）。由于有这样的准标识符的存在，即使没有提供 PII，也存在比较高的隐私泄露风险<br>有没有什么办法能够降低这一挑战带来的风险呢？简单的思路是将准标识符做一定程度的泛化。例如，将“年龄：36岁”泛化成“年龄：30～40岁”，将“工作地点：上海市携程大厦”泛化成“工作地点：上海市”。如果泛化的结果使数据集里的每一组准标识符的实例都能找到 K 条与其相同的，那么就说实现了 K 匿名。显然，当 K 的值取得比较合理时，隐私泄露的风险也就降低了不少。<br>准标识符与 K 匿名并不是互联网隐私问题的产物，而是在数据库领域就有的。它给了我们很大的启发：当背景信息充分，而这些信息又较为稀疏时，隐私问题的挑战会变得更大。而在以互联网广告、推荐等为代表的个性化系统相关的数据交易中，这样的风险变得空前严峻。</p><p>3．稀疏行为数据的挑战<br>在计算广告这样的个性化互联网应用中，对一个用户的描述不再限于上面例子里的基本信息，而是包括了其大量的行为数据。行为数据的特点是极为稀疏，换句话说，任何两个用户的行为数据都几乎不可能是相同的，也很难通过K匿名的方案来解决。那么是否可以通过行为数据来反推用户的隐私呢？答案是肯定的，而且有实际的案例发生。<br>在著名的 Netﬂix 百万美元推荐大赛中，主办方公布了比赛用的数据库，其中的关键用户信息已经去除了 PII，并做了 K 匿名处理。不过，由于用户的观影记录和打分是推荐使用的主要数据而未做处理。当数据公布后，恰好有一位关注者在数据中发现了一条记录，从其观看的影片和评价分数来看，集合可以确定无疑是自己的另一位朋友，而同样在这个用户观影记录中，还发现了一些同性恋题材的影片。读者显然明白这意味着什么，实际上，他的朋友不想为人所知的同性恋隐私被这样一个推荐大赛在无意中泄露了。由于稀疏的行为数据很难通过简单技术处理模糊用户间的区别，再加上其他一些原因，这一大赛就没有继续举办下去了。<br>作者对上面的隐私安全问题做了更加系统的研究，他发现通过简单的算法就可以将 Netﬂix 给出的数据与另一个 IMDb 给出的数据库做用户身份上的对应，而且准确率相当高。抛开具体的方法不谈，这一研究向我们揭示的问题是：通过稀疏的行为数据，可以比较容易地定位自己熟悉的人，并进而获取其相关隐私信息。这一问题的发现使工业界对隐私安全问题的认识大大提升，也提醒我们在数据交易和披露过程中，要特别注意这方面巨大的风险。这也催生了与深度个性化系统中隐私安全相关的差分隐私（differential privacy）问题的研究。<br>坦率地讲，稀疏行为数据给隐私保护带来的巨大风险还没有成熟的解决方案，这无疑将是大规模行为数据利用头上的达摩克利斯之剑。在实际的工业实践中，需要对此问题有一定程度的认识和理解，并尽可能考虑到自己的业务过程中与此相关的隐私安全风险。<br>目前，差分隐私的技术在学术界和工业界引起了越来越多的关注。所谓差分隐私，指的是对数据集进行一定程度的修改，在尽可能少损失查询准确率的情况下，使隐私泄露的风险最低。2016 年，苹果公司宣布在其 iOS 10 操作系统中集成了差分隐私技术，不过具体实现了什么样的功能尚不清楚。</p><h4 id="8-4-2-程序化交易中的数据安全"><a href="#8-4-2-程序化交易中的数据安全" class="headerlink" title="8.4.2 程序化交易中的数据安全"></a>8.4.2 程序化交易中的数据安全</h4><p>1．供给方的数据安全<br>因为在 RTB 过程中，ADX 需要向参与竞价的 DSP 广播每次展示的 URL 和 cookie，这使得 DSP 在理论上存在规模化监听媒体用户行为的可能。假设有某个恶意的 DSP，对于能够参与竞价的所有广告请求，都以很低的价格参与竞价，目的不在于赢得流量，而在于收集媒体上的用户行为，这就产生了媒体数据的安全问题，我们将其称为供给方的数据安全问题，第 7 章中介绍 RTB 原理时也曾经提到过这一问题。<br>供给方的数据安全问题尽管在 RTB 中确实存在，但是并不是想象中那样严重。我们可以了解一下 16.1.2 节中介绍的询价优化技术：由于带宽的限制，实际上在每次询价时，ADX 应该尽可能只向那些最可能赢得竞价的 DSP 发送询价请求，而那些以恶意收集数据为目的的 DSP，在理想情况下应该被挡在大部分询价之外。</p><p>2．需求方的数据安全<br>再来看看需求方的数据安全问题。在RTB的环境下，由于定制化标签的引入，广告主的第一方数据也暴露在了广告交易的过程中，而这些数据有的是广告主的核心数据，需要认真考虑其安全问题。我们用图 8-7 所示的例子来说明一下：假设有两个英语教育类广告主“英孚教育”和“华尔街英语”，两者都通过 DSP 进行重定向访客找回，那么他们分别利用 RTB 的方式接触到了自己的访客集合。需要注意的是，这里的访客集合实际上是广告主的私有数据，也是特别具有商业价值的数据，然而，DSP、ADX 和媒体都有可能在 RTB 过程中得到这些访客集合。如果 DSP 希望制造更加激烈的竞价环境以获得更高的利润，那么它实际上可以将这两个广告主的访客集合合并在一起，并生成一个相应的用户标签吸引双方来对此标签竞价。这种做法的实质是在竞争对手之间倒卖访客集合，并且可以通过比较模糊的标签名字（如为上面两个广告主的访客集合打上“英语教育”的人群标签）非常隐蔽地操作。随着竞价激烈程度的增加，原本属于广告主的利润就向市场其他环节发生了转移，这个问题就是需求方的数据安全问题。</p><p><img data-src="/computational-advertising/computational-advertising-43.png" alt="图8-7　需求方数据安全问题示例"></p><p>需求方的数据安全性在某种意义上比供给方的数据安全性更加重要，因为这决定了广告主是否可以放心地通过RTB进行广告采买。坦率地讲，当前的广告交易市场对这个问题的重视程度和解决方案都还很不充分。因此，要提醒广告主，在广告交易中使用自己的第一方数据时，特别是面对强势的广告平台时，要特别留意数据安全的问题。</p><h4 id="8-4-3-欧盟的通用数据保护条例"><a href="#8-4-3-欧盟的通用数据保护条例" class="headerlink" title="8.4.3 欧盟的通用数据保护条例"></a>8.4.3 欧盟的通用数据保护条例</h4><p>欧盟议会于 2016 年 4 月通过的《通用数据保护条例》（General Data Protection Regulations，GDPR）于 2018 年 5 月正式生效实施。GDPR 适用范围很广，任何收集、传输、保留或处理欧盟成员国个人信息的机构组织均受其约束。<br>GDPR 规定了对于个人敏感数据的收集、处理和存储的原则，而下列个人数据皆被视为敏感数据：</p><ul><li>种族或民族出身；</li><li>政治观点；</li><li>宗教/哲学信仰；</li><li>工会成员身份；</li><li>涉及健康、性生活或性取向的数据；</li><li>基因数据；</li><li>经处理可识别特定个人的生物识别数据。</li></ul><p>其中最后两类数据是以前的相关法规讨论中未曾涉及的，也是在新时代技术背景下合理的拓展。<br>对这些数据的收集和使用，GDPR 要求企业必须以明确得到用户“同意”为基础，在征求同意的条文中，企业需要明确说明用户他的哪些信息会被收集，以及这些信息是如何被存储和使用的。以前那种模糊的、容易混淆的条文，将不再被允许。<br>另外，GDPR 认为对消费者来说，应该明确拥有对个人数据的以下 4 项权利：</p><ul><li>数据访问权，即用户有权了解企业对其数据的具体使用情况；</li><li>被遗忘权，即用户有权要求企业删除已经收集的个人数据；</li><li>限制处理权，即有权禁止企业将信息用于特定用途，如用于营销或者将数据透露给第三方；</li><li>数据携带权，即用户想离开某平台时可以带走其在该平台产生的个人数据，如歌曲列表。</li></ul><p>GDPR 被称为史上最严格的用户隐私保护法规。应该说，这一条例对于用户隐私的重视与剖析，值得所有互联网工作者认真学习。另外，欧盟为了彰显其执行这一条例的决心，声称会对违反该条例的企业处以最高达数千万欧元的罚款。<br>但是，我们认为该条例也存在很多严重的问题，主要有以下几点。</p><ul><li>如前文所述，用户隐私保护本身是个复杂的技术问题，恐怕不是靠法规可以彻底解决的。例如，因为数据本身与其他用户隐私有关联性，“数据携带权”这样的规定实际上很难执行。事实上，GDPR 中很多具体的执行标准到今天仍然语焉不详。</li><li>法规低估了互联网产品使用数据的技术复杂性。实际上，由于深度学习等方法的普遍应用，企业本身也无法说清楚用户的数据是如何被使用的，这就使这样的规定有些想当然了。</li><li>有人评估过，如果企业严格按照 GDPR 条例改造产品和系统，那么要花费至少数百万美元的额外成本。显然，这样的成本对于 Google 和 Facebook 这样的大公司来说无足轻重，但小企业却难以承受。</li></ul><p>因此，我们认为，这一条例很可能会成为加剧互联网寡头化趋势的“恶政”。<br>总体而言，GDPR 是用户隐私保护领域的一次重要探索。但从实际规定来看，这一条例有些因噎废食和纸上谈兵，如果彻底严格执行，有可能会对欧洲的互联网产业带来致命打击。</p><h2 id="第9章-信息流与原生广告"><a href="#第9章-信息流与原生广告" class="headerlink" title="第9章 信息流与原生广告"></a>第9章 信息流与原生广告</h2><p>广告毕竟是离不开用户产品的。目前的广告交易体系倾向于直接使用第一方数据和第三方数据做指导，在独立的交易环境中完成投放，而广告与媒体内容的关系则在一定程度上被弱化了。应该说，这并不是一个好的趋势，独立于内容的广告交易，必然会在效果和用户体验方面碰到天花板。将内容与广告决策深度融合的原生广告产品是本章讨论的重点。<br>原生广告最重要的也是最早引发“原生”问题讨论的产品形式就是信息流广告。这种广告形式最早见于社交网络，后来为各类移动广告产品广泛采用。从形式上看，交互的联动性和相对独立于周围内容的特性，使信息流广告有非常好的效果，我们将试图在此基础上给出信息流广告的定义。从产品本质上看，信息流广告与普通展示广告区别不大，可以看成是一个多位置且广告放置比较自由的竞价广告产品。<br>但是，关于“原生广告”这个更一般的概念，我们很难给出清晰的定义。实际上，从软文、搜索广告到社交网络中的信息流广告，都有一些原生广告的意味，但也都只反映了原生广告的一个侧面。应该说所有将商业化内容与非商业化内容统一生产或混合排序的产品，都可以认为与原生广告有关系。这样的产品方向，也经常被称为内容即广告（content as ad）。在本章中，我们会介绍几种常见的原生广告初级产品。<br>原生广告得到充分的重视和发展是在移动互联网时代到来以后。这是因为，将广告与内容独立地展示和运营在屏幕较小、触屏交互方式不够精准的移动设备上遇到了巨大的挑战。于是，业界开始探讨将原生广告部分代替一般展示广告，提高移动环境下广告的变现能力。在原生的发展方向下，以激励视频为代表的深度原生广告形式正在变得越来越普及，并且带动了移动广告视频化和交互化的发展方向。<br>不过，与内容结合的原生广告如何能够规模化、交易化运营是产品面临的一个挑战。根据现在市场上的产品探索，我们总结了一些原生广告交易化运营的关键点，以及将会面临的主要挑战。</p><h3 id="9-1-移动广告的现状与挑战"><a href="#9-1-移动广告的现状与挑战" class="headerlink" title="9.1 移动广告的现状与挑战"></a>9.1 移动广告的现状与挑战</h3><h4 id="9-1-1-移动广告的特点"><a href="#9-1-1-移动广告的特点" class="headerlink" title="9.1.1 移动广告的特点"></a>9.1.1 移动广告的特点</h4><p>在认清了移动设备的一些独特属性，特别是可以对人的行为模式进行全时段、全场景分析这一特点后，我们会发现，移动广告面临着前所未有的巨大的市场机遇。<br>移动广告的库存正随着移动设备的爆发式增长而迅猛成长，这一点带来的流量红利当然是最大的机遇。不过，我们更关注的是，从产品本身来看，移动广告究竟带来了哪些新的机会呢？我们认为至少有以下两点。<br>（1）场景广告的可能性。从用户行为分析角度来看，移动设备与 PC 最大的不同是可以对用户行为模式进行全天候的监测和分析。移动设备的特点是一直跟用户在一起，并且从地理位置、生活状态、需求意图等各方面都可能对用户有深入的理解。因此，在移动环境下，受众定向完全有可能做到从场景和意图出发，而不是仅根据兴趣推送商品。举个例子，根据简单的地理位置分析，就可以判断用户是在家还是在上班，如果是在上班，那么就不应该向其推送游戏广告。<br>（2）大量潜在的本地化广告主。广告发展到今天，可以说没有任何主流的渠道可以帮助本地化小商家做推广。电视、路牌这种品牌性媒体自不必说，即使是在线广告，在 PC 时代往往也只能定位到城市级别，这样的地域定向对一个小区的理发店来说显然是粒度太粗了。而在移动环境下，GPS、蜂窝、Wi-Fi 等多种精确定位的手段，使基于精确地理位置的本地化广告变得可行。当然，精确地理位置也需要结合移动特点，用场景化的方式来使用。</p><h4 id="9-1-2-移动广告的传统创意形式"><a href="#9-1-2-移动广告的传统创意形式" class="headerlink" title="9.1.2 移动广告的传统创意形式"></a>9.1.2 移动广告的传统创意形式</h4><p><img data-src="/computational-advertising/computational-advertising-44.png" alt="图9-2　移动广告形式示例"></p><p>1．横幅与插屏<br>横幅是移动应用中产生比较早的广告创意形式，也是直接从 PC 广告的形式传承下来的。虽然形式上类似，但在移动广告中横幅这种形式却有一定的问题。首先，移动横幅广告的点击率远高于 PC 横幅广告，当然其中有很大比例是误点击。横幅的误点在移动设备上会严重打乱用户的任务，因此对用户体验的伤害也较大。其次，广告主观察到的转化率很差，这一方面是因为大量的误点不会产生任何效果，另一方面是因为广告主的后续转化体系在移动广告上不够成熟，当然这并不是横幅独有的问题，我们后面还会提到。<br>插屏广告（interstitial ad）与视频中的暂停广告非常类似，往往也是出现在游戏或其他应用暂停时。这种广告同样有着点击率虚高、转化相对较差等特点。<br>虽然横幅和插屏有这些问题，但是由于广告网络、广告交易平台等成熟交易体系的存在，这种标准化程度较高的形式最容易形成规模。因此，到目前为止，横幅和插屏广告仍然是移动展示广告主要的形式，并且主要以竞价方式售卖为主。</p><p>2．开屏与锁屏<br>开屏是在一个应用打开时，在加载页面展示的全屏广告，读者在新浪微博、网易新闻等应用加载时经常可以看到。开屏可以说是移动广告形式比较好的探索之一，因为用户在等待应用打开时还没有明确的任务，因此不会对广告很反感。另外，全屏的展示形式让这种广告的品牌价值更高，因此在实际售卖时往往以合约方式为主。<br>与开屏类似，还有一种锁屏广告，它是在用户的移动设备被锁定时展示的广告，其特性与开屏广告很相似，对用户体验的影响也较小。但是，这种广告一般以激励型为主。</p><p>3．推荐墙与积分墙<br>由于移动应用生态体系的存在，有相当比例的移动广告预算是以推广应用下载为目标的。最直接的下载类广告形式是推荐墙（offerwall）。从技术上说，这可以类比于第 8 章中提到的站外推荐。不过，推荐墙并没有成为移动应用推荐类广告最主要的形式。<br>实践中还有一种叫“积分墙”的产品。积分墙同样是向用户推送应用下载类广告，不同的是，在用户下载并激活该应用后，会得到一定的积分，这些积分往往可以兑换游戏币、电话卡等虚拟物品，以此刺激用户的下载行为。积分墙与返利网一样，都属于激励广告，虽然点击和激活数据很好，但是后续活跃程度比较差。不过，在特殊场景下，积分墙这种推广方式也有其特殊的价值。<br>（1）应用冲榜。当开发者开发的新应用上线时，往往需要短时间内的大量下载，冲高在 Apple Store、Google Play 等这类应用商店里的排名，因此积分墙是一个很好的渠道。不过在中国，由于 Android 市场非常割裂，因此积分墙主要流行于 iOS，而苹果公司从 2013 年开始也明确表示会打击这类用积分推广影响榜单的方法，因此其前景并不乐观。<br>（2）游戏开服。在线手机游戏增加新的服务器时，也需要短时间内有大量玩家进入以形成社区，因此也常常选择积分墙。</p><h4 id="9-1-3-移动广告的挑战"><a href="#9-1-3-移动广告的挑战" class="headerlink" title="9.1.3 移动广告的挑战"></a>9.1.3 移动广告的挑战</h4><p>（1）应用生态造成的行为数据割裂。在目前的移动互联网环境中，并没有形成 PC 时代那样的以 Web 为核心的生态，取而代之的是以应用为主的生态体系，这有些像 PC 早些年的情形。<br>应用与 Web 相比，虽然在用户体验的流畅性、功能丰富性方面有一定的优势，但是也带来了对商业产品的挑战：各应用之间相对独立，没有 Web 环境下超链接那样的组织体系，因此数据的来源也相对割裂，整合起来比较困难。因此，虽然理论上说，移动环境对用户的了解更加深入，但实际操作中数据的获取更加困难。Web 生态下常用的数据交换接口，如 JavaScript 跟踪代码之类，在应用生态中需要用更加复杂的 SDK 来解决，可行性往往大打折扣。<br>（2）许多 PC 时代广告主移动化程度还不够，无法充分消化广告带来的流量。虽然原理上讲，将一个 PC 的广告投放迁移到移动投放上非常简单，但在实际操作中，会在后续转化流程上遇到巨大的麻烦。<br>首先，是落地页展示和交互模式的巨大差别。如果将 PC 端的落地页直接照搬到移动投放中，交互体验会非常差，效果当然也不会好。这还仅仅是落地页，如果涉及后续转化流程的多个页面，可以想象，广告活动的移动化不仅是一个系统工程，而且很可能是要等待广告主自身业务移动化的进程。<br>为了让广告主后续的转化流程更符合移动环境的用户使用习惯，移动广告的落地页也产生了一些新模式，例如，点击广告直接拨打广告主服务电话或者发送短信，这也都是为了让后续的转化流程更加顺畅。<br>（3）移动广告的产品形态需要一次革命。上面谈到的传统横幅广告在移动环境下遇到的问题，实际上反映了产品形态的深层次问题。在传统的在线广告中，广告位和内容总是被放在不同的单元中，以相对独立的方式运营的。但到了移动环境下，屏幕的尺寸减少了很多，如果被广告位再占据一块空间，那么变现与用户体验的矛盾就显得非常突出了。<br>那么，移动广告产品形态的变革有何方向呢？显然，原生广告是一个值得探索的方向。因为原生的目的就是解决广告与内容对立的问题，希望广告也能在用户正常的内容消费中和谐地存在。如果这样的产品能够发展起来，也就不存在广告与内容争抢版面并严重损害用户体验的问题了。正是基于此，我们才将移动广告和原生广告这两个并非并列关系的问题在本章里一起讨论，因为在我们看来，只有原生化才是移动广告最重要的方向。</p><h3 id="9-2-信息流广告"><a href="#9-2-信息流广告" class="headerlink" title="9.2 信息流广告"></a>9.2 信息流广告</h3><p>作为原生广告最重要的形式之一，信息流广告起源于社交网络。2010 年 4 月，Twitter 发布了其“Promoted Tweets”产品，在其信息流中插入商业化的内容，如图 9-4 所示。这样的信息流广告后来也被其他的社交网络（如 Facebook、微博、QQ 空间等）广泛采用。信息流广告由于自然地出现在用户内容消费的主路径上，而且展示形式与内容非常接近，因此受到的关注比较有效，这也使得其效果比一般展示广告有较大的提升。正是从这种信息流广告开始，大家才意识到，内容与广告的有机融合是提升广告十分有效的手段，这也催生了对于原生广告系统性的探讨。</p><p><img data-src="/computational-advertising/computational-advertising-6.png" alt="图9-4　“Promoted Tweets”信息流广告示例"></p><p>如今，信息流广告也出现在一些非社交类的媒体上，如今日头条、Yahoo!新首页等。这些适合于信息流广告的媒体都有一个共同特点，即信息流中的各条内容相关性并不强。在这种情形下，插入一条商业化内容，形式上不会显得太突兀，用户体验也会较好。如果在一些垂直媒体的信息流中提供广告，则需要考虑上下文的影响，以达到原生的目的。实际上，在社交网站上投放信息流广告时，如果考虑与周围内容的相关性，也会提升一些效果。<br>信息流中的内容排序方式比较多样化，例如，在社交网络中一般按照时间排序，在新闻客户端则按照兴趣、热度等排序。因此，无法将内容与广告按同一准则排序，一般是将广告按照一定的规则插入到自然结果中。</p><h4 id="9-2-1-信息流广告的定义"><a href="#9-2-1-信息流广告的定义" class="headerlink" title="9.2.1 信息流广告的定义"></a>9.2.1 信息流广告的定义</h4><p>在产品发展过程中，对信息流广告曾经有过不同的称谓和理解。最初，大家认为这是伴生在社交网络产品中的广告产品，所以往往只提及社交广告；后来，随着新闻等内容类产品广泛采用这种变现方式，才开始将信息流广告作为一种特殊的产品形式来考虑；近来，随着各种类型的应用都开始结合自己的交互特点嵌入这种广告形式，信息流广告的外延开始不断丰富，内涵也逐渐明确。如图9-5所示，典型的上下滑动交互信息流、多列的瀑布流，甚至左右滑动的负一屏，在用户体验上和广告效果上都呈现出比较一致的特征，可以把它们都归到信息流广告的范畴。当然，信息流广告这种形式既可以用于移动端，也可以用于PC端。</p><p><img data-src="/computational-advertising/computational-advertising-45.png" alt="图9-5　信息流广告若干示例"></p><p>信息流广告指的是这样一种广告形式：首先，广告以与内容联动的方式进行交互；其次，被广告区隔开的各部分内容之间没有直接的关联。</p><p>我们用图9-6来说明以上定义的两个关键点。</p><p><img data-src="/computational-advertising/computational-advertising-46.png" alt="图9-6　信息流广告关键特征示意"></p><p>（1）广告与内容的交互联动，指的是用户在上下、左右或其他交互方式操纵内容进行浏览时，嵌入内容之间的广告也要按同样的方式被操作，换句话说，怎么操作内容，就怎么操作广告。如图 9-6 所示，用户通过上下滑动操作 c1～c4 这些内容片断的显示时，嵌入其中的广告 a 也跟随其移动改变显示位置。广告与内容的交互一致，一方面可以极大程度地提高操作的便捷性，降低误点概率；另一方面会让用户感觉广告也是内容消费的一部分，从而提高关注程度和广告效果。举个例子，传统的横幅广告在内容交互时，广告在上部或下部悬浮不动，就不符合这条定义。在插屏这类占据屏幕较大比例的广告形式中，如果采取角上按钮关闭广告，则并非内容的典型交互形式，所以不应认为是信息流广告；但如果通过滑动消除广告，进入其他内容或功能界面，也可以归为信息流广告。<br>（2）被广告区隔开的内容相对独立，指的是图 9-6 中被 a 区隔开的 c1～c4 等部分各自独立表达一项内容，并没有直接的接续、因果等关系。之所以强调这一点，是因为如果内容块之间有很强的联系的话，用户从感知上就会认为广告打断了他当前的阅读任务，根据 2.1 节的讨论我们知道，这会影响广告的关注程度和用户的产品体验。根据这一定义，我们知道在一篇文章中间开辟一个广告位，把内容区隔开的产品形式，并不属于信息流广告，而社交网络、新闻客户端等产品形式，由于内容块之间天然具有联系较弱的特征，非常适合采用信息流广告变现。<br>需要说明的是，展示样式与内容块一致、采用受众定向的方式精准投放广告等特征，虽然在实践中为大多数信息流广告产品所采用，但是并非根本特征，可以不放在定义的要求之中。</p><h4 id="9-2-2-信息流广告产品关键"><a href="#9-2-2-信息流广告产品关键" class="headerlink" title="9.2.2 信息流广告产品关键"></a>9.2.2 信息流广告产品关键</h4><p>就信息流广告特有的产品问题来看，有两点需要专门讨论：一是如何将同样的广告素材适配到不同的信息流位置上去；二是如何处理广告在信息流中出现的位置与密度。<br>1．广告位适配问题<br>信息流广告不同于标准的横幅、插屏等位置，往往需要根据媒体的上下文布局与风格确定展示样式。然而，为每一种展示样式单独制作一个创意的成本，对于广告主和平台来说是无法接受的。因此，需要有自动化的产品方案能够解决同一个广告在不同广告位下的适配问题。<br>实际上，这个问题并非信息流广告独有的，而是原生广告遇到的普遍性问题，我们将其称为“表现原生”问题。9.4 节中将对此进行详细讨论并给出示例。<br>有人认为，对于 Facebook 这类流量很大的平台，设计信息流广告时并不涉及多种位置适配的问题，这样的观点是不对的。实际上，任何一个平台在充分变现自由流量后，都会向外拓展新的流量来源，而这些站外流量由于产品情况复杂，要做到原生的展示必然存在适配问题。而如果广告主需要为站外拓展流量重新制作创意，必然会带来填充率的严重下降，变现能力也会大打折扣。</p><p>2．广告竞价与放置<br>信息流广告与普通的展示广告并没有非常本质的区别。如图 9-7 所示，信息流广告可以看成是一个多位置的竞价广告产品，其基本产品问题可以概括如下。</p><p><img data-src="/computational-advertising/computational-advertising-47.png" alt="图9-7　信息流广告广告放置示意"></p><p>（1）一个信息流插入的若干广告位（见图 9-7 中的 a1, a2, a3, …）构成一个竞价队列，可以按照 VCG 或 GSP 来扣费。当然，也可以将 a1, a2, a3 视为不同的广告位分别竞价，不过如果要求在这几个广告位之间对广告去重的话，就等价于只有一个竞价队列。<br>（2）如图 9-7 所示，在哪里插入信息流广告主要取决于两个参数：一是 S，即首条广告出现在第几条内容之后；二是 K，即两条广告之间间隔几条内容。这两个参数的值越大，广告获得的用户关注就越少，对用户体验的影响也越小。于是，这里有一个信息流广告主要的产品问题，即与 6.1.3 节中搜索广告类似的广告放置问题。<br>解决信息流广告放置问题的思路也与解决搜索广告放置问题基本一致：在平均广告条数的约束下，通过调整每个用户的 S 与 K，优化总体广告的点击率。其中平均广告条数的约束，相当于对用户体验的约束，当然也可以改用其他更加精细的量化指标。求解的关键也与搜索广告一样，需要尽可能准确地预估每个用户相对于整体用户的点击率水平。具体的方法思路参见 6.1.3 节。</p><h3 id="9-3-其他原生广告相关产品"><a href="#9-3-其他原生广告相关产品" class="headerlink" title="9.3 其他原生广告相关产品"></a>9.3 其他原生广告相关产品</h3><p>我们看一下在信息流广告以外，市场上曾经出现的几种内容与广告深度结合的广告产品，对原生的问题形成一些感性认识。</p><h4 id="9-3-1-搜索广告"><a href="#9-3-1-搜索广告" class="headerlink" title="9.3.1 搜索广告"></a>9.3.1 搜索广告</h4><p>在竞价广告产品中，我们重点介绍了搜索广告，现在可以换一个视角再做解读。<br>搜索广告的展示形式与自然搜索结果基本一致，也可以看成是存在于同一个信息流当中。因此，它的高变现能力也部分地源于这种原生的产品形式。另外，搜索广告的另一个特点，即用一个明确的查询来触发广告，对我们探索原生广告也很有启发：要想真正做到“内容即广告”，显然在广告决策过程中要明确考虑用户当前的任务和意图，并直接根据这些来触发广告。<br>搜索广告与内容的混合方式有两种，一种是将广告在固定的位置上展现，另一种是将广告与内容混合排列在一起。当然，在实际的搜索引擎中，广告与内容也是来源于不同的服务，前者按照 eCPM 排序，后者按照相关性排序，两者混合的规则也是一些固定的逻辑，并没有实现按同一准则的统一排序。应该说，如果按照内容即广告的思路前进，那么在搜索引擎中，内容与广告按照同一准则的统一排序将会是一个有价值的发展方向。</p><h4 id="9-3-2-软文广告"><a href="#9-3-2-软文广告" class="headerlink" title="9.3.2 软文广告"></a>9.3.2 软文广告</h4><p>在这种广告类型中，内容本身就是为了委婉地宣传某种产品而生产的。很多网站的内容营销，实际上指的就是这种软文广告。这种方式也从一个独特的角度体现了“原生”的意义：较高质量的软文往往让读者可以像接受普通文章一样接受其内容，因而宣传效果也会比较好。不过这种软文广告的生产和传播过程很难被标准化，不是产品化交易的对象，因此并不是我们重点讨论的广告产品。<br>虽然软文本身离广告产品较远，不过也给我们提供了重要的启发：在内容的生产过程中，应该同时考虑到商业化的可能。虽然整篇的软文生产很难做到规模化，但是如果将内容中一些相对标准化的片段变成商业化信息会如何呢？显然，这个方向是值得探索的。</p><h4 id="9-3-3-联盟"><a href="#9-3-3-联盟" class="headerlink" title="9.3.3 联盟"></a>9.3.3 联盟</h4><p>在前面介绍广告网络的时候，我们提到过一种联盟的模式，即由媒体从广告库中自由选择要推广的对象，并按照自己控制的方式来进行推广。虽然这是比较原始的广告产品形式，但是也对原生的思路有一定启发：只有给媒体一定的选择广告的权限，才能比较容易地做到广告与内容在主题上的和谐，也才会产生像淘宝客那样可以将广告自由地嵌入博客和各种网站的用法。<br>不过还是要说明，这样简单的联盟方式并不是理想中的原生广告形式。因为在这种方式下，数据基本上无法发挥作用，也并没有一个第三方平台专业化地负责广告的运营和投放，而且因为投放过程不透明，作弊情况比较多。因此，联盟的市场相对原始，规模化程度也有限。</p><h3 id="9-4-原生广告平台"><a href="#9-4-原生广告平台" class="headerlink" title="9.4 原生广告平台"></a>9.4 原生广告平台</h3><p>我们从现有的原生产品状态和共同特点出发，来看看市场真正需要的原生广告平台有什么样的产品特征。注意，下面我们讨论的基础是由独立广告平台，而不是媒体本身提供广告。</p><h4 id="9-4-1-表现原生与场景原生"><a href="#9-4-1-表现原生与场景原生" class="headerlink" title="9.4.1 表现原生与场景原生"></a>9.4.1 表现原生与场景原生</h4><p>“原生”这一概念实际上有两种不同的诉求：</p><ul><li>表现原生：将广告的展示风格和样式变得与内容相一致，做到产品形式上的“原生”；</li><li>场景原生：将广告的投放决策逻辑与内容生产相一致，做到用户场景上的“原生”。</li></ul><p>表现原生从广告有效性原理来看，这样做有助于用户自然地给予广告更多的关注。而在独立原生广告平台的情形下，要做到广告与内容表现上的和谐，只能由媒体来设计和控制展式样式。当然，表现原生可以考虑的方面很多，并不是只在信息流中嵌入与模板接近的广告。例如，在图9-8中，在插屏广告外套上一个媒体风格的对话框，也是很典型的原生设计，效果也非常显著。另外，像字体、颜色这些特征，在表现原生的要求下也需要根据媒体做适配，这些显然都是传统的“创意”无法承载的新产品要求。</p><p><img data-src="/computational-advertising/computational-advertising-48.png" alt="图9-8　原生插屏广告示例"></p><p>场景上的原生性则需要媒体明确提供场景和需求。如果我们进一步比较搜索广告和社交网络信息流广告，会发现前者的效果仍然要好于后者。究其原因，是因为搜索广告的投放决策是完全按照内容结果的展示原则进行的，在以投放内容的方式匹配广告。根据这一点，我们可以得到原生广告的另一个产品原则，即应该用媒体提供的广告需求来筛选广告。</p><p>在 9.3 节中介绍的原生广告产品中，社交网络信息流广告侧重于表现的原生性，而搜索广告在表现和场景两个方面都是原生的。大体而言，对于那些用户直接意图比较模糊的用户产品，如社交网络、新闻列表等，表现原生的广告产品就足够了；而对于用户直接提供明确意图的用户产品，如搜索，则最好要做到场景上的原生性。除了这两类产品，互联网上还有大量的用户产品，实际上用户有比较明确的意图，但是并未以查询等方式直接提供，并且在表现形式上也不是规整的信息流模式。在这样的用户产品中，联盟或软文就是适用于这样场景的原生广告形式，这实际上也是兼顾了表现和场景上的原生性。但是，联盟和软文并不能像其他广告产品那样以计算的方式来优化效果，并且通过广告市场规模化地交易，因此在这方面存在着探索空间。</p><h4 id="9-4-2-场景的感知与应用"><a href="#9-4-2-场景的感知与应用" class="headerlink" title="9.4.2 场景的感知与应用"></a>9.4.2 场景的感知与应用</h4><p>在移动环境下，“场景”具有特别重要的意义，这一点与 PC 大为不同。人们使用桌面 PC，无非是上班办公和回家上网这两个典型场景；使用笔记本计算机时，场景会稍丰富些，如会有在高铁上或咖啡厅里使用的场景。到了移动时代，场景的丰富性大大增加：人们在吃饭、健身、乘地铁、开会时都会携带手机。显然，对广告营销来说，场景携带了很多有价值的信息，因为它直接反映了用户所处的状态。例如，在用户工作时向其投放游戏广告应该点击率不会太高。需要说明的是，场景与 4.2 节中讲的上下文并不是一回事：上下文主要表达的是当前用户关注的互联网内容，而场景主要表达的是用户本身的环境和任务。<br>同时，由于移动设备有丰富的用户行为、地理位置和传感器信息，通过数据推断用户场景也是可能的。例如，上面说的用户工作场景，可以用如下数据逻辑获得：每天上午 10 点检测用户所处的位置，如果统计发现每月有一定的天数（如 15 天）以上在同一个地点附近出现，那么可以推断这个地点就是该用户的上班地点。以后只要用户出现在这个地点，就可以认为这个用户处在上班的场景。</p><p>移动设备状态和场景可能过于琐碎，如何找到对营销和其他任务有关键意义的部分是一个比较大的挑战。举个例子，假设我们后验地知道北京的出租司机群体有某项共同需求，那么从陀螺仪、速度这些状态信息上找出这一群体并不难。可是，这样的群体和可能的生活状态五花八门，绝不是产品经理可以全面了解的，这与 PC 时代我们基本采用“看什么推什么”的思路相比，难度大大增加了。因此，要从海量的用户状态信息中找到有意义的场景，只能依靠机器的自动挖掘，采用深度学习的思路来进行。</p><p>表9-2　移动设备状态与传感器信息示例<br>|移动设备场景|信息示例|<br>|—|—|<br>|硬件信息|品牌、型号、CPU、显示屏参数、系统定制商、MAC地址、RAM大小……|<br>|软件环境|操作系统名称、操作系统版本号、操作系统架构、时区……|<br>|状态信息|信号强度、Wi-Fi列表、音量、屏幕亮度、陀螺仪、蓝牙信息、NFC状态……|<br>|广播信息|飞行模式、电量、系统启动、按下照相物理按键、改变输入法、应用被安装……|</p><h4 id="9-4-3-植入式原生广告"><a href="#9-4-3-植入式原生广告" class="headerlink" title="9.4.3 植入式原生广告"></a>9.4.3 植入式原生广告</h4><p>根据场景原生的需求，在一个第三方运营的原生广告平台中，媒体应该提供哪些有指导性的广告需求呢？简单来说，一是要判断用户当前的场景及意图，二是要确定根据用户的意图提供什么样的信息。例如，在一篇旅游博客上，媒体运营方可以很容易地判断读者一般是为了了解该目的地的旅游信息，进而可以向广告平台请求同一目的地的酒店作为广告。我们相信，通过这种方式，可以真正挖掘一家媒体的商业价值。这不同于传统的展示广告中的上下文定向，因为在上下文定向中，是广告平台而非媒体，采用比较粗浅的自然语言处理方法获得页面的主题。对于用户的意图，这种面向全行业的自动化往往行不通，而如果有了媒体的主动参与，用户意图提取起来就容易得多了。<br>广告平台提供的则是结构化的付费内容。由于媒体控制广告展示，广告平台返回的就不能是成形的图片或文字链创意，而必须是一些结构化的信息，作为媒体拼装创意的素材。因此，原生广告平台的广告库的结构不是简单的广告投放和创意信息，而是各行业结构化的付费内容，这一点将会显著改变广告业态的结构。<br>如果按照上面的逻辑来设计和运营一个原生广告平台，实际上可以称为一个“植入式广告”的投放系统，这样的系统逻辑是在内容的行文中自然地植入付费信息。我们仍然以上面提到的旅游网站为例，用图 9-9 中的概念性示例看一下整个投放决策过程。图 9-9 中的广告请求发生在某拉萨旅行游记的网页上。在这样的内容中，除了游记本身，编辑很自然会推荐拉萨酒店，以方便读者。然而我们知道，酒店信息是高度商业化的内容，有没有可能以付费内容的方式从第三方广告平台获得呢？这显然是可行的。</p><p><img data-src="/computational-advertising/computational-advertising-49.png" alt="图9-9　植入式原生广告投放过程示意"></p><p>（1）首先，媒体给出用户场景或意图，并用一个结构化查询“类型=酒店；地点=拉萨”来表示。这里的“类型”限定的是需要什么样的付费内容，而后面的“地点”则是与此类型相关的查询条件。<br>（2）广告投放机收到此查询后，会去酒店库中检索符合条件的酒店。在得到候选后，广告投放机仍然要根据 eCPM 对各个候选进行排序，而在此排序过程中，人群标签仍然可以使用，例如收入水平较高的用户可能对高星级的酒店点击率较高。<br>（3）排序完成以后，将结构化的酒店信息拼装渲染的过程则由媒体来控制。媒体可以自由地根据自己页面的风格、色调、字体等，从酒店信息中选取需要的字段，加工成最终展示出来的创意，而这样的创意是可以做到与内容无缝融合的。在实际产品中，如果将每一次的广告渲染都交由媒体处理，则既对媒体提出了过高的技术要求，又不利于点击监测、反作弊等环节的实施。因此，我们可以采用一种等价的方法：由媒体按照广告平台的格式提供渲染模板，在广告平台审核通过后，每次展示按照此模板来拼装渲染，最后返回的与普通广告一样，仍然是一段 HTML 片段。<br>以这种植入式广告的逻辑来运营原生广告，是希望在内容生产的过程中，当某些片段商业价值较高时，将这些内容按照严格的条件，交由广告平台来生产。这样做，不仅可以避免现有的展示广告产品对用户体验的打扰和伤害，而且有可能将展示广告变成类搜索广告，真正为媒体创造高价值的变现能力。<br>不过，不要指望这样的产品能在一夜之间变成主流，因为这样的广告体系与现有体系的差别是巨大的。它将会面临哪些挑战呢？我们设想，主要可能会有下面两点挑战。<br>（1）媒体参与让广告多了一个自由度，运营难度大大增加。在前面介绍的各种广告产品中，媒体对于除了品牌广告部分的交易，基本上都可以简单地加投放代码或 SDK 来完成。这虽然带来了引发原生广告讨论的许多问题，但也极大地方便了媒体的流量变现需求。但是无论是“原生”还是“植入式”，从字面就可以理解，没有媒体一定程度的参与是不可能的。如果媒体以图 9-9 所示的方式参与广告交易过程，那么从生成用户意图查询到渲染模板的设计，需要做不少的工作。所以，尽管原生广告对于媒体用户体验和变现能力都有帮助，但要想让中小型媒体参与到这样的交易过程中，需要一个较长的市场培育和产品教育过程。<br>（2）大量分行业、结构化广告信息的建立需要时间。原生广告处理的信息，从原来的广告创意变成了结构化的付费内容。然而，即使是目前比较大的广告平台，实际上也还没有成规模地积累起这样的付费内容库，它们有的都只是广告创意。唯一已经积累起一些付费内容库的产品是 DSP 中的个性化重定向，其内容库主要集中在电商行业。而大量的非商业化行业，如新闻、视频等，实际上也存在付费推广自己内容的需求，而这部分的内容库需要市场慢慢积累。</p><h4 id="9-4-4-产品案例"><a href="#9-4-4-产品案例" class="headerlink" title="9.4.4 产品案例"></a>9.4.4 产品案例</h4><p>1．InMobi原生广告<br>作为一家总部在印度的广告技术公司，InMobi 在创立之初就把握了移动互联网广告全球化的特点，大力开阔全球市场，首先避开竞争激烈的北美、欧洲市场，InMobi 把视角对准印度周边的新型市场，如印度尼西亚、马来西亚、沙特阿拉伯等，等有了一定实力站稳脚跟后 InMobi 再进入北美市场、欧洲等市场，经过不断的全球化拓展的努力，InMobi 成为仅次于 Google Admob 的全球第二大移动广告平台，覆盖到全球 165 个国家和地区的 7.59 亿消费者。</p><p><img data-src="/computational-advertising/computational-advertising-50.png" alt="图9-10　InMobi原生广告示例"></p><p>2．Facebook Audience Network<br>Facebook Audience Network（FAN）是 Facebook 为第三方移动应用开发者提供的广告变现产品，它以 SDK 的方式集成在应用当中，并且主要提供原生广告形式。<br>FAN 的广告投放策略与一般 ADN 有所不同，仅在那些有 Facebook 账号的移动设备上才会出广告，这使其填充率并不高。不过，由于账号带来比较确定的真人属性，因此广告主愿意出更高的价格，这也使 FAN 的 eCPM 一般来说要高于其他 ADN。另外，FAN 还有对媒体广告位的分级评定制度，级别不同的广告位会以不同质量的广告填充，eCPM 水平也会相差巨大（甚至有一个数量级的差距）。<br>与其他大多数变现产品不同，FAN 迄今为止没有引入任何程序化交易的成分：既没有向 DSP 开放 RTB 接口，也没有从其他 ADX 那里购买流量。维持这样封闭生态的原因是 FAN 主要致力于原生广告领域，重点解决的是如何用一组相对稳定的素材来适配各种广告位的问题。对此，如图 9-11 所示，FAN 的解决方案是让广告主提供如下一组元素：（1）图标；（2）标题；（3）赞助内容标签；（4）广告主选择；（5）大图；（6）社交元素；（7）描述；（8）行动按钮。在大多数情形下，利用这几个元素灵活拼装，就可以适应各种比例和风格的广告位。而且，FAN 的 SDK 直接向媒体返回这些素材，媒体用一个模板自行拼装。这样的方式极大地提高了广告的原生化，不过媒体自行拼装的产品形式也带来了一定的修改或替换创意的风险。</p><p><img data-src="/computational-advertising/computational-advertising-51.png" alt="图9-11　FAN原生广告元素"></p><p>市场上也出现了一些针对 FAN 的有损用户利益的收入优化方法，甚至出现了“利用 Facebook 广告大规模获取用户，并利用 FAN 激进变现”的套利手段。对此，FAN 在 2017 年加强了对开发者和广告位的审核，正在牺牲一些收入以换取市场的良性发展。</p><p>3．Applovin<br>激励视频广告（rewarded video ad）最常见的场景是在游戏媒体当中，其展示过程分下面几个步骤。<br>（1）游戏场景带入。在游戏里的某个情节中，会向用户提示看一段视频，看完以后可以给游戏内的虚拟商品奖励。<br>（2）播放视频广告。当用户打开视频时，会发现这是一个 15～30 秒的广告片，并且不能跳过。<br>（3）广告播放结束。视频广告播放完成，向用户展示下载或其他转化跳转页面，同时发送点击请求。<br>（4）获得游戏奖励。回到游戏中，获得虚拟商品的奖励。</p><p><img data-src="/computational-advertising/computational-advertising-52.png" alt="图9-12　激励视频广告流程示意"></p><p>注意，这里的激励视频与 1.4 节中提到的激励广告是不一样的，因为激励视频只对用户观看广告的行为给予奖励，并不刺激用户去下载，因为不会出现获取用户质量偏低的情况。<br>激励视频是原生广告发展到今天的一个代表性产品，它需要从游戏的场景自然带入，又需要与游戏的积分体系无缝对接，为用户带来了沉浸式的广告体验。当然，媒体往往也要付出一定的成本来设计和实现带入情节。不过，这种原生形式的核心部分——视频素材播放，又是相当标准的过程，非常容易程序化地交易。因此，我们有理由认为，激励视频广告将会是移动广告最近几年的重要发展方向之一。<br>与大家的直觉不同，Applovin 的激励视频广告最成功的是服务于效果而非品牌广告主。主要的几家激励视频广告网络都以服务应用下载广告为主要的收入来源。究其原因，我们认为有以下两点：首先，在激励的场景下，用户不能跳过视频只能看完，接受了充足的信息后，转化效果自然也会变好；其次，激励视频附赠的游戏内虚拟商品，对那些非充值的游戏用户来说，实际上是稀缺资源，这让用户可以在实际价值较低的情况下观看广告。</p><h3 id="9-5-智能投放的产品原理"><a href="#9-5-智能投放的产品原理" class="headerlink" title="9.5 智能投放的产品原理"></a>9.5 智能投放的产品原理</h3><p>除了原生化趋势，移动广告与 PC 时代的广告还有一个重要的产品差异，那就是智能投放（oCPX）的模式被广泛采用。</p><h4 id="9-5-1-智能投放的基本问题和起因"><a href="#9-5-1-智能投放的基本问题和起因" class="headerlink" title="9.5.1 智能投放的基本问题和起因"></a>9.5.1 智能投放的基本问题和起因</h4><p>智能投放的基本问题很清楚：竞价过程中平台承担更多的计算任务，帮助客户，尤其是那些数据和信息技术能力有限的小客户，降低对竞价广告的理解门槛，以及运营优化的成本。同时，为了避免在彻底的 CPA/CPS/ROI 模式下众多产品有问题的客户涌入蹭流量，带来劣币驱逐良币的问题，主流的智能投放产品都采用了计费与出价相分离的 oCPX 计费模式。oCPX 的基本模式可以体现在数字广告的转化链路上，如图 9-13 所示。</p><p><img data-src="/computational-advertising/computational-advertising-53.png" alt="图9-13　oCPX的基本模式"></p><p>从平台方的技术角度看，oCPX 模式引入的新问题主要是转化率的预估计算。然而，解决这个问题的困难程度远非点击率预估可比：首先，不同行业的客户转化流程有很大的不同，一般来说无法用统一的模型建模；其次，转化数据的量比点击数据还要少很多，于是数据稀疏的问题更加严重。总之，在 PC 时代，数据的不一致性和稀疏性，使得大家虽然对转化率预估抱有期望，但是实践中的可行性却不高。<br>那么，为什么在移动广告市场中转化率预估问题发生了重大进展，以致智能投放模式能够兴起并迅速普及呢？其实，这与移动广告市场客户转化流程的一致性大大加强不无关系。我们知道，移动广告中很多行业的转化都以 App 下载的形式体现，从电商、游戏、工具到金融，营销目标往往都需要首先下载客户的 App。于是，从流程上看，实际上这些客户的转化流程都是由广告跳转到应用市场，然后下载，也就是说，在技术而非商业的视角下，真实的客户只有一个，那就是应用市场，而不同客户的下载转化过程在应用市场中都是一致的。<br>这无疑给计算转化率建模带来了极大的方便：所有下载类客户数据流程一致，理论上可以共同建模，数据稀疏性的问题被极大地缓解了。因此，oCPX 模式在移动广告时代技术可行性大大提升。<br>受到这一模式的启发，如今的广告平台也在 App 下载以外的领域大力推动客户转化流程的一致性。例如，在目前中国主流的广告平台上，非平台电商自建站的方式已经逐渐淡出，转而采用平台提供的统一建站模板，这样做的目的之一就是统一的转化流程有利于转化率预估的建模。</p><h4 id="9-5-2-oCPX的一价与二价理解"><a href="#9-5-2-oCPX的一价与二价理解" class="headerlink" title="9.5.2 oCPX的一价与二价理解"></a>9.5.2 oCPX的一价与二价理解</h4><p>智能投放模式有一个隐蔽而不得不谈的重要问题，就是如何理解和使用客户给出的转化出价，这涉及最终的竞价环境是一价还是二价的问题。之所以要谈这个，是因为全球几家主流的广告平台对这一点的理解和选择有所不同。</p><p>在oCPX模式下，客户给出的转化出价t(a)可以理解成其出价，也就是bid，也可以理解成其期望得到的实际转化成本，也就是price。我们知道，在二价或VCG市场中，这两者显然是不同的。而这种不同的理解对应着产品实现上较大的不同，也带来了市场性质上的一二价差异。</p><p>如果把转化出价t(a)理解成bid，那么平台的做法非常简单，在第二高价的机制下算出eCPM：</p><p>$eCPM = r(a, u, c) = \mu(a, u, c) \cdot c(a, u) \cdot bid_{CPA}(a) $</p><p>将该 eCPM 用于排序，如果该客户胜出，按照下一位的 eCPM ‘向该客户收费即可。在这种情况下，虽然计费用 CPM，但是仍然可以算出客户的 CPA 成本，假设点击率和转化率的估计可靠，在客户预算充分的情况下，这一 CPA 成本是：</p><p>$p_{CPA}(a) = \frac{eCPM’}{\mu(a, u, c) \cdot c(a, u)}$</p><p>容易验证，这一成本一定是小于其出价 bidCPA(a)的，整体市场与 CPC 计费时的二价市场没有本质的区别。于是，二价市场的实话实说原理和整体市场的社会福利最优性质不变，客户只要大致清楚自己每个转化的价值，忠实地将其作为 CPA 出价即可。<br>另一种对 oCPX 模式下 CPA 出价的理解，是将其理解成客户对实际转化成本的期望，也就是说，它表达的是 price 而非 bid。在这种理解下，市场的机制变成了一价模式。实际上，在中国市场的这种模式下，广告平台做的还要更多：由于点击率和转化率预估的偏差，简单地把客户的出价按一价处理并不能保证最终的转化成本与出价接近。于是，在采用这种模式的实际系统中，平台还会跟踪实际的转化成本，并根据其与出价这一期望成本的偏离程度，动态调整其在系统中的真实出价，以期通过这种补偿让转化成本尽快收敛到出价。<br>我们可以用 Facebook 广告平台中的产品术语来区分这两种理解：前者接近于其产品中的出价上限（bid cap）模式，而后者接近于其产品中的花费上限（cost cap）或者目标花费（target cost）模式。我们可以从图 9-14 所示的 Facebook 广告平台的示意图和文字说明来形象地理解其区别。而之所以这里会引入上限（cap）的概念，与后面要提到的预算表达模式有关。</p><p><img data-src="/computational-advertising/computational-advertising-54.jpg" alt="图9-14　Facebook广告智能投放的几种出价模式"></p><p>那么，这两种理解都有什么样的优势和劣势呢？首先，由于在智能投放模式下平台要计算转化率比点击率要困难很多，为了尽量防止实际的 CPA 与客户期望相去甚远，采用一价表达并努力补偿实际的转化成本，可能会降低客户的教育成本；然而，市场变成一价后，因此带来的各种机制问题也就不能小觑。依我的个人意见，站在二价表达的基础上逐渐引导市场和客户可能是比较合理的解决方案。</p><h4 id="9-5-3-预算表达模式"><a href="#9-5-3-预算表达模式" class="headerlink" title="9.5.3 预算表达模式"></a>9.5.3 预算表达模式</h4><p>oCPX 的重要初衷是帮客户降低理解和运营数字广告的门槛，从而显著提升潜在客户的市场规模。我们站在客户的角度来看，由于二价、CPC 这些概念不容易理解，oCPX 给他们带来了方便，因此，即使是转化上的出价或者期望成本，对有些客户来说也难以理解或实操，特别是对那些业务数据化不强的客户而言。因此，在实践中很自然会产生一个更进一步的想法：能不能让客户连转化出价也不必提供？<br>既然连出价对新客户来说都很费解，那么有什么对他们来说是容易理解的呢？很简单，只有预算是所有客户都能理解的概念。于是， Facebook 的广告平台首创了一种用预算表达出价的新模式：客户告诉平台一天以内希望投入的广告预算，平台将这些预算尽量均匀地在各个时段消耗掉。而这个过程仍然是在竞价的框架内完成的：平台根据自己的数据建模，预测出每个时间段客户所选人群在市场上的价格水平，再据此倒算出出价多少可以实现预计的消耗计划。<br>如果采用这种机制，客户只需给出每天的预算，就可以将这些预算均匀地分布在一天中消耗掉，避免了对竞价的理解和相关优化，形成了为市场广泛接受的“傻瓜式”竞价。<br>然而，这种通过分时预算倒算出价的方式在某种意义上违背了二价市场的实话实说原则，对真正有运营能力的客户来说，有点过于简单粗暴了。最典型的问题，是在某个时段平台倒算出来的 CPA 出价高于客户的真实转化价值时，便有可能带来亏损。于是，Facebook 又为有能力的客户提供了前文所说的“出价上限”模式，在这一模式下，当客户提供的上限小于某时间段系统算出的出价时，则以前者替代后者。<br>预算表达下的 oCPX 模式，让客户的广告运营从原则上看变得十分简单：做好广告素材、选定人群（或上传种子）、定好每日预算，按下启动键就可以了，这使得客户参与机制复杂的现在数字广告系统的门槛大为降低，也让市场的活跃客户数量大大增加。</p><h3 id="9-6-原生广告与程序化交易"><a href="#9-6-原生广告与程序化交易" class="headerlink" title="9.6 原生广告与程序化交易"></a>9.6 原生广告与程序化交易</h3><p>从受众购买、程序化的市场趋势变成了在媒体深度参与下将广告融合到内容中。读者不免会产生这样的疑问：这两条道路是不是通往同一个方向呢？原生广告与程序化交易的产品结合点在哪里呢？<br>请大家先观察和思考一个现象：搜索广告是否有程序化交易的可能呢？显然，我们没有见到过这种产品场景。不过在 Facebook 的信息流广告中，却有按照广告主上传的人群库投放的方式，这虽然不是程序化交易，但是目的却很类似，而且也很容易改造成 RTB 的交易方式。我们前面说过，搜索广告和信息流广告都是原生广告的特殊形式，那么为什么在程序化交易这一点上，这两种形式的接受程度不同呢？<br>这里的关键问题就是原生广告是否根据用户意图触发。在明确提供用户意图的原生广告中，完全开放地进行RTB很难控制付费结果的相关性。例如，对搜索而言，能够做到良好相关性的只有谷歌这样的大平台，而引入大量 DSP 参与竞价，就很难保证结果质量了，因此，在这种情形下，我们认为采用单个技术能力较强的原生广告网络（也可以自营）的方式比较可行。但如果是像社交网络信息流这样的原生广告环境，由于用户意图并不明确，也不要求广告依此触发，在这种情况下完全可以考虑用程序化交易的方式来运营，而且我们依然认为这也是原生广告未来的发展趋势之一。</p><h1 id="第三部分-计算广告关键技术"><a href="#第三部分-计算广告关键技术" class="headerlink" title="第三部分 计算广告关键技术"></a>第三部分 计算广告关键技术</h1><h2 id="第10章-计算广告技术概览"><a href="#第10章-计算广告技术概览" class="headerlink" title="第10章 计算广告技术概览"></a>第10章 计算广告技术概览</h2><p>个性化系统与搜索系统都是互联网时代具有挑战性的大规模计算问题。由于数据规模的要求，它们一般都采用检索（retrieval）加排序（ranking）这样类搜索的系统架构，因而这两种系统有非常多的相似之处。个性化系统与搜索系统的主要差别在于大量的用户特征的使用。由于需要对每一个用户进行刻画，这一过程需要用到大规模的分布式数据处理平台，如Hadoop；另外，由于个性化特征的效果与其生成的实时性关系很大，为了尽可能实时地利用线上数据，我们还会用到流计算平台来加工短时的个性化特征。将离线的分布式计算平台和在线的流计算平台相结合，已经成为这样的系统生成个性化特征的常用方案。<br>要搭建这样一个五脏俱全的广告系统，实际上并没有看起来那么复杂。这里最关键的方法是要充分利用开源社区的成熟工具快速搭建系统框架，把底层通信、资源分配、集群管理、跨语言调度等与核心业务逻辑无关、但又有较高技术难度的部分用成熟方案来解决，这样广告系统的开发者就可以重点关注业务逻辑和核心算法了。</p><h3 id="10-1-个性化系统框架"><a href="#10-1-个性化系统框架" class="headerlink" title="10.1 个性化系统框架"></a>10.1 个性化系统框架</h3><p>如图 10-1 所示，一般的个性化系统由 4 个主体部分构成。<br>（1）用于实时响应请求，完成决策的在线投放引擎（online serving engine）。<br>（2）离线的分布式计算（distributed computing）数据处理平台。<br>（3）是用于在线实时反馈的流计算（stream computing）平台。<br>（4）连接和转运以上三部分数据流的数据高速公路（data highway）。<br>这几部分互相配合，完成个性化系统的数据挖掘和在线决策任务。</p><p><img data-src="/computational-advertising/computational-advertising-55.png" alt="图9-14　Facebook广告智能投放的几种出价模式"></p><p>这几部分的协作流程是：在线投放系统的日志接入数据高速公路，再由数据高速公路快速转运到离线数据处理平台和在线流计算平台；离线数据处理平台周期性地以批处理方式加工过去一段时间的数据，得到人群标签和其他模型参数，存放在缓存中，供在线投放系统决策时使用；与此相对应，在线流计算平台则负责处理最近一小段时间的数据，得到准实时的用户标签和其他模型参数，也存放在缓存中，供在线投放系统决策时使用，这些是对离线处理结果的及时补充和调整。可以看出，整个系统形成了一个闭环的决策流程，而这个闭环在搭建完成后，基本依靠机器的运算来运转，人的作用只是进行策略上的调整和控制。<br>还有一点需要强调，由于个性化需要的是对用户尽可能准确的理解，因此除了个性化系统本身的日志，一般都还会用到其他的业务线数据或采买得到的数据，这些数据都会进入数据高速公路以及后续的加工流程中。因此，在同一个企业中，我们会在不同的业务之间尽可能共享离线和在线的两个计算平台，以及所有的用户行为数据。</p><p>表10-1　Web规模问题比较</p><table>  <tbody>   <tr>    <th>比较项</th>    <th>搜索</th>    <th>搜索广告</th>    <th>展示广告</th>    <th>个性化推荐</th>   </tr>   <tr>    <td>主要准则</td>    <td>相关性</td>    <td colspan="2">利润</td>    <td>用户兴趣</td>   </tr>   <tr>    <td>其他目标</td>    <td>垂直领域决定</td>    <td colspan="2">质量、安全性</td>    <td>多样性、新鲜度</td>   </tr>   <tr>    <td>索引规模</td>    <td>十亿级</td>    <td>百万级、千万级</td>    <td>百万级</td>    <td>百万级、亿级</td>   </tr>   <tr>    <td>个性化</td>    <td colspan="2">较少的个性化需求</td>    <td colspan="2">亿级规模用户上的个性化</td>   </tr>   <tr>    <td>检索信号</td>    <td colspan="2">较明确</td>    <td colspan="2">较分散</td>   </tr>  </tbody> </table><h3 id="10-2-各类广告系统优化目标"><a href="#10-2-各类广告系统优化目标" class="headerlink" title="10.2 各类广告系统优化目标"></a>10.2 各类广告系统优化目标</h3><p>广告系统的优化目标是提高广告产品的利润，也就是第2章中提到的计算广告核心挑战。<br>对应于 10.1 节的个性化系统一般框架，在广告系统中，每次展示的 r 是由在线的投放引擎来决策的，而离线数据处理平台和流计算平台所做的，都是为了准备 $a_i$, $u_i$, $c_i$ 这 3 个变量或其组合的一些特征。</p><p>表10-2　主要广告产品优化目标分解</p><table>  <tbody>   <tr>    <th rowspan="2">广告投放</th>    <th colspan="2">产出（<em>r</em>）</th>    <th rowspan="2">投入（<em>q</em>）</th>    <th rowspan="2">约束</th>   </tr>   <tr>    <th>点击率（<em>µ</em>）</th>    <th>点击价值（<em>ν</em>）</th>   </tr>   <tr>    <td>GD</td>    <td colspan="2">常数</td>    <td>常数</td>    <td>合约的展示量要求</td>   </tr>   <tr>    <td>ADN</td>    <td><em>µ</em>(<em>a, u, c</em>)</td>    <td>bid<sub>CPC</sub>(<em>a</em>)</td>    <td><em>∝</em> <em>r</em></td>    <td>无</td>   </tr>   <tr>    <td>ADX</td>    <td colspan="2">bid<sub>CPM</sub>(<em>a</em>)</td>    <td><em>∝</em> <em>r</em></td>    <td>带宽、服务成本</td>   </tr>   <tr>    <td>DSP</td>    <td><em>µ</em>(<em>a, u, c</em>)</td>    <td><em>ν</em>(<em>a, u</em>)</td>    <td><em>q</em>(<em>a, u, c</em>)</td>    <td>预算限制</td>   </tr>  </tbody> </table><p>在展示量合约的 GD 系统中，只要各合约达成，系统的收益就是确定的，因此这一系统的主要优化在于满足各合约带来的约束，而成本由于是媒体静态产生，与广告优化过程无关，可以认为是常数；ADN 需要估计点击率 µ(a, u, c)，并与广告主出的点击单价 $bid_{CPC}(a)$ 相乘得到期望收入，而成本是与收入成正比的媒体分成；ADX 直接用广告主出的展示单价 $bid_{CPM}(a)$ 作为期望收入，成本也是与收入成正比的媒体分成；只有在 DSP 中，点击率 µ(a, u, c)、点击价值 ν(a, u) 和成本 q(a, u, c) 都可能是需要预估和优化的，因此算法的挑战较大。</p><h3 id="10-3-计算广告系统架构"><a href="#10-3-计算广告系统架构" class="headerlink" title="10.3 计算广告系统架构"></a>10.3 计算广告系统架构</h3><p><img data-src="/computational-advertising/computational-advertising-56.png" alt="图10-2　在线广告系统一般性架构示意"></p><p>并不是每一个广告系统都需要以上所有的功能模块。这样的架构图和模块划分，是为了方便本书后面在各种广告系统之间进行架构上的对比。大家要注意的最关键之处是，在一个完整的广告系统架构中数据的记录、交易、流转、建模和使用，因为这些是广告系统最核心的驱动力，也从本质上决定了广告产品的变现能力和利润空间。<br>在实践中，广告系统的建立应该是循序渐进的。一般来说，对一个刚起步的广告产品，有广告投放机和相应的日志系统，实现简单的定向投放逻辑，就可以开始使用。随着对广告效果深入优化的需求，需要建立起完整的广告排序和用户行为反馈模型；而当中小广告主大量增加时，就需要实现广告的倒排索引和相应的检索功能。因此，在一个新的广告产品开始运营和逐步完善的过程中，要特别注意根据当前阶段的实际需求决定哪些模块是必要的，哪些可以暂时省略，以避免过度设计和不必要的投入。</p><h4 id="10-3-1-广告投放引擎"><a href="#10-3-1-广告投放引擎" class="headerlink" title="10.3.1 广告投放引擎"></a>10.3.1 广告投放引擎</h4><p>广告投放引擎的主要模块有以下几个。</p><p>（1）广告投放机（ad server）。这是接受广告前端 Web 服务器发来的请求，完成广告投放决策并返回最后页面片段的主逻辑。广告投放机的主要任务是与其他各个功能模块打交道，并将它们串联起来完成在线广告投放决策。一般来说，为了扩展性的考虑，我们都采用类搜索的投放机架构，即先通过倒排索引从大量的广告候选中得到少量符合条件的或相关的候选，再在这个小的候选集上应用复杂而精确的排序方法找到综合收益最高的若干个广告。对广告投放机来说，最重要的指标是每秒数（query per second，QPS）以及广告决策的延迟（latency）。<br>（2）广告检索（ad retrieval）。这部分的主要功能是，在线时根据用户标签（user attribute）与页面标签（page attribute）从广告索引（ad index）中查找符合条件的广告候选。广告检索得到的候选将被送入广告排序模块。<br>（3）广告排序（ad ranking）。这部分是在线高效地计算广告的 eCPM，并进行排序的模块。eCPM 的计算主要依赖于点击率估计，这需要用到离线计算得到的 CTR 模型和特征（CTR model &amp; feature），有时还会用到流计算得到的实时点击率特征（real-time feature）。在需要估计点击价值的广告产品（如按效果计费的 DSP）中，还需要一个点击价值估计的模型。<br>（4）收益管理（yield management）。我们用这部分来统一代表那些在各种广告系统中将局部广告排序的结果进一步调整，以全局收益最优为目的做调整的功能，如 GD 系统中的在线分配、DSP 中的出价策略等。这部分一般都需要用到离线计算好的某种分配计划来完成在线时的决策。<br>（5）广告请求接口（ad call interface）。在实际系统中，根据前端接口形式的不同，广告请求可能来自于基于 HTTP 的 Web 服务器，也可能来自于移动 App 内的 SDK 或者其他类型的 API 接口。不过，无论是哪种接口，只要能够提供用户唯一的身份标识 ID 以及其他一些上下文信息，从逻辑上讲与标准的 HTTP 请求就没有本质区别，因此我们都用 Web 服务器来表示。<br>程序化交易市场中的广告请求接口与上面有所不同，它包括作为需求方时使用的 RTBS，以及作为供给方时使用的 RTBD。这一接口可以采用 IAB 建议的 OpenRTB 协议，或者其他主要 ADX 规定的接口形式。<br>（6）定制化用户划分（customized audience segmentation）。由于广告是媒体替广告主完成用户接触，那么有时需要根据广告主的逻辑来划分用户群。这个部分指的是从广告主处收集用户信息的产品接口，而收集到的数据如果需要较复杂的加工，也将经过数据高速公路导入受众定向模块来完成。</p><h4 id="10-3-3-离线数据处理"><a href="#10-3-3-离线数据处理" class="headerlink" title="10.3.3 离线数据处理"></a>10.3.3 离线数据处理</h4><p>计算广告最具挑战的算法问题很多都集中在离线数据处理的部分。离线数据处理有两个输出目标：一是统计日志得到报表、仪表板等，供人进行决策时作为参考；二是利用数据挖掘、机器学习技术进行受众定向、点击率预估、分配策略规划等，为在线的机器决策提供支持。<br>离线数据处理的主要模块有下面几个。<br>（1）用户会话日志生成。从各个渠道收集来的日志，需要先整理成以用户ID为键的统一存储格式，我们把这样的日志称为用户会话日志。这样整理的目的是让后续的受众定向过程更加简单高效[1]。<br>[1]　关于为什么要这样做，可以参照第13章中行为定向部分中的讨论。</p><p>（2）行为定向。这部分的功能是完成挖掘用户日志，根据日志中的行为给用户打上结构化标签库中的某些标签，并将结果存储在用户标签的在线缓存中，供广告投放机使用。这部分是计算广告的原材料加工厂，也因此在整个系统中具有非常关键的地位。<br>（3）上下文定向。这部分包括半在线页面抓取和页面标签的缓存，这部分与行为定向互相配合，负责给上下文页面打上标签，用于在线的广告投放中。<br>（4）点击率建模。它的功能是在分布式计算平台上训练得到点击率的模型参数和相应特征，加载到缓存中供线上投放系统决策时使用。<br>（5）分配规划。这部分为在线的收益管理模块提供服务，它根据广告系统全局优化的具体需求，利用离线日志数据进行规划，得到适合线上执行的分配方案。<br>（6）商业智能系统。这部分包括 ETL （extract-transform-load）过程、仪表板和 Cube。这些是所有以人为最终接口的数据处理和分析流程的总括。因为它担负着对外信息交流的任务。由于实际的广告运营不可能完全通过机器的决策来进行，其间必然需要有经验的运营者根据数据反馈对一些系统设置做及时调整。因此，实现一个功能强大、交互便利的 BI 系统是非常重要的。<br>（7）广告管理系统。这部分是广告操作者，即客户执行（account execute，AE）与广告系统的接口。客户执行通过广告管理系统定制和调整广告投放，并且与数据仓库交互，获得投放统计数据以支持决策。一般来说，广告系统中只有这部分是面向用户的产品。根据对操作对象开放程度的不同，这一系统有时又有开放自助的需求，在这种情况下，还需要包含相应的财务结算功能。</p><h4 id="10-3-4-在线数据处理"><a href="#10-3-4-在线数据处理" class="headerlink" title="10.3.4 在线数据处理"></a>10.3.4 在线数据处理</h4><p>在线数据处理基本上可以认为是离线数据处理的镜像功能，它是为了满足广告系统对实时数据反馈的要求，解决那些离线分布式计算平台无法快速响应的计算问题。在线数据处理的主要模块包括以下几个。<br>（1）在线反作弊。实时判断流量来源中是否有作弊流量，并且将这部分流量从后续的计价和统计中去除掉，是广告业务非常重要的部分。此模块是所有后续在线数据处理必须经过的前置模块。<br>（2）计费。这部分同样是计算广告关键的业务功能之一。对于那些经过扣费预算耗尽的广告，系统必须马上通知广告索引系统将其下线。当然，扣费也必须在扣除了作弊流量的基础上进行。<br>（3）在线行为反馈，包括实时受众定向和实时点击反馈等部分。这部分是将短时内发生的用户行为和广告日志及时地加工成实时用户标签，以及实时的点击率模型特征。对于在线广告系统，这部分对于效果提升的意义重大：在很多情形下，把系统信息反馈调整做得更快比把模型预测做得更准确，效果更显著。<br>（4）实时索引。这部分的主要功能是实时接受广告投放数据，建立倒排索引。广告的索引由于涉及预算调整等商业环节，因此必须在投放管理者调整以后非常快速地在线上广告索引中生效。</p><h3 id="10-4-计算广告系统主要技术"><a href="#10-4-计算广告系统主要技术" class="headerlink" title="10.4 计算广告系统主要技术"></a>10.4 计算广告系统主要技术</h3><p>从系统架构的角度看，大规模广告决策和投放都有如下一些特点：首先是服务压力大，这是由于广告的投放量往往数倍于页面浏览的PV，这使得广告成为互联网流量规模最大的产品之一；其次，因为用户对广告产品接受是被动的，广告展现延迟的增加往往会带来广告效果的显著下降，因此广告系统的决策延迟是非常关键的指标；从另一方面看，也正由于广告是被动的用户产品，其决策结果的逻辑性不直接，因此广告系统在用户标签的数据一致性方面要求是比较低的，也往往并不需要持久化的存储，这为系统设计提供了一定的灵活性。</p><h3 id="10-5-用开源工具搭建计算广告系统"><a href="#10-5-用开源工具搭建计算广告系统" class="headerlink" title="10.5 用开源工具搭建计算广告系统"></a>10.5 用开源工具搭建计算广告系统</h3><p>广告系统架构模块众多、交互复杂，从头搭建并不容易。在大型互联网公司中，这样的广告系统可以精雕细琢，其中的很多模块也都可以进行专门开发。不过，对于初创型企业和变现业务方向尚需探索的企业来说，需要根据最小值原型（Minimum Value Prototype，MVP）的原则，低成本、短平快地搭建系统，然后在实际业务中进行快速迭代。幸运的是，开源社区为搭建广告系统提供了很多不错的工具，利用这些工具可以相当方便地搭建起一个广告系统基础骨架。一般来说，我们可以利用成熟的开源工具解决底层通信、数据传输、负载分配等基础问题，从而将精力重点放在与业务逻辑相关的开发上。</p><h4 id="10-5-5-数据高速公路Flume"><a href="#10-5-5-数据高速公路Flume" class="headerlink" title="10.5.5 数据高速公路Flume"></a>10.5.5 数据高速公路Flume</h4><p>计算广告这样的个性化系统由于并发很高，产生的日志量也非常大。在这类系统中，应该避免对数据做单点的集中式读写，而是尽量应该让数据的处理形成环形的流动，即由数据高速公路将线上日志准实时地送至离线或在线处理平台，再将处理结果存放在缓存中供线上决策使用。在这样的架构中，一个分布式、高吞吐率的数据传送通道至关重要。<br>在这类数据传输工具中，Flume 是比较常用的开源解决方案之一。Flume 是 Cloudera 提供的一个高可用的、高可靠的、分布式的海量日志采集、聚合和传输的系统，它支持在日志系统中定制各类数据发送方，用于分布式地收集和汇总日志数据。Flume 提供了从控制台（console）、RPC（Thrift-RPC）、文本（text）、Tail（UNIX tail）、日志系统（syslog，支持 TCP 和 UDP 两种模式）、命令执行（exec）等数据源上收集数据的能力；同时，Flume 还提供了对数据进行简单处理并输出到各种数据接收方的能力。如果广告投放机采用系统日志方式记录投放、点击等日志，可以很方便地通过配置 Flume 将日志传送到 Hadoop 上。</p><h4 id="10-5-6-分布式数据处理平台Hadoop"><a href="#10-5-6-分布式数据处理平台Hadoop" class="headerlink" title="10.5.6 分布式数据处理平台Hadoop"></a>10.5.6 分布式数据处理平台Hadoop</h4><p>图10-2中的离线数据处理部分需要一个能够存储和加工海量数据的基础设施，实际上这也是大多数大数据系统都需要的平台。<br>HDFS 是一种易于横向扩展的分布式文件系统，提供大规模数据文件存储服务，支持 PB 级数据规模。它可以运行在上万台的通用商业服务器集群上，提供副本容错机制，为海量用户提供性能优秀的存取服务。计算广告系统里的海量日志文件等就是通过 Flume 之类的数据高速公路传送，最终存储在 HDFS 上，为各种离线计算任务提供服务。<br>Hadoop MapReduce 是一种分布式计算框架，顾名思义，它由 map 和 reduce 两个部分组成。map 是将一个作业分解成多个任务，而 reduce 是将分解后多任务处理的结果汇总起来。在程序设计中，一项工作往往可以被拆分成为多个任务，任务之间的关系可以分为两种：一种是不相关的任务，可以并行执行；另一种是任务之间有相互依赖，先后顺序不能够颠倒，这种任务是无法并行处理的。MapReduce 适用于第一种类型，庞大的集群可以看作是硬件资源池，将任务并行拆分，然后交由每一个空闲硬件资源去处理，能够极大地提高计算效率，同时这种资源无关性对于计算集群的横向扩展提供了最好的设计保证。<br>在广告系统中，Hadoop 主要承担着离线数据的存储和计算需求，可以说是计算广告系统进行大规模数据处理不可或缺的基础平台。无论是受众定向、点击率预测还是基础的报表生成，都需要在 Hadoop 上进行大规模的数据处理。</p><h4 id="10-5-7-特征在线缓存Redis"><a href="#10-5-7-特征在线缓存Redis" class="headerlink" title="10.5.7 特征在线缓存Redis"></a>10.5.7 特征在线缓存Redis</h4><p>无论是离线计算的受众定向标签还是点击率模型参数或特征，由于规模比较大，一般来说都无法直接存放在在线广告投放机的内存中，而是要用独立的缓存服务。在线用到的特征缓存有两个显著的特点，首先是往往只需要存储简单的键/值对，其次是大多数情形下需要支持高并发的随机读和不太频繁的批量写。在这样的需求下，Redis 是比较合适的开源工具之一。<br>Redis 也是一种 NoSQL 数据库，它主要提供的是高性能的键值存储（key/value store），采用的是内存数据集的方式。Redis 的键值可以包括字符串（string）、哈希（hash）、列表（list）、集合（set）和有序集合（sorted set）等数据类型，因此也被称作一款数据结构服务器（data structure server）。Redis 会周期性地把更新地数据写入磁盘或者把修改操作写入追加的记录文件，并且在此基础上实现了主从同步，具有非常快速的非阻塞首次同步、网络断开自动重连等功能。同时，Redis 还具有其他一些特性，其中包括简单的 check-and-set 机制、pub/sub 和配置设置等，使得它能够表现得更像缓存（cache）。</p><h4 id="10-5-8-流计算平台Storm"><a href="#10-5-8-流计算平台Storm" class="headerlink" title="10.5.8 流计算平台Storm"></a>10.5.8 流计算平台Storm</h4><p>Hadoop 能够处理的数据规模相当可观，但是处理的响应速度却很难保证。因此，在图 10-2 的在线处理部分，需要一种新型的、能够以数据流的方式对线上日志做准实时处理的平台作为基础设施，在这类平台的开源解决方案中，Storm 是工业界比较常用的一种。<br>广告中需要用到流计算的问题包括在线反作弊、计费、实时受众定向和实时点击反馈等（参见 14.3.1 节）。我们希望的解决方案是，能够自动地处理各流计算模块间的通信和数据依赖，并能够在数据规模增大时自动进行分布式的负载分配，Storm 这样的流计算平台就可以为我们实现上述的需求。流计算的任务逻辑与 MapReduce 过程有些类似，熟悉 Hadoop 编程的读者也可以比较容易地在 Storm 上开发应用。不过要注意，流计算的任务调度原则和 HDFS 上的 MapReduce 是不同的：前者是调度数据，让数据在不同的计算节点间流动起来，而后者是尽可能调度计算以减少数据 I/O。因此，流计算从本质上来讲并不是一个可以真正处理海量数据的框架，它的特长仍然在数据处理的响应速度上。<br>Storm 保证每个消息都会得到处理，而且处理速度很快，每秒可以处理数以百万计的消息，并且可以使用任意编程语言来做开发。另外，Storm 还可以直接部署在新一代的 Hadoop 计算调度引擎 YARN 上，这样可以非常方便地共享一个 Hadoop 集群的存储功能和计算资源。</p><h4 id="10-5-9-高效的迭代计算框架Spark"><a href="#10-5-9-高效的迭代计算框架Spark" class="headerlink" title="10.5.9 高效的迭代计算框架Spark"></a>10.5.9 高效的迭代计算框架Spark</h4><p>用 Hadoop 进行大规模数据处理，在 map 和 reduce 两个阶段之间需要用硬盘进行数据交换，因此在需要面对多次迭代才能完成的任务时效率相当低。由于这样的迭代计算任务在计算广告中很常见（参见第 11 章），如文本主题模型、点击率预估等，我们非常需要一种更适合于迭代计算的框架。<br>作为一种新型分布式计算框架，Spark 的最大特点在于内存计算。Spark 的计算模型可以更加精简地描述等价的 MapReduce 模型，另外由于 Spark 的数据共享基于内存，因而相对于基于硬盘的 Hadoop MapReduce 批处理计算，其性能有数量级的提升。</p><h2 id="第11章-基础知识准备"><a href="#第11章-基础知识准备" class="headerlink" title="第11章 基础知识准备"></a>第11章 基础知识准备</h2><h3 id="11-1-信息检索"><a href="#11-1-信息检索" class="headerlink" title="11.1 信息检索"></a>11.1 信息检索</h3><p>为了达到面向大量中小广告主时良好的扩展性，计算广告采用的是类搜索的技术框架，即检索加排序两段的决策过程。因此，我们有必要对搜索引擎信息检索的基本方法有所了解，这里主要介绍倒排索引和向量空间模型。</p><h4 id="11-1-1-倒排索引"><a href="#11-1-1-倒排索引" class="headerlink" title="11.1.1 倒排索引"></a>11.1.1 倒排索引</h4><p>倒排索引（inverted index）是现代搜索引擎的核心技术之一，其核心目的是将从大量文档中查找包含某些词的文档集合这一任务，用 O(1)或 O(log n)的时间复杂度完成，其中 n 为索引中的文档数目。也就是说，利用倒排索引技术，可以实现与文档集大小基本无关的检索复杂度，这一点对于海量内容的检索来说至关重要。正是有了倒排索引技术的支撑，互联网才在实时检索大规模数据方面取得了质的飞跃。我们用例子来说明倒排索引的基本概念，假设我们有如下的几篇文档：<br>D1 =“谷歌地图之父跳槽Facebook”<br>D2 =“谷歌地图之父加盟Facebook”<br>D3 =“谷歌地图创始人拉斯离开谷歌加盟Facebook”<br>D4 =“谷歌地图创始人跳槽Facebook与Wave项目取消有关”<br>D5 =“谷歌地图创始人拉斯加盟社交网站Facebook”<br>对每篇文档都进行分词以后，可知这些文档中包含的关键词有：{谷歌，地图，之父，跳槽，Facebook，加盟，创始人，拉斯，离开，与，Wave，项目，取消，有关，社交，网站}。首先，去掉“与”这样的没有实际表意作用的停止词（stop word），我们对每一个词建立一个链表，表中的每个元素都是包含该词的某篇文档的标识。于是，与上面的文档集对应的倒排索引，也就是所有关键词的倒排链集合，可以表示如下：<br>谷歌 → {D1, D2, D3, D4, D5}，地图→ {D1, D2, D3, D4, D5}，之父→ {D1, D2}，<br>跳槽 → {D1, D4}，Facebook→ {D1, D2, D3, D4, D5}，创始人→ {D3, D4, D5}，<br>加盟 → {D2, D3, D5}，拉斯→ {D3, D5}，离开→ {D3}，Wave→ {D4}，<br>取消 → {D4}，项目→ {D4}，有关→ {D4}，社交→ {D5}，网站→ {D5}。</p><p>倒排索引最基本的操作有两项：一是向索引中加入一个新文档；二是给定一个由多个关键词组成的查询时，返回对应的文档集合。需要注意的是：在倒排索引中，由于文档ID是在加入倒排索引时被在线分配的，因此每个倒排链都可以确保是有序的，这会在后面的应用中得到具体利用。</p><h4 id="11-1-2-向量空间模型"><a href="#11-1-2-向量空间模型" class="headerlink" title="11.1.2 向量空间模型"></a>11.1.2 向量空间模型</h4><p>如果说倒排索引技术是大规模信息检索的基石，那么向量空间模型（vector space model， VSM）则是信息检索中最基础且最重要的文档相似度度量方法之一。VSM的核心有两点，文档的表示方法和相似度计算方法。<br>首先，我们对每个文档采用词袋（bag of words，BoW）假设，即用各个关键词在文档中的强度组成的矢量来表示该文档：<br>$ d = (x_1,x_2,…,x_M)^T \quad(11.1)$<br>其中 $x_m$ 一般采用词表中第 m 个词在 d 中对应的词频-倒数文档频率（term frequency-inverse document frequency，TF-IDF）值，这是一种信息检索中最常见的词强度度量，可以分解为两个量的乘积：一个量是词频（term frequency，TF），即某文档中该词出现的次数；另一个量是倒数文档频率（inverse document frequency，IDF），即该词在所有文档中出现的频繁程度的倒数。IDF 的引入是考虑到那些广泛出现在各个文档中的常用词对主题的鉴别力并不强，因而需要降低其权重。IDF 的计算方法有若干种，最常用的形式为：</p><p>$$IDF(m) = \log\left(\frac{N}{DF(m)}\right) \quad (11.2)$$</p><p>其中 DF(m)为词 m 在其中出现的文档的总数目，N 为总文档数目。在广告应用中如何计算 IDF 值，在某些情形下需要不同的处理。例如，在处理对广告主有价值的竞价标的词时，可以采用所有广告描述，而不是互联网上的网页作为文档集合。相应地，在根据关键词进行广告检索时，也应该使用这种方法得到的 TF-IDF。<br>这样的 BoW 文档表示方法是对自然语言最简单粗略的一种近似表示。它完全忽略了词的前后接续关系，以及更高阶的语法因素的影响，因而并不太可能具有精细的文档描述能力。不过，这种方法在信息检索中的作用无疑是巨大的，因为它通过极为简单经济的操作对文档进行了简化，同时又比较好地保留了文档的概貌，这对于海量文档数据的处理和索引非常有利。时至今日，虽然学者们在自然语言处理方面取得了许多进展，但这种简单的方法仍然是工程实践中信息检索和文档主题挖掘的最常用文档表示。如果我们考虑更精细的文档描述，可以进一步加入文档的 n-gram 信息，但是也会带来数据的爆炸式增长和模型估计稳健性上极大的挑战。<br>采用 BoW 的文档表示方法，在计算两个文档的相似度时，一般是用其对应矢量的余弦距离：</p><p>$$\cos(d_{1},d_{2})=\frac{d^{T}<em>{1}d</em>{2}}{||d_{1}||\cdot||d_{1}||}$$</p><p>余弦距离的最显著好处是当两个矢量在尺度上没有归一化时，仍然可以得到比较稳健的结果。例如，有两篇一样的文档，将其中的一篇内容重复一遍，再去计算余弦距离仍然是0，而如果采用其他方式，如欧氏距离，结果就不再是0了。再比如两个人对各种电影打分，甲倾向于给较高的分数，乙倾向于给较低的分数，那么在一组三部电影上，甲给出的分数{3.6, 3.6, 4.8}和乙给出的分数{3.0, 3.0, 4.0}实际上一致程度相当高，这也可以被余弦距离比较公允地度量出来。<br>对海量文档进行检索的基本方案。在离线索引阶段，需要对文档集合分词，并按照BoW模型表示得到每个文档的TF-IDF矢量，对分词后的文档集合建立倒排索引。当在线的查询到来时，也进行分词，从倒排索引中查出所有符合要求的文档候选，并对其中的每个候选评价其与查询的余弦距离，按距离由小到大进行排序。</p><h3 id="11-2-最优化方法"><a href="#11-2-最优化方法" class="headerlink" title="11.2 最优化方法"></a>11.2 最优化方法</h3><p>为了探索比上面的向量空间模型更加有效的计算广告方案，必然会碰到大量的与数据挖掘和机器学习相关的算法问题。在这些与数据相关的问题中，最重要的基础技能，是最优化的理论和方法。最优化讨论的是在给定一个数学上明确表达的优化目标后，如何用系统性的方法和思路找到该目标的最优解。这方面的书籍和文章很多，我们从工程的角度出发，简要整理一下在面临各类目标函数时的一般性思路，并希望大家能够认清“模型”和“优化”这两个概念的联系与区别。<br>最优化问题讨论的是，给定某个确定的目标函数（objective function），以及该函数自变量的一些约束条件，求解该函数的最大或最小值的问题。这样的问题可以表示为下面的一般形式：</p><p>$$\min f(x)$$</p><p>$$\text{s.t. } g(x) \leq 0, h(x) = 0 \quad (11.4)$$</p><p>其中 f(x)是一个关于自变量 x 的目标函数，而 g(x)和 h(x)为 x 的矢量函数，对应着一组不等式和等式约束约束条件，其中 g(x)&lt;0 表示矢量 g(x)的每一个元素都小于或等于 0。根据约束条件以及目标函数的性质不同，最优化问题求解的思路也有很大的不同。其中无约束优化问题的方法是基础，而带约束优化问题则在一定条件下可以转化为无约束优化问题来求解，这涉及下面将要谈到的拉格朗日法和凸优化问题。</p><h3 id="11-3-统计机器学习"><a href="#11-3-统计机器学习" class="headerlink" title="11.3 统计机器学习"></a>11.3 统计机器学习</h3><p>机器学习是近年来得到快速发展和广泛应用的研究领域，它研究的是用数据或先验知识优化计算机算法的效果。从机器学习的方法可以分为统计方法和非统计方法。非统计的方法种类很多，并且往往最后都归结于一个具体的优化问题，可以通过深入掌握优化理论和算法，比较有效地把握各种非统计类方法。而统计类机器学习方法，虽然也用到最优化方法，但是还有一些在概率框架下系统性的思路。</p><h4 id="11-3-1-最大熵与指数族分布"><a href="#11-3-1-最大熵与指数族分布" class="headerlink" title="11.3.1 最大熵与指数族分布"></a>11.3.1 最大熵与指数族分布</h4><p>所谓单模态，可以理解为分布从几何形态上看只有一个峰或者一个谷，这实际上说明了指数族分布虽然数学上使用方便，但其实际的描述能力是有限的，并不适合于表达多种因素并存的随机变量。</p><h3 id="11-5-深度学习"><a href="#11-5-深度学习" class="headerlink" title="11.5 深度学习"></a>11.5 深度学习</h3><p>深度神经网络指的是将简单的感知神经元连接在一起，从而模拟各种函数的灵活框架。<br>深度学习与大数据有着天然的密切联系：由于计算技术和计算能力的快速发展，我们目前已经能够处理越来越复杂的网络结构。但要让复杂的网络结构发挥优势，一定要有大量的数据才行。因此，深度学习最有可能在那些数据丰富的领域发挥巨大的作用。换言之，在具有明确目标函数，又具备充足高质量数据来源的问题上，机器的能力会非常快地接近甚至超过人类。</p><h4 id="11-5-1-深度神经网络优化方法"><a href="#11-5-1-深度神经网络优化方法" class="headerlink" title="11.5.1 深度神经网络优化方法"></a>11.5.1 深度神经网络优化方法</h4><p>当神经网络的规模很大、层数较深时，优化方法计算量非常大，这也是神经网络在学术界提出了几十年以后仍然没有得到广泛使用的原因。直到 Jeffrey Hinton 等人利用 GPU 大幅提高了神经网络的计算效率，才使它接近于实用，并迅速取得了在语音识别、图像识别等问题上的重要进展。今天训练实用的深度神经网络不利用 GPU 应该说是不太现实的。</p><h4 id="11-5-4-生成对抗网络（GAN）"><a href="#11-5-4-生成对抗网络（GAN）" class="headerlink" title="11.5.4 生成对抗网络（GAN）"></a>11.5.4 生成对抗网络（GAN）</h4><p>Szegedy 在研究神经网络的性质时发现，针对一个已经训练好的分类模型，将训练集中的样本做一些细微的改变会导致模型给出一个错误的分类结果。这种虽然发生扰动但人眼可能识别不出来且会导致误分类的样本称为对抗样本，他们利用这样的样本发明了对抗训练（adversarial training），模型既训练正常的样本也训练这种自己造的对抗样本，从而改进模型的泛化能力。<br>Goodfellow 提出了生成对抗网络（generative adversarial network，GAN），它要解决的问题是如何从训练样本中学习出新样本，训练样本是图片就生成新图片，训练样本是文章就生成新文章，等等。GAN 受博弈论中的二人零和博弈的启发，它采用一种非常巧妙的思想给出了用深度神经网络实现生成模型的一般思路。<br>它包含一个生成模型 G 和一个判别模型 D。用噪声数据 Z 生成一个类似真实训练数据的样本，追求效果是尽可能像真实样本；而 D 是一个二分类器，估计一个样本来自训练数据（而非生成数据）的概率。训练时，固定一个模型的参数，更新另一个模型的参数，交替迭代，使对方的错误最大化。最后的目标是使 G 能准确描述出样本数据的分布。<br>虽然从概念上说，GAN 是一种有前景的用深度学习解决生成问题乃至无监督训练问题的方案，不过其优化过程还有很多问题没有解决，包括模型训练的收敛性和细节的把握方面都存在很多的问题。但是毋庸置疑，这将是未来若干年深度学习研究的重点方向之一。</p><h2 id="第12章-合约广告核心技术"><a href="#第12章-合约广告核心技术" class="headerlink" title="第12章 合约广告核心技术"></a>第12章 合约广告核心技术</h2><h3 id="12-1-广告排期系统"><a href="#12-1-广告排期系统" class="headerlink" title="12.1 广告排期系统"></a>12.1 广告排期系统</h3><p>对于采用 CPT 计费模式计费的广告位合约，媒体一般采用广告排期系统来管理和执行。广告排期系统与我们后面要讨论的各种广告系统都不同，因为它并不是一个个性化系统，也不太需要服务器端的动态决策。广告排期系统的一般技术方案是将广告素材按照预先确定的排期直接插入媒体页面，并通过内容分发网络（content delivery network，CDN）加速访问。这样可以使广告投放延迟很小，也没有服务器端的压力和开销。<br>广告排期系统需要注意的技术环节是，在与其他动态广告混合投放时的调度策略。由于广告位合约的方式不需要在服务器端计算，因此在混合投放时，也要充分考虑这一特点，尽可能地减少服务器端的负载。另外一个相关的问题就是，当一些横幅广告位上没有广告位合约，需要用其他服务器动态决策的广告补足时，由于服务器可能出现超时或其他错误导致广告未能返回，那么也需要在页面上展示一个默认广告防止出现广告位的空白，这样的广告称为防天窗广告。防天窗广告由于需要在服务器不工作的情形下补位，因此也应该放在 CDN 上实现。</p><h4 id="排期与动态广告混合系统"><a href="#排期与动态广告混合系统" class="headerlink" title="排期与动态广告混合系统"></a>排期与动态广告混合系统</h4><p>对一个广告位合约与动态广告混合投放的系统来说，需要同时考虑 CPT 广告和防天窗广告的投放逻辑。我们以 Web 页面上的广告投放为例来描述这一调度过程。<br>（1）前端的广告位代码从 CDN 上获取一个默认广告素材，并标示此广告是优先的 CPT 广告还是防天窗广告的参数。<br>（2）根据上述参数，如果 CDN 上获得的是一个 CPT 广告，那么直接将素材渲染在页面上即可。<br>（3）如果 CDN 上获得的是一个防天窗广告，则优先向广告投放机发送请求，如果在指定延迟时间内有广告返回，则将其渲染在页面上。<br>（4）如果服务器在指定延迟时间内没有广告返回或发生其他错误，则将从 CDN 里得到的防天窗广告渲染在页面上。<br>这一过程如图 12-1 所示。可以很容易地验证，只要 CDN 不发生错误，这样的系统就可以保证不会出现广告位上的天窗。同时，由于我们对广告位合约直接通过前端投放，在这部分流量上避免了访问服务器带来的延迟，因此 CPT 广告的效果可以得到较好的保证。实际的排期和动态广告混合系统，由于有轮播模式的存在和地域定向[1]的需求，会比上述的逻辑更加复杂一些，不过在原理上没有差异。<br>[1]　地域定向虽然是受众定向的一种，但由于逻辑比较简单，在 CPT 广告中也会售卖，并且可以采用在前端代码中实现逻辑的方式。</p><p><img data-src="/computational-advertising/computational-advertising-57.png" alt="图12-1　排期与动态广告混合投放决策逻辑"></p><h3 id="12-2-担保式投送系统"><a href="#12-2-担保式投送系统" class="headerlink" title="12.2 担保式投送系统"></a>12.2 担保式投送系统</h3><p>与展示量合约对应的广告系统称为担保式投送（guaranteed delivery，GD）系统。在展示量合约这样的交易结构中，只要合约都被满足，系统的收益就是一定的，于是式（2.2）中的优化目标变成了常数。不过，这一系统多了合约带来的一组量的约束条件，因此变成了一个带约束优化问题。关于此问题的具体描述和解法将放在后面的在线分配部分中介绍。有时，展示量合约还会约定投放量未达到时的惩罚，在这种情况下，目标不再是一个常数，不过这仍然可以用在线分配的一般框架来解决。<br>担保式投送系统的整体架构如图 12-2 所示。在此系统中，在线投放引擎接收用户触发的广告请求，根据用户标签和上下文标签找到可以匹配的广告合约，然后由在线分配模块决定本次展示投放哪个广告。完成决策后，将展示和点击日志送入数据高速公路。这些日志一方面进入离线分布式计算平台以后，通过日志的整理，完成合约的计划，即确定在线分配算法的参数，再将分配方案送给线上投放机使用；另一方面，日志也送到流式计算平台，在反作弊和计价的基础上，再对索引进行快速调整。可以看出，这一系统的核心技术是在线分配的算法策略与执行过程。</p><p><img data-src="/computational-advertising/computational-advertising-58.png" alt="图12-2　担保式投送广告系统架构示意"></p><p>由于担保式投送需要用到人群标签或上下文标签，因此在广告检索的过程中也需要用到用户标签库和页面标签库这两个标签库。</p><h4 id="12-2-1-流量预测"><a href="#12-2-1-流量预测" class="headerlink" title="12.2.1 流量预测"></a>12.2.1 流量预测</h4><p>在展示量合约广告中，流量预测是一项支撑技术。在广告网络中，一般来说也需要根据定向条件和出价估计广告展示量，以辅助广告主进行决策。因此，流量预测是一项在计算广告中广泛使用的技术。<br>流量预测的问题可以描述为：给定一组受众标签组合以及一个 eCPM 的阈值，估算在将来某个时间段内符合这些受众标签组合的条件并且市场价在该 eCPM 阈值以下的广告展示量。这里的 eCPM 阈值主要用于竞价广告系统中，目的是了解在某出价水平下的流量情形。对展示量合约式广告来说，这个阈值是不需要的，或者为了工程上一致，将该阈值设为一个很大的常数。<br>流量预测一般的方法其实并不是预测，而是根据历史数据的统计来拟合未来的流量。当然，也可以引入时间序列分析的方法，从流量在时间轴上的规律预测未来某个时间段的流量，这主要适用于需要短时预测的场景，对广告业务来说不是很有必要。<br>流量预测的大多数应用场景对实时性的要求都不算高，例如，在竞价系统辅助决策时，秒级的响应完全可以满足要求，这比线上广告检索毫秒级的要求显然要低得多。用反向检索的方案来进行流量预测，主要有如下一些步骤。<br>（1）准备文档。将历史流量中$(u, c)$上的所有标签的展示合并为一个供给节点 $i$，并统计其总流量 $s_i$，以及这部分流量上 $eCPM$ 的直方图 $hist_i$。这样的每个供给节点作为流量预测反向索引的一篇文档。<br>（2）建立索引。对上一步生成的每个供给节点建立倒排索引，文档的关键词即为此供给节点$(u, c)$上的所有标签。同时，在索引的正排表部分记录下 $s_i$ 和 $hist_i$。<br>（3）查询结果。对于一条输入的广告 $a$，将其限定的标签条件作为查询，得到所有符合条件的供给节点的集合。<br>（4）估算流量。遍历上一步得到的每个供给节点，对于某个供给节点 $i$，首先计算其与该广告 $a$ 的 $eCPM$，即 $r(a, u_i, c_i) = \mu(a, u_i, c_i) \cdot bid_{a}$，然后根据相应的 $eCPM$ 直方图 $hist_i$ 计算 $a$ 能获得的流量。这样，就可以估算出 $a$ 在出价 $bid_a$ 情形下能获得的近似流量。<br>上述基于反向索引的流量预测方法如图 12-3 所示。在实际操作过程中，由于历史广告投放日志可能流量非常大，将所有的供给节点都建立索引在规模上是无法承受的。当然，实际上我们也并不需要这样做，在流量预测误差允许的范围内，我们可以在上面的第 1 步和第 2 步之间加一个采样的过程，将索引中的供给节点的数量控制在合理的规模。</p><p><img data-src="/computational-advertising/computational-advertising-59.png" alt="图12-3　基于反向索引的流量预测示意"></p><h4 id="12-2-2-频次控制"><a href="#12-2-2-频次控制" class="headerlink" title="12.2.2 频次控制"></a>12.2.2 频次控制</h4><p>频次指的是某个用户在一段时间内看到某个或某组广告的曝光次数。关于频次对广告效果的影响，Herbert E. Krugman 博士在 1972 年提出了著名的“三打理论”：第一次，刺激消费者试着了解信息，去问“这个广告是什么？”；第二次，刺激消费者去评量，去问“广告内容是什么？”“我曾经看过这个广告吗？”；第三次，消费者接触到广告时会回忆并开始逃离广告。三次足以对消费者产生作用。这个理论对广告投放的效果有重要的指导意义，但是主要适用于传统广告，并且假设用户已经顺利通过了关注阶段。对于互联网广告，技术手段能够记录到的展示在广告位置差异的影响下离有效展示有相当大的差距，因此无法直接套用三打理论。不过，一般来说，随着某个用户看到同一个创意频次的上升，点击率呈下降的趋势这一点是可以被验证的。因此，在按照 CPM 采买流量时，广告主有时会要求根据频次控制某个用户接触到某创意的次数，以达到提高性价比的目的。特别是在视频广告这样有效曝光程度较高的广告产品中，频次控制（frequency capping）的意义和重要性尤为显著。<br>图 12-4 给出了某广告产品中实际的频次与广告效果（eCPM）的关系曲线。将这一量化结果与传统广告的频次理论相对比，会有一些新的发现：首先，广告效果随着频次的上升呈单调下降趋势，而并非在三次时达到最佳；其次，频次较高的广告展示效果很差，因此，没有足够的广告主数量，整体的广告效果会受到相当大的限制。而这些特点在竞价广告产品中更加容易利用，我们将在第 14 章中再讨论。</p><p><img data-src="/computational-advertising/computational-advertising-60.png" alt="图12-1　排期与动态广告混合投放决策逻辑"></p><p>从计算的角度来看，频次是使得式（2.2）中的可分性假设不成立的最主要影响因素。而将频次作为一个可控制的定向条件引入广告系统后，这个问题虽不能被彻底解决，却可以大大地缓解。频次控制的需求可以描述成，控制各(a, u)组合在一定时间周期内的展示量。应该说，频次的明确要求主要存在于展示量合约广告中，而在采用CPC计费模式的竞价广告中，可以将频次作为CTR预估的特征之一，从而隐式地对广告的重复展示进行控制。<br>频次控制有客户端和服务器端两种解决方案。客户端的方案就是把某个用户对某个广告创意的频次值记录在浏览器cookie里，投放决策时再把这个值传给投放器来决策创意。这一方案的好处是简单易行，而且服务成本低。缺点是扩展性不够好，当同时跟踪多个广告的频次时，cookie可能会变得很重，从而影响广告响应时间。当然，在移动应用广告中利用SDK做前端投放控制的场景中，客户端的方案是非常好的选择。服务器端的方案是在后台设置一个专门用于频次记录和更新的缓存，当广告请求到来时，在缓存中查询候选广告的频次，并根据最后实际投放的广告更新频次。</p><h3 id="12-3-在线分配"><a href="#12-3-在线分配" class="headerlink" title="12.3 在线分配"></a>12.3 在线分配</h3><p>展示量合约广告的优化问题与式（2.2）表达的一般问题的主要区别在于，合约量的要求引入了一些约束条件，这引出了在线分配问题。<br>在线分配问题指的是，通过对每一次广告展示进行实时在线决策，从而达到在满足某些量的约束的前提下，优化广告产品整体收益的过程。很容易理解此问题计算上最困难的地方在于“在线”，也就是在信息尚不全面的时候做出决策；而系统上最困难的地方在于分配策略是需要弱状态的，同时各广告投放机之间的耦合程度也要尽量低。</p><h2 id="第13章-受众定向核心技术"><a href="#第13章-受众定向核心技术" class="headerlink" title="第13章 受众定向核心技术"></a>第13章 受众定向核心技术</h2><p>从式（2.1）的计算广告核心问题来看，受众定向技术是对广告（a）、用户（u）、上下文（c）这 3 个维度提取有意义的特征（这些特征也称为标签）的过程。由于上下文标签也可以认为是即时的用户兴趣，因此我们把它们统称为受众定向。<br>关于各种受众定向技术的原理，应该在第2章里广告有效性模型的基础上进行理解。对于某种特定的定向技术，需要同时关注其效果和规模两方面的指标，同时提供覆盖率较高但精准程度有限的标签和那些非常精准但量相对较小的标签，这有利于市场形成竞争的环境，也为竞价广告形成充分竞争提供了基础。<br>从技术框架来看，受众定向标签可以分成用户标签、上下文标签和广告主定制化标签3种类型，其实现方案也有较大的不同。<br>上下文定向需要对广告所在的页面进行分析，然而这一分析过程与搜索引擎的爬虫有很大的不同。结合广告对上下文信息的需求特点，一般可以采用一种半在线的方式抓取和分析页面，这种方式避免了无效的页面分析计算，又能够快速地对需要分析的页面做出响应。<br>行为定向是根据用户历史上的网络访问行为对用户打标签的过程。哪些网络行为有价值是挖掘行为数据来源时需要考虑的问题。<br>与受众定向直接相关的数据产品主要是数据交易平台和数据管理平台。这两种产品从第一方数据和第三方数据的角度出发，专门提供数据加工和交易功能。</p><h3 id="13-1-受众定向技术分类"><a href="#13-1-受众定向技术分类" class="headerlink" title="13.1 受众定向技术分类"></a>13.1 受众定向技术分类</h3><p>我们先来回顾一下第4章中介绍的受众定向常见方法。<br><img data-src="/computational-advertising/computational-advertising-14.png" alt="图4-2　常见受众定向方法一览"></p><p>按照计算框架的不同，这些受众定向技术可以分为以下3种类型。</p><p>（1）用户标签，即可以表示成t(u)形式的标签，这是以用户历史行为数据为依据，为用户打上的标签。</p><p>（2）上下文标签，即可以表示成t(c)形式的标签，这是根据用户当前的访问行为得到的即时标签。</p><p>（3）定制化标签，即可以表示成t(a, u)形式的标签，这也是一种用户标签，不同之处在于是针对某一特定广告主而言的，因而必须根据广告主的某些属性或数据来加工。</p><p>以上各种定向中，地域定向、频道定向和上下文定向属于t(c)的定向方式；人口属性定向、行为定向属于t(u)的定向方式；而重定向和新客推荐则属于t(a, u)的定向方式。各种定向的标签被应用于根据用户和环境信息选取广告候选的过程，因而对广告投送的结果会有比较显著的影响。t(c)和t(u)两种定向方式，一种是根据当前环境信息，另一种是根据历史日志数据，因而在技术方案上有比较大的区别。而定制化标签，即t(a, u)形式的标签，则变成了完全开放的标签体系，其标签数量不再是常数，而是有可能与广告主数目成正比，因此最适合于在程序化交易的环境中由需求方直接提供。实际上，我们还需要对每个广告也打上标签t(a)，以便与上下文或用户的标签进行匹配，广告标签一般有两种常用选择：一是直接将广告投放中的广告主、广告计划、广告组、关键词等直接用作标签；二是用人工的方式归类。我们可以用一个(a, u, c)上的三维坐标来示意以上的几种标签类型，参见图13-2。</p><p><img data-src="/computational-advertising/computational-advertising-61.png" alt="图13-2　常见受众定向方法一览"></p><h3 id="13-2-上下文定向"><a href="#13-2-上下文定向" class="headerlink" title="13.2 上下文定向"></a>13.2 上下文定向</h3><p>我们先来看那些归类为 t(c)的受众定向方式。这样的定向中有一些根据广告请求中的参数信息，经过简单运算就可以得到，如地域定向、频道/URL 定向、操作系统定向等。另外一类则是根据上下文页面的一些特征标签，如关键词、主题、分类等进行定向，我们重点讨论这样的上下文定向技术。<br>抛开标签体系不谈，仅从打标签的方法上来看，上下文定向主要有如下的几种思路。<br>（1）用规则将页面归类到一些频道或主题分类。例如，将 auto.****.com 下的网页归在“汽车”这个分类中。这种方法相对简单。<br>（2）提取页面中的关键词。这种方法是在将搜索引擎的关键词匹配技术推广到媒体广告上时自然产生的，也是上下文定向的基本方法。<br>（3）提取页面入链锚文本中的关键词。这种方法需要一个全网的爬虫作支持，因此已经超出了一般意义上广告系统的范畴，有兴趣的读者可以参考搜索引擎方面的有关文献。<br>（4）提取页面流量来源中的搜索关键词。这种方法除了页面内容，也需要页面访问的日志数据作支持，从技术方案上看更接近后面介绍的行为定向。<br>（5）用主题模型将页面内容映射到语义空间的一组主题上，这样做的目的是为了泛化广告主的需求，提高市场的流动性和竞价水平。<br>上下文定向中的关键词提取可以按照信息检索中的一般方法，即选取页面内容中 TF-IDF 较高的词作为关键词（见 11.1.2 节中的具体介绍）；也可以采用需求方驱动的思路，从广告商相关描述中得到商业价值高的关键词表和 IDF，再与页面内容中关键词的 TF 一起计算 TF-IDF，以此来选取关键词。当能够得到比较丰富的广告信息时，如运营搜索引擎的文本广告，或者可以拿到广告主 SEM 词表时，后一种方法往往更加有效。<br>确定了对上下文页面打标签的方法以后，在在线广告投放时，页面标签系统需要对广告投放机查询的某一个 URL 快速返回其对应的标签。复杂的打标签计算是不可能马上完成的，不过在广告的问题中，某一次展示时标签的缺失并不是致命性的。根据广告的这一特点，我们可以用一种半在线的方式实现页面抓取和打标签的逻辑。</p><h4 id="半在线抓取系统"><a href="#半在线抓取系统" class="headerlink" title="半在线抓取系统"></a>半在线抓取系统</h4><p>上下文页面的有关信息显然不可能在广告请求发生时实时分析得到，那么我们是否需要一个类似于搜索引擎爬虫的系统来做预先抓取呢？对广告系统来说，是没有这个必要的。因为页面信息对搜索引擎而言是服务的主体内容，而对广告系统而言，只是锦上添花的补充信息，我们完全可以设计一个更轻量级、效率更高的页面抓取系统。这一系统的设计关键是不做任何离线抓取，而在在线服务时产生实际需求后才尽快抓取，我们把它叫作半在线的抓取系统。<br>半在线抓取系统的工作原理如图 13-3 所示。系统用一个缓存（如 10.5.7 节中介绍的 Redis）来保存每个 URL 对应的标签，当在线的广告请求到来时进行如下操作。<br>（1）如果该请求的上下文 URL 在缓存中存在，那么直接返回其对应的标签。<br>（2）如果该 URL 在服务中不存在，为了广告请求能及时得到处理，当时返回空的标签集合，同时立刻向后台的抓取队列中加入此 URL，这样在较短的一段时间（通常为秒至分钟量级）之后，该 URL 就被抓取下来，并打上标签存入缓存中。<br>（3）考虑到页面内容可能会不定期更新，可以设置缓存合适的存活时间（time to live，TTL）以做到自动更新标签。<br>这样的方案有以下两点好处：一是在线缓存的使用效率非常高，仅仅那些最近有广告请求发生的 URL 才会被抓取，这样就不需要耗费大量的爬虫资源去抓取可能根本用不到的 URL；二是因为只抓取需要的页面，并且可以在该页面第一次广告请求后很快得到页面标签，页面的信息覆盖率也很高。</p><p><img data-src="/computational-advertising/computational-advertising-62.png" alt="图13-3　上下文定向半在线抓取系统示意"></p><p>半在线的上下文抓取系统非常典型地揭示了在线广告系统弱一致的业务需求：只要保证大多数的广告决策最优正常，很少量的次优决策甚至随机决策都是可以接受的。充分把握这一特点，对于设计高效率、低成本的广告系统至关重要。</p><h3 id="13-3-文本主题挖掘"><a href="#13-3-文本主题挖掘" class="headerlink" title="13.3 文本主题挖掘"></a>13.3 文本主题挖掘</h3><p>根据上下文内容进行受众定向的粒度，可以精细到关键词，也可以粗略到页面的类型。除了这两种极端情况，我们也可以考虑将页面内容直接映射到一组有概括性意义的主题上，例如，将一个讲编程语言的博客页面映射到“IT技术”这样的主题上。如果把页面视为一个文档，这就对应于文本主题模型（topic model）的研究问题。文本主题模型有两大类别：一种是预先定义好主题的集合，用监督学习的方法将文档映射到这一集合的元素上；另一种是不预先定义主题集合，而是控制主题的总个数或聚类程度，用非监督学习的方法自动学习出主题集合，以及文档到这些主题的映射函数。<br>广告中的主题挖掘有两种用途：如果仅仅用于广告效果优化的特征提取，那么监督或非监督的方法都可以；如果是用于对广告主售卖的标签体系，那么应该优先考虑采用监督学习的方法，因为这样可以预先定义好对广告主有意义且可解释的标签体系，对售卖会有很大帮助。</p><h3 id="13-4-行为定向"><a href="#13-4-行为定向" class="headerlink" title="13.4 行为定向"></a>13.4 行为定向</h3><p>再来看那些归类为t(u)的受众定向方式。这类定向问题包括从用户网上浏览记录加工得到的兴趣定向，以及根据用户历史所在的地域得到的用户主要居住地的“where on earth”定向等。由于这些都是根据用户的历史行为进行挖掘的问题，因此把它们统称为行为定向（behaviorial targeting，BT）。<br>行为定向需要进行大规模的数据挖掘，根据某用户一段时期内的各种网络行为，将该用户映射到某个定向标签上。</p><h4 id="13-4-1-行为定向建模问题"><a href="#13-4-1-行为定向建模问题" class="headerlink" title="13.4.1 行为定向建模问题"></a>13.4.1 行为定向建模问题</h4><p>行为定向问题的目标是找出在某个类型的广告上eCPM相对较高的人群。如果假设在该类型的广告上点击价值近似一致，那么问题就转化为找出在该类型广告上点击率较高的人群。虽然对品牌广告而言，点击率未必总是合理的评价指标，然而当我们认为在该类型上的各种目的的广告均衡存在时，点击率仍然具有相对的衡量意义。因此，我们可以把某个用户在某类广告上的点击量作为建模的对象。</p><h4 id="13-4-2-行为定向特征生成"><a href="#13-4-2-行为定向特征生成" class="headerlink" title="13.4.2 行为定向特征生成"></a>13.4.2 行为定向特征生成</h4><p>行为定向特征的生成过程有两点需要讨论：一是特征选择函数 $x_{tn}$ 的确定；二是式（13.6）对应模型的训练集的组织和生成方式。行为定向的特征生成过程，由于样本量比较大，处理的高效性是我们在工程中主要考虑的问题。<br>最常用的特征选择函数 $x_{tn}(b)$ 是将一段时间内的原始用户行为映射到确定的标签体系上，同时计算出各行为在对应标签上的累积强度作为模型的特征输入。例如，对于页面浏览行为，我们用上下文定向的方法将 URL 转换为标签，作为此次行为的标签，而一次浏览的强度置为 1；对于搜索行为，可以根据查询词将其映射为标签，而一次搜索的强度置为 1。关于搜索、广告点击、网页浏览等各类行为的标签化方法，在后面还会专门讨论。模型中的 $w_{tn}$ 的作用实际上就是在调整搜索、浏览等不同行为类型的重要程度。这一特征生成过程如图 13-7 所示。</p><p><img data-src="/computational-advertising/computational-advertising-63.png" alt="图13-7　行为定向特征生成过程示意"></p><p>这里要注意，我们考虑的是“一段时间内的行为”，因为过于久远的行为对用户兴趣的贡献是很小的。</p><p>行为定向的训练过程实际上就是调整各个标签类别上各种特征权重的过程。一般来说，为了消除工作日的周期性影响，训练集的天数一般选择为 7 的整数倍。</p><p><strong>各类行为的标签化方法</strong></p><p>上面关于行为定向特征生成的讨论还缺少一个环节：特征选择函数 $x_{tn}(b)$ 的计算方法，即搜索、广告点击、网页浏览等行为映射到一个或多个定向标签上。这是行为定向计算过程中最关键的环节，下面介绍工程中的实用方案。<br>（1）网页浏览、分享等与内容相关的行为，可以通过 13.3 节中提到的有监督文本主题模型的方法，将其映射到预先定义好的标签体系上，也可以直接提取内容中的关键词作为标签。<br>（2）广告点击等与广告活动相关的行为，可以转化为对广告落地页内容的分析，因此可以使用与网页浏览相同的方法。不过，实践中经常会碰到广告落地页内容为图片、Flash 或者内容很少的情形。因此，根据创意形式的不同，还有其他两种方法：当创意为文字链时，可以将其题目或描述作为内容；当创意为图片时，往往需要人工标注其标签，但由于工作量较大且正确性不宜评估，建议只在必要时进行。<br>（3）最值得重视的是搜索、搜索点击等与查询相关的行为。由于查询的信息量较少，很难直接提取标签。可行的方案有两种，都要用到搜索引擎：第一种方案是利用搜索引擎做内容扩展，即将查询送入搜索引擎，用返回的若干结果描述或者链接页的内容作为该查询对应的内容，这种方案借助通用搜索引擎即可；第二种方案是对查询进行某垂直领域分类时，直接利用相应垂直媒体的标签体系和搜索引擎。下面以电商行业为例来说明此方案。<br>如果要给查询标注电商行业标签，可以采用与某综合电商，如淘宝，相一致的分类标签体系。在此基础上，任给一个查询，将其送入淘宝的搜索引擎，然后查看返回商品结果对应的分类，将此分类作为标签即可。如果返回结果很少或结果中的分类很分散，可以认为此查询没有合适的电商行业标签。这实际上是借鉴了电商搜索引擎成熟的分类能力，往往可以较快地做到比较准确的查询分类。这一方法的限制是必须采用与某电商一致的标签体系，不过一般来说这不是个大问题。这个例子虽然针对电商行业，但对于其他垂直行业，如汽车、房产等，也完全适用，只要借助于该行业网站比较成熟的垂直搜索引擎即可。<br>（4）转化、预转化等需求方行为，往往可以对应到一个单品。同样，利用该单品的分类信息，可以将其映射到某个标签上，而对于预转化中的站内搜索行为，可以按照上面的一般搜索行为来处理。<br>这几类典型行为的标签化过程如图 13-9 所示。对于其他行为，往往也可以归到这几种类型之一，或者根据其行为数据的特点做具体讨论。</p><p><img data-src="/computational-advertising/computational-advertising-64.png" alt="图13-9　各类行为标签化方法示意"></p><h3 id="13-5-人口属性预测"><a href="#13-5-人口属性预测" class="headerlink" title="13.5 人口属性预测"></a>13.5 人口属性预测</h3><p>严格来说年龄、性别、教育程度、收入水平等人口属性并不属于用户的兴趣，而是用户确定的特点描述。不过在实际定向广告系统中，除了一些实名的社交网络以外，规模化地获得人口属性比较困难，因此我们往往还是需要数据驱动的模型，以用户的行为为基础自动预测其人口属性。<br>这种基于预测的方法直觉上很容易理解，以性别属性为例：经常访问军事网站或汽车网站的用户绝大部分都是男性，经常浏览娱乐八卦的用户则以女性居多。性别属性预测的问题可以描述成一个典型的二分类问题，其输入特征就是用户的原始行为 b（或者提取后的行为特征 x’），而输出就是｛M（男），F（女）｝两个分类。有很多机器学习模型都可以用于性别预测问题，比如采用最大后验概率的框架。<br>建模中有两个问题需要注意：首先，不论用什么样的模型来预测人口属性，必须要有一定的拒识门槛，也就是说对那些行为不够丰富或不够有代表性的用户，应该输出“未知”的判断，而不是简单地用模型算出一个结果；其次，模型训练集的获得非常重要，往往算法的有效性不如更准确、规模更大的训练集对结果的提升明显。而较大训练集的获得往往是要依赖社交网络，例如，可以将广告系统的用户身份与微博用户对应，再从微博公开的用户属性获得标注。<br>除了性别以外的其他人口属性，用简单的分类模型并不太准确。以年龄为例，假设我们把标签设定成 5 个年龄段，那么将第一个年龄段的人错分到第二个年龄段，与错分到第三个年龄段的代价应该是不同的，而如果采用简单的 5 个类的分类模型，这一差别就被忽略了。因此，需要在分类模型中明确考虑不同类之间的错分代价，而其他的属性如教育程度、收入水平也类似。不过总体上说，从用户行为上预测非性别的人口属性是比较困难的任务，除非有非常相关的数据来源以及充分多的准确的训练样本，否则不太建议用这种方法获得这些标签。</p><h3 id="13-6-数据管理平台"><a href="#13-6-数据管理平台" class="headerlink" title="13.6 数据管理平台"></a>13.6 数据管理平台</h3><p>数据管理平台的系统架构如图13-11所示。通过部署在媒体上的代码或SDK 收集第一方访问日志，送入数据高速公路。同时通过数据高速公路收集自有的第二方数据，然后把这些日志原始行为映射到结构化或非结构化的受众标签体系上。另外，还会有一些第三方提供的加工好的标签数据直接进入用户标签集，再通过统一的接口对外提供。在这一架构中，DMP同时对接了第一方、第二方和第三方的数据，并根据这些数据对受众群体做灵活的、自定义的划分。</p><p><img data-src="/computational-advertising/computational-advertising-65.png" alt="图13-11　数据管理平台（DMP）系统架构示意"></p><p>除了需要用到上面讨论的受众定向技术，DMP 还有一个技术问题，就是如何将用户标签传送给购买方，如某 DSP。这包括两个环节：一是用户身份对应，如第 16 章中将介绍的 cookie 映射；二是数据的传递方式，图 13-11 中展示的是直接通过在线缓存的形式访问，实际上更常见的方式是在广告交易的过程中，附着在询价请求上直接提供。</p><h2 id="第14章-竞价广告核心技术"><a href="#第14章-竞价广告核心技术" class="headerlink" title="第14章 竞价广告核心技术"></a>第14章 竞价广告核心技术</h2><h3 id="14-1-竞价广告计价算法"><a href="#14-1-竞价广告计价算法" class="headerlink" title="14.1 竞价广告计价算法"></a>14.1 竞价广告计价算法</h3><p>5.2 节中介绍了位置拍卖市场中一些常用的定价策略，包括 GSP、MRP、价格挤压等，单独理解这些策略都不困难。在实际的系统中，我们需要将这几种策略综合起来执行。以按 CPC 计价的竞价广告产品中一次广告展示为例，我们将实际的计价算法用下面的代码描述，可以对照表 5-2 来进一步直观地理解这一完整的定价过程。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In:</span></span><br><span class="line"><span class="comment">//   cands : 候选广告ID</span></span><br><span class="line"><span class="comment">//   ctrs : 候选广告预估的点击率</span></span><br><span class="line"><span class="comment">//   bids : 候选广告的出价</span></span><br><span class="line"><span class="comment">//   MRP : 市场保留价</span></span><br><span class="line"><span class="comment">//   squash : 价格挤压因子</span></span><br><span class="line"><span class="comment">//   slotNum : 要求的广告条目数</span></span><br><span class="line"><span class="comment">// Out:</span></span><br><span class="line"><span class="comment">//   results : 排序结果</span></span><br><span class="line"><span class="comment">//   prices : 计价结果</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">auction</span><span class="params">(vector&lt;<span class="type">int</span> &gt; &amp; cands, Vec &amp; ctrs, Vec &amp; bids, <span class="type">float</span> MRP,</span></span></span><br><span class="line"><span class="params"><span class="function">  <span class="type">float</span> squash, <span class="type">int</span> slotNum, vector&lt;<span class="type">int</span>&gt; &amp; results, Vec &amp; prices)</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> candNum = cands.<span class="built_in">size</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 按照给定的squashing因子调整预估CTR</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> c = <span class="number">0</span>; c &lt; candNum ;c ++)</span><br><span class="line">    ctrs[c] = ctrs[c] ^ squash ;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 计算调整后的eCPM</span></span><br><span class="line">  Vec eCPMs ;</span><br><span class="line">  eCPMs.<span class="built_in">resize</span>(candNum, <span class="number">1</span>e <span class="number">-10f</span>);</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> c = <span class="number">0</span>; c &lt; candNum; c ++)</span><br><span class="line">    <span class="keyword">if</span> (bids[c] &gt;= MRP) <span class="comment">// 跳过那些出价小于市场保留价的候选</span></span><br><span class="line">      eCPMs[c] = ctrs[c] * bids[c];</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 将所有候选按照eCPM排序</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> c1 = <span class="number">0</span>; c1 &lt; candNum; c1 ++)</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> c2 = c1 + <span class="number">1</span>; c2 &lt; candNum; c2 ++)</span><br><span class="line">      <span class="keyword">if</span> (eCPMs[c1] &lt; eCPMs[c2]) &#123;</span><br><span class="line">        <span class="built_in">SWAP</span>(cands[c1], cands[c2]);</span><br><span class="line">        <span class="built_in">SWAP</span>(eCPMs[c1], eCPMs[c2]);</span><br><span class="line">        <span class="built_in">SWAP</span>(ctrs[c1], ctrs[c2]);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 得到各竞价结果并计算定价</span></span><br><span class="line">  results.<span class="built_in">clear</span>(); prices.<span class="built_in">clear</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> c = <span class="number">0</span>; c &lt; candNum - <span class="number">1</span>; r ++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (eCPMs[c] &lt;= <span class="number">1e-10</span>f)</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 按照GSP计算定价</span></span><br><span class="line">    <span class="type">float</span> price = eCPMs[c + <span class="number">1</span>] / ctrs[c];</span><br><span class="line">    <span class="keyword">if</span> (price &lt; MRP)price = MRP;</span><br><span class="line"></span><br><span class="line">    results.<span class="built_in">push_back</span>(cands[c]);</span><br><span class="line">    prices.<span class="built_in">push_back</span>(price);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>从定价过程的输入可以看出，对于一个采用 CPC 计费模式计费的竞价广告系统，需要先得到广告候选集合，并计算每个候选的点击率，这对应竞价广告两个最关键的计算问题，即广告检索和广告排序，这也是本章要讨论的重点技术问题。<br>竞价广告中根据 eCPM 对广告进行排序，而根据 2.3.1 节的介绍，按照点击和转化两个发生在不同阶段的行为，eCPM 可以分解成点击率和点击价值的乘积，eCPM 的估计主要就是点击率预测和点击价值估计两个任务：</p><p>$$ r(a, u, c) = \mu(a, u, c) \cdot \nu(a, u)　　(14.1)$$</p><p>我们认为点击率 µ 是广告 3 个行为主体的函数，而点击价值则是用户 u 和广告商 a 的函数，而在 CPC 计算的竞价广告中，点击价值是广告主的出价，不需要估计。</p><h3 id="14-2-搜索广告系统"><a href="#14-2-搜索广告系统" class="headerlink" title="14.2 搜索广告系统"></a>14.2 搜索广告系统</h3><p>搜索广告的优化目标在式（2.2）的基础上加以调整，可以用下式来表达：</p><p>$$ \max <em>{a</em>{1}, \cdots,T} \sum_{i=1}^{T}\left{\mu\left(a_{i}, c_{l}\right) \cdot \operatorname{bid}<em>{\mathrm{CPC}}\left(a</em>{i}\right)\right}　　(14.2)$$</p><p>这个目标相对简单清晰：对每次展示的各个候选，根据查询估计其点击率 µ，并乘以广告主出的点击单价得到 eCPM，再按此排序即可。而在 eCPM 的估计过程中，根据上下文即用户输入的查询来决策。<br>搜索广告是竞价广告中最典型的系统之一，它与一般广告网络最主要的区别是上下文信息非常强，用户标签的作用受到很大的限制。因此，搜索广告的检索过程，一般都不考虑用户 u 的影响，而上下文信息 c，即查询，又是实时通过用户输入获得，因而离线受众定向的过程基本可以被省略。在这样的应用场景下，搜索广告的系统架构如图 14-1 所示，它与一般的竞价广告系统架构上的主要区别是没有上下文和用户标签的缓存，但是其检索模块由于查询扩展的需求，会比一般的竞价广告系统要复杂，并且在排序后的收益优化阶段还需要进行北区和东区的广告放置决策。</p><p><img data-src="/computational-advertising/computational-advertising-66.png" alt="图14-1　搜索广告系统架构示意"></p><h4 id="14-2-1-查询扩展"><a href="#14-2-1-查询扩展" class="headerlink" title="14.2.1 查询扩展"></a>14.2.1 查询扩展</h4><p>搜索广告中查询的重要性极高，粒度又非常细，如何根据广告主需求对关键词进行合理的拓展对于需求方和供给方来说都有很大意义：需求方需要通过扩展关键词获得更多流量；供给方则需要借此来变现更多流量和提高竞价的激烈程度。因此，查询扩展（query expansion）是搜索广告的重要技术，它主要用于 6.1.3 节中介绍的广泛匹配情形下。介绍3种主要的思路。</p><p>1．基于推荐的方法<br>如果把用户一个会话内的查询视为目的相同的一组活动，可以在{session, query}矩阵上通过推荐技术来产生相关的关键词。这种方法利用的是搜索的日志数据，而基本上个性化推荐领域的各种思路和方法都可以适用。下面以查询扩展的问题为例介绍一下推荐技术的基本问题。<br>给定一组用户会话 s = {1, … , M }和一组关键词 w = {1, … , N }，可以产生一个对应的交互强度矩阵{xmn}M×N。如果其中某个用户搜索过某个关键词，则矩阵相应的元素就置为一个相应的交互值，如该用户在一段时间内搜索过该词的次数。<br>显然，这个矩阵中大多数单元都是空白，但这并不意味着用户搜索该词的可能性为零。而推荐的基本任务就是根据这个矩阵中已知的元素值，去尽可能预测性地填充那些历史上没有观测到的单元。类似的场景除了搜索，还广泛出现在各种互联网应用当中，如商品的浏览或购买记录以及在线电影的打分记录，都可以抽象出类似的交互强度矩阵以及相应的推荐问题。这样根据群体用户的选择关联性进行推荐的问题也被称为协同过滤（collaborative filtering，CF）问题。</p><p>2．基于主题模型的方法<br>除了利用搜索的日志数据，也可以利用一般的文档数据进行查询扩展。这类方法实质上就是利用文档主题模型，对某个查询拓展出与主题相似的其他查询。关于文档主题模型的介绍，参见 13.3 节。<br>在主题模型的描述下，每个词 wn 都可以对应于一个文本主题组成的向量{zn1, zn2, …, znK}。于是，也可以用两个词对应的主题向量来计算它们的相似度。这种方法与上一种方法相比，主要考虑的是语意上的相关性，而非用户意图上的相关性，因此效果会差一些，只能作为用户搜索行为数据不足时的补充方法。</p><p>3．基于历史效果的方法<br>对搜索广告而言，还有一类查询扩展方法很重要，那就是利用广告本身的历史 eCPM 数据来挖掘变现效果较好的相关查询。由于在广告主选择竞价的关键词时，一般来说都会选择多组，如果从历史数据中发现，某些关键词对某些特定广告主的 eCPM 较高，那么应该将这些效果较好的查询组记录下来，以后当另一个广告主也选择了其中的某个关键词时，可以根据这些历史记录，自动地扩展出其他效果较好的查询。<br>虽然这种方法得到的扩展结果经常会与前两种方法得到的结果相重合，但是由于这种方法直接使用广告的优化目标，即 eCPM 来指导查询扩展，往往能够成为前两种方法非常重要的补充手段，而且对营收产生的效果往往还要好于前面的两种方法。</p><h4 id="14-2-2-广告放置"><a href="#14-2-2-广告放置" class="headerlink" title="14.2.2 广告放置"></a>14.2.2 广告放置</h4><p>如 6.1.3 节中讨论的，广告放置指的是搜索引擎广告中确定北区和东区广告条数的问题。考虑到用户体验，需要对北区广告的数量进行限制，因此，这是一个典型的带约束优化的问题。其中的约束是系统在一段时间内整体的北区广告条数，而优化的目标则是搜索广告系统的整体营收。<br>搜索广告虽然不宜进行深入的个性化，但在广告放置问题上存在着很大的个性化空间。不同用户对于广告接受和容忍的程度有着很大的不同，实际上，即使在北美市场这样的用户受教育水平较高的市场上，也至少有三四成的用户不能完全分辨搜索结果和广告。因此，对不同的用户动态调整北区的条目数，可以使得在北区平均广告数目相同的约束下，整体系统的营收有显著的提高。</p><h3 id="14-3-广告网络"><a href="#14-3-广告网络" class="headerlink" title="14.3 广告网络"></a>14.3 广告网络</h3><p>广告网络的典型系统架构如图 14-2 所示，其中广告投放的决策流程为：服务器接收前端用户访问触发的广告请求，首先根据上下文信息和用户身份标识从页面标签库和用户标签库中查出相应的上下文标签和用户标签；然后用这些标签以及其他一些广告请求条件从广告索引中找到符合要求的广告候选集合；最后，利用 CTR 预估模型计算所有的广告候选的 eCPM，再根据 eCPM 排序选出赢得竞价的广告，并返回给前端完成投放。</p><p><img data-src="/computational-advertising/computational-advertising-67.png" alt="图14-2　广告网络系统架构示意"></p><p>从离线计算的流程来看，广告网络需要根据广告投放的历史展示和点击数据，对点击率预测进行建模。<br>由于广告网络广泛采用CPC计费，准实时的计费和点击反作弊功能是必不可少的；另外，将用户行为尽快反馈到广告决策中对于点击率预估和受众定向的效果提升也非常关键。这些需求共同催生了流计算技术，这一技术被广泛应用于短时受众定向和短时用户行为反馈。</p><h4 id="短时行为反馈与流计算"><a href="#短时行为反馈与流计算" class="headerlink" title="短时行为反馈与流计算"></a>短时行为反馈与流计算</h4><p>虽然用户行为定向不适用于搜索广告，但是用户在一个会话内的一系列查询如果能够快速处理，还是会对准确理解用户意图大有帮助。除了这样的短时用户行为反馈，在广告业务中还有一些需要快速对在线日志进行处理的场景，这些场景主要有以下几个。<br>（1）实时反作弊。反作弊是所有广告系统都需要的模块，关于反作弊具体的技术将在第 17 章中介绍。在 ADN、DSP 这类依赖于站外流量的广告产品中，爬虫流量、突发的作弊流量都会对广告主预算产生巨大的影响。因此，在所有需要实时数据处理的模块之前，需要一个实时反作弊的模块，对系统产生的日志进行过滤。<br>（2）实时计费。广告产品需要一个实时计费的模块，以便将那些预算消耗完的广告及时下线，避免系统损失。<br>（3）短时用户标签。Hadoop 上计算用户标签 t(u)往往需要比较长的更新周期，如每天，而及时利用用户分钟级别的行为数据加工用户短时兴趣的标签，被证明对广告效果帮助很大[2]。这种短时用户标签也需要一种数据准实时处理的工具。<br>[2]　搜索广告中查询的过分泛化会对相关性有较大负面影响。因此，我们不提倡在搜索广告检索阶段利用短时用户标签；不过在排序阶段，可以利用短时动态特征来加权那些用户更倾向于选择的结果。<br>（4）短时动态特征。CTR 预测中的动态特征（参见 15.1.4 节）也可以根据分钟级的数据补充调整。<br>这些场景对数据处理系统提出了新的挑战：简单的基于 Hadoop 的离线挖掘模式不再适用了，需要一个灵活的计算框架，能够实时流式地接受线上日志，并用预先组织好的一组处理过程来加工这些数据，得到随时可以被使用的结果。这样的需求催生了流计算平台。以上面的几个广告系统中实时处理的任务为例，它们组成的处理流程如图 14-3 所示。</p><h3 id="14-4-广告检索"><a href="#14-4-广告检索" class="headerlink" title="14.4 广告检索"></a>14.4 广告检索</h3><p>倒排索引是搜索引擎的关键技术，而广告的检索上也采用这样的框架。但是广告的检索问题也有一些自身的特点和需求，基本的倒排索引技术在广告检索中遇到了两个新问题。<br>（1）广告的定向条件组合，可以看成是一个由与或关系连接的布尔表达式，这样的文档显然与搜索引擎面对的 BoW 文档不太一样，这里存在着有针对性的检索性能优化空间。<br>（2）在上下文关键词或用户标签比较丰富时，广告检索中的查询可能相当长，甚至会由上百个关键词组成，这种情况下的检索也与搜索引擎中主要由 1～4 个关键词组成的查询有很大区别。试想，如果将 100 个关键词同时输入到搜索框中，返回的结果会是你想要的吗？<br>这些差异使得广告中使用的检索技术在基本的倒排索引之上有所发展。</p><h4 id="14-4-1-布尔表达式的检索"><a href="#14-4-1-布尔表达式的检索" class="headerlink" title="14.4.1 布尔表达式的检索"></a>14.4.1 布尔表达式的检索</h4><p>广告检索与普通搜索引擎检索的第一个不同是布尔表达式的检索问题。在受众定向的售卖方式下，一条广告文档不能再被看成是BoW，而是应该被看成一些定向条件组合成的布尔表达式，例如下面的几个例子：<br>a1 = (age ∈ {3} ∩ geo ∈ { 北京 }) ∪ (geo ∈ { 广东 } ∩ gender ∈ { 男 })<br>a2 = (age ∈ {3} ∩ gender ∈ { 女 }) ∪ (geo ∈/ { 北京，广东 })<br>a3 = (age ∈ {3} ∩ gender ∈ { 男 } ∩ geo ∈/ { 广东 }) ∪ (state ∈ { 广东 } ∩ gender ∈ { 女 })<br>a4 = (age ∈ {3, 4 }) ∪ (geo ∈ { 广东 } ∩ gender ∈ { 男 })<br>a5 = (state ∈/ { 北京，广东 }) ∪ (age ∈ {3, 4 })<br>a6 = (state ∈/ { 北京，广东 }) ∪ (age ∈ {3} ∩ state ∈ { 北京 }) ∪ (state ∈ { 广东 }∩<br>gender ∈ { 男 })<br>a7 = (age ∈ {3} ∩ state ∈ { 北京 }) ∪ (state ∈ { 广东 } ∩ gender ∈ { 女 })<br>在这些例子中，我们用布尔表达式来表示广告的定向人群，并且写成析取范式（Disjunctive Normal Form，DNF）的形式。在这样的表达形式中，先要解释以下两个概念。<br>（1）每个 DNF 都可以分解成一个或多个交集（conjunction）的并，如 a1 可以分解成 j1 = (age ∈ {3} ∩ geo ∈ { 北京 }) 和 k2 = (geo ∈ { 广东 } ∩ gender ∈ { 男 }) 这两个交集。<br>（2）每个交集又可以进一步分解为一个或多个赋值集（assignment）的交，以 a1 为例，可以分解为 age ∈ {3}和 geo ∈ { 北京 } 这样两个赋值集。</p><h4 id="14-4-2-相关性检索"><a href="#14-4-2-相关性检索" class="headerlink" title="14.4.2 相关性检索"></a>14.4.2 相关性检索</h4><p>竞价广告与搜索的检索问题还有一点不同，有时，竞价广告系统需要处理很多个标签组成的查询。让我们考虑上下文定向的情形：当通过网页内容的关键词来匹配广告候选时，往往需要用十多个甚至几十个关键词去查询广告，再进行 eCPM 排序。在这一情形下，如果仍然采用一般搜索引擎对查询的处理办法，则会陷入两难的境地：如果各个关键词之间是“与”（and）的关系，基本上不可能得到任何匹配的结果；如果各个关键词之间是“或”（or）的关系，那么在检索阶段就会返回大量相关性很差的候选，给后续排序的效率带来很大的挑战。<br>同样地，当用户的兴趣标签较丰富时，也存在类似的挑战。简单地比较一下搜索与搜索重定向广告，就可以理解为什么展示广告的查询信号会丰富很多：在搜索中，只需要根据用户当前输入的关键词进行检索；而在搜索重定向广告中，虽然用的也是搜索信号，但是需要将用户一段时间内的搜索关键词全部考虑，显然这样的查询要长了很多。这里也可以看出，搜索广告完全可以采用一般的检索技术，但是展示广告需要有新的方案。<br>考察上面问题产生的原因会发现，在长查询的检索情形下，我们实际上希望的是查询与广告候选间的相似程度尽可能高，但任何一个关键词是否出现在文档中其实都不关键。这样以查询和文档间的相似程度为目标的检索问题称为相关性检索。<br>解决相关性检索的基本思路是，在检索阶段就引入某种评价函数，并以此函数的评价结果来决定返回哪些候选。</p><h4 id="14-4-3-基于DNN的语义建模"><a href="#14-4-3-基于DNN的语义建模" class="headerlink" title="14.4.3 基于DNN的语义建模"></a>14.4.3 基于DNN的语义建模</h4><p>当一个概念由于用词和风格不同，在文档和查询中不是用同一关键词来表达时，基于关键词匹配的向量空间模型的泛化能力不足。后来流行起来的主题模型（如 LDA）有一定的泛化性能，但无监督 LDA 不能够有针对性地解决具体问题。随着词嵌入方法在 NLP 领域的广泛应用，端到端地从原始文本中监督学习任务相关的语义表达，使语义的表达能力和准确程度都大幅提升，这也成为广告检索技术发展的前沿方法。</p><p>在广告、搜索、推荐这些领域，经常用点击率作为弱监督标签来衡量给定用户（u）或上下文（c）与候选（a）的语义相关性。只不过在不同场景下 c 的含义略有不同：搜索场景下 c 是关键词，上下文广告场景下 c 以内容为主，而推荐场景则更多考虑 u。</p><h4 id="14-4-4-最近邻语义检索"><a href="#14-4-4-最近邻语义检索" class="headerlink" title="14.4.4 最近邻语义检索"></a>14.4.4 最近邻语义检索</h4><p>最近邻检索的工程效率是一个核心问题：由于每个文档和查询都能够计算出一个距离得分，如果对所有文档完全遍历该得分，以语义向量 200 维、候选文档 100 万篇规模的数据集为例，检索过程可能要耗时数十毫秒，而这在高并发的在线广告场景下是不可接受的。因此，为了降低性能消耗，需要对候选文档数进行剪枝，同时又能保证较高的召回率，这类加速最近邻检索算法称为近似最近邻（approximate nearest neighbor，ANN）查找。</p><h2 id="第15章-点击率预测模型"><a href="#第15章-点击率预测模型" class="headerlink" title="第15章 点击率预测模型"></a>第15章 点击率预测模型</h2><h3 id="15-3-探索与利用"><a href="#15-3-探索与利用" class="headerlink" title="15.3 探索与利用"></a>15.3 探索与利用</h3><h4 id="15-3-1-强化学习与E-amp-E"><a href="#15-3-1-强化学习与E-amp-E" class="headerlink" title="15.3.1 强化学习与E&amp;E"></a>15.3.1 强化学习与E&amp;E</h4><p>在实际的广告场景下，决策行为更像是一个多状态的行为序列。举个例子，一个汽车广告的优化目标是促成该车型的最终交易，那么在用户单状态即决策独立的假设下，为了最大化交易率，很可能给用户的若干次访问都反复推荐该款车的降价广告，导致用户或是直接购买或是直接离开。如果考虑到用户的购车决策路径上其实有多个状态，把用户的行为建模成一个多状态马尔科夫链，则可以学习出在用户第一次访问时推荐该车型的品牌广告，点击品牌广告后进而推荐针对该车型的信贷业务，最终再推荐该车型的降价广告这样的决策序列，这最终有可能带来更高的转化率。<br>在多个决策行为不独立且需要优化决策序列的整体收益的场景下，贪婪地每次选择短期收益最大的决策往往并不是最优解。在强化学习领域，会把问题建模成一个智能体（agent）和环境（environment）多轮交互的模型，该模型主要包含如下几个重要元素。<br>（1）收益（reward）：智能体执行完某个动作（action）后，环境反馈的短时回报。<br>（2）价值（value）：在给定当前的状态和动作前提下，智能体可以得到的各状态收益的期望累计，即长期收益。<br>（3）策略（policy）：智能体在给定的系统状态下执行动作的概率分布 p(action|state)，强化学习的目标即是学习出来的策略使智能体最终获得的长期价值回报最大。<br>强化学习大致分为两种模型：一种是基于策略的模型，直接搜索能够最大化未来奖励的策略；另一种是基于价值的模型，直接对值函数 Q 建模，然后遍历出预估 Q 值最高的动作。伴随着强化学习和深度学习的融合，在围棋对弈、无人驾驶等领域都取得了不错的表现。<br>强化学习主要的挑战，正是如何在探索（exploration）与利用（exploitation）之间获得最优的平衡。在广告中，需要牺牲一部分流量上 eCPM 最优的策略，采用相对随机的策略来采样那些效果未知的特征空间，这就是探索过程；再根据探索和正常决策的总体流量更有效地预测点击率，这就是利用过程。这样的整体策略称为探索与利用，即 E&amp;E。E&amp;E 可以形象地类比成玩老虎机时的决策问题：玩家面对老虎机上 A 个有不同期望收益的手柄，需要用尽可能少的筹码探索出收益最高的那个手柄，然后利用这个结果去获取回报。这种简单的 A 中选 1 的研究问题也称为多臂老虎机（multi-arm bandit，MAB）问题。下面我们来看一下 MAB 问题的数学描述。</p><h4 id="15-3-2-UCB方法"><a href="#15-3-2-UCB方法" class="headerlink" title="15.3.2 UCB方法"></a>15.3.2 UCB方法</h4><p>MAB问题经典的思路是置信上界（upper conﬁdence bound，UCB）方法。此方法的原理是，在每次投放时，不但简单地选择经验上最优的广告，而且考虑到经验估计的不确定性，进而选择估计值有可能达到的上界最大的那个广告。<br>根据这一思路，在每个决策点，UCB 的过程主要分成两个步骤：首先，根据过去的观测值，利用某种概率模型计算出每个 a 的期望回报的 UCB；然后，选择 UCB 最大的 a。</p><h2 id="第16章-程序化交易核心技术"><a href="#第16章-程序化交易核心技术" class="headerlink" title="第16章 程序化交易核心技术"></a>第16章 程序化交易核心技术</h2><p>本章主要介绍两点相关技术：一是各广告或数据产品在进行用户身份对应时的 cookie 映射方法；二是如何优化询价的服务成本，即尽可能只向那些可能赢得拍卖的 DSP 询价，这也是第 12 章中介绍的在线分配框架下的具体问题。<br>在所有在线广告产品中，需求方平台（DSP）是算法挑战相对较大的。首先，在实时竞价环境下，DSP 需要提供重定向、新客推荐等定制化用户标签，而这既需要与第一方数据和商品库打通等繁杂的工程接口，又产生了一些新的建模问题，特别是像新客推荐这种第一方数据和第三方数据兼用的受众定向问题。其次，需求方平台需要像广告网络那样估计点击率，并且会遇到比广告网络更高的准确性要求，另外还需要在面向效果类广告主时同时估计点击价值。另外，实时竞价中的出价是存在优化空间的，这是 DSP 特有的出价策略问题，也对 DSP 的收益影响很大。</p><h3 id="16-1-广告交易平台"><a href="#16-1-广告交易平台" class="headerlink" title="16.1 广告交易平台"></a>16.1 广告交易平台</h3><p>由于主要功能是提供公开或私有的实时竞价市场，广告交易平台是架构上相对简单的广告产品，其架构如图 16-1 所示。</p><p><img data-src="/computational-advertising/computational-advertising-68.png" alt="图16-1　广告交易平台系统架构"></p><p>这一架构主要涉及的是在线广告请求时的系统过程，而离线的 cookie 映射过程将在下面专门介绍。当用户访问媒体页面，广告请求发至 ADX 后，ADX 向各个接入的 DSP 发起询价并完成比价决策，然后将胜出的 DSP 返回给媒体页面进行广告投放。从核心概念上看，ADX 既不需要自己的广告索引，也不需要 eCPM 估计，因而可以用非常简单的架构实现。但是这仅仅是理论上的概念，实际产品中，ADX 与 ADN 的界限并不是泾渭分明，往往为了支持小规模广告主在更方便的图形界面采买，也需要广告检索和排序；而为了实现询价优化，简单的 eCPM 估计也是不可少的。</p><h4 id="16-1-1-cookie-映射"><a href="#16-1-1-cookie-映射" class="headerlink" title="16.1.1 cookie 映射"></a>16.1.1 cookie 映射</h4><p>我们先来看一下在线广告中是如何对用户身份进行跟踪的。在不同的广告形式中，采用的用户身份标识也不尽相同。<br>在 Web 环境下投送的广告，用户身份标识可以用 HTTP 协议提供的 cookie 机制来完成。cookie 机制在安全性方面有很多好处，比如每个域名下的服务只能访问本域名下的 cookie，这实际上是由浏览器保证了不同 Web 应用之间用户数据的隔离。不过 cookie 在用户跟踪的有效性方面受到一些限制：首先，用户可以主动清除 cookie，于是广告系统对该用户的跟踪就中断了；其次，由于广告网络往往是在其他域名的网站上跟踪用户和投放广告，其种植的 cookie 是第三方 cookie。而对于第三方 cookie，浏览器一般有更为严格的限制，有的浏览器甚至会在默认情况下禁止第三方 cookie，这也成为行为定向的障碍。随着市场对用户隐私问题越来越关注，W3C 还进一步制定了“do not track”（DNT）的标准，用于用户主动向网站要求不要被跟踪，或者不要被网站上的第三方应用所跟踪。cookie 的跟踪方式还有一个问题，那就是当某台计算机的用户使用多个浏览器时，其 cookie 无法直接统一起来。<br>在有用户登录信息的广告产品中，用户登录的身份往往是比浏览器 cookie 更强的身份标识，而最典型的情形出现在社交广告中。用户登录信息不仅在接续性上远远好于普通的浏览器 cookie，还具有能够打通不同的桌面和移动设备的功能。因此，创造网站功能以鼓励用户登录，是很多从事广告业务的互联网公司都在努力的方向。当然，也不能认为用户登录身份的准确性一定好于浏览器 cookie。例如，在某些游戏性质较强的产品中，由于一个用户可能创建多个“马甲”参与，会导致其用户标识相当不准确。<br>与其他身份标识不同，cookie 由于具有域名之间的隔离性，在 RTB 这种服务器间的广告请求中，DSP 无法直接得到自己域名下的 cookie。因此，必须要通过某种技术手段来完成身份对应，这称为 cookie 映射。cookie 映射应用的范围很广，除了上面提到的 ADX 与 DSP 之间的身份对应，典型的应用还有媒体与 DMP 之间的身份对应，以及某具有永久用户标识的服务向其他域名提供 cookie 找回的服务等。<br>新增书签新增笔记<br>cookie 映射的场景比较多样，我们可以重点关注 3 个问题：由谁发起？在哪里发起？谁保存映射表？最典型的场景有两种：一是涉及两个域名，即在一个域名的服务上向另一个域名发动的 cookie 映射；二是涉及三个域名，即在一个第三方域名页面上发动的其他两个域名间的 cookie 映射。我们分别来讨论这两种情况。<br>涉及两个域名的 cookie 映射，典型的例子是媒体与 DMP 之间的身份对应问题。如图 16-2 所示，这一过程有 5 个步骤</p><p><img data-src="/computational-advertising/computational-advertising-69.png" alt="图16-2　媒体与DMP间cookie映射示例"></p><p>（1）用户到达媒体页面。<br>（2）向媒体的 cookie 映射服务请求一段负责此功能的 JavaScript 代码。<br>（3）媒体的 cookie 映射服务返回该段 JavaScript 代码。<br>（4）该 JavaScript 代码判断需要映射的话（如果最近已经做过则可以不做），向 DMP 发起 cookie 映射请求，并传送两个参数：媒体的标识（mid），以及媒体方的 cookie（mck）。<br>（5）DMP 返回一个 1 × 1 的 beacon，并记录下媒体方 cookie（mck）与己方 cookie（dck）的对应关系。<br>考察一下我们关注的 3 个问题可以发现，这一 cookie 映射过程是由媒体方在媒体的页面上发动，并由 DMP 方保存映射关系。这样做有其合理性：媒体需要从 DMP 获得标签的人群是自己的访问人群，因此从媒体页面发动；而 DMP 保存映射，可以比较方便地将自己的用户标签与媒体 cookie 对应，并传回给媒体。<br>涉及 3 个域名的 cookie 映射，典型的例子是 DSP 与 ADX 之间的用户标识对应问题。如图 16-3 所示，这一过程有 6 个步骤。<br>（1）用户访问广告主页面。<br>（2）选择性加载一个 DSP 域名下的 iframe。<br>（3）DSP 判断需要映射的话，返回包括多个 beacon 的动态 HTML，此处多个 beacon 的目的是同时与多个 ADX 交换 cookie。<br>（4）通过其中的某个 beacon 向对应的 ADX 发送 cookie 映射请求，并带有 ADX 标识（xid）、DSP 标识（did）和 DSP cookie（dck）3 个参数。<br>（5）ADX 通过 302 重定向向 DSP 返回 ADX 标识（xid）以及其域名下的 cookie(xck)。<br>（6）DSP 返回一个 1 × 1 的 beacon，并记录下 ADX 方 cookie（xid）与己方 cookie(dck)的对应关系。</p><p><img data-src="/computational-advertising/computational-advertising-70.png" alt="图16-3　DSP与广告交易平台间cookie 映射示例"></p><p>这个过程与上一个过程相比，由于是在第三方的网站上发动映射，因而较为复杂，需要用到 302 重定向，不过熟悉前端技术的朋友应该不难理解。仍然考察我们关注的 3 个问题，这次是由 DSP 在广告主页面上发动映射，并由 DSP 保存映射关系。这样做也是符合业务逻辑的：DSP 主要需要对广告主的人群做深入加工，并对这部分人群在 ADX 中出价，因此从广告主页面发动；而 RTB 是 cookie 的对应，由各 DSP 分别自行完成，比在 ADX 中集中时完成显然更加合理，因此这一映射表保存在 DSP 方。</p><h3 id="16-2-需求方平台"><a href="#16-2-需求方平台" class="headerlink" title="16.2 需求方平台"></a>16.2 需求方平台</h3><p>DSP的优化目标与大多数广告产品有所不同。从利润的角度出发，除了尽量提高广告的eCPM，还需要尽量降低每次广告展示的费用。</p><p>$$ \max <em>{a</em>{1}, \cdots,T} \sum_{i=1}^{T}\left{\mu\left(a_{i}, u_{i}, c_{i}\right) \cdot v\left(a_{i}, u_{i}\right)-p\left(u_{i}, c_{i}\right)\right}　　(16.2) $$</p><p>式（16.2）中的减号前的部分，即收益，可以通过 eCPM 估计来计算，其技术与广告网络中的 eCPM 估计相类似；而减号后的部分则通过出价策略来优化，这是 DSP 特有的优化需求。<br>DSP 的系统架构如图 16-4 所示，其中广告投放的决策流程为：DSP 服务器通过 RTBS 接口收到广告询价请求，然后经过与广告网络类似的决策步骤，包括检索和 eCPM 排序，找到价值最高的广告，并将报价返回给 ADX。这样的决策流程，适用于按 CPC 或效果付费、以套利为目标的 DSP，这类 DSP 通过优化算法提升广告主的 ROI 来赚取更多的利润。也有一类 DSP 产品，其服务接近于透明采买的方式，即广告主按照自己的用户划分和策略完成 RTB 购买，而 DSP 收取固定的手续费，在这种情况下，对优化的需求就没有那么高。我们重点讨论的是前一种 DSP。</p><p><img data-src="/computational-advertising/computational-advertising-71.png" alt="图16-4　需求方平台（DSP）系统架构示意"></p><p>与广告网络相比，DSP 的广告决策过程更加复杂，我们会重点讨论下面的几个技术点。<br>（1）DSP 往往需要支持定制化的用户划分能力。在实际产品中，定制化用户划分有时由专门的 DMP 来提供，但更常见的情形是由 DSP 提供的接口来实现。<br>（2）由于 DSP 是完全面向广告主的产品，需要在量的约束下投放。因此，还存在类似在线分配的问题，这产生了对于出价策略的需求。<br>（3）在采用 CPC 计费模式的 DSP 中，进行 eCPM 估计时，需要估计 CTR；而在采用 CPS 等效果计费模式的 DSP 中，还需要同时估计点击价值。并且，由于实时出价的要求，这两项的估计都要尽可能准确。</p><h4 id="16-2-1-定制化用户标签"><a href="#16-2-1-定制化用户标签" class="headerlink" title="16.2.1 定制化用户标签"></a>16.2.1 定制化用户标签</h4><p>DSP 与其他广告产品相比，多了定制化用户划分功能，这是收集第一方数据的接口，这部分数据将用于加工第一方专用的用户标签，用于指导广告投放。<br>对于定制化用户标签中最常用的重定向，需要将访问广告主网站的某特定用户集合传送给 DSP。这个接口也有两种主要的实现方式。<br>（1）直接在广告主的网站上布设 DSP 域名的 JavaScript 代码或者外链图片（也可以是不可见的 beacon），这样 DSP 就可以直接收集到访客的记录，再自行加工分析即可。<br>（2）采用线下数据接口的方式，定期将广告主或者其委托的 DMP 收集到的访客集合批处理式地传送给 DSP。当然，前提是 DSP 与广告主或其 DMP 之间建立起了 cookie 映射的机制。<br>这两种方式各有优缺点：前者能够实时地获取访客信息，但是需要一段时间的数据积累才能覆盖广告主用户集合的大部分，而且在多个 DSP 同时服务于一家广告主时需要加多段跟踪代码，这样会降低页面响应速度；后者虽然可以迅速得到访客集合，并且避免了页面因多组跟踪代码而变得太重，却在数据更新时有一定的延迟，并且对广告主方的技术要求较高。<br>除了获取第一方用户行为数据的接口以外，当需要提供个性化重定向功能时，DSP 还需要向广告主提供用于商品库同步的接口，由于不同广告主的商品库存储和管理区别很大，往往需要多套接口才能满足业务的需要。在实际的个性化重定向技术中，商品库的接口是最为复杂的功能之一。<br>在定制化用户标签中，要特别提到新客推荐这类方法，因为它要同时用到第一方数据和第三方数据，有比较独特的算法建模需求。</p><p><strong>新客推荐建模</strong><br>从这种定向方式的本质，即 t(a, u)的特点出发，并且以优化效果为主要目的，可以以前文讨论的点击率模型为基础，得到新客推荐的一般可行思路。<br>前文讨论的点击率模型的作用是任意给定一组 (a, u, c) 的组合，按照训练好的模型计算其预估的点击率。如果变换一下思路，筛选出一个特定广告主的历史投放数据，并且只使用那些与用户或广告主相关的组合特征 x(a, u)，进而训练下面的模型：</p><p>$$ p(y = 1|x(a, u)) \quad (16.3)$$</p><p>虽然此模型的形式与点击率模型类似，但是其意义已经发生了本质的变化：首先，这里的一条样本应该是一个用户，而不是一次展示；其次，这里的输出信号 y 不再是点击行为，而是标示一个用户是否为广告主用户的二元变量。显然，此模型是一个针对广告主 a，评价某个 u 成为其用户可能性的评估函数。由于此模型评估的是用户的属性，因此与上下文信息 c 无关。<br>对于训练集中每一个用户 u，确定其对应的 y，有两种方法：第一种方法是根据广告主提供的种子用户集，将出现在该种子用户集中的 u 对应的 y 标为 1，否则标为 0；第二种方法是根据广告投放的记录，将点击过该广告主广告一定次数（一般设为 1）以上的用户对应的 y 标为 1，否则标为 0。比较这两种方法，第一种方法需要用到广告主提供的第一方数据，能够高质量且比较精确地圈定目标人群；第二种方法不需要第一方数据，但是靠广告点击收集的种子用户集合往往质量较差，而且量会受到限制，也会有比较严重的冷启动问题。至于新客推荐模型的具体形式和训练方法，与点击率模型有类似的选择。由于新客推荐问题的训练集正比于用户规模而不是展示量规模，因此求解的过程比点击率模型会简单一些，往往不需要用分布式计算方案就可以解决。<br>对任意一个给定的用户 u，上述新客推荐模型给出的是其成为广告主 a 用户的可能性。此可能性是(0, 1)区间的一个概率值，对其设定一个阈值，就可以将用户分成两类，一类我们认为是该广告主的潜在新客，另一类认为不是。这样就得到了该广告主的潜在新客这一标签，显然，这样的标签是一种定制化用户标签。<br>在很多情况下，为特定广告主发现新客，既可以采用这样的新客推荐标签，也可以采用普通的受众定向标签。例如，为给招商银行的信用卡寻找新客，既可以由招商银行提供种子用户，加工其专用的新客推荐标签，也可以简单地选择普通受众定向体系中的“财经/信用卡”这样的人群。显然，由于第一方数据的使用，我们希望新客推荐标签在同样的 reach 水平下，其 CTR 应该高于普通受众定向标签。否则，新客推荐技术就没有价值了。</p><h4 id="16-2-3-点击价值估计"><a href="#16-2-3-点击价值估计" class="headerlink" title="16.2.3　点击价值估计"></a>16.2.3　点击价值估计</h4><p>由于DSP代表的是广告主的利益，往往可以通过在广告主网站布设代码等方式获得转化数据，按CPS/CPA/ROI等转化效果模式与广告主做计费结算。在这种计费模式下，除了要按广告网络那样估计点击率，还需要估计点击价值。我们来看看点击价值估计的问题。</p><p>$$\nu(a, u, c) = h(a, c) \cdot c(a, u) \cdot t(a) \quad (16.5)$$</p><p>如式（16.5）所示，点击价值可以分解为到达率（reach）h、转化率 c 和转化单价 t 这 3 个量的乘积。到达率指的是实际打开广告落地页次数与点击次数的比例，这与广告主网站的页面打开延迟关系最大，与媒体的属性特别是误点情况也有一点关系，因此我们可以认为它与广告主 a 和媒体 c 有关；转化率指的是到达落地页以后，有多少比例产生了广告主定义的转化行为，这主要与用户对广告主产品的兴趣有关，因此是广告主 a 和用户 u 的函数；转化单价在 CPA/CPS 类的广告中，是广告主指定的转化费用，而在 ROI 类广告中，是广告主客单价与分成比例的乘积，因此我们认为转化单价主要与广告主 a 相关。当然，上面的讨论非常近似，实际上 a, u, c 这 3 个变量都对到达率、转化率和转化单价有一定的影响，而式（16.5）只考虑了其主要影响因素。<br>上面的几个量中，到达率与转化单价都不难统计，而转化率的估计是一个比较困难的问题。这首先是因为转化比起点击还要稀疏得多，用机器学习的方法建模存在较大困难；其次，转化的定义和性质与广告的具体业务类型，甚至不同广告主的目标紧密相关。例如，电商广告主会将购买定义为转化，而游戏广告主在开服的需求下会将注册定义为转化，在一般运营状态下会将充值定义为转化。显然，不同类型的转化无法用同一模型来描述，这进一步加剧了数据的稀疏性。<br>特别要注意的是，在没有充足的行业数据支持的情形下，广告产品千万不能贸然将点击价值估计全部交由机器完成。实践中比较可行的办法，基本上都是简单统计与运营经验相结合来估算转化率。不过，当某 DSP 的广告主类型和转化流程相对一致，比如专门服务于游戏客户的 DSP，或者像淘宝这样的平台电商自建的 DSP，那么在转化数据比较充分的前提下，仍然可以采用机器学习建模的方法预测转化率。</p><h4 id="16-2-4-出价策略"><a href="#16-2-4-出价策略" class="headerlink" title="16.2.4 出价策略"></a>16.2.4 出价策略</h4><p>如果 DSP 投放的广告活动没有预算的限制，那么出价策略非常简单：只要按照 eCPM 水平出价，就可以保证在第二高价的情况下每次展示都有利润。但是在有预算约束的情况下，我们显然希望每次展示的利润率尽可能高，而利润率除了需要知道 eCPM，还需要对当前展示的市场价格有所估计，并在全局水平上尽可能将出价集中在那些利润率较高的展示上，这就是 DSP 出价策略的直观理解。</p><h3 id="16-3-供给方平台"><a href="#16-3-供给方平台" class="headerlink" title="16.3 供给方平台"></a>16.3 供给方平台</h3><p>供给方平台是与广告交易平台比较接近的产品，一般会实现私有的 RTB 交易以及网络优化等功能，并且用动态分配的逻辑决定当前展示分配给哪种广告渠道。</p><h4 id="网络优化"><a href="#网络优化" class="headerlink" title="网络优化"></a>网络优化</h4><p>网络优化问题是指 SSP 在接入多个广告网络以后，在线动态决定将广告请求发给哪个广告网络，从而优化整体收入的问题。<br>将网络优化与 16.1.2 节中介绍的询价优化问题做对比可以发现，这两个问题有一些相似之处：前者需要预估若干广告网络在当前(u, c)条件下的 eCPM，而后者则需要预估若干 DSP 在当前(u, c)条件下的 eCPM。当然它们也有很大的不同：首先是在网络优化时，只需要找到 eCPM 最高的广告网络，而在询价优化中，要根据带宽约束在线决定向哪几个 DSP 询价；另外，询价优化中 DSP 的 eCPM 可以根据历史数据比较精细地建模来计算，但是在网络优化中，由于广告网络一般没有向媒体报价的功能，往往只能采用粗略的数据分析和建模手段来估计其 eCPM。<br>概念上说，在网络优化中，估计某个(a, u, c)组合上的 eCPM 时，这里的 a 由具体的一个广告变成了某个广告网络，由于没有了具体的广告信息，因此预测的准确程度也会大打折扣。</p><h2 id="第17章-其他广告相关技术"><a href="#第17章-其他广告相关技术" class="headerlink" title="第17章 其他广告相关技术"></a>第17章 其他广告相关技术</h2><p>前面讨论的所有技术和算法的核心都是为了优化广告效果。不过，前面谈到的广告效果优化思路基本上集中在受众的选择的角度，而在实际的在线广告中，还有一项对广告效果影响巨大的技术，那就是创意优化。创意优化与受众优化性质有所不同，因为创意的改变实际上也改变了广告要表达的诉求。如何在基本的宣传诉求可比的前提下，结合受众定向对创意做调整，这是广告系统不能不考虑的重要问题。<br>广告系统运营中另一个必须考虑的问题是建立一个灵活的实验框架（experimentation framework）。由于各种策略、算法、架构的调整，通过线下评测和模拟都很难完全反映线上的变化，因此，需要有一个线上的实验系统来确定其有效性。线上实验系统的原理很简单，无非是从实际流量中分出一定比例用于实验方案。不过，由于同时测试的方案个数可能比较多，如何在一个框架中进行更多的测试是工程中提高广告系统进化效率的关键。<br>还有两个与广告效果的度量相关的问题需要介绍，一是如何在流量中去除那些恶意的和非主动的流量，这部分我们称为流量保护（traffic protection，TP）。其中去除恶意流量的反作弊问题，由于是一个“道高一尺、魔高一丈”的动态博弈过程，因此并无确定不变的技术和算法，不过也有一些原则和基础方法可以遵循。二是需求方站在自己的利益角度对广告效果的核实性度量，这称为广告监测。这两个问题其实有着相当深入的联系，在今天程序交易和受众定向大量被使用的在线广告市场中，这两个问题在一定程度上可以结合起来考虑，并催生了所谓广告安全的问题和相应技术。<br>受众定向和程序交易广告的另一个重要影响，是用户的行为数据存在在不同的广告产品之间泄露的可能。因此，隐私保护技术与其对立面，即去匿名化技术，从正面或者负面的角度，都与在线广告有着密切的联系。关于隐私保护相关问题及其在广告中的可能应用，也将是本章涉及的内容。</p><h3 id="17-1-创意优化"><a href="#17-1-创意优化" class="headerlink" title="17.1 创意优化"></a>17.1 创意优化</h3><p>创意对于广告效果的影响无疑是巨大的，然而我们不能把调整创意带来的效果等同于受众定向产生的效果。因为随着创意的改变，广告表达的诉求已经发生了变化，其点击行为也就不再与其他创意完全可比。可以通过一个例子来理解这个问题：假如有一个保险类型的广告主，将一个宣传公司品牌和实力的品牌型创意，变成一个用户填写车险申请的表单式创意，如图17-1所示。毫无疑问，后者的点击率会大幅度上升。但是实际上，这两个创意向用户传达的诉求有着相当大的区别：前者的目的是向潜在用户渗透性地宣传品牌的定位，以利于将来长期的用户转化和利润空间；而后者的目的则是短期内的转化效果，但对品牌特质的宣传则有所不足。</p><p><img data-src="/computational-advertising/computational-advertising-72.png" alt="图17-1　品牌型创意（左）和效果型创意（右）"></p><p>因此，一般情况下我们讨论的创意优化指的是在广告的基本诉求保持相对稳定的前提下，如何调整创意以提高效果。</p><h4 id="17-1-1-程序化创意"><a href="#17-1-1-程序化创意" class="headerlink" title="17.1.1 程序化创意"></a>17.1.1 程序化创意</h4><p>创意优化的一个重要原理是第 2 章的广告有效性模型中就介绍过的原则：为了提高用户的关注程度，需要将向用户推送此广告的关键原因在创意中明确表达出来。由于推荐原因众多，这样的创意优化往往需要用程序自动进行，而不是预先做好大量的素材。类比于程序化交易，我们把这类思路称为程序化创意。下面我们就程序化创意的思路给出一些示例性建议。<br>（1）地域型创意。地域定向是根据用户的地域信息投送相应的广告，如果能将明确地域指示性的内容体现在创意上，往往会对效果有非常直接的帮助。例如，如图 17-2 所示，对同样一个汽车广告，对北京和上海地域的受众，分别加上当地经销商的联系电话。显然，对每个城市制作一版独立的素材是不经济的，应该在投放时动态加入与地域相关的信息。</p><p><img data-src="/computational-advertising/computational-advertising-73.png" alt="图17-2　同一汽车广告在北京（左）和上海（右）的地域型创意"></p><p>（2）搜索重定向创意。根据用户的搜索行为提供的重定向图片广告，如果能明确标示搜索词，往往更容易唤起用户的注意力和兴趣。因此，可以采用图17-3所示的创意形式，将用户曾经的搜索词放在图片下方的搜索框中，现在这也需要投放系统在线自动完成。</p><p><img data-src="/computational-advertising/computational-advertising-74.png" alt="图17-3　搜索重定向创意示例"></p><p>（3）个性化重定向创意。这种产品在 7.4.4 节中已经具体介绍过，其中展示的单品都是在线动态决定的（见图 7-8），而创意也是在线合成的，这也是一种程序化的创意。<br>在线广告的服务对象由传统的品牌广告向效果广告发生了倾斜，传统的由设计人员主导的、品牌形象驱动的创意生产模式，也一定会越来越多地加入机器决策的、效果导向的内容。因此，程序化的创意优化模式应该得到足够的重视。</p><h4 id="17-1-2-点击热力图"><a href="#17-1-2-点击热力图" class="headerlink" title="17.1.2 点击热力图"></a>17.1.2 点击热力图</h4><p>在找出创意设计的问题、优化效果等方面，点击热力图是一个非常重要的工具。点击热力图是将某一个创意各位置被点击的密度用热力图的方式呈现出来，帮助创意优化者直观地发现和解决其中的问题。一般来说，创意中的若干主要信息聚焦点应该会比较集中地吸引用户点击。如图 17-4 所示[1]，在创意中人物的眼神发生变化时，用户关注和点击的热点也有很大的区别。显然，在这样的点击热力图指导下，创意的迭代优化可以半定量地进行，并且更加有目的性。<br>[1]　此图是眼球追踪的热点图，不过考虑到其与点击热力图的一致性，我们仍用它来说明问题。</p><p><img data-src="/computational-advertising/computational-advertising-75.png" alt="图17-4　创意中人物的眼神对点击热力图的影响"></p><p>不过，在程序化创意的影响下，点击热力图的使用有一些障碍：因为在线时会对创意的部分内容进行修改，这种情况下叠加在一起的热力图有时无法反映细节问题。不过，对于创意中一些固定元素的优化或动态模块整体的效果评估，热力图还是很有帮助的。</p><h4 id="17-1-3-创意的发展趋势"><a href="#17-1-3-创意的发展趋势" class="headerlink" title="17.1.3 创意的发展趋势"></a>17.1.3 创意的发展趋势</h4><p>随着移动广告原生化的趋势越来越明显，创意的形式也在快速变化之中。总体而言，创意正向着视频化、交互化的方向发展，其目的是为了在创意中承载更多的有效信息，以提升转化率。<br>在视频化的趋势当中，9.4.4 节中介绍的激励视频形式异军突起，是最近几年被广泛接受的创意形式。由于激励的存在，视频创意基本上总是可以被完整地播放，这提高了广告内容的传播效率，当然也就提升了广告效果。不过，视频的创意比较难以根据线上数据进行实时优化。于是，最近又出现了交互式广告又称试玩广告的概念，它是将游戏或应用中的某些片段直接搬到创意上来，让用户不用下载就可以直接交互试玩，可以更加真实地体验实际使用场景。<br>交互式创意有两种技术方案。一种是服务端交互的方案，即在服务器上以虚拟机的方式运行游戏，然后将画面以类似于直播的方式实时传送至用户设备上，同时，将在用户端收集到的交互行为传送给服务器，控制游戏做出相应的反应。这种方案的特点是，比较通用，无需对每个游戏作定制化的开发，缺点是服务器资源消耗巨大，往往是普通广告的上百倍；另外，由于有实时交互的需求，对用户网络环境的要求很高。目前看来，这种服务端交互的模式还处在较早的探索阶段，Google 等公司也都在积极研究。另外一种方案就是下面要介绍的客户端 HTML5 方案。</p><p>CrossInstall<br>CrossInstall 是一家专注于交互式创意的公司，与上文介绍的服务端交互方案不同，CrossInstall 采用的是直接将游戏片断制作成 HTML5 页面、用户在本地直接交互的形式，如图17-5所示。</p><p><img data-src="/computational-advertising/computational-advertising-5.png" alt="图17-5　CrossInstall的交互式创意"></p><p>这种客户端交互的方案至少有以下一些优点。<br>（1）HTML5 加载完成以后，交互即在本地进行，对用户端的网络状况没有特殊要求。<br>（2）由于是用 HTML5 复制游戏内情节，可以在反映原貌的基础上，做一些有利于推广的变化，例如，对于重度游戏，去掉其中一些冗长的情节，或只采用某个典型交互片段。<br>（3）服务成本较低，与普通视频广告类似甚至更低。<br>（4）创意中的参数和设置可以用数据进行优化。<br>不过，这种方式显然也存在一些问题。<br>（1）对每个游戏都需要单独制作交互创意，这是一个比较费时费力的过程。<br>（2）有些比较复杂的场景可能不易用 HTML5 实现。<br>总体而言，在目前阶段，相对于服务端交互方案，这种 HTML5 交互方案是比较实用的技术。CrossInstall 在交易形式上是一家 DSP，在 ADX 中购买全屏尺寸广告位的流量，然后利用 MRAID 协议支持交互式广告。从投放结果来看，这种形式甚至可以达到比激励视频广告更高的转化率。但是，由于这种广告形式用户的沉浸度太强，有一些媒体对其心存顾虑。<br>除了采用交互式的 HTML5 创意，CrossInstall 在实操过程中很重要的一点是，将创意中的参数和设置根据线上的数据反馈进行优化。以图 17-5 右图所示的游戏创意为例，预先放置几排泡泡，可能对试玩用户的转化率有影响，而设计者很难准确判断最优的排数。如果在投放过程中，通过 HTML5 请求带参数的方式划分线上流量，测试不同泡泡排数情形下的转化率，可以达到最优的效果。如果可以调整的不只是泡泡的排数，而是有更多的参数，这就需要一个完善的实验框架了。</p><h3 id="17-2-实验框架"><a href="#17-2-实验框架" class="headerlink" title="17.2 实验框架"></a>17.2 实验框架</h3><p>无论是广告系统调整算法和架构，还是投放时调整创意和定向策略，都需要依赖线上的实际流量测试来确定其真实效果如何。切分部分流量用于测试并非难事，但是一个实用的实验框架需要尽可能多地同时容纳多组实验，以提高流量利用效率和产品进化速度。</p><p>新增书签新增笔记<br>设计这样一个实验系统的关键，是利用系统模块之间的相对独立性，用分层的结构来扩展实验容量。典型的一种分层实验框架的架构，如图 17-6 所示。在这一架构中，不同的实验参数被分置于不同的实验层（layer）中。一般来说，我们可以按模块划分这些实验层，例如，在广告系统中，我们按检索、排序和展现将相应的参数划分成 3 个层，每层都可以将流量切分成不同的测试子集或域。显然，在这种分层结构下，不同层上的实验是可以共享流量的，这样就大大提高了同时进行的实验数目。另外，系统还预留了一个非重叠测试域，目的是方便有时需要进行的联合调整各层参数的一些特殊实验。除了实验层以外，此实验框架还涉及了专门的发布层，用于将实验通过的参数逐渐灰度发布到全流量上。同一个参数只能出现在一个实验层和一个发布层中，而优先级关系是优先采用实验层参数，其次是发布层参数，最后是默认参数。这样一个兼顾流量实验和灰度发布的实验框架，在实践中能够满足大部分情形的需求。</p><p><img data-src="/computational-advertising/computational-advertising-76.png" alt="图17-6　分层实验框架架构示意"></p><p>那么在每一层中，流量是如何随机被分到各个域中的呢？对于广告系统而言，按照每次展示做随机分配是不合适的，这是因为多次广告展示之间的相关性会对测试的结果产生影响。正确的做法是按用户划分，即每个用户的广告展示请求都被固定地发送到同一个域中。这样做的目的是使一个广告策略的高阶或长期影响能够真实地表现出来。<br>一般来说，实验框架并不是一项深奥的技术，但因为与投放引擎、数据处理等环节耦合较短，所以实现起来工程量不小，又加上并没有直接的收益产生，往往容易被忽视。实际上，任何一个产品研发在启动时有最重要的两点，一是定义好可衡量的目标函数，二是建立灵活高效的实验框架以评测各种方案的优劣。有了这两项准备，产品的迭代过程会大大加速。</p><h3 id="17-3-广告监测与归因"><a href="#17-3-广告监测与归因" class="headerlink" title="17.3 广告监测与归因"></a>17.3 广告监测与归因</h3><p>除了采用 CPC 计费模式的广告活动，其他广告活动都存在计费指标为媒体或广告主某一方不可见的情形。因此，需要有独立、公正的第三方对广告展示量或转化效果进行度量，这就产生了广告监测和归因的问题。<br>在 CPM 计费模式下，需求方需要委托某家第三方监测公司对实际发生的展示或点击数目进行核对，以确保自己的利益。不过，监测的主要需求存在于按 CPT 计费模式计费或 CPM 计费模式计费的合约广告中。这是因为，在竞价广告系统中，广告主与媒体之间并没有约定的价格，可以根据后续的效果来调整自己的出价，因此对展示或点击的监测并不是强需求。从这里可以看出，效果监测主要的服务对象是那些品牌广告主，效果检测一般会占有在线品牌广告投放 1% 左右的预算。<br>借助监测代码或者 SDK 实现广告展示或点击的计数并不困难。监测代码是指具有客户端信息收集功能的代码。它的主要工作是将客户端的信息以参数的形式拼凑成 URL，并以 HTTP 请求的方式传给第三方，告知“谁，在什么时候，看到了来自哪个媒体展示的，哪个广告主的广告”。以移动端为例，根据《中华人民共和国广告行业标准》，客户端监测代码的参数有如表 17-1 所示的几种。</p><p>表17-1　移动端广告监测代码参数一览<br>|参数|解释|<br>|—|—|<br>|OS|客户端操作系统的种类：0表示Android，1表示iOS，2表示WP，3表示其他|<br>|IMEI|15位，适用于Android，需要MD5加密|<br>|MAC|用户终端的硬件地址，适用于Android和iOS，字母转换成大写后MD5加密|<br>|AndroidID|适用于Android，需要MD5加密|<br>|IDFA|适用于iOS，保留原始值|<br>|OpenUDID|适用于iOS，保留原始值|</p><p>当广告在客户端产生了曝光时，监测代码就会记录此次曝光，并采集用户信息，其生成的 URL 如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">www.*****.com/imp?CID= ad20&amp;CPID=1321&amp;CRID=20&amp;OS=1&amp;IDFA=70</span><br><span class="line">        E0E6465B7B12C844C63EC681C7507C&amp;OpenUDID=</span><br><span class="line">        F1C7976BC455CB548BFC550EB7687F06&amp;IP=10.26.78.45&amp;UA=iPhone;%20CPU%20</span><br><span class="line">        iPhone%20OS%2061_2%20like%20Mac%20OS%20X)%20AppleWebKit/536.26%20(</span><br><span class="line">        KHTML,%20like%20Gecko&amp;TS=1198628984102</span><br></pre></td></tr></table></figure><p>除第一个参数使用“?”连接外，后面参数都用“&amp;”连接。从这段 URL 中很容易读出几个信息：用户的 IP 地址是 10.26.78.45，使用设备 UA 是 iPhone，IDFA 是 70E0E6465B7B 12C844C63EC681C7507C 等。直接对这个 URL 发起 HTTP 请求，第三方 www.*****.com 就可以根据 URL，解析出广告、媒体和用户的三方信息，在后台形成日志，作为一次正常的广告曝光。在行业中，常说的“监测代码”指的就是这个监测 URL，而非装填 URL 的代码。<br>当广告投放基于受众进行时，监测就要困难得多了。例如，某广告计划要求在男性用户流量上投放 1 000 mille 的展示，那么如何才能确定投放的结果满足这一条件呢？一般采用的方案是“广告监测提供商用采样+付费”的方式收集一个小比例人群上的真实用户属性，然后通过验证这个人群上性别的准确率，来反推整体的投放数据。这一方法看起来十分简单，但由于采样集一般规模不大，在人群分布上与投放人群相比可能存在较大的偏差，因此此方法的关键在于如何对数据进行有效的纠偏。另外，即便采用这样的方案，也只有部分基于人口属性信息的投放是可以验证的，而对于基于兴趣标签的投放，由于对同一个用户并不存在确定的标准答案，这样的监测意义不大。<br>由于实名社交网络的人口属性信息相对比较准确，又有很大的规模，因此现在的趋势是直接采用社交网络的数据作为标准来进行定向广告的监测。例如，尼尔森就与 Facebook 合作，推出了基于 Facebook 人口属性信息的广告监测服务。<br>当然，广告监测与反作弊有着密不可分的联系，所有展示或点击的计量都必须在去除了作弊流量的基础上进行。由于广告监测是代表需求方利益的服务，一般来说其反作弊规则比媒体方或广告平台更加有动力。</p><h4 id="17-3-2-广告安全"><a href="#17-3-2-广告安全" class="headerlink" title="17.3.2 广告安全"></a>17.3.2 广告安全</h4><p>在越来越复杂的广告投放和交易逻辑当中，广告主已经很难像在合约广告中那样非常明确地管理自己的投放媒体了。但是，实践中很多广告主又存在切实的需求，希望自己的广告不要出现在一些特定内容的媒体上。我们在第 2 章中曾经提及，广告预算除了被浪费的那部分，还有一部分是会产生负面效果的，我们显然希望去掉这些有负面影响的展示。例如，汽车广告主不希望自己的广告出现在有关车祸内容的页面上，也不希望出现在一些低级庸俗内容的网站上。这样的需求不是简单的广告可以完成的，而是需要专门的服务来保证广告主的品牌安全，我们称这样的问题为广告安全问题。与广告安全相关的关键技术是广告投放验证（advertising verif ication）和可视性验证（viewability verif ication）。<br>1．广告投放验证<br>广告投放验证的作用是确认品牌的安全性，并保证展示的质量。其工作模式是在广告投放到页面以后，如果发现页面的内容不符合品牌安全的诉求，则停止展示广告主的创意，转而展示一个与品牌无关的创意。与广告监测不同，这里的重点不在于计量效果，而在于阻止不恰当展示的发生。<br>读者可能会疑惑，既然是在不安全的页面上禁投广告，在广告请求到来时直接根据 URL 过滤不就可以了吗？在实际的广告交易中，由于多层 iframe 的嵌套，有时媒体会伪装自己的 URL，以达到流量以次充好的目的。例如，某些高质量媒体会将自己域名的 iframe 嵌套在其他小网站上——冒充自己的流量，从而获得高的溢价。因此，必须要在广告投放时，进行 iframe 穿透，实时判断投放页面的顶层 URL，才能进行广告投放验证。而页面的内容则可以采用第 13 章中的半在线抓取系统来获得。<br>有了一些历史经验以后，也可以采用“投放前”（pre-bid）的验证方案，也就是对那些历史上发现不符合品牌安全策略的URL或广告位直接不参与广告交易，这样可以进一步节约服务成本。<br>2．可视性验证<br>品牌广告主的另一个常见诉求是广告展示的曝光程度。显然，出现在第二屏的广告位比第一屏的广告位曝光程度要差很多。这个问题也属于广告安全的范畴。<br>可视性验证的技术方案一般是判断浏览器是否对广告创意发生了渲染过程，如果没有，那么这次展示实际上不是可视的。解决可视性验证问题，需要对各种浏览器做充分的针对性测试，目前的技术水平已经可以做到对95%以上的浏览器内广告流量进行可视性验证，但是在移动应用内广告中，目前还没有很好的检测办法。<br>可视性验证同样有“投放前”的方案，也就是对那些可视比例很低的广告位直接不参与广告交易。</p><h4 id="17-3-3-广告效果归因"><a href="#17-3-3-广告效果归因" class="headerlink" title="17.3.3 广告效果归因"></a>17.3.3 广告效果归因</h4><p>按 CPA/CPS/ROI 计费模式计费的广告，由于转化行为并不发生在媒体上，往往需要第三方机构对这些效果数据进行公正的跟踪，并且将其与广告的展示和点击数据对应起来，以确定某次转化来自哪个渠道。这称为广告效果的归因。<br>广告效果归因比较成熟的领域包括电商和移动应用下载。另外，有些广告虽然按 CPM 计费模式计费或 CPC 计费模式计费，有时也需要考核后续的效果，这时也需要进行效果归因。效果归因常见的方法有直接访问归因和用户 ID 碰撞归因。<br>1．直接访问归因<br>直接访问归因的原理比较简单：为每一个渠道分配一个独有的渠道 ID，放在落地页的 URL 参数中，当用户在到达落地页以后的同一个会话中完成转化行为，就记到该渠道上。<br>中国的 Android 应用下载采用的是另外一种直接访问归因方法：给每个渠道打不同的 apk 包，直接分别记录各渠道包的下载量。<br>直接访问归因虽然原理上简单明确，却不见得合理：用户点击了广告以后，如果被别的任务打断，没有在当前立即发生转化，后续直接访问广告主页面时产生的转化就无法归因给该渠道，这对于电商这样转化决策周期可能比较长的场景，明显是有失公允的。因此，目前更加通行的归因方法是用户 ID 碰撞归因。</p><p>2．用户 ID 碰撞归因<br>我们以移动应用下载广告效果的归因为例，来看一下用户 ID 碰撞的归因原理。如图 17-7 所示，用户在广告位上看到广告后，有时会点击广告到达广告的落地页（此处为 Apple Store 的应用详情页）；用户进一步下载该应用后，就完成了一个“转化”。其中归因的原理是这样的：当点击产生时，除了跳转到落地页，同时向归因的监测方（一般情况下为第三方产品）发送一个点击链接，同时将用户的 ID 作为参数一并发送过去；当转化发生时，嵌入在广告主应用里的监测方 SDK 会发送一个带用户 ID 的转化链接；将两个过程中的用户 ID 进行匹配，就可以知道某个转化是哪个渠道带来的了。</p><p><img data-src="/computational-advertising/computational-advertising-77.png" alt="图17-7　用户ID碰撞归因原理示意"></p><p>用户 ID 碰撞归因可以自由设置归因周期，例如，规定点击后 3 天以内的下载都归因到点击渠道，或者规定点击后 7 天内的购买都归因到点击渠道。关于归因周期的设置，在不同行业的广告主中有不同的合理范围，需要具体讨论。</p><h3 id="17-4-作弊与反作弊"><a href="#17-4-作弊与反作弊" class="headerlink" title="17.4 作弊与反作弊"></a>17.4 作弊与反作弊</h3><p>由于广告有很多的相关利益方，会有人制造虚假流量，或者用技术手段骗过广告监测与归因，这些行为统称为广告作弊。</p><h4 id="17-4-1-作弊的方法分类"><a href="#17-4-1-作弊的方法分类" class="headerlink" title="17.4.1 作弊的方法分类"></a>17.4.1 作弊的方法分类</h4><p>由于广告活动是广告主、媒体与用户之间三方交互的行为，因此广告中的作弊行为主要来自 3 种主体。<br>（1）媒体作弊。由于大多数广告网络与媒体之间是按照点击的价格来计费的，因此点击作弊是最为常见的，当然也存在为了满足 CPM 订单量的需求而对展示进行作弊的情形。<br>（2）广告平台作弊。广告网络或广告交易市场这样的广告平台也有制造虚假点击以获取更多分成的目的。而 DSP 这样的需求方广告产品，除了混入劣质流量的广告展示、制造虚假点击以外，还会通过一些作弊手段为广告主带来虚假转化，以满足效果考核的要求。<br>（3）广告主竞争对手作弊。某些广告主的竞争对手会通过技术手段大量消耗该广告主的预算，达到降低其广告效果的非正常竞争目的。<br>从作弊的原理来看，可以将作弊分成以下两种类型。<br>（1）虚假流量作弊，也称为 NHT（non-human traffic），指的是广告的展示、点击或转化本身就是伪造出来的。按 CPM/CPC 计费模式计费的广告中，虚假流量是作弊的主流方法。<br>（2）归因作弊，则是将其他渠道的流量或者自然流量记在自己名下。一般来说，CPA/CPS 的广告由于伪造转化的成本较高，多采用归因作弊的思路。<br>从作弊的手段来看，又可以进行以下划分。<br>（1）机器作弊，即作弊的过程是由机器自动完成的。这种作弊手段比较易于规模化，但是往往容易在统计上留下比较明显的反作弊特征。随着人工智能和深度学习技术的发展，机器作弊有可能在模拟真人的行为方面获得重大突破，这会使反作弊的难度大大增加。<br>（2）人工作弊，对于 CPA/CPS 类型的广告，由于转化总量可控，为了追求效果的真实性，真人作弊的方法比较流行。</p><h4 id="17-4-2-常见的作弊方法"><a href="#17-4-2-常见的作弊方法" class="headerlink" title="17.4.2 常见的作弊方法"></a>17.4.2 常见的作弊方法</h4><p>1．服务器刷监测代码<br>直接在浏览器地址里输入 17.3.1 节中提到的广告监测代码，也就在广告主那里记录了一个曝光，这就是刷量的基本原理。写一个爬虫程序，自动装填各种参数，可以自动发起 HTTP 请求，刷监测代码。<br>服务器刷代码的作弊手段，占用了服务器大量带宽不说，虚假流量的涌入也为真实效果的统计提出了严峻的挑战。不过，服务器刷代码的方法还是有漏洞的，只要屏蔽掉各 IDC 机房的 IP 地址就可以解决大部分问题。因此，要实现服务器刷代码作弊，还需要弄到大量 IP 做代理以对抗反作弊。<br>2．客户端刷监测代码<br>服务器刷监测代码虽然简单直接，却在 IP 和 cookie 等用户身份统计上很难做到自然。于是，就产生了直接在客户端刷监测代码的作弊方法。用户访问了一个网页，网页上的 JavaScript 又重复访问了好几次监测代码，这样一来，从用户分布上就很难找出什么漏洞了。<br>不过，这样的作弊也有迹可查，例如，发现某网站广告投放的用户频次大多数都在 8、16、24、32 这些数字上，基本就可以判断每个用户的浏览都又被刷了 7 次。要想自动化找出这样的作弊，可以通过对用户频次分布的曲线做傅里叶变换，找出其中的基频来解决。<br>不论是服务器刷还是客户端刷，在点击位置分布上都会有破绽，上面提到的点击热力图是一个很有用的反作弊工具：正常的用户点击在创意上的位置分布往往呈现与创意关键区域相关的比较自然的分布，而机器产生的用户点击，其分布要么过于均匀，要么过于集中，很容易与自然点击分布相区别。图 17-8 给出了一个广告创意正常的点击热点分布与作弊的点击热点分布的示例。图 17-8 左侧是自然点击的热力图，右侧是有作弊行为的点击热力图。可以看出，除了自然点击区域外，还多了一些集中且均匀的点击分布，这些明显不符合正常用户的行为特征，可以认定为作弊行为。</p><p><img data-src="/computational-advertising/computational-advertising-78.png" alt="图17-8　自然点击热点图（左）与机器作弊点击热点图（右）对比"></p><p>除 cookie、IP 级别的统计以及点击热点图这些思路以外，如果广告系统能在 JavaScript 代码或 SDK 中收集到更多其他的物理信息，如展示时间、点击时间等，也会对于甄别作弊流量很有帮助。一般来说，在收集到比较充足的特征以后，可以建立一个反作弊的判断模型，用以过滤作弊行为。这样的模型需要有一个在线的实时计算版本，为在线计费和其他实时反馈模块做过滤；也需要有一个更加精细的离线版本，用于每天处理广告日志，得到最终确认的财务结算数据。由于反作弊特征和模型是广告系统高度保密的模块，在这里我们就不展开讨论其细节了。</p><p>3．频繁换用户身份<br>单一 IP 或 cookie 在大量展示或点击的作弊方式是最容易去除的，只需要给一定时间段内的展示或点击设定合理的上限，进而发现那些显著超过上限的 IP 或 cookie 并加入黑名单即可。因此，无论采用哪种刷量的手段，一般来说都要比较频繁地变更用户身份，如经常变换 IP、cookie 等。<br>了解了这种作弊方式，对于可以选择流量的 DSP 来说，有些思路可以起到一定的作用：凡是第一次看到的 cookie 或设备号，就干脆不要参与竞价了。<br>4．“肉鸡”和手机 root<br>“肉鸡”是指那些被木马感染、可以被黑客远程控制的机器和设备。透过“肉鸡”控制用户后，可以自动发起浏览和点击行为，这样的虚假流量在统计上比较难以分辨。root 是指操作系统中超级管理员权限，当拿到 root 权限后，就可以在后台执行各种访问、点击和下载操作，这些数据也都与真实数据无异。</p><p>5．流量劫持<br>除了制造虚假展示和点击的作弊行为，在广告市场上还存在通过非法手段获得广告展示或点击的准作弊行为，而其中最典型的就是流量劫持。<br>所谓流量劫持，就是在无权投放广告的地方强行投放，或者改变广告创意甚至落地页的内容。一般来说，只有一些网络底层服务的提供商，如 DNS、CDN 等，才有能力进行这种劫持。<br>我们举几个例子来看一下流量劫持的具体手段。<br>（1）信道弹窗。通过电信运营商对信道的控制能力，在用户上网时强行向下行内容中插入弹窗广告创意。这种形式在 PC 和移动设备上都存在，虽然 CCTV 在 2013 年“3·15”晚会上对这种灰色广告渠道进行了曝光，但是至今仍然广泛存在，并且在移动设备上大有愈演愈烈之势。如图 17-10 所示的“流量球”产品，会在用户浏览网页时自动弹出，以提示用户剩余套餐流量为名，插入其他的一些推广内容。不过，实际上就“电信运营商是否可以在信道上插入自己的内容来影响用户”这个问题上，据我们的了解还没有明确的法规可以遵循，也存在一些不同的声音（例如，运营商通过插入内容降低 P2P 传输的效率以提升正常用户体验，就是一个正面的例子），需要进一步讨论与规范。</p><p><img data-src="/computational-advertising/computational-advertising-79.png" alt="图17-10　手机上的流量劫持示例"></p><p>（2）创意替换。创意替换仍然是通过电信运营商的信道，将某些网站上的广告创意直接替换为其他创意。显然，这是一种比信道弹窗更加粗暴的劫持行为。<br>（3）搜索结果重定向。由于搜索是高商业价值的流量，将搜索流量导向某些搜索引擎可以获得其收入分成，因此存在一种流量劫持手段，当用户在搜索引擎 A 输入某关键词以后，搜索的结果页会变成搜索引擎 B 提供的，或者在淘宝这类电商垂直搜索中，改变结果商品的排序或落地店铺。这虽然不是直接的广告劫持，但本质其实也是一样的。<br>（4）落地页来源劫持。这是最为简单粗暴的一种劫持方式，它并不投放广告，而是在用户访问广告主落地页时，直接在 URL 上加上广告来源代码。例如，当用户访问 http://<em><strong>.</strong></em><em><em><strong>.com/a-hotalfshell1219 这个广告主页面时，将其修改成 http://</strong></em>.</em>******.com/a-hotalfshell1219?utm source=*，这样广告主就会将其统计成某广告渠道带来的访问。<br>在这些流量劫持手段中，前三种主要损害的是媒体利益，而对广告主来说，流量本身则是真实存在的，而第四种就是一种彻底的作弊行为了，损害的是广告主的利益。</p><p>6．cookie 填充<br>cookie 填充方法的英文名称为 cookie stuffing，而“stuffing”的意思就是“填充”。这是针对 CPS 联盟广告的一种常见作弊方式。在 CPS 联盟的机制下，只要给用户打上标识媒体来源的 cookie，如果该用户后面自己去淘宝上产生了购买行为，由于 cookie 的存在，这次自然购买结果就变成了媒体带来的效果。<br>cookie 填充在实现方法上，主要有图片+.htaccess 跳转、1×1 iframe 和 Flash 等，根本原理都是在用户浏览器上静悄悄地对淘宝的推广链接发起 HTTP 请求，在用户不点击广告的情况下打上站长的 cookie。cookie 填充的作弊手段类似于后面要介绍的下载归因，都是将自然结果转变成自己的推广效果，骗取更多的转化付费。</p><p>7．IP 遮盖<br>IP 遮盖（IP cloaking）指的是在广告投放的过程中，屏蔽掉一些 IP 地址，不对其进行广告展示，相当于是作弊者维护的“黑名单”。一般来说，黑名单上主要是广告市场的监管人员 IP，如搜索引擎或者主要广告平台的公司 IP。<br>IP 遮盖并不是一种作弊手法，而是一种辅助手段，甚至是目前作弊者都会使用的一种手段：考虑到养一个广告投放账户成本较高，为了在一次投放中收获更多的利益，作弊者想方设法要延长广告的投放时间。如果这个广告出现在搜索引擎上，那么作弊者就会使用 IP 遮盖，屏蔽掉搜索引擎公司所有的 IP 地址，导致相关监管人员在处理投诉或举报时，难以快速复现用户所投诉的场景，继而拖延审查流程。当搜索引擎的监管人员通过排查广告创意，确定作弊者违规时，作弊者早已获得了足够的利益。</p><p>8．点击滥用与点击注入<br>点击滥用（click spam）和点击注入（click injection）是移动应用下载广告中较为泛滥的两种作弊手段。<br>点击滥用的原理与 17.3.3 节中讲到的用户 ID 碰撞归因密切相关。在移动应用下载广告中，采用用户 ID 碰撞归因时，用户点击广告后一段时间内，产生的下载行为算作广告效果。显然这个规则是有漏洞的：如果对每个用户向监测方发送模拟的点击行为，那么这些用户后续产生的下载就被归因到了渠道头上。显然，这种作弊可以大量劫持广告主的自然下载，而且正因为是自然下载，后续效果一般都相当不错，甚至要优于普通的广告渠道。点击滥用适用于 iOS 系统和有 Google Play 的 Android 系统，但对于非 Google Play 的 Android 应用市场，由于多采用分包的直接归因方法，这种作弊方法不适用。<br>当然，点击滥用在统计上也是比较容易发现的：如果将所有用户都提前标记点击，那么数量就会太庞大，这必然带来转化率的明显下降，会比正常广告的转化率低一到两个数量级。另外，由于点击滥用是等待用户自然下载，因此点击到转化的时间分布会在整个归因周期内呈现出相对均匀的分布，这与正常转化随时间拉长快速下降的分布截然不同。把握住了以上两个关键特征，识别点击滥用的作弊模式并不困难。<br>点击注入是一种适用于 Google Play 市场应用下载广告的作弊方式，其基本原理是这样的：假设有一款应用 A 在 Android 手机上被安装时，系统会向所有的应用发送一条广播消息，这样一来，某应用 B 内嵌的 SDK 就可以马上发起一条针对应用 A 的点击请求，而由于应用 A 的激活往往还要发生在几秒甚至几十秒之后，同样可以起到将此次应用 A 的激活归因在自己渠道的作用。<br>点击注入在统计上同样有迹可循：首先是这样先收到安装消息再发点击的方式，转化率会异常高，不过这一点可以比较容易地通过产生一些无效点击或者与点击滥用相结合来伪装；另外一个特征是，这种方式下点击到激活的时间差会相当短，不过由于目前第三方归因监测商只能得到激活时间，得不到下载时间，用这一特征发现点击注入并不太容易。当然，如果 Google Play 与第三方归因监测商配合，这种作弊方式就非常容易被发现了。</p><h3 id="17-5-产品技术选型实战"><a href="#17-5-产品技术选型实战" class="headerlink" title="17.5 产品技术选型实战"></a>17.5 产品技术选型实战</h3><p>从广告和泛广告变现的角度来看，在互联网市场上主要有3种资产能够变成钱，这3种资产分别是数据、流量和品牌属性。后两项是媒体的专属，而第一项既可能来自媒体，也可能来自第三方的数据拥有者。</p><h4 id="17-5-1-媒体实战"><a href="#17-5-1-媒体实战" class="headerlink" title="17.5.1 媒体实战"></a>17.5.1 媒体实战</h4><p>这里所说的媒体，指的是一切拥有流量的 Web 网站、WAP 网站、HTML5 网站、PC 或移动应用程序等。媒体的变现渠道无非是面向终端用户和面向客户两种，而除广告以外的面向客户的很多形式，如游戏联运、免流量下载等，产品本质与广告是一致的。如果要用广告形式变现，前提是其交互界面可以加入广告位，或者一些内容中可以以原生的方式混入付费内容。除了面向客户的广告变现，媒体还有其他面向用户的变现手段，利用应用直接收费，或者内置订阅或付费等，这些这里不做讨论。<br>在获得收入的同时，一定要特别注意广告产品给用户体验带来的负面影响，这一立场是与广告市场其他参与方不同的。坚持利用高质量的广告变现，有利于媒体长期保持和提升自己的品牌价值，从而在优先销售的广告上获得更高的品牌溢价。不过，对大量中小媒体而言，很难在品牌销售上找到切入点，因此重点关注的是即时的单位流量变现能力，即 RPM。<br>媒体选择合适的广告产品主要要考虑几方面的因素：是综合性媒体还是垂直媒体？媒体的品牌价值如何？媒体的流量是否足够大？媒体是否有高价值的数据？根据这几方面的因素，我们将媒体在进行商业变现时的决策逻辑用图 17-11 来示意。</p><p><img data-src="/computational-advertising/computational-advertising-80.png" alt="图17-11　媒体利用广告变现的决策过程"></p><p>1．变现方式和产品决策<br>在移动互联和广告实效化充分发展的今天，我们建议媒体首先要考虑的变现方式是原生广告。如果你的内容中有内容流、列表等适合做原生广告的形式，或者其他一些可以商业化的内容段落，那么就可以考虑用原生的方式加入付费内容。原生广告的变现产品落地有两种选择。如果流量充分，可以自行运营原生广告平台（如站内的搜索或新闻应用的内容），特别是当你的站内搜索有足够的流量时，在搜索结果中插入原生的付费结果是最需要重视的变现方式。这些做法对广告主的质量、相关程度都可以最好地控制。如果流量不充分，那么合理的方案是与其他原生广告平台或相关行业的搜索广告提供商合作，不过如第 9 章中介绍的，原生广告平台在产品和市场落地方面还处于比较初级的阶段，实际操作难度会比较大。总之，原生广告从趋势来看应该给予很高的重视程度，但对中小媒体而言目前还并不是一个可以规模化变现的市场。<br>如果采用一般广告形式变现，首先要判断的是媒体是否具有比较有价值的品牌属性。如果具有这样的品牌属性，首先应该考虑通过合约的方式售卖品牌广告：在一些强曝光的广告位（如门户首页的特型广告位）上，应该采用按 CPT 计费模式计费的广告位合约，而在其他一些通用的横幅位置上，推荐采用按 CPM 计费模式计费的展示量合约，而且售卖的标的应该是定向以后的人群标签。当然，在今天的中国市场中，后一种也是以 CPT 方式为主，不过我们仍然认为其有向 CPM 定向广告演进的动力。首先考虑合约广告是因为其品牌溢价的能力，这往往使它会比一般的竞价广告有更高的 RPM 水平。同时，一旦建立了品牌广告销售体系，在采用其他竞价广告时就需要特别注意是否会对品牌广告有制度和价格上的冲击。<br>一般来说，为了维持价格水平，媒体的合约广告售卖率不会很高。合约广告未能变现的剩余流量，就需要采用其他竞价广告了。在行业垂直媒体和综合媒体上，竞价广告的策略方式有所不同。如果是汽车、房产、电商这类行业垂直媒体，考虑到用户明确的意图和媒体价值的提升，一般来说只能运营一个行业垂直的广告网络；如果是综合类媒体或者视频、音乐这类非商业行业的垂直媒体，那么可以采用对行业无限制的水平广告网络，在对广告质量高或媒体流量足够大时，可以考虑自建广告网络，否则更便捷的方式是将流量卖给市场上较大的广告网络。<br>除了广告网络，当然还需要考虑新的程序化交易模式。程序化交易主要有两种选择，即公开的交易市场和私有的交易市场。这两种市场的选择逻辑与前面的广告网络类似：当对广告主类型、质量有较高要求时，最好采用私有交易模式，控制好 DSP 的准入门槛和制度，特别是当媒体主要依赖品牌广告时，与品牌售卖政策有冲突的行业性 DSP 要避免接入；而当对广告主质量没有特殊要求时，可以选择公开交易市场。不过，程序化交易其实并非简单的广告网络升级，特别是在私有交易市场中，原有的品牌售卖需求也可以在更高层次上得到满足，并且通过竞价的模式提高收益。因此，拥抱程序化交易，提高品牌售卖的效率，是高质量媒体在当今必须考虑的方向之一。<br>当媒体同时通过销售品牌广告、多个广告网络、程序化交易市场等产品形式进行变现时，可以使用一个统一的 SSP 来分配流量。不过，因为市场上广告网络数量的减少和程序化交易快速发展，所以 SSP 正在变得与 ADX 越来越同质化。<br>2．数据支持方案决策<br>媒体在确定了广告变现的产品形式和交易方式以后，还需要考虑这些产品需要什么样的数据支持，而且这一点从某种意义上更加关键。选择什么样的广告变现方案需要数据支持呢？根据图 17-11 所示，当有 CPM 定向广告、自营广告网络或私有交易存在时，需要考虑这一问题。<br>在按 CPM 售卖的定向展示量合约广告中，媒体需要提供人群的分类体系供广告主来购买，这一点往往需要数据支持，否则就只能提供地域定向了。由于面向品牌广告主，人口属性定向比较重要，因此需要有相关的数据来源，或者在没有直接数据来源时利用行为数据建立人口属性预测的模型。除了人口属性，根据行为的兴趣分类也经常用于 CPM 定向广告。<br>在自营广告网络或私有程序化交易中，提供受众标签的目的是为了让广告主或 DSP 有充分的流量选择能力，从而提高整个市场的流动性。因此，在这两种情形下，媒体也需要获得受众标签的能力。另外，在这两种情形下，由于市场是竞价交易的方式，标签的粒度可以很细，品类上也可以很丰富，其目的都是为了驱动直接效果类广告。<br>获得这些人口属性或兴趣标签，需要一个数据管理和受众定向的平台。如果媒体自身拥有的相关数据比较充分，又有合适的产品技术团队，那么，出于数据安全灵活性和快速迭代的考虑，可以自建受众定向平台支持业务。不过，对于大量的中型以下媒体，要么是没有充足的相关数据，要么不值得投入一个专门的团队，在这种情形下，不妨直接选择第三方的 DMP 产品，将数据委托其加工，同时从 DMP 可以获得更充足的第三方数据加工过的更为精准的受众标签。</p><h4 id="17-5-2-广告主实战"><a href="#17-5-2-广告主实战" class="headerlink" title="17.5.2 广告主实战"></a>17.5.2 广告主实战</h4><p>广告主指的是所有以付费方式推广自己的品牌、产品或内容的组织。<br>广告主对营销方式的选择，主要要考虑几方面的因素：是推广品牌还是直接销售？是否有自己的第一方数据可以用于营销？对新客和老客的营销重点如何？根据这几方面的因素，我们将广告主选择在线广告产品时的决策逻辑用图 17-12 来示意。下面我们来介绍一下这一决策过程中的关键点。<br>影响广告主在线营销推广方案的第一要素是推广的目的。根据品牌和效果这两大类不同的推广目的，应该选择的推广产品和策略也大相径庭，下面我们分别来看一下。</p><p><img data-src="/computational-advertising/computational-advertising-81.png" alt="图17-12　广告主在线营销的决策过程"></p><p>如果推广的目的为直接转化，也就是直接效果广告，那么先根据是否利用广告主自己的第一方数据来做渠道选择。在没有或不用第一方数据的情况下，可选的效果类推广渠道主要有搜索广告、展示广告网络这类按 CPC 计费模式计费的渠道，以及返利网、垂直行业入口这类主要按 CPS 计费模式计费的渠道。展示广告网络用于效果营销时的效果，与搜索广告相比还有不小的差距，因此主要还是作为搜索的辅助渠道，在预算充足、ROI 要求不是很严格的情况下采用。当然，在搜索广告流量不容易获得时，投放网络有助于扩大人群的触及，对总体营销规模的扩大有帮助。当需要高 ROI 的营销渠道时，搜索广告几乎是必不可少的选择，也是效果营销领域最受重视的渠道，不过搜索广告大量关键词选择、管理和出价是非常复杂的优化过程，除了像京东、携程这样的大型广告主，一般都是通过专门的搜索引擎营销公司来投放。不过，搜索广告一般是按 CPC 计费模式计费的，在实际效果优化方面有比较多的工作要做。除了搜索广告，我们要特别建议的是：对于直接效果类推广需求，需要特别重视垂直行业入口渠道。<br>垂直行业入口，指的是用户在本行业相关需求的主要流量来源。例如，对于应用下载行业的应用市场和线下预装渠道、对于手游行业的联运渠道、对于淘内电商的聚划算渠道、对于线下商户的团购渠道等。实际上，这样的垂直行业入口是直接效果类推广非常关键的渠道，也是首要的选择之一，因此我们在图 17-12 中重点标示出来。在返利网也可以达到很高的 ROI 水平，有时甚至还会高于搜索广告，不过由于存在大量广告主老用户经过返利网下单的情形，其实际效果，特别是在获取新客方面的效果并不很理想。<br>如果广告有一些有价值的第一方数据来源，并且有一定的技术实力对其进行加工利用，那么除了上面的搜索广告、展示广告网络等渠道外，还可以考虑利用 DSP 进行精准的定制化人群选择和投放。这里应该选择的 DSP 类型是效果类的、按 CPC 或者 CPS/CPA 计费模式计费的 DSP。在通过 DSP 投放时，对于 CRM 或老客再营销类需求，可以采用重定向的策略；对于新客的拓展和营销，可以采用新客推荐的策略；而对于那些有丰富单品、流量较充足的大型在线服务提供商来说，还可以与 DSP 进行深度的数据和商品库对接，采用个性化重定向的方式在广告渠道商直接展示动态的单品创意。利用第一方数据的精准定向，从效果的角度来看，有时可以做到与搜索引擎相比肩的水平，不过，这样的营销对于广告主来说有一定的技术门槛，因此在中小广告主中并不十分实用。<br>如果营销的目的是品牌推广而非直接转化，那么应该考虑一些以用户接触为主的合约广告产品。我们在第 4 章中介绍过，这类产品有按 CPT 计费模式计费的广告位合约和按 CPM 计费模式计费的展示量合约。如果广告宣传的是“双十一”促销这样的阶段性主题活动，那么一些强曝光位置上的 CPT 广告是重要的选择；如果是一般性的品牌推广，并且结合有特定的人群策略，那么采买受众定向的 CPM 广告比较合理。不过有时，广告主确定的推广策略不一定能为媒体提供的受众标签所表达，在这种情形下，可以通过 DSP 按照自己的人群划分在广告交易平台中投放品牌广告。这种以服务品牌广告为主的 DSP 与前面说的效果类 DSP 有所不同，它一般采用 CPM 计费模式跟广告主计费，并向广告主收取一定比例的服务费用。<br>在当今以产品技术为核心的互联网广告市场中，广告主的营销也不是仅靠媒体采买和价格谈判来完成。对于大中型广告主来说，在上面各种营销产品的使用过程中，有两种情况需要自建相关的技术平台。首先，在使用搜索引擎营销时，需要一个专门的选词、出价及优化 ROI 的产品，尽管产品服务本身可以从市场上购买，但是与广告主自身数据的对接，以及行业相关策略的制定，还是需要大量细致的产品技术工作。实际上，对于大型电商这样的广告主来说，SEM 往往是其内部非常重要的产品。其次，当定制化标签的投放量很大时，广告主可以自建 DSP 来投放广告，相比于采买其他 DSP 的服务，这样做在数据整合、效果优化方面都会有一定的优势，当然，如果不是 DSP 广告量很大，这样做的必要性不大。</p><h4 id="17-5-3-数据提供方实战"><a href="#17-5-3-数据提供方实战" class="headerlink" title="17.5.3 数据提供方实战"></a>17.5.3 数据提供方实战</h4><p>在线广告交易使那些拥有数据但是既不是广告主又不是媒体的组织也可以参与其中。这种数据提供方的例子有很多，例如，手机游戏流量分析产品，可以收集到游戏相关的许多数据；汽车牌照摇号网站，可以收集到近期可能购车的非常精准的人群数据；电信运营商，可以从信道上得到用户的网站访问或搜索行为数据。在谨慎地考虑用户隐私保护以后，这些数据是可以服务于广告投放，从而获得收益的。因此，了解通过广告市场来变现这些数据，对于各种类型的互联网企业都非常有价值。<br>拥有数据，并不等于数据值得变现。在考虑数据变现之前，需要先对数据的价值有一个合理的评估。评估的基本方式是“用户数×平均用户价值”，这里的用户数就是该组织在一段时间内能够收集到数据的用户总量，而平均用户价值就是从单个用户可以获得的广告价值，它主要受 RPM 水平和单个用户被广告有效触及的展示次数这两个因素的影响。其中 RPM 反映了数据的价值密度，而广告触及次数则需要通过扩大媒体接触来实现。<br>如果确认拥有的数据具有商业价值，那么就可以考虑如何变现了。一般来说，对于那些数据量有限、不太值得自行加工的数据拥有者来说，可以委托其他 DMP 加工数据，并将得到的标签通过数据交易平台在广告交易的过程中售卖，对于大量的中小互联网服务提供商来说，这是一个简单易行的数据变现方案。不过，选择通用的 DMP 往往很难发掘出独特的价值，因此，如果拥有大量高价值的数据，那么还需要考虑其他的变现方案。<br>大量数据通过广告市场变现，可以通过直接运营广告产品进行，也可以通过将数据售卖给需求方进行。关于这一点，需要首先根据团队能力、媒体来源与销售计划等诸方面的可行性认真评估。当不具备开发和运营一个完整广告产品的能力时，还是应该采用直接出售数据的方案。成功运营一个广告产品，绝不是简单地搭建一个广告系统就够了，而是需要技术、产品与商业模式上的贯通与执行。<br>要将数据运营广告产品变现，也有两种选择：当拥有的数据集中在某个人群覆盖率有限但价值很高的垂直行业（如汽车、医疗等）时，因为只有一小部分的媒体流量可以被数据所指导，所以选择供给端的产品（如 SSP、ADN、ADX 等）是不合适的，正确的方案是搭建一个 DSP，并且选择那些数据可以覆盖到的流量出价以变现数据；而如果拥有的数据是适用于许多行业的，而且能够覆盖到相当多的人，那么也可以考虑运营一个广告网络来变现数据。广告主营销的决策过程如图 17-13 所示。</p><p><img data-src="/computational-advertising/computational-advertising-82.png" alt="图17-13　广告主营销的决策过程"></p><h2 id="附录-主要术语及缩写索引"><a href="#附录-主要术语及缩写索引" class="headerlink" title="附录 主要术语及缩写索引"></a>附录 主要术语及缩写索引</h2><table><thead><tr><th>缩写</th><th>英文</th><th>中文</th></tr></thead><tbody><tr><td>ADX</td><td>ad exchange</td><td>广告交易平台</td></tr><tr><td></td><td>ad group</td><td>广告组</td></tr><tr><td>ADN</td><td>ad network</td><td>广告网络</td></tr><tr><td></td><td>ad placement</td><td>广告放置</td></tr><tr><td></td><td>ad safety</td><td>广告安全</td></tr><tr><td></td><td>affiliate</td><td>联盟</td></tr><tr><td></td><td>agreement-based advertising</td><td>合约广告</td></tr><tr><td></td><td>auction-based advertising</td><td>竞价广告</td></tr><tr><td></td><td>audience targeting</td><td>受众定向</td></tr><tr><td>ASN</td><td>average show number</td><td></td></tr><tr><td></td><td>banner ad</td><td>横幅广告</td></tr><tr><td>BT</td><td>behavioral targeting</td><td>行为定向</td></tr><tr><td></td><td>bid term</td><td>竞价关键词</td></tr><tr><td></td><td>brand awareness</td><td>品牌广告</td></tr><tr><td></td><td>call out optimization</td><td>询价优化</td></tr><tr><td></td><td>campaign</td><td>广告计划</td></tr><tr><td>CoEC</td><td>click on expected click</td><td></td></tr><tr><td>CoPC</td><td>click on predicted click</td><td></td></tr><tr><td>CTR</td><td>click through rate</td><td>点击率</td></tr><tr><td></td><td>click value</td><td>点击价值</td></tr><tr><td></td><td>content as ad</td><td>内容即广告</td></tr><tr><td>CDN</td><td>content delivery network</td><td>内容分发网络</td></tr><tr><td></td><td>contextual advertising</td><td>上下文广告</td></tr><tr><td></td><td>contextual targeting</td><td>上下文定向</td></tr><tr><td>CVR</td><td>conversion rate</td><td>转化率</td></tr><tr><td>CPA</td><td>cost per action</td><td>按转化付费</td></tr><tr><td>CPC</td><td>cost per click</td><td>按点击付费</td></tr><tr><td>CPM</td><td>cost per mille</td><td>按千次展示付费</td></tr><tr><td>CPS</td><td>cost per sale</td><td>按销售额付费</td></tr><tr><td>CPT</td><td>cost per time</td><td>按时间付费</td></tr><tr><td></td><td>creative</td><td>广告创意</td></tr><tr><td>CRM</td><td>customer relation management</td><td>客户关系管理</td></tr><tr><td></td><td>customized audience segmentation</td><td>定制化用户划分</td></tr><tr><td></td><td>data exchange</td><td>数据交易平台</td></tr><tr><td>DMP</td><td>data management platform</td><td>数据管理平台</td></tr><tr><td></td><td>demand</td><td>需求方</td></tr><tr><td></td><td>demand constraint</td><td>需求约束</td></tr><tr><td>DSP</td><td>demand side platform</td><td>需求方平台</td></tr><tr><td></td><td>demographical targeting</td><td>人口属性定向</td></tr><tr><td></td><td>direct response</td><td>直接效果广告</td></tr><tr><td></td><td>display advertising</td><td>展示广告</td></tr><tr><td></td><td>dynamic allocation</td><td>动态分配</td></tr><tr><td>EDM</td><td>email direct marketing</td><td>邮件营销广告</td></tr><tr><td>EM</td><td>expectation-maximization</td><td>最大期望</td></tr><tr><td>EC</td><td>expected click</td><td>期望点击</td></tr><tr><td>eCPM</td><td>expected cost per mille</td><td>千次展示期望收入</td></tr><tr><td></td><td>experimentation framework</td><td>实验框架</td></tr><tr><td>E&amp;E</td><td>explore and exploit</td><td>探索与利用</td></tr><tr><td></td><td>frequency capping</td><td>频次控制</td></tr><tr><td></td><td>geo-targeting</td><td>地域定向</td></tr><tr><td>GD</td><td>guaranteed delivery</td><td>担保式投送</td></tr><tr><td></td><td>hyper-local targeting</td><td>精确位置定向</td></tr><tr><td>IDFA</td><td>identiﬁer for advertising</td><td>广告专用用户标识符</td></tr><tr><td>IR</td><td>information retrieval</td><td>信息检索</td></tr><tr><td></td><td>integrated marketing</td><td>整合营销</td></tr><tr><td>IMEI</td><td>international mobile equipment identity</td><td>国际移动设备标识</td></tr><tr><td></td><td>inventory</td><td>库存</td></tr><tr><td></td><td>landing page</td><td>落地页</td></tr><tr><td></td><td>look-alike</td><td>新客推荐</td></tr><tr><td></td><td>machine learning</td><td>机器学习</td></tr><tr><td>MRP</td><td>market reserve price</td><td>市场保留价</td></tr><tr><td></td><td>mechanism design</td><td>机制设计</td></tr><tr><td></td><td>media buying platform</td><td>媒介采买平台</td></tr><tr><td></td><td>mobile ad</td><td>移动广告</td></tr><tr><td></td><td>native ad</td><td>原生广告</td></tr><tr><td></td><td>network optimization</td><td>网络优化</td></tr><tr><td>NFP</td><td>north foot print</td><td>北区广告平均条数</td></tr><tr><td></td><td>off-site recommendation</td><td>站外推荐</td></tr><tr><td></td><td>online allocation</td><td>在线分配</td></tr><tr><td>PII</td><td>personal identiﬁable information</td><td>个人可辨识信息</td></tr><tr><td></td><td>personalized recommendation</td><td>个性化推荐</td></tr><tr><td></td><td>personalized retargeting</td><td>个性化重定向</td></tr><tr><td></td><td>position auction</td><td>位置拍卖</td></tr><tr><td>PR</td><td>precision/recall</td><td>准确率/召回率</td></tr><tr><td></td><td>preferred deals</td><td>优选</td></tr><tr><td></td><td>premium sales</td><td>优先销售</td></tr><tr><td></td><td>pricing</td><td>定价</td></tr><tr><td>PMP</td><td>private marketplace</td><td>私有交易市场</td></tr><tr><td></td><td>programmatic trade</td><td>程序化交易</td></tr><tr><td></td><td>query</td><td>查询</td></tr><tr><td></td><td>reach</td><td>到达率</td></tr><tr><td>RTB</td><td>real time bidding</td><td>实时竞价</td></tr><tr><td>ROC</td><td>receive operating characteristic</td><td>接收机操作特性</td></tr><tr><td></td><td>remnant inventory</td><td>剩余流量</td></tr><tr><td></td><td>retargeting</td><td>重定向</td></tr><tr><td>ROI</td><td>return on investment</td><td>投入产出比</td></tr><tr><td>RPM</td><td>revenue per mille</td><td>千次展示收益</td></tr><tr><td></td><td>rich media ad</td><td>富媒体广告</td></tr><tr><td></td><td>search ad</td><td>搜索广告</td></tr><tr><td>SEM</td><td>search engine marketing</td><td>搜索引擎营销</td></tr><tr><td></td><td>search retargeting</td><td>搜索重定向</td></tr><tr><td></td><td>second price</td><td>第二高价</td></tr><tr><td></td><td>site retargeting</td><td>网站重定向</td></tr><tr><td></td><td>social ad</td><td>社交广告</td></tr><tr><td></td><td>sponsored search</td><td>付费搜索</td></tr><tr><td></td><td>supply</td><td>供给方</td></tr><tr><td></td><td>supply constraint</td><td>供给约束</td></tr><tr><td>SSP</td><td>supply side platform</td><td>供给方平台</td></tr><tr><td></td><td>targeted advertising</td><td>定向广告</td></tr><tr><td>TF</td><td>term frequency</td><td>词频</td></tr><tr><td></td><td>textual ad</td><td>文字链广告</td></tr><tr><td></td><td>topic model</td><td>文本主题模型</td></tr><tr><td>TD</td><td>trading desk</td><td>交易终端</td></tr><tr><td></td><td>traffic forecasting</td><td>流量预测</td></tr><tr><td>TP</td><td>traffic protection</td><td>流量保护</td></tr><tr><td></td><td>vertical ad network</td><td>垂直广告网络</td></tr><tr><td>VCG</td><td>vickrey–clarke–groves</td><td></td></tr><tr><td></td><td>video ad</td><td>视频广告</td></tr><tr><td>WA</td><td>web analytics</td><td>网站分析</td></tr></tbody></table>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/250.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="运营" scheme="https://qianling.pw/categories/%E8%BF%90%E8%90%A5/"/>
    
    
    <category term="运营" scheme="https://qianling.pw/tags/%E8%BF%90%E8%90%A5/"/>
    
    <category term="电子商务" scheme="https://qianling.pw/tags/%E7%94%B5%E5%AD%90%E5%95%86%E5%8A%A1/"/>
    
    <category term="电商运营" scheme="https://qianling.pw/tags/%E7%94%B5%E5%95%86%E8%BF%90%E8%90%A5/"/>
    
    <category term="广告" scheme="https://qianling.pw/tags/%E5%B9%BF%E5%91%8A/"/>
    
  </entry>
  
  <entry>
    <title>《深度学习推荐系统》笔记</title>
    <link href="https://qianling.pw/deep-learning-recommender-systems/"/>
    <id>https://qianling.pw/deep-learning-recommender-systems/</id>
    <published>2023-10-16T06:44:21.000Z</published>
    <updated>2023-10-17T06:44:31.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/250.webp"></p><span id="more"></span><hr><p><strong><center>深度学习推荐系统 / 王喆编著. --北京：电子工业出版社，2020.3<br>ISBN 978-7-121-38464-6 </center></strong></p><hr><h1 id="第1章-互联网的增长引擎推荐系统"><a href="#第1章-互联网的增长引擎推荐系统" class="headerlink" title="第1章 互联网的增长引擎推荐系统"></a>第1章 互联网的增长引擎推荐系统</h1><h2 id="1-1-为什么推荐系统是互联网的增长引擎"><a href="#1-1-为什么推荐系统是互联网的增长引擎" class="headerlink" title="1.1 为什么推荐系统是互联网的增长引擎"></a>1.1 为什么推荐系统是互联网的增长引擎</h2><h3 id="1-1-1-推荐系统的作用和意义"><a href="#1-1-1-推荐系统的作用和意义" class="headerlink" title="1.1.1 推荐系统的作用和意义"></a>1.1.1 推荐系统的作用和意义</h3><ul><li>用户角度：推荐系统解决在“信息过载”的情况下，用户如何高效获得感兴趣信息的问题。从用户需求层面看，推荐系统是在用户需求并不明确的情况下过滤信息，因此，与搜索系统（用户会输入明确的“搜索词”）相比，推荐系统更多地利用用户的各类历史信息“猜测”其可能喜欢的内容。</li><li>公司角度：互联网企业的核心需求是“增长”，而推荐系统处在“增长引擎” 的核心位置。推荐系统解决产品能够最大限度地吸引用户、留存用户、增加用户黏性、提高用户转化率的问题，从而达到公司商业目标连续增长。不同业务模式的公司定义的具体推荐系统优化目标不同，例如，视频类公司更注重用户观看时长，电商类公司更注重用户的购买转化率（Conversion Rate，CVR），新闻类公司更注重用户的点击率，等等。</li></ul><h3 id="1-1-2-推荐系统与YouTube的观看时长增长"><a href="#1-1-2-推荐系统与YouTube的观看时长增长" class="headerlink" title="1.1.2 推荐系统与YouTube的观看时长增长"></a>1.1.2 推荐系统与YouTube的观看时长增长</h3><p>推荐系统的“终极”优化目标应包括两个维度：用户体验的优化、满足公司的商业利益。健康的商业模式这两个维度应该统一。<br>YouTube 是全球最大的 UGC（User Generated Content，用户生成内容）视频分享平台，其优化用户体验结果的最直接体现就是用户观看时长的增加。YouTube 作为一家以广告为主要收入来源的公司，其商业利益建立在用户观看时长增长之上，因为总用户观看时长与广告的总曝光机会成正比，只有不断增加广告的曝光量，才能实现公司利润的持续增长。因此，YouTube 的用户体验和公司利益在“观看时长”这一点上达成了一致。<br>正因如此，YouTube 推荐系统的主要优化目标就是观看时长，而非传统推荐系统看重的“点击率”。其大致推荐流程是：构建深度学习模型预测用户观看某候选视频的时长，再按照预测时长进行候选视频的排序，形成最终推荐列表。</p><h2 id="1-2-推荐系统的架构"><a href="#1-2-推荐系统的架构" class="headerlink" title="1.2 推荐系统的架构"></a>1.2 推荐系统的架构</h2><ul><li>“物品信息”：在商品推荐中指的是“商品信息”，在视频推荐中指的是“视频信息”，在新闻推荐中指的是“新闻信息”；</li><li>“用户信息”：为了更可靠地推测出“人”的兴趣点，推荐系统希望利用大量与“人”相关的信息，包括历史行为、人口属性、关系网络等；</li><li>“场景信息”或“上下文信息”：在推荐场景中，用户的最终选择会受时间、地点、用户的状态等环境信息的影响。</li></ul><h3 id="1-2-1-推荐系统的逻辑框架"><a href="#1-2-1-推荐系统的逻辑框架" class="headerlink" title="1.2.1 推荐系统的逻辑框架"></a>1.2.1 推荐系统的逻辑框架</h3><p>在获知“用户信息”、“物品信息”、“场景信息”的基础上，推荐系统要处理的问题可定义为：对用户 U（user），在特定场景 C（context）下，针对海量的“物品”信息，构建函数 f（U,I,C），预测用户对特定候选物品（item）的喜好程度，再根据喜好程度对所有候选物品排序，生成推荐列表的问题。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-3.jpg" alt="图1-3 推荐系统逻辑框架"></p><h3 id="1-2-2-推荐系统的技术架构"><a href="#1-2-2-推荐系统的技术架构" class="headerlink" title="1.2.2 推荐系统的技术架构"></a>1.2.2 推荐系统的技术架构</h3><p>在图1-3 的基础上，工程师需要着重解决的问题有两类。<br>（1）数据和信息相关的问题，即“用户信息”“物品信息”“场景信息”分别是什么？如何存储、更新和处理？<br>（2）推荐系统算法和模型相关的问题，即推荐模型如何训练、如何预测、如何达成更好的推荐效果？<br>可以将这两类问题分为两个部分：“数据和信息”部分逐渐发展为推荐系统中融合了数据离线批处理、实时流处理的数据流框架；“算法和模型”部分则进一步细化为推荐系统中集训练（training）、评估（evaluation）、部署（deployment）、线上推断（online inference）为一体的模型框架。具体地讲，推荐系统的技术架构示意图如图1-4 所示。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-4.jpg" alt="图1-4 推荐系统的技术架构示意图"></p><h3 id="1-2-3-推荐系统的数据部分"><a href="#1-2-3-推荐系统的数据部分" class="headerlink" title="1.2.3 推荐系统的数据部分"></a>1.2.3 推荐系统的数据部分</h3><p>负责数据收集与处理的三种平台在实时性由强到弱递减的同时，三种平台的海量数据处理能力则由弱到强。<br>在得到原始的数据信息后，推荐系统的数据处理系统会将原始数据进一步加工，加工后的数据出口有三：<br>（1）生成推荐模型所需的样本数据，用于算法模型的训练和评估；<br>（2）生成推荐模型服务（model serving）所需的“特征”，用于推荐系统的线上推断；<br>（3）生成系统监控、商业智能（Business Intelligence，BI）系统所需的统计型数据。</p><h3 id="1-2-4-推荐系统的模型部分"><a href="#1-2-4-推荐系统的模型部分" class="headerlink" title="1.2.4 推荐系统的模型部分"></a>1.2.4 推荐系统的模型部分</h3><p>“召回层”一般利用高效的召回规则、算法或简单的模型，快速从海量的候选集中召回用户可能感兴趣的物品。<br>“排序层”利用排序模型对初筛的候选集精排序。<br>“补充策略与算法层”，也被称为“再排序层”，在将推荐列表返回用户之前，为兼顾结果的“多样性”“流行度”“新鲜度”等指标，结合补充策略和算法调整推荐列表。</p><p>从推荐模型接收到所有候选物品集到最后产生推荐列表前，需要通过模型训练（model training）确定模型结构、结构中不同参数权重的具体数值，以及模型相关算法和策略中的参数取值。模型的训练方法又可以根据模型训练环境的不同，分为“离线训练”和“在线更新”两部分，其中：离线训练的特点是可以利用全量样本和特征，使模型逼近全局最优点；在线更新则可以准实时地“消化”新的数据样本，更快地反映新的数据变化趋势，满足模型实时性的需求。<br>除此之外，为了评估推荐模型的效果，方便模型的迭代优化，推荐系统的模型部分提供了“离线评估”和“线上 A/B 测试”等评估模块，用得出的线下和线上评估指标，指导下一步的模型迭代优化。<br>模型部分，特别是“排序层”模型是推荐系统产生效果的重点。</p><h3 id="1-2-5-深度学习对推荐系统的革命性贡献"><a href="#1-2-5-深度学习对推荐系统的革命性贡献" class="headerlink" title="1.2.5 深度学习对推荐系统的革命性贡献"></a>1.2.5 深度学习对推荐系统的革命性贡献</h3><p>与传统的推荐模型相比，深度学习模型对数据模式的拟合能力和对特征组合的挖掘能力更强。深度学习模型结构的灵活性，使其能够根据不同推荐场景调整模型，使之与特定业务数据“完美”契合。<br>深度学习对海量训练数据及数据实时性的要求，也对推荐系统的数据流部分提出挑战。</p><h1 id="第2章-前深度学习时代——推荐系统的进化之路"><a href="#第2章-前深度学习时代——推荐系统的进化之路" class="headerlink" title="第2章 前深度学习时代——推荐系统的进化之路"></a>第2章 前深度学习时代——推荐系统的进化之路</h1><h2 id="2-1-传统推荐模型的演化关系图"><a href="#2-1-传统推荐模型的演化关系图" class="headerlink" title="2.1 传统推荐模型的演化关系图"></a>2.1 传统推荐模型的演化关系图</h2><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-5.jpg" alt="图2-1 传统推荐模型的演化关系图"></p><p>蓝色部分：协同过滤算法族</p><h2 id="2-2-协同过滤——经典的推荐算法"><a href="#2-2-协同过滤——经典的推荐算法" class="headerlink" title="2.2 协同过滤——经典的推荐算法"></a>2.2 协同过滤——经典的推荐算法</h2><h3 id="2-2-1-什么是协同过滤"><a href="#2-2-1-什么是协同过滤" class="headerlink" title="2.2.1 什么是协同过滤"></a>2.2.1 什么是协同过滤</h3><p>“协同过滤”就是协同大家的反馈、评价和意见过滤海量的信息，从中筛选出目标用户可能感兴趣的信息。这里用一个商品推荐的例子来说明协同过滤的推荐过程（如图2-2所示）。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-6.jpg" alt="图2-2 协同过滤的推荐过程"><br>图 2-2 描述了电商网站场景下的协同过滤推荐过程，其推荐过程按照图 2-2（a）～（f）的顺序共分为 6 步。<br>（1）电商网站的商品库里一共有 4 件商品：游戏机、某小说、某杂志和某品牌电视机。<br>（2）用户 X 访问该电商网站，电商网站的推荐系统需要决定是否推荐电视机给用户 X。换言之，推荐系统需要预测用户 X 是否喜欢该品牌的电视机。为了进行这项预测，可以利用的数据有用户 X 对其他商品的历史评价数据，以及其他用户对这些商品的历史评价数据。图 2-2（b）中用绿色“点赞”标志表示用户对商品的好评，用红色“踩”的标志表示差评。可以看到，用户、商品和评价记录构成了带有标识的有向图。<br>（3）为便于计算，将有向图转换成矩阵的形式（被称为“共现矩阵”），用户作为矩阵行坐标，商品作为列坐标，将“点赞”和“踩”的用户行为数据转换为矩阵中相应的元素值。这里将“点赞”的值设为 1，将“踩”的值设为 -1，“没有数据”置为 0（如果用户对商品有具体的评分，那么共现矩阵中的元素值可以取具体的评分值，没有数据时的默认评分也可以取评分的均值）。<br>（4）生成共现矩阵之后，推荐问题就转换成了预测矩阵中问号元素（图 2-2（d）所示）的值的问题。既然是“协同”过滤，用户理应考虑与自己兴趣相似的用户的意见。因此，预测的第一步就是找到与用户 X 兴趣最相似的 n（Top n 用户，这里的 n 是一个超参数）个用户，然后综合相似用户对“电视机”的评价，得出用户 X 对“电视机”评价的预测。（超参数是在机器学习算法中需要手动设置的参数，它们不是通过训练数据学习得到的，而是在算法运行之前设置的。超参数的选择通常基于经验、试验和交叉验证等方法确定）<br>（5）从共现矩阵中可知，用户 B 和用户 C 由于跟用户 X 的行向量近似，被选为 Top n（这里假设 n 取 2）相似用户，由图 2-2（e）可知，用户 B 和用户 C 对“电视机”的评价都是负面的。<br>（6）相似用户对“电视机”的评价是负面的，因此可预测用户 X 对“电视机”的评价也是负面的。在实际的推荐过程中，推荐系统不会向用户 X 推荐“电视机”这一物品。<br>以上描述了协同过滤的算法流程，其中关于“用户相似度计算”及“最终结果的排序”过程是不严谨的，下面重点描述这两步的形式化定义。</p><h3 id="2-2-2-用户相似度计算"><a href="#2-2-2-用户相似度计算" class="headerlink" title="2.2.2 用户相似度计算"></a>2.2.2 用户相似度计算</h3><p>在协同过滤的过程中，用户相似度的计算是算法中最关键的一步。<br>共现矩阵中的行向量代表相应用户的用户向量。那么，计算用户i和用户j的相似度问题，就是计算用户向量i和用户向量j之间的相似度，两个向量之间常用的相似度计算方法有如下几种。<br>（1）余弦相似度，如（式 2-1）所示。余弦相似度（Cosine Similarity）衡量了用户向量 i 和用户向量 j 之间的向量夹角大小。显然，夹角越小，证明余弦相似度越大，两个用户越相似。<br>$$\text{sim}(i, j) = \text{cos}(i, j) = \frac{i \cdot j}{|i| \cdot |j|}<br>$$</p><p>（2）皮尔逊相关系数，如（式 2-2）所示。相比余弦相似度，皮尔逊相关系数通过使用用户平均分对各独立评分进行修正，减小了用户评分偏置的影响。<br>$$\text{sim}(i, j) = \frac{\sum_{p\in P} (R_{i,p} - \bar{R_i})(R_{j,p} - \bar{R_j})}{\sqrt{\sum_{p\in P} (R_{i,p} - \bar{R_i})^2} \sqrt{\sum_{p\in P} (R_{j,p} - \bar{R_j})^2}}$$<br>其中，$R_{i,p}$ 代表用户 $i$ 对物品 $p$ 的评分。$\bar{R_i}$ 代表用户 $i$ 对所有物品的平均评分，$P$ 代表所有物品的集合。</p><p>皮尔逊相关系数公式实际上就是在计算夹角余弦之前将两个向量减去各个样本的平均值，达到中心化的目的。是余弦相似度在维度缺失上的一种改进方法。</p><p>（3）基于皮尔逊系数的思路，还可以通过引入物品平均分的方式，减少物品评分偏置对结果的影响，如（式2-3）所示。<br>$$\text{sim}(i, j) = \frac{\sum_{p\in P} (R_{i,p} - \bar{R_p})(R_{j,p} - \bar{R_p})}{\sqrt{\sum_{p\in P} (R_{i,p} - \bar{R_p})^2} \sqrt{\sum_{p\in P} (R_{j,p} - \bar{R_p})^2}}$$<br>其中，$\bar{R_i}$ 代表物品 $p$ 得到所有评分的平均分。</p><p>在相似用户的计算过程中，任何合理的“向量相似度定义方式”都可以作为相似用户计算的标准。通过对相似度定义的改进来解决传统的协同过滤算法存在的缺陷。</p><h3 id="2-2-3-最终结果的排序"><a href="#2-2-3-最终结果的排序" class="headerlink" title="2.2.3 最终结果的排序"></a>2.2.3 最终结果的排序</h3><p>在获得 Top n 相似用户之后，利用 Top n 用户生成最终推荐结果的过程如下。假设“目标用户与其相似用户的喜好是相似的”，可根据相似用户的已有评价对目标用户的偏好进行预测。最常用的方式是利用用户相似度和相似用户的评价的加权平均获得目标用户的评价预测，如（式 2-4）所示。<br>$$R_{u,p} = \frac{\sum_{s\in S}(w_{u,s}\cdot R_{s,p})}{\sum_{s \in S} w_{u,s}}$$<br>其中，权重 $w_{u,s}$ 是用户 $u$ 和用户 $s$ 的相似度，$R_{s,p}$ 是用户 $s$ 对物品 $p$ 的评分。<br>在获得用户 $u$ 对不同物品的评价预测后，最终的推荐列表根据预测得分进行排序即可得到。至此，完成协同过滤的全部推荐过程。</p><p>协同过滤算法基于用户相似度进行推荐，因此也被称为基于用户的协同过滤（UserCF），它符合人们直觉上的“兴趣相似的朋友喜欢的物品，我也喜欢”的思想，但从技术的角度，它也存在一些缺点，主要包括以下两点。<br>（1）在互联网应用的场景下，用户数往往远大于物品数，而 UserCF 需要维护用户相似度矩阵以便快速找出 Top n 相似用户。该用户相似度矩阵的存储开销非常大，而且随着业务的发展，用户数的增长会导致用户相似度矩阵的空间复杂度以 n2 的速度快速增长，这是在线存储系统难以承受的扩展速度。<br>（2）用户的历史数据向量往往非常稀疏，对于只有几次购买或者点击行为的用户来说，找到相似用户的准确度是非常低的，这导致 UserCF 不适用于那些正反馈获取较困难的应用场景（如酒店预定、大件商品购买等低频应用）。</p><h3 id="2-2-4-ItemCF"><a href="#2-2-4-ItemCF" class="headerlink" title="2.2.4 ItemCF"></a>2.2.4 ItemCF</h3><p>由于 UserCF 技术上的两点缺陷，无论是 Amazon，还是 Netflix，都没有采用 UserCF 算法，而采用了 ItemCF 算法实现其最初的推荐系统。<br>ItemCF 是基于物品相似度进行推荐的协同过滤算法。通过计算共现矩阵中物品列向量的相似度得到物品之间的相似矩阵，再找到用户的历史正反馈物品的相似物品进行进一步排序和推荐，具体步骤如下：<br>（1）基于历史数据，构建以用户（假设用户总数为 m）为行坐标，物品（物品总数为 n）为列坐标的 m×n 维的共现矩阵；<br>（2）计算共现矩阵两两列向量间的相似性（相似度的计算方式与用户相似度的计算方式相同），构建 n×n 维的物品相似度矩阵；<br>（3）获得用户历史行为数据中的正反馈物品列表；<br>（4）利用物品相似度矩阵，针对目标用户历史行为中的正反馈物品，找出相似的 Top k 个物品，组成相似物品集合；<br>（5）对相似物品集合中的物品，利用相似度分值进行排序，生成最终的推荐列表。<br>在第 5 步中，如果一个物品与多个用户行为历史中的正反馈物品相似，那么该物品最终的相似度应该是多个相似度的累加，如（式 2-5）所示。<br>$$R_{u,p} = {\sum_{h \in H} (W_{p,h} \cdot R_{u,h})}$$<br>其中，$H$ 是目标用户的正反馈物品集合，$w_{p,h}$ 是物品 $p$ 与物品 $h$ 的物品相似度，$R_{u,h}$ 是用户 $u$ 对物品 $h$ 的已有评分。</p><h3 id="2-2-5-UserCF与ItemCF的应用场景"><a href="#2-2-5-UserCF与ItemCF的应用场景" class="headerlink" title="2.2.5 UserCF与ItemCF的应用场景"></a>2.2.5 UserCF与ItemCF的应用场景</h3><p>由于 UserCF 基于用户相似度进行推荐，使其具备更强的社交特性，用户能够快速得知与自己兴趣相似的人最近喜欢的是什么，即使某个兴趣点以前不在自己的兴趣范围内，也有可能通过“朋友”的动态快速更新自己的推荐列表。这样的特点使其非常适用于新闻推荐场景。因为新闻本身的兴趣点往往是分散的，相比用户对不同新闻的兴趣偏好，新闻的及时性、热点性往往是其更重要的属性，而 UserCF 正适用于发现热点，以及跟踪热点的趋势。<br>ItemCF 更适用于兴趣变化较为稳定的应用，比如在 Amazon 的电商场景中，用户在一个时间段内更倾向于寻找一类商品，这时利用物品相似度为其推荐相关物品是契合用户动机的。在 Netflix 的视频推荐场景中，用户观看电影、电视剧的兴趣点往往比较稳定，因此利用 ItemCF 推荐风格、类型相似的视频是更合理的选择。</p><h3 id="2-2-6-协同过滤的下一步发展"><a href="#2-2-6-协同过滤的下一步发展" class="headerlink" title="2.2.6 协同过滤的下一步发展"></a>2.2.6 协同过滤的下一步发展</h3><p>协同过滤是一个非常直观、可解释性很强的模型，但它并不具备较强的泛化能力，换句话说，协同过滤无法将两个物品相似这一信息推广到其他物品的相似性计算上。这就导致了问题——热门的物品具有很强的头部效应，容易跟大量物品产生相似性；而尾部的物品由于特征向量稀疏，很少与其他物品产生相似性，导致很少被推荐。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-7.jpg" alt="图2-3 从物品向量到相似度矩阵"></p><p>通过物品相似度矩阵可知，A、B、C 之间的相似度均为 0，而与 A、B、C 最相似的物品均为物品 D，因此在以 ItemCF 为基础构建的推荐系统中，物品 D 将被推荐给所有对 A、B、C 有过正反馈的用户。<br>但事实上，物品 D 与 A、B、C 相似的原因仅在于物品 D 是一件热门商品，系统无法找出 A、B、C 之间相似性的主要原因是其特征向量非常稀疏，缺乏相似性计算的直接数据。这一现象揭示了协同过滤的天然缺陷——推荐结果的头部效应较明显，处理稀疏向量的能力弱。<br>为解决上述问题，同时增加模型的泛化能力，矩阵分解技术被提出。该方法在协同过滤共现矩阵的基础上，使用更稠密的隐向量表示用户和物品，挖掘用户和物品的隐含兴趣和隐含特征，在一定程度上弥补了协同过滤模型处理稀疏矩阵能力不足的问题。<br>另外，协同过滤仅利用用户和物品的交互信息，无法有效地引入用户年龄、性别、商品描述、商品分类、当前时间等一系列用户特征、物品特征和上下文特征，这无疑造成了有效信息的遗漏。为了在推荐模型中引入这些特征，推荐系统逐渐发展到以逻辑回归模型为核心的、能够综合不同类型特征的机器学习模型的道路上。</p><h2 id="2-3-矩阵分解算法——协同过滤的进化"><a href="#2-3-矩阵分解算法——协同过滤的进化" class="headerlink" title="2.3 矩阵分解算法——协同过滤的进化"></a>2.3 矩阵分解算法——协同过滤的进化</h2><p>矩阵分解在协同过滤算法中“共现矩阵”的基础上，加入了隐向量的概念，加强了模型处理稀疏矩阵的能力。</p><p>Netflix 是美国最大的流媒体公司，其推荐系统的主要应用场景是利用用户的行为历史为用户推荐。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-8.jpg" alt="图2-4 协同过滤和矩阵分解在视频推荐场景下的算法原理"><br>如图2-4 （a）所示，协同过滤算法找到用户可能喜欢的视频的方式很直接，即基于用户的观看历史，找到跟目标用户 Joe 看过同样视频的相似用户，然后找到这些相似用户喜欢看的其他视频，推荐给目标用户 Joe。<br>矩阵分解算法则期望为每一个用户和视频生成一个隐向量，将用户和视频定位到隐向量的表示空间上（如图 2-4（b）所示），距离相近的用户和视频表明兴趣特点接近，在推荐过程中，就应该把距离相近的视频推荐给目标用户。例如，如果希望为图 2-4（b）中的用户 Dave 推荐视频，可以发现离 Dave 的用户向量最近的两个视频向量分别是“Ocean’s 11”和“The Lion King”，那么可以根据向量距离由近到远的顺序生成 Dave 的推荐列表。</p><h3 id="基础知识——什么是过拟合现象和正则化"><a href="#基础知识——什么是过拟合现象和正则化" class="headerlink" title="基础知识——什么是过拟合现象和正则化"></a>基础知识——什么是过拟合现象和正则化</h3><p>正则化对应的英文是 Regularization，直译过来是“规则化”，即希望让训练出的模型更“规则”、更稳定，避免预测出一些不稳定的“离奇”结果。<br>举例来说，图 2-6 中蓝色的点是样本点，红色的曲线是通过某模型学习出的拟合函数 $f_{red}(x)$，红色曲线虽然很好地拟合了所有样本点，但波动的幅度非常大，很难想象真实世界的数据模式是红色曲线的样子，这就是直观上的“过拟合现象”。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-9.jpg" alt="图2-6 过拟合现象的例子"><br>为了让模型更“稳重”，需要给模型加入一些限制，这些限制就是正则化项。在加入正则化项之后再次进行训练，拟合函数变成了绿色曲线的形式，避免受个别“噪声点”的影响，模型的预测输出更加稳定。</p><p>在矩阵分解算法中，由于隐向量的存在，使任意的用户和物品之间都可以得到预测分值。而隐向量的生成过程其实是对共现矩阵进行全局拟合的过程，因此隐向量其实是利用全局信息生成的，有更强的泛化能力；而对协同过滤来说，如果两个用户没有相同的历史行为，两个物品没有相同的人购买，那么这两个用户和两个物品的相似度都将为 0（因为协同过滤只能利用用户和物品自己的信息进行相似度计算，这就使协同过滤不具备泛化利用全局信息的能力）。</p><h3 id="2-3-3-消除用户和物品打分的偏差"><a href="#2-3-3-消除用户和物品打分的偏差" class="headerlink" title="2.3.3 消除用户和物品打分的偏差"></a>2.3.3 消除用户和物品打分的偏差</h3><p>由于不同用户的打分体系不同（比如在5分为满分的情况下，有的用户认为打 3 分已经是很低的分数了，而有的用户认为打 1 分才是比较差的评价），不同物品的衡量标准也有所区别（比如电子产品的平均分和日用品的平均分差异有可能比较大），为了消除用户和物品打分的偏差（Bias），常用的做法是在矩阵分解时加入用户和物品的偏差向量。</p><h3 id="2-3-4-矩阵分解的优点和局限性"><a href="#2-3-4-矩阵分解的优点和局限性" class="headerlink" title="2.3.4 矩阵分解的优点和局限性"></a>2.3.4 矩阵分解的优点和局限性</h3><p>优点：<br>（1）泛化能力强。在一定程度上解决了数据稀疏问题。<br>（2）空间复杂度低。不需再存储协同过滤模型服务阶段所需的“庞大”的用户相似性或物品相似性矩阵，只需存储用户和物品隐向量。空间复杂度由 n^2 级别降低到 (n+m)·k 级别。<br>（3）更好的扩展性和灵活性。矩阵分解的最终产出是用户和物品隐向量，这其实与深度学习中的 Embedding 思想不谋而合，因此矩阵分解的结果也非常便于与其他特征进行组合和拼接，并便于与深度学习网络进行无缝结合。</p><p>局限性：与协同过滤一样，矩阵分解同样不方便加入用户、物品和上下文相关的特征，这使得矩阵分解丧失了利用很多有效信息的机会，同时在缺乏用户历史行为时，无法有效推荐。为了解决这个问题，逻辑回归模型及其后续发展出的因子分解机等模型，凭借其天然的融合不同特征的能力，逐渐在推荐系统领域得到更广泛的应用。</p><h2 id="2-4-逻辑回归——融合多种特征的推荐模型"><a href="#2-4-逻辑回归——融合多种特征的推荐模型" class="headerlink" title="2.4 逻辑回归——融合多种特征的推荐模型"></a>2.4 逻辑回归——融合多种特征的推荐模型</h2><p>相比协同过滤模型仅利用用户与物品的相互行为信息进行推荐，逻辑回归模型能够综合利用用户、物品、上下文等多种不同的特征，生成较为“全面”的推荐结果。另外，逻辑回归的另一种表现形式“感知机”作为神经网络中最基础的单一神经元，是深度学习的基础性结构。<br>相比协同过滤和矩阵分解利用用户和物品的“相似度”进行推荐，逻辑回归将推荐问题看成一个分类问题，通过预测正样本的概率对物品进行排序。这里的正样本可以是用户“点击”了某商品，也可以是用户“观看”了某视频，均是推荐系统希望用户产生的“正反馈”行为。因此，逻辑回归模型将推荐问题转换成了一个点击率（Click Through Rate，CTR）预估问题。</p><h3 id="2-4-1-基于逻辑回归模型的推荐流程"><a href="#2-4-1-基于逻辑回归模型的推荐流程" class="headerlink" title="2.4.1 基于逻辑回归模型的推荐流程"></a>2.4.1 基于逻辑回归模型的推荐流程</h3><p>基于逻辑回归的推荐过程如下：<br>（1）将用户年龄、性别、物品属性、物品描述、当前时间、当前地点等特征转换成数值型特征向量；<br>（2）确定逻辑回归模型的优化目标（以优化“点击率”为例），利用已有样本数据对逻辑回归模型进行训练，确定逻辑回归模型的内部参数；<br>（3）在模型服务阶段，将特征向量输入逻辑回归模型，经过逻辑回归模型的推断，得到用户“点击”（这里用点击作为推荐系统正反馈行为的例子）物品的概率；<br>（4）利用“点击”概率对所有候选物品进行排序，得到推荐列表；</p><h3 id="基础知识——什么是梯度下降法"><a href="#基础知识——什么是梯度下降法" class="headerlink" title="基础知识——什么是梯度下降法"></a>基础知识——什么是梯度下降法</h3><p>梯度下降法是一个一阶最优化算法，也称为最速下降法。应用梯度下降法的目的是找到一个函数的局部极小值。为此，必须沿函数上当前点对应梯度（或者是近似梯度）的反方向进行规定步长距离的迭代搜索。如果向梯度正方向迭代进行搜索，则会接近函数的局部极大值点，这个过程被称为梯度上升法。<br>如图 2-9 所示，梯度下降法很像寻找一个盆地最低点的过程。那么，在寻找最低点的过程中，沿哪个方向才是下降最快的方向呢？<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-10.jpg" alt="图2-9 梯度下降法的形象化表示"><br>这就利用了“梯度”的性质：如果实值函数 $F(x)$ 在点 $x_0$ 处可微且有定义，那么函数 $F(x)$ 在点 $x_0$ 处沿着梯度相反的方向$-∇F(x)$ 下降最快。<br>因此，在优化某模型的目标函数时，只需对目标函数进行求导，得到梯度的方向，沿梯度的反方向下降，并迭代此过程直至寻找到局部最小点。</p><h2 id="2-5-从FM到FFM——自动特征交叉的解决方案"><a href="#2-5-从FM到FFM——自动特征交叉的解决方案" class="headerlink" title="2.5 从FM到FFM——自动特征交叉的解决方案"></a>2.5 从FM到FFM——自动特征交叉的解决方案</h2><p>逻辑回归模型表达能力不强的问题，会不可避免地造成有效信息的损失。在仅利用单一特征而非交叉特征进行判断的情况下，有时不仅是信息损失的问题，甚至会得出错误的结论。著名的“辛普森悖论”用一个非常简单的例子，说明了进行多维度特征交叉的重要性。</p><h3 id="基础知识——什么是辛普森悖论"><a href="#基础知识——什么是辛普森悖论" class="headerlink" title="基础知识——什么是辛普森悖论"></a>基础知识——什么是辛普森悖论</h3><p>在对样本集合进行分组研究时，在分组比较中都占优势的一方，在总评中有时反而是失势的一方，这种有悖常理的现象，被称为“辛普森悖论”。下面用一个视频推荐的例子进一步说明什么是“辛普森悖论”。<br>假设表 2-1 和表 2-2 所示为某视频应用中男性用户和女性用户点击视频的数据。</p><p>表2-1 男性用户<br>|   视频   | 点击（次） | 曝光（次） | 点击率 |<br>| :——: | :——-: | :——-: | :—-: |<br>|  视频A   |     8     |    530    | 1.51%  |<br>|  视频B   |    51     |   1520    | 3.36%  |</p><p>表2-2 女性用户<br>|   视频   | 点击（次） | 曝光（次） | 点击率  |<br>| :——: | :——-: | :——-: | :—–: |<br>|  视频A   |    201    |   2510    |  8.01%  |<br>|  视频B   |    92     |   1010    |  9.11%  |</p><p>从以上数据中可以看出，无论男性用户还是女性用户，对视频 B 的点击率都高于视频 A，显然推荐系统应该优先考虑向用户推荐视频 B。<br>那么，如果忽略性别这个维度，将数据汇总（如表 2-3 所示）会得出什么结论呢？</p><p>表2-3 数据汇总<br>|   视频   | 点击（次） | 总曝光（次） | 点击率  |<br>| :——: | :——-: | :———: | :—–: |<br>|  视频A   |    209    |    3040     |  6.88%  |<br>|  视频B   |    143    |    2530     |  5.65%  |</p><p>在汇总结果中，视频 A 的点击率居然比视频 B 高。如果据此进行推荐，将得出与之前的结果完全相反的结论，这就是所谓的“辛普森悖论”。<br>在“辛普森悖论”的例子中，分组实验相当于使用“性别”+“视频 id”的组合特征计算点击率，而汇总实验则使用“视频 id”这一单一特征计算点击率。汇总实验对高维特征进行了合并，损失了大量的有效信息，因此无法正确刻画数据模式。<br>逻辑回归只对单一特征做简单加权，不具备进行特征交叉生成高维组合特征的能力，因此表达能力很弱，甚至可能得出像“辛普森悖论”那样的错误结论。因此，通过改造逻辑回归模型，使其具备特征交叉的能力是必要和迫切的。</p><h3 id="基础知识——什么是one-hot编码"><a href="#基础知识——什么是one-hot编码" class="headerlink" title="基础知识——什么是one-hot编码"></a>基础知识——什么是one-hot编码</h3><p>one-hot 编码是将类别型特征转换成向量的一种编码方式。由于类别型特征不具备数值化意义，如果不进行 one-hot 编码，无法将其直接作为特征向量的一个维度使用。<br>举例来说，某样本有三个特征，分别是星期、性别和城市，用[Weekday=Tuesday，Gender=Male，City=London] 表示。由于模型的输入特征向量仅可以是数值型特征向量，无法把“Tuesday”这个字符串直接输入模型，需要将其数值化，最常用的方法就是将特征做 one-hot 编码。编码的结果如图 2-10 所示。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-11.jpg" alt="图2-10 one-hot编码特征向量"><br>可以看到，Weekday 这个特征域有 7 个维度，Tuesday 对应第 2 个维度，所以把对应维度置为 1。Gender 分为 Male 和 Female，one-hot 编码就有两个维度，City 特征域同理。<br>虽然 one-hot 编码方式可以将类别型特征转变成数值型特征向量，但是会不可避免地造成特征向量中存在大量数值为 0 的特征维度。这在互联网这种海量用户场景下尤为明显。假设某应用有 1 亿用户，那么将用户 id 进行 one-hot 编码后，将造成 1 亿维特征向量中仅有 1 维是非零的。这是造成互联网模型的输入特征向量稀疏的主要原因。</p><h1 id="第3章-浪潮之巅——深度学习在推荐系统中的应用"><a href="#第3章-浪潮之巅——深度学习在推荐系统中的应用" class="headerlink" title="第3章 浪潮之巅——深度学习在推荐系统中的应用"></a>第3章 浪潮之巅——深度学习在推荐系统中的应用</h1><p>在进入深度学习时代之后，推荐模型主要在以下两方面取得了重大进展。<br>（1）与传统的机器学习模型相比，深度学习模型的表达能力更强，能够挖掘出更多数据中潜藏的模式。<br>（2）深度学习的模型结构非常灵活，能够根据业务场景和数据特点，灵活调整模型结构，使模型与应用场景完美契合。</p><h2 id="3-2-AutoRec——单隐层神经网络推荐模型"><a href="#3-2-AutoRec——单隐层神经网络推荐模型" class="headerlink" title="3.2 AutoRec——单隐层神经网络推荐模型"></a>3.2 AutoRec——单隐层神经网络推荐模型</h2><p>AutoRec 模型是一个标准的自编码器，它的基本原理是利用协同过滤中的共现矩阵，完成物品向量或者用户向量的自编码。再利用自编码的结果得到用户对物品的预估评分，进而进行推荐排序。</p><h3 id="基础知识——什么是自编码器"><a href="#基础知识——什么是自编码器" class="headerlink" title="基础知识——什么是自编码器"></a>基础知识——什么是自编码器</h3><p>自编码器是指能够完成数据“自编码”的模型。无论是图像、音频，还是数据，都可以转换成向量的形式进行表达。假设其数据向量为 r，自编码器的作用是将向量 r 作为输入，通过自编码器后，得到的输出向量尽量接近其本身。<br>在完成自编码器的训练后，就相当于在重建函数中存储了所有数据向量的“精华”。一般来说，重建函数的参数数量远小于输入向量的维度数量，因此自编码器相当于完成了数据压缩和降维的工作。<br>经过自编码器生成的输出向量，由于经过了自编码器的“泛化”过程，不会完全等同于输入向量，也因此具备了一定的缺失维度的预测能力，这也是自编码器能用于推荐系统的原因。</p><h3 id="基础知识——什么是神经元、神经网络和梯度反向传播"><a href="#基础知识——什么是神经元、神经网络和梯度反向传播" class="headerlink" title="基础知识——什么是神经元、神经网络和梯度反向传播"></a>基础知识——什么是神经元、神经网络和梯度反向传播</h3><p>神经元（Neuron），又名感知机（Perceptron），在模型结构上与逻辑回归一致，这里以一个二维输入向量的例子对其进行进一步的解释。假设模型的输入向量是一个二维特征向量（x1， x2），则单神经元的模型结构如图 3-3 所示。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-12.jpg" alt="图3-3 单神经元的模型结构"></p><p>其中，蓝圈内的部分可以看作线性的加权求和，再加上一个常数偏置 b 的操作，最终得到输入如下。<br>$$(x_1 \cdot w_1)+(x_2 \cdot w_2)+b$$<br>图中的蓝圈可以看作激活函数，它的主要作用是把一个无界输入映射到一个规范的、有界的值域上。常用的激活函数除了 2.4 节介绍的 sigmoid 函数，还包括 tanh、ReLU 等。单神经元由于受到简单结构的限制，拟合能力不强，因此在解决复杂问题时，经常会用多神经元组成一个网络，使之具备拟合任意复杂函数的能力，这就是我们常说的神经网络。图 3-4 展示了一个由输入层、两神经元隐层和单神经元输出层组成的简单神经网络。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-13.jpg" alt="图3-4 简单神经网络"><br>其中，蓝色神经元的构造与上面所述的感知机的构造相同， h1 和 h2 神经元的输入是由 x1 和 x2 组成的特征向量，而神经元 o1 的输入则是由 h1 和 h2 输出组成的输入向量。本例是最简单的神经网络，在深度学习的发展历程中，正是研究人员对神经元不同连接方式的探索，才衍生出各种不同特性的深度学习网络，让深度学习模型的家族树枝繁叶茂。</p><p>在清楚了神经网络的模型结构之后，重要的问题就是如何训练一个神经网络。这里需要用到神经网络的重要训练方法——前向传播（Forward Propagation）和反向传播。前向传播的目的是在当前网络参数的基础上得到模型对输入的预估值，也就是常说的模型推断过程。在得到预估值之后，就可以利用损失函数（Loss Function）的定义计算模型的损失。对输出层神经元来说（图中的 o1），可以直接利用梯度下降法计算神经元相关权重（即图 3-5 中的权重 w5 和 w6）的梯度，从而进行权重更新，但对隐层神经元的相关参数（比如 w1），应该如何利用输出层的损失进行梯度下降呢？<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-14.jpg" alt="图3-5 神经网络结构及其权重示意图"><br>利用求导过程中的链式法则（Chain Rule），可以解决梯度反向传播的问题。如（式 3-4）所示，最终的损失函数到权重 w1 的梯度是由损失函数到神经元 h1 输出的偏导，以及神经元 h1 输出到权重 w1 的偏导相乘而来的。也就是说，最终的梯度逐层传导回来，“指导”权重 w1 的更新。</p><h2 id="3-3-Deep-Crossing模型——经典的深度学习架构"><a href="#3-3-Deep-Crossing模型——经典的深度学习架构" class="headerlink" title="3.3 Deep Crossing模型——经典的深度学习架构"></a>3.3 Deep Crossing模型——经典的深度学习架构</h2><p>Deep Crossing 模型的应用场景是微软搜索引擎 Bing 中的搜索广告推荐场景。用户在搜索引擎中输入搜索词之后，搜索引擎除了会返回相关结果，还会返回与搜索词相关的广告，这也是大多数搜索引擎的主要赢利模式。尽可能地增加搜索广告的点击率，准确地预测广告点击率，并以此作为广告排序的指标之一，是 Deep Crossing 模型的优化目标。<br>微软使用的特征如表3-1所示，这些特征可以分为三类：一类是可以被处理成one-hot或者multi-hot向量的类别型特征，包括用户搜索词（query）、广告关键词（keyword）、广告标题（title）、落地页（landing page）、匹配类型（match type）；一类是数值型特征，微软称其为计数型（counting）特征，包括点击率、预估点击率（click prediction）；一类是需要进一步处理的特征，包括广告计划（campaign）、曝光样例（impression）、点击样例（click）等。严格地说，这些都不是独立的特征，而是一个特征的组别，需要进一步处理。例如，可以将广告计划中的预算（budget）作为数值型特征，而广告计划的id则可以作为类别型特征。</p><p>表3-1 Deep Crossing模型使用的特征<br>|特征|特征含义|<br>|—|—|<br>|搜索词|用户在搜索框中输人的搜索词|<br>|广告关键词|广告主为广告添加的描述其产品的关键词|<br>|广告标题|广告标题|<br>|落地页|点击广告后的落地页面|<br>|匹配类型|广告主选择的广告-搜索词匹配类型（包括精准匹配、短语匹配、语义匹配等）|<br>|点击率|广告的历史点击率|<br>|预估点击率|另一个CTR模型的CTR预估值|<br>|广告计划|广告主创建的广告投放计划，包括预算、定向条件等|<br>|曝光样例|一个广告“曝光”的例子，该例子记录了广告在实际曝光场景中的相关信息|<br>|点击样例|一个广告“点击”的例子，该例子记录了广告在实际点击场景中的相关信息|</p><h2 id="3-6-Wide＆Deep模型——记忆能力和泛化能力的综合"><a href="#3-6-Wide＆Deep模型——记忆能力和泛化能力的综合" class="headerlink" title="3.6 Wide＆Deep模型——记忆能力和泛化能力的综合"></a>3.6 Wide＆Deep模型——记忆能力和泛化能力的综合</h2><p>“记忆能力”可以被理解为模型直接学习并利用历史数据中物品或者特征的“共现频率”的能力。一般来说，协同过滤、逻辑回归等简单模型有较强的“记忆能力”。由于这类模型的结构简单，原始数据往往可以直接影响推荐结果，产生类似于“如果点击过 A，就推荐 B”这类规则式的推荐，这就相当于模型直接记住了历史数据的分布特点，并利用这些记忆进行推荐。<br>因为 Wide＆Deep 是由谷歌应用商店（Google Play）推荐团队提出的，所以这里以 App 推荐的场景为例，解释什么是模型的“记忆能力”。<br>假设在 Google Play 推荐模型的训练过程中，设置如下组合特征：AND （user_installed_app=netflix，impression_app=pandora）（简称 netflix＆pandora），它代表用户已经安装了 netflix 这款应用，而且曾在应用商店中看到过 pandora 这款应用。如果以“最终是否安装 pandora”为数据标签（label），则可以轻而易举地统计出 netflix＆pandora 这个特征和安装 pandora 这个标签之间的共现频率。假设二者的共现频率高达 10%（全局的平均应用安装率为 1%），这个特征如此之强，以至于在设计模型时，希望模型一发现有这个特征，就推荐 pandora 这款应用（就像一个深刻的记忆点一样印在脑海里），这就是所谓的模型的“记忆能力”。像逻辑回归这类简单模型，如果发现这样的“强特征”，则其相应的权重就会在模型训练过程中被调整得非常大，这样就实现了对这个特征的直接记忆。相反，对于多层神经网络来说，特征会被多层处理，不断与其他特征进行交叉，因此模型对这个强特征的记忆反而没有简单模型深刻。<br>“泛化能力”可以被理解为模型传递特征的相关性，以及发掘稀疏甚至从未出现过的稀有特征与最终标签相关性的能力。矩阵分解比协同过滤的泛化能力强，因为矩阵分解引入了隐向量这样的结构，使得数据稀少的用户或者物品也能生成隐向量，从而获得有数据支撑的推荐得分，这就是非常典型的将全局数据传递到稀疏物品上，从而提高泛化能力的例子。再比如，深度神经网络通过特征的多次自动组合，可以深度发掘数据中潜在的模式，即使是非常稀疏的特征向量输入，也能得到较稳定平滑的推荐概率，这就是简单模型所缺乏的“泛化能力”。</p><h3 id="3-6-3-Wide＆Deep模型的进化——Deep＆Cross模型"><a href="#3-6-3-Wide＆Deep模型的进化——Deep＆Cross模型" class="headerlink" title="3.6.3 Wide＆Deep模型的进化——Deep＆Cross模型"></a>3.6.3 Wide＆Deep模型的进化——Deep＆Cross模型</h3><p>由多层交叉层组成的 Cross 网络在 Wide＆Deep 模型中 Wide 部分的基础上进行特征的自动化交叉，避免了更多基于业务理解的人工特征组合。</p><h2 id="3-8-注意力机制在推荐模型中的应用"><a href="#3-8-注意力机制在推荐模型中的应用" class="headerlink" title="3.8 注意力机制在推荐模型中的应用"></a>3.8 注意力机制在推荐模型中的应用</h2><p>“注意力机制”来源于人类最自然的选择性注意的习惯。最典型的例子是用户在浏览网页时，会选择性地注意页面的特定区域，忽视其他区域。图 3-22 是谷歌搜索引擎对大量用户进行眼球追踪实验后得出的页面注意力热度图。可以看出，用户对页面不同区域的注意力分布的区别非常大。正是基于这样的现象，在建模过程中考虑注意力机制对预测结果的影响，往往会取得不错的收益。<br>近年来，注意力机制广泛应用于深度学习的各个领域，无论是在自然语言处理、语音识别还是计算机视觉领域，注意力模型都取得了巨大的成功。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-15.jpg" alt="图3-22 谷歌搜索引擎的页面注意力热度图"></p><h3 id="3-8-1-AFM——引入注意力机制的FM"><a href="#3-8-1-AFM——引入注意力机制的FM" class="headerlink" title="3.8.1 AFM——引入注意力机制的FM"></a>3.8.1 AFM——引入注意力机制的FM</h3><p>在 NFM 模型中，不同域的特征 Embedding 向量经过特征交叉池化层的交叉，将各交叉特征向量进行“加和”，输入最后由多层神经网络组成的输出层。问题的关键在于加和池化（Sum Pooling）操作，它相当于“一视同仁”地对待所有交叉特征，不考虑不同特征对结果的影响程度，消解了大量有价值的信息。<br>这里“注意力机制”就派上了用场，它基于假设——不同的交叉特征对于结果的影响程度不同，以更直观的业务场景为例，用户对不同交叉特征的关注程度应是不同的。举例来说，如果应用场景是预测一位男性用户是否购买一款键盘的可能性，那么“性别=男且购买历史包含鼠标”这一交叉特征，很可能比“性别=男且用户年龄 = 30”这一交叉特征更重要，模型投入了更多的“注意力”在前面的特征上。正因如此，将注意力机制与 NFM 模型结合就显得理所应当了。<br>AFM 模型引入注意力机制是通过在特征交叉层和最终的输出层之间加入注意力网络（Attention Net）实现的。注意力网络的作用是为每一个交叉特征提供权重，也就是注意力得分。</p><h3 id="3-8-3-注意力机制对推荐系统的启发"><a href="#3-8-3-注意力机制对推荐系统的启发" class="headerlink" title="3.8.3 注意力机制对推荐系统的启发"></a>3.8.3 注意力机制对推荐系统的启发</h3><p>注意力机制在数学形式上只是将过去的平均操作或加和操作换成了加权和或者加权平均操作。“注意力得分”的引入反映了人类天生的“注意力机制”特点。对这一机制的模拟，使得推荐系统更加接近用户真实的思考过程，从而达到提升推荐效果的目的。<br>从“注意力机制”开始，越来越多对深度学习模型结构的改进是基于对用户行为的深刻观察而得出的。相比学术界更加关注理论上的创新，业界的推荐工程师更需要基于对业务的理解推进推荐模型的演化。</p><h2 id="3-9-DIEN——序列模型与推荐系统的结合"><a href="#3-9-DIEN——序列模型与推荐系统的结合" class="headerlink" title="3.9 DIEN——序列模型与推荐系统的结合"></a>3.9 DIEN——序列模型与推荐系统的结合</h2><h3 id="3-9-1-DIEN的“进化”动机"><a href="#3-9-1-DIEN的“进化”动机" class="headerlink" title="3.9.1 DIEN的“进化”动机"></a>3.9.1 DIEN的“进化”动机</h3><p>无论是电商购买行为，还是视频网站的观看行为，或是新闻应用的阅读行为，特定用户的历史行为都是一个随时间排序的序列。既然是时间相关的序列，就一定存在或深或浅的前后依赖关系，这样的序列信息对于推荐过程无疑是有价值的。但本章之前介绍的所有模型，有没有利用到这层序列信息呢？答案是否定的。即使是引入了注意力机制的 AFM 或 DIN 模型，也仅是对不同行为的重要性进行打分，这样的得分是时间无关的，是序列无关的。<br>那么，为什么说序列信息对推荐来说是有价值的呢？一个典型的电商用户的行为现象可以说明这一点。对于一个综合电商来说，用户兴趣的迁移其实非常快，例如，上周一位用户在挑选一双篮球鞋，这位用户上周的行为序列都会集中在篮球鞋这个品类的商品上，但在他完成购买后，本周他的购物兴趣可能变成买一个机械键盘。序列信息的重要性在于：<br>（1）它加强了最近行为对下次行为预测的影响。在这个例子中，用户近期购买机械键盘的概率会明显高于再买一双篮球鞋或购买其他商品的概率。<br>（2）序列模型能够学习到购买趋势的信息。在这个例子中，序列模型能够在一定程度上建立“篮球鞋”到“机械键盘”的转移概率。如果这个转移概率在全局统计意义上是足够高的，那么在用户购买篮球鞋时，推荐机械键盘也会成为一个不错的选项。直观上，二者的用户群体很有可能是一致的。<br>如果放弃序列信息，则模型学习时间和趋势这类信息的能力就不会那么强，推荐模型就仍然是基于用户所有购买历史的综合推荐，而不是针对“下一次购买”推荐。</p><p>兴趣进化网络分为三层，从下至上依次是：<br>（1）行为序列层（Behavior Layer，浅绿色部分）：其主要作用是把原始的 id 类行为序列转换成 Embedding 行为序列。<br>（2）兴趣抽取层（Interest Extractor Layer，米黄色部分）：其主要作用是通过模拟用户兴趣迁移过程，抽取用户兴趣。<br>（3）兴趣进化层（Interest Evolving Layer，浅红色部分）：其主要作用是通过在兴趣抽取层基础上加入注意力机制，模拟与当前目标广告相关的兴趣进化过程。<br>在兴趣进化网络中，行为序列层的结构与普通的 Embedding 层是一致的，模拟用户兴趣进化的关键在于“兴趣抽取层”和“兴趣进化层”。</p><h2 id="3-10-强化学习与推荐系统的结合"><a href="#3-10-强化学习与推荐系统的结合" class="headerlink" title="3.10 强化学习与推荐系统的结合"></a>3.10 强化学习与推荐系统的结合</h2><p>强化学习（Reinforcement Learning）是近年来机器学习领域非常热门的研究话题，它的研究起源于机器人领域，针对智能体（Agent）在不断变化的环境（Environment）中决策和学习的过程进行建模。在智能体的学习过程中，会完成收集外部反馈（Reward），改变自身状态（State），再根据自身状态对下一步的行动（Action）进行决策，在行动之后持续收集反馈的循环，简称“行动-反馈-状态更新”的循环。<br>“智能体”的概念非常容易让人联想到机器人，整个强化学习的过程可以放到机器人学习人类动作的场景下理解。如果把推荐系统也当作一个智能体，把整个推荐系统学习更新的过程当作智能体“行动-反馈-状态更新”的循环，就能理解将强化学习的诸多理念应用于推荐系统领域并不是一件困难的事情。</p><h3 id="3-10-1-深度强化学习推荐系统框架"><a href="#3-10-1-深度强化学习推荐系统框架" class="headerlink" title="3.10.1 深度强化学习推荐系统框架"></a>3.10.1 深度强化学习推荐系统框架</h3><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-16.jpg" alt="图3-26 深度强化学习推荐系统框架"></p><p>智能体：推荐系统本身，它包括基于深度学习的推荐模型、探索（explore）策略，以及相关的数据存储（memory）。<br>环境：由新闻网站或App、用户组成的整个推荐系统外部环境。在环境中，用户接收推荐的结果并做出相应反馈。<br>行动：对一个新闻推荐系统来说，“行动”指的就是推荐系统进行新闻排序后推送给用户的动作。<br>反馈：用户收到推荐结果后，进行正向的或负向的反馈。例如，点击行为被认为是一个典型的正反馈，曝光未点击则是负反馈的信号。此外，用户的活跃程度，用户打开应用的间隔时间也被认为是有价值的反馈信号。<br>状态：状态指的是对环境及自身当前所处具体情况的刻画。在新闻推荐场景中，状态可以被看作已收到所有行动和反馈，以及用户和新闻的所有相关信息的特征向量表示。站在传统机器学习的角度，“状态”可以被看作已收到的、可用于训练的所有数据的集合。<br>在这样的强化学习框架下，模型的学习过程可以不断地迭代，迭代过程主要有如下几步：<br>（1）初始化推荐系统（智能体）。<br>（2）推荐系统基于当前已收集的数据（状态）进行新闻排序（行动），并推送到网站或App（环境）中。<br>（3）用户收到推荐列表，点击或者忽略（反馈）某推荐结果。<br>（4）推荐系统收到反馈，更新当前状态或通过模型训练更新模型。<br>（5）重复第2步。<br>强化学习相比传统深度模型的优势就在于强化学习模型能够进行“在线学习”，不断利用新学到的知识更新自己，及时做出调整和反馈。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-17.jpg" alt="图3-28 DRN的学习过程"><br>按照从左至右的时间顺序，依次描绘 DRN 学习过程中的重要步骤。<br>（1）在离线部分，根据历史数据训练好 DQN 模型，作为智能体的初始化模型。<br>（2）在 t1→t2 阶段，利用初始化模型进行一段时间的推送（push）服务，积累反馈（feedback）数据。<br>（3）在 t2 时间点，利用 t1→t2 阶段积累的用户点击数据，进行模型微更新（minor update）。<br>（4）在 t4 时间点，利用 t1→t4 阶段的用户点击数据及用户活跃度数据进行模型的主更新（major update）。<br>（5）重复第 2～4 步。</p><h1 id="第4章-Embedding技术在推荐系统中的应用"><a href="#第4章-Embedding技术在推荐系统中的应用" class="headerlink" title="第4章 Embedding技术在推荐系统中的应用"></a>第4章 Embedding技术在推荐系统中的应用</h1><p>Embedding，中文直译为“嵌入”，常被翻译为“向量化”或者“向量映射”，Embedding 技术的应用非常广泛，将其称为深度学习的“基础核心操作”也不为过。它的主要作用是将稀疏向量转换成稠密向量，便于上层深度神经网络处理。</p><h2 id="4-1-什么是Embedding"><a href="#4-1-什么是Embedding" class="headerlink" title="4.1 什么是Embedding"></a>4.1 什么是Embedding</h2><p>Embedding 就是用一个低维稠密的向量“表示”一个对象（object），这里所说的对象可以是一个词、一个商品，也可以是一部电影。“表示”意味着 Embedding 向量能够表达相应对象的某些特征，同时向量之间的距离反映了对象之间的相似性。</p><h3 id="4-1-1-词向量的例子"><a href="#4-1-1-词向量的例子" class="headerlink" title="4.1.1 词向量的例子"></a>4.1.1 词向量的例子</h3><p>Embedding 方法的流行始于自然语言处理领域对于词向量生成问题的研究。这里以词向量为例进一步解释 Embedding 的含义。<br>图 4-1（a）所示为使用 Word2 vec 方法编码的几个单词（带有性别特征）的 Embedding 向量在 Embedding 空间内的位置，可以看出从 Embedding（king）到 Embedding（queen），从 Embedding（man）到 Embedding（woman）的距离向量几乎一致，这表明词 Embedding 向量之间的运算甚至能够包含词之间的语义关系信息。同样，图 4-1（b）所示的词性例子中也反映出词向量的这一特点，Embedding （walking）到 Embedding（walked）和 Embedding（swimming）到 Embedding（swam）的距离向量一致，这表明 walking-walked 和 swimming-swam 的词性关系是一致的。<br>在有大量语料输入的前提下，Embedding 技术甚至可以挖掘出一些通用知识，如图 4-1（c）所示，Embedding（Madrid）-Embedding（Spain）≈Embedding（Beijing）-Embedding（China），这表明 Embedding 之间的运算操作可以挖掘出“首都-国家”这类通用的关系知识。<br>通过上面的例子可以知道，在词向量空间内，甚至在完全不知道一个词的向量的情况下，仅靠语义关系加词向量运算就可以推断出这个词的词向量。Embedding 就是这样从另外一个空间表达物品，同时揭示物品之间的潜在关系的，某种意义上讲，Embedding 方法甚至具备了本体论哲学层面上的意义。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-18.jpg" alt="图4-1 词向量举例"></p><h3 id="4-1-2-Embedding技术在其他领域的扩展"><a href="#4-1-2-Embedding技术在其他领域的扩展" class="headerlink" title="4.1.2 Embedding技术在其他领域的扩展"></a>4.1.2 Embedding技术在其他领域的扩展</h3><p>既然 Embedding 能够对“词”进行向量化，那么其他应用领域的物品也可以通过某种方式生成其向量化表示。<br>例如，如果对电影进行 Embedding，那么 Embedding（复仇者联盟）和 Embedding（钢铁侠）在 Embedding 向量空间内两点之间的距离就应该很近，而 Embedding（复仇者联盟）和 Embedding（乱世佳人）的距离会相对远。<br>同理，如果在电商领域对商品进行 Embedding，那么 Embedding（键盘）和 Embedding（鼠标）的向量距离应该比较近，而 Embedding（键盘）和 Embedding（帽子）的距离会相对远。<br>与词向量使用大量文本语料进行训练不同，不同领域的训练样本肯定是不同的，比如视频推荐往往使用用户的观看序列进行电影的 Embedding 化，而电商平台则会使用用户的购买历史作为训练样本。</p><h3 id="4-1-3-Embedding技术对于深度学习推荐系统的重要性"><a href="#4-1-3-Embedding技术对于深度学习推荐系统的重要性" class="headerlink" title="4.1.3 Embedding技术对于深度学习推荐系统的重要性"></a>4.1.3 Embedding技术对于深度学习推荐系统的重要性</h3><p>Embedding 对物品、用户相似度的计算是常用的推荐系统召回层技术。在局部敏感哈希（Locality-Sensitive Hashing）等快速最近邻搜索技术应用于推荐系统后，Embedding 更适用于对海量备选物品进行快速“初筛”，过滤出几百到几千量级的物品交由深度学习网络“精排”。</p><h1 id="第5章-多角度审视推荐系统"><a href="#第5章-多角度审视推荐系统" class="headerlink" title="第5章 多角度审视推荐系统"></a>第5章 多角度审视推荐系统</h1><h2 id="5-1-推荐系统的特征工程"><a href="#5-1-推荐系统的特征工程" class="headerlink" title="5.1 推荐系统的特征工程"></a>5.1 推荐系统的特征工程</h2><h3 id="5-1-1-构建推荐系统特征工程的原则"><a href="#5-1-1-构建推荐系统特征工程的原则" class="headerlink" title="5.1.1 构建推荐系统特征工程的原则"></a>5.1.1 构建推荐系统特征工程的原则</h3><p>在推荐系统中，特征的本质其实是对某个行为过程相关信息的抽象表达。推荐过程中某个行为必须转换成某种数学形式才能被机器学习模型所学习，因此为了完成这种转换，就必须将这些行为过程中的信息以特征的形式抽取出来，用多个维度上的特征表达这一行为。<br>从具体的行为转化成抽象的特征，这一过程必然涉及信息的损失。一是因为具体的推荐行为和场景中包含大量原始的场景、图片和状态信息，保存所有信息的存储空间过大，无法在现实中满足；二是因为具体的推荐场景中包含大量冗余的、无用的信息，都考虑进来甚至会损害模型的泛化能力。搞清楚这两点后，就可以顺理成章地提出构建推荐系统特征工程的原则：<br>尽可能地让特征工程抽取出的一组特征能够保留推荐环境及用户行为过程中的所有有用信息，尽量摒弃冗余信息。<br>举例来说，在一个电影推荐的场景下，应该如何抽取特征才能代表“用户点击某个电影”这一行为呢？<br>为了回答这个问题，读者需要把自己置身于场景中，想象自己选择点击某个电影的过程受什么因素影响？笔者从自己的角度出发，按照重要性的高低列出了 6 个要素：<br>（1）自己对电影类型的兴趣偏好。<br>（2）该影片是否是流行的大片。<br>（3）该影片中是否有自己喜欢的演员和导演。<br>（4）电影的海报是否有吸引力。<br>（5）自己是否看过该影片。<br>（6）自己当时的心情。<br>秉着“保留行为过程中的所有有用信息”的原则，从电影推荐场景中抽取特征时，应该让特征能够尽量保留上述 6 个要素的信息。因此，要素、有用信息和数据抽取出的特征的对应关系如表 5-1 所示。</p><p>表5-1 要素、有用信息和数据抽取出的特征的对应关系<br>|要素|有用信息和数据|特征|<br>|—|—|—|<br>|自己对电影类型的兴趣偏好|历史观看影片序列|影片id序列特征，或进一步抽取出兴趣Embedding特征|<br>|该影片是否是流行的大片|影片的流行分数|流行度特征|<br>|是否有自己喜欢的演员和导演|影片的元数据，即相关信息|元数据标签类特征|<br>|电影的海报是否有吸引力|影片海报的图像|图像内容类特征|<br>|自己是否看过该影片|用户观看历史|是否观看的布尔型特征|<br>|自己当时的心情|无法抽取|无|</p><p>在抽取特征的过程中，必然存在着信息的损失，例如，“自己当时的心情”这个要素被无奈地舍弃了。再比如，用用户观看历史推断用户的“兴趣偏好”也一定会存在信息丢失的情况。因此，在已有的、可获得的数据基础上，“尽量”保留有用信息是一个现实的工程上的原则。</p><h3 id="5-1-2-推荐系统中的常用特征"><a href="#5-1-2-推荐系统中的常用特征" class="headerlink" title="5.1.2 推荐系统中的常用特征"></a>5.1.2 推荐系统中的常用特征</h3><ol><li>用户行为数据</li></ol><p>用户行为数据是推荐系统最常用，也是最关键的数据。用户的潜在兴趣、用户对物品的真实评价均包含在用户的行为历史中。用户行为在推荐系统中一般分为显性反馈行为（explicit feedback）和隐性反馈行为（implicit feedback）两种，在不同的业务场景中，则以不同的形式体现。表5-2所示为不同业务场景下用户行为数据的例子。</p><p>表5-2 不同业务场景下用户行为数据的例子<br>|业务场景|显性反馈行为|隐性反馈行为|<br>|—|—|—|<br>|电子商务网站|对商品的评分|点击、加入购物车、购买等|<br>|视频网站|对视频的评分、点赞等|点击、播放、播放时长等|<br>|新闻类网站|赞、踩等行为|点击、评论等|<br>|音乐网站|对歌曲、歌手、专辑的评分|点击、播放、收藏等|</p><p>对用户行为数据的使用往往涉及对业务的理解，不同的行为在抽取特征时的权重不同，而且一些跟业务特点强相关的用户行为需要推荐工程师通过自己的观察才能发现。<br>在当前的推荐系统特征工程中，隐性反馈行为越来越重要，主要原因是显性反馈行为的收集难度过大，数据量小。在深度学习模型对数据量的要求越来越大的背景下，仅用显性反馈的数据不足以支持推荐系统训练过程的最终收敛。因此，能够反映用户行为特点的隐性反馈是目前特征挖掘的重点。<br>在具体的用户行为类特征的处理上，往往有两种方式：一种是将代表用户行为的物品 id 序列转换成 multi-hot 向量，将其作为特征向量；另一种是预先训练好物品的 Embedding（可参考第 4 章介绍的 Embedding 方法），再通过平均或者类似于DIN模型（可参考3.8节）注意力机制的方法生成历史行为Embedding向量，将其作为特征向量。</p><ol start="2"><li>用户关系数据</li></ol><p>互联网本质上就是人与人、人与信息之间的连接。如果说用户行为数据是人与物之间的“连接”日志，那么用户关系数据就是人与人之间连接的记录。在互联网时代，人们最常说的一句话就是“物以类聚，人以群分”。用户关系数据毫无疑问是值得推荐系统利用的有价值信息。<br>用户关系数据也可以分为“显性”和“隐性”两种，或者称为“强关系”和“弱关系”。如图 5-1 所示，用户与用户之间可以通过“关注”“好友关系”等连接建立“强关系”，也可以通过“互相点赞”“同处一个社区”，甚至“同看一部电影”建立“弱关系”。<br>在推荐系统中，利用用户关系数据的方式不尽相同，可以将用户关系作为召回层的一种物品召回方式；也可以通过用户关系建立关系图，使用 Graph Embedding 的方法生成用户和物品的 Embedding；还可以直接利用关系数据，通过“好友”的特征为用户添加新的属性特征；甚至可以利用用户关系数据直接建立社会化推荐系统。</p><ol start="3"><li>属性、标签类数据</li></ol><p>这里把属性类和标签类数据归为一组进行讨论，因为本质上它们都是直接描述用户或者物品的特征。属性和标签的主体可以是用户，也可以是物品。他们的来源非常多样化，大体上包含表5-3中的几类。</p><p>表5-3 属性、标签类数据的分类和来源<br>|主体|类别|来源|<br>|—|—|—|<br>|用户|人口属性数据（性别、年龄、住址等）<br>用户兴趣标签|用户注册信息、第三方 DMP（Data Management Platform，数据管理平台）<br>用户选择|<br>|物品|物品标签<br>物品属性（例如，商品的类别、价格；电影的分类、年代、演员、导演等信息）|用户或者系统管理员添加<br>后台录入、第三方数据库|</p><p>用户属性、物品属性、标签类数据是最重要的描述型特征。成熟的公司往往会建立一套用户和物品的标签体系，由专门的团队负责维护，典型的例子就是电商公司的商品分类体系；也可以有一些社交化的方法由用户添加。图 5-2 所示为豆瓣的“添加收藏”页面，在添加收藏的过程中，用户需要为收藏对象打上对应的标签，这是一种常见的社交化标签添加方法。<br>在推荐系统中使用属性、标签类数据，一般是通过 multi-hot 编码的方式将其转换成特征向量，一些重要的属性标签类特征也可以先转换成 Embedding，再输入推荐模型。</p><ol start="4"><li>内容类数据</li></ol><p>内容类数据可以看作属性标签型特征的延伸，它们同样是描述物品或用户的数据，但相比标签类特征，内容类数据往往是大段的描述型文字、图片，甚至视频。<br>一般来说，内容类数据无法直接转换成推荐系统可以“消化”的特征，需要通过自然语言处理、计算机视觉等技术手段提取关键内容特征，再输入推荐系统。例如，在图片类、视频类或是带有图片的信息流推荐场景中，往往会利用计算机视觉模型进行目标检测，抽取图片特征（如图 5-3 所示），再把这些特征（要素）转换成标签类数据，供推荐系统使用。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-19.jpg" alt="图5-3 利用计算机视觉模型进行目标检测，抽取图片特征"></p><ol start="5"><li>上下文信息</li></ol><p>上下文信息（context）是描述推荐行为产生的场景的信息。最常用的上下文信息是“时间”和通过 GPS 获得的“地点”信息。根据推荐场景的不同，上下文信息的范围极广，包含但不限于时间、地点、季节、月份、是否节假日、天气、空气质量、社会大事件等信息。<br>引入上下文信息的目的是尽可能地保存推荐行为发生场景的信息。典型的例子是：在视频推荐场景中，用户倾向于在傍晚看轻松浪漫题材的电影，在深夜看悬疑惊悚题材的电影。如果不引入上下文特征，则推荐系统无法捕捉到与这些场景相关的有价值的信息。</p><ol start="6"><li>统计类特征</li></ol><p>统计类特征是指通过统计方法计算出的特征，例如历史 CTR、历史 CVR、物品热门程度、物品流行程度等。统计类特征一般是连续型特征，仅需经过标准化归一化等处理就可以直接输入推荐系统进行训练。<br>统计类特征本质上是一些粗粒度的预测指标。例如在 CTR 预估问题中，完全可以将某物品的历史平均 CTR 当作最简易的预测模型，但该模型的预测能力很弱，因此历史平均 CTR 往往仅被当作复杂 CTR 模型的特征之一。统计类特征往往与最后的预测目标有较强的相关性，因此是绝不应被忽视的重要特征类别。</p><ol start="7"><li>组合类特征</li></ol><p>组合类特征是指将不同特征进行组合后生成的新特征。最常见的是“年龄+性别”组成的人口属性分段特征（segment）。在早期的推荐系统中，推荐模型（比如逻辑回归）往往不具备特征组合的能力。但是随着更多深度学习推荐系统的提出，组合类特征不一定通过人工组合、人工筛选的方法选出，还可以交给模型进行自动处理。</p><h3 id="5-1-3-常用的特征处理方法"><a href="#5-1-3-常用的特征处理方法" class="headerlink" title="5.1.3 常用的特征处理方法"></a>5.1.3 常用的特征处理方法</h3><p>对推荐系统来说，模型的输入往往是由数字组成的特征向量。5.1.2 节提到的诸多特征类别中，有“年龄”“播放时长”“历史 CTR”这些可以由数字表达的特征，它们可以非常自然地成为特征向量中的一个维度。对于更多的特征来说，例如用户的性别、用户的观看历史，它们是如何转变成数值型特征向量的呢？本节将从连续型（continuous）特征和类别型（categorical）特征两个角度介绍常用的特征处理方法。</p><ol><li>连续型特征</li></ol><p>连续型特征的典型例子是上文提到的用户年龄、统计类特征、物品的发布时间、影片的播放时长等数值型的特征。对于这类特征的处理，最常用的处理手段包括归一化、离散化、加非线性函数等方法。<br>归一化的主要目的是统一各特征的量纲，将连续特征归一到[0，1]区间。也可以做 0 均值归一化，即将原始数据集归一化为均值为 0、方差为 1 的数据集。<br>离散化是通过确定分位数的形式将原来的连续值进行分桶，最终形成离散值的过程。离散化的主要目的是防止连续值带来的过拟合现象及特征值分布不均匀的情况。经过离散化处理的连续型特征和经过 one-hot 处理的类别型特征一样，都是以特征向量的形式输入推荐模型中的。<br>加非线性函数的处理方法，是直接把原来的特征通过非线性函数做变换，然后把原来的特征及变换后的特征一起加入模型进行训练的过程。常用的非线性函数包括。<br>加非线性函数的目的是更好地捕获特征与优化目标之间的非线性关系，增强这个模型的非线性表达能力。</p><ol start="2"><li>类别型特征</li></ol><p>类别型特征的典型例子是用户的历史行为数据、属性标签类数据等。它的原始表现形式往往是一个类别或者一个 id。这类特征最常用的处理方法是使用 one-hot 编码将其转换成一个数值向量，2.5 节的“基础知识”部分已经详细介绍了 one-hot 编码的具体过程，在 one-hot 编码的基础上，面对同一个特征域非唯一的类别选择，还可以采用 multi-hot 编码。<br>对类别特征进行 one-hot 或 multi-hot 编码的主要问题是特征向量维度过大，特征过于稀疏，容易造成模型欠拟合，模型的权重参数的数量过多，导致模型收敛过慢。因此，在 Embedding 技术成熟之后，被广泛应用在类别特征的处理上，先将类别型特征编码成稠密 Embedding 向量，再与其他特征组合，形成最终的输入特征向量。</p><h3 id="基础知识——什么是multi-hot编码"><a href="#基础知识——什么是multi-hot编码" class="headerlink" title="基础知识——什么是multi-hot编码"></a>基础知识——什么是multi-hot编码</h3><p>对历史行为序列类、标签特征等数据来说，用户往往会与多个物品产生交互行为，或者被打上多个同类别标签，这时最常用的特征向量生成方式就是把其转换成 multi-hot 编码。<br>举例来说，某电商网站共有 10000 种商品，用户购买过其中的 10 种，那么用户的历史行为数据就可以转换成一个 10000 维的数值向量，其中仅有 10 个已购买商品对应的维度是 1，其余维度均为 0，这就是 multi-hot 编码。</p><h2 id="5-2-推荐系统召回层的主要策略"><a href="#5-2-推荐系统召回层的主要策略" class="headerlink" title="5.2 推荐系统召回层的主要策略"></a>5.2 推荐系统召回层的主要策略</h2><p>召回阶段负责将海量的候选集快速缩小为几百到几千的规模。<br>排序阶段则负责对缩小后的候选集进行精准排序。</p><h3 id="5-2-1-召回层和排序层的功能特点"><a href="#5-2-1-召回层和排序层的功能特点" class="headerlink" title="5.2.1 召回层和排序层的功能特点"></a>5.2.1 召回层和排序层的功能特点</h3><p>推荐系统的模型部分将推荐过程分成召回层和排序层的主要原因是基于工程上的考虑。在排序阶段，一般会使用复杂模型，利用多特征进行精准排序，而在这一过程中，如果直接对百万量级的候选集进行逐一推断，则计算资源和延迟都是在线服务过程无法忍受的。因此加入召回过程，利用少量的特征和简单的模型或规则进行候选集的快速筛选（如图5-4所示），减少精准排序阶段的时间开销。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-20.jpg" alt="图5-4 推荐系统的两个阶段"></p><p>结合召回层、排序层的设计初衷和图5-4所示的系统结构，可以总结出召回层和排序层的如下特点：</p><ul><li>召回层：待计算的候选集合大、速度快、模型简单、特征较少，尽量让用户感兴趣的物品在这个阶段能够被快速召回，即保证相关物品的召回率。</li><li>排序层：首要目标是得到精准的排序结果。需处理的物品数量少，可利用较多特征，使用比较复杂的模型。</li></ul><p>在设计召回层时，“计算速度”和“召回率”其实是矛盾的两个指标，为提高“计算速度”，需要使召回策略尽量简单；而为了提高“召回率”，要求召回策略能够尽量选出排序模型需要的候选集，这又要求召回策略不能过于简单，导致召回物品无法满足排序模型的要求。<br>在权衡计算速度和召回率后，目前工业界主流的召回方法是采用多个简单策略叠加的“多路召回策略”。</p><h3 id="5-2-2-多路召回策略"><a href="#5-2-2-多路召回策略" class="headerlink" title="5.2.2 多路召回策略"></a>5.2.2 多路召回策略</h3><p>所谓“多路召回策略”，就是指采用不同的策略、特征或简单模型，分别召回一部分候选集，然后把候选集混合在一起供后续排序模型使用的策略。<br>可以明显地看出，“多路召回策略”是在“计算速度”和“召回率”之间进行权衡的结果。其中，各简单策略保证候选集的快速召回，从不同角度设计的策略保证召回率接近理想的状态，不至于损害排序效果。<br>图 5-5 以某信息流应用为例，展示了其常用的多路召回策略，包括“热门新闻”“兴趣标签”“协同过滤”“最近流行”“朋友喜欢”等多种召回方法。其中，既包括一些计算效率高的简单模型（如协同过滤）；也包括一些基于单一特征的召回方法（如兴趣标签），还包括一些预处理好的召回策略（如热门新闻、最近流行等）。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-21.jpg" alt="图5-5 常见的多路召回策略"></p><p>事实上，召回策略的选择与业务强相关。对视频推荐来说，召回策略可以是“热门视频”“导演召回”“演员召回”“最近上映”“流行趋势”“类型召回”等。<br>每一路召回策略会拉回 K 个候选物品，对于不同的召回策略，K 值可以选择不同的大小。这里的 K 值是超参数，一般需要通过离线评估加线上 A/B 测试的方式确定合理的取值范围。<br>虽然多路召回是实用的工程方法，但从策略选择到候选集大小参数的调整都需要人工参与，策略之间的信息也是割裂的，无法综合考虑不同策略对一个物品的影响。</p><h3 id="5-2-3-基于Embedding的召回方法"><a href="#5-2-3-基于Embedding的召回方法" class="headerlink" title="5.2.3 基于Embedding的召回方法"></a>5.2.3 基于Embedding的召回方法</h3><p>4.5 节曾详细介绍了 YouTube 推荐系统中利用深度学习网络生成的 Embedding 作为召回层的方法。再加上可以使用局部敏感哈希进行快速的 Embedding 最近邻计算，基于 Embedding 的召回方法在效果和速度上均不逊色于多路召回。<br>事实上，多路召回中使用“兴趣标签”“热门度”“流行趋势”“物品属性”等信息都可以作为 Embedding 召回方法中的附加信息（side information）融合进最终的 Embedding 向量中（典型的例子是 4.4 节介绍的 EGES Embedding 方法）。就相当于在利用 Embedding 召回的过程中，考虑到了多路召回的多种策略。<br>Embedding 召回的另一个优势在于评分的连续性。多路召回中不同召回策略产生的相似度、热度等分值不具备可比性，无法据此决定每个召回策略放回候选集的大小。Embedding 召回可以把 Embedding 间的相似度作为唯一的判断标准，因此可以随意限定召回的候选集大小。<br>生成 Embedding 的方法也绝不是唯一的，除了第 4 章介绍的 Item2 vec、Graph Embedding 等方法，矩阵分解、因子分解机等简单模型也完全可以得出用户和物品的 Embedding 向量。在实际应用中可以根据效果确定最优的召回层 Embedding 的生成方法。</p><h2 id="5-3-推荐系统的实时性"><a href="#5-3-推荐系统的实时性" class="headerlink" title="5.3 推荐系统的实时性"></a>5.3 推荐系统的实时性</h2><h3 id="5-3-1-为什么说推荐系统的实时性是重要的"><a href="#5-3-1-为什么说推荐系统的实时性是重要的" class="headerlink" title="5.3.1 为什么说推荐系统的实时性是重要的"></a>5.3.1 为什么说推荐系统的实时性是重要的</h3><p>从机器学习的角度讲，推荐系统实时性的重要之处体现在以下两个方面：<br>（1）推荐系统的更新速度越快，代表用户最近习惯和爱好的特征更新越快，越能为用户进行更有时效性的推荐。<br>（2）推荐系统更新得越快，模型越容易发现最新流行的数据模式（data pattern），越能让模型快速抓住最新的流行趋势。<br>这两方面的原因直接对应着推荐系统实时性的两大要素：一是推荐系统“特征”的实时性；二是推荐系统“模型”的实时性。</p><h3 id="5-3-2-推荐系统“特征”的实时性"><a href="#5-3-2-推荐系统“特征”的实时性" class="headerlink" title="5.3.2 推荐系统“特征”的实时性"></a>5.3.2 推荐系统“特征”的实时性</h3><p>推荐系统特征的实时性指的是“实时”地收集和更新推荐模型的输入特征，使推荐系统总能使用最新的特征进行预测和推荐。<br>举例来说，在一个短视频应用中，某用户完整地看完了一个长度为 10 分钟的“羽毛球教学”视频。毫无疑问，该用户对“羽毛球”这个主题是感兴趣的。系统希望立刻为用户继续推荐“羽毛球”相关的视频。但是由于系统特征的实时性不强，用户的观看历史无法实时反馈给推荐系统，导致推荐系统得知该用户看过“羽毛球教学”这个视频已经是半个小时之后了，此时用户已经离开该应用，无法继续推荐。这就是一个因推荐系统实时性差导致推荐失败的例子。<br>诚然，在用户下次打开该应用时，推荐系统可以利用上次的用户历史继续推荐“羽毛球”相关的视频，但毫无疑问，该推荐系统丧失了最可能增加用户黏性和留存度的时机。<br>为了说明增强“特征”实时性的具体方法，笔者在推荐系统的数据流架构图之上（如图 5-7 所示），来说明影响“特征”实时性的三个主要阶段。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-22.jpg" alt="图5-7 推荐系统的数据流架构图"></p><ol><li>客户端实时特征</li></ol><p>客户端是最接近用户的环节，也是能够实时收集用户会话内行为及所有上下文特征的地方。在经典的推荐系统中，利用客户端收集时间、地点、推荐场景等上下文特征，然后让这些特征随 http 请求一起到达服务器端是常用的请求推荐结果的方式。但容易被忽视的一点是客户端还是能够实时收集 session（会话）内用户行为的地方。<br>拿新闻类应用来说，用户在一次会话中（假设会话时长 3 分钟）分别点击并阅读了三篇文章。这三篇文章对推荐系统来说是至关重要的，因为它们代表了该用户的即时兴趣。如果能根据用户的即时兴趣实时地改变推荐结果，那对新闻应用来说将是很好的用户体验。<br>如果采用传统的流计算平台（图 5-7 中的 Flink），甚至批处理计算平台（图 5-7 中的 Spark），则由于延迟问题，系统可能无法在 3 分钟之内就把 session 内部的行为历史存储到特征数据库（如 Redis）中，这就导致用户的推荐结果不会马上受到 session 内部行为的影响，无法做到推荐结果的实时更新。<br>如果客户端能够缓存 session 内部的行为，将其作为与上下文特征同样的实时特征传给推荐服务器，那么推荐模型就能够实时地得到 session 内部的行为特征，进行实时的推荐。这就是利用客户端实时特征进行实时推荐的优势所在。</p><ol start="2"><li>流计算平台的准实时特征处理</li></ol><p>随着 Storm、Spark Streaming、Flink 等一批非常优秀的流计算平台的日益成熟，利用流计算平台进行准实时的特征处理几乎成了当前推荐系统的标配。所谓流计算平台，是将日志以流的形式进行微批处理（mini batch）。由于每次需要等待并处理一小批日志，流计算平台并非完全实时的平台，但它的优势是能够进行一些简单的统计类特征的计算，比如一个物品在该时间窗口内的曝光次数，点击次数、一个用户在该时间窗口内的点击话题分布，等等。<br>流计算平台计算出的特征可以立刻存入特征数据库供推荐模型使用。虽然无法实时地根据用户行为改变用户结果，但分钟级别的延迟基本可以保证推荐系统能够准实时地引入用户的近期行为。</p><ol start="3"><li>分布式批处理平台的全量特征处理</li></ol><p>随着数据最终到达以 HDFS 为主的分布式存储系统，Spark 等分布式批处理计算平台终于能够进行全量特征的计算和抽取了。在这个阶段着重进行的还有多个数据源的数据联结（join）及延迟信号的合并等操作。<br>用户的曝光、点击、转化数据往往是在不同时间到达 HDFS 的，有些游戏类应用的转化数据延迟甚至高达几个小时，因此只有在全量数据批处理这一阶段才能进行全部特征及相应标签的抽取和合并。也只有在全量特征准备好之后，才能够进行更高阶的特征组合的工作。这往往是无法在客户端和流计算平台上进行的。<br>分布式批处理平台的计算结果的主要用途是：<br>（1）模型训练和离线评估。<br>（2）特征保存入特征数据库，供之后的线上推荐模型使用。<br>数据从产生到完全进入 HDFS，再加上 Spark 的计算延迟，这一过程的总延迟往往达到小时级别，已经无法进行所谓的“实时”推荐，因此更多的是保证推荐系统特征的全面性，以便在用户下次登录时进行更准确的推荐。</p><h3 id="5-3-3-推荐系统“模型”的实时性"><a href="#5-3-3-推荐系统“模型”的实时性" class="headerlink" title="5.3.3 推荐系统“模型”的实时性"></a>5.3.3 推荐系统“模型”的实时性</h3><p>与“特征”的实时性相比，推荐系统“模型”的实时性往往是从更全局的角度考虑问题。特征的实时性力图用更准确的特征描述用户、物品和相关场景，从而让推荐系统给出更符合当时场景的推荐结果。而模型的实时性则是希望更快地抓住全局层面的新数据模式，发现新的趋势和相关性。<br>以某电商网站“双 11”的大量促销活动为例，特征的实时性会根据用户最近的行为更快地发现用户可能感兴趣的商品，但绝对不会发现一个刚刚流行起来的爆款商品、一个刚刚开始的促销活动，以及与该用户相似的人群最新的偏好。要发现这类全局性的数据变化，需要实时地更新推荐模型。<br>模型的实时性是与模型的训练方式紧密相关的，如图 5-8 所示，模型的实时性由弱到强的训练方式分别是全量更新、增量更新和在线学习（Online Learning）。<br><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-23.jpg" alt="图5-8 模型的实时性与训练方式的关系"></p><ol><li>全量更新</li></ol><p>“全量更新”是指模型利用某时间段内的所有训练样本进行训练。全量更新是最常用的模型训练方式，但它需要等待所有训练数据都“落盘”（记录在 HDFS 等大数据存储系统中）才可进行，并且训练全量样本的时间往往较长，因此全量更新也是实时性最差的模型更新方式。与之相比，“增量更新”的训练方式可以有效提高训练效率。</p><ol start="2"><li>增量更新</li></ol><p>增量更新仅将新加入的样本“喂”给模型进行增量训练。从技术上讲，深度学习模型往往采用随机梯度下降（SGD）法及其变种进行学习，模型对增量样本的学习相当于在原有样本的基础上继续输入增量样本进行梯度下降。增量更新的缺点是：增量更新的模型往往无法找到全局最优点，因此在实际的推荐系统中，经常采用增量更新与全局更新相结合的方式，在进行了几轮增量更新后，在业务量较小的时间窗口进行全局更新，纠正模型在增量更新过程中积累的误差。</p><ol start="3"><li>在线学习</li></ol><p>在线学习是进行模型实时更新的主要方法，也就是在获得一个新的样本的同时更新模型。与增量更新一样，在线学习在技术上也通过 SGD 的训练方式实现，但由于需要在线上环境进行模型的训练和大量模型相关参数的更新和存储，工程上的要求相对比较高。<br>在线学习的另一个附带问题是模型的稀疏性不强，例如，在一个输入特征向量达到几百万维的模型中，如果模型的稀疏性好，就可以在模型效果不受影响的前提下，仅让极小一部分特征对应的权重非零，从而让上线的模型体积很小（因为可以摒弃所有权重为 0 的特征），这有利于加快整个模型服务的过程。但如果使用 SGD 的方式进行模型更新，相比 batch 的方式，容易产生大量小权重的特征，这就增大了模型体积，从而增大模型部署和更新的难度。为了在在线学习过程中兼顾训练效果和模型稀疏性，有大量相关的研究，最著名的包括微软的 FOBOS、谷歌的 FTRL等。<br>在线学习的另一个方向是将强化学习与推荐系统结合，在 3.10 节介绍的强化学习推荐模型 DRN 中，应用了一种竞争梯度下降算法，它通过“随机探索新的深度学习模型参数，并根据实时效果反馈进行参数调整”的方法进行在线学习，这是在强化学习框架下提高模型实时性的有效尝试。</p><ol start="4"><li>局部更新</li></ol><p>大致思路是降低训练效率低的部分的更新频率，提高训练效率高的部分的更新频率。这种方式的代表是 Facebook 的“GBDT+LR”模型。<br>2.6 节已经介绍过“GBDT+LR”的模型结构，模型利用 GBDT 进行自动化的特征工程，利用 LR 拟合优化目标。GBDT 是串行的，需要依次训练每一棵树，因此训练效率低，更新的周期长，如果每次都同时训练“GBDT+LR”整个模型，那么 GBDT 的低效问题将拖慢 LR 的更新速度。为了兼顾 GBDT 的特征处理能力和 LR 快速拟合优化目标的能力，Facebook 采取的部署方法是每天训练一次 GBDT 模型，固定 GBDT 模型后，实时训练 LR 模型以快速捕捉数据整体的变化。通过模型的局部更新，做到 GBDT 和 LR 能力的权衡。<br>“模型局部更新”的做法较多应用在“Embedding 层+神经网络”的深度学习模型中，Embedding 层参数由于占据了深度学习模型参数的大部分，其训练过程会拖慢模型整体的收敛速度，因此业界往往采用 Embedding 层单独预训练，Embedding 层以上的模型部分高频更新的混合策略，这也是“模型局部更新”思想的又一次应用。</p><ol start="5"><li>客户端模型实时更新</li></ol><p>客户端模型实时更新在推荐系统业界仍处于探索阶段。对于一些计算机视觉类的模型，可以通过模型压缩的方式生成轻量级模型，部署于客户端，但对于推荐模型这类“重量级”的模型，往往需要依赖服务器端较强大的计算资源和丰富的特征数据进行模型服务。但客户端往往可以保存和更新模型一部分的参数和特征，比如当前用户的 Embedding 向量。<br>这里的逻辑和动机是，在深度学习推荐系统中，模型往往要接受用户 Embedding 和物品 Embedding 两个关键的特征向量。对于物品 Embedding 的更新，一般需要全局的数据，因此只能在服务器端进行更新；而对用户 Embedding 来说，则更多依赖用户自身的数据。那么把用户 Embedding 的更新过程移植到客户端来做，能实时地把用户最近的行为数据反映到用户的 Embedding 中来，从而可以在客户端通过实时改变用户 Embedding 的方式完成推荐结果的实时更新。<br>用简单例子说明。如果用户 Embedding 是由用户点击过的物品 Embedding 进行平均得到的，那么最先得到用户最新点击物品信息的客户端，就可以根据用户点击物品的 Embedding 实时更新用户 Embedding，并保存该 Embedding。在下次推荐时，将更新后的用户 Embedding 传给服务器，服务器端可根据最新的用户 Embedding 返回实时推荐内容。</p><h2 id="5-4-如何合理设定推荐系统中的优化目标"><a href="#5-4-如何合理设定推荐系统中的优化目标" class="headerlink" title="5.4 如何合理设定推荐系统中的优化目标"></a>5.4 如何合理设定推荐系统中的优化目标</h2><p>对一家商业公司而言，在绝大多数情况下，推荐系统的目标都是完成某个商业目标，所以根据公司的商业目标来制定推荐系统的优化目标理应作为“合理”的战略性目标。</p><h3 id="5-4-1-YouTube以观看时长为优化目标的合理性"><a href="#5-4-1-YouTube以观看时长为优化目标的合理性" class="headerlink" title="5.4.1 YouTube以观看时长为优化目标的合理性"></a>5.4.1 YouTube以观看时长为优化目标的合理性</h3><p>1.1 节中，笔者就以 YouTube 推荐系统为例，强调了推荐系统在实现公司商业目标增长过程中扮演的关键角色。<br>YouTube 的主要商业模式是免费视频带来的广告收入，它的视频广告会阶段性地出现在视频播放之前和视频播放的过程中，因此 YouTube 的广告收入是与用户观看时长成正比的。为了完成公司的商业目标，YouTube 推荐系统的优化目标并不是点击率、播放率等通常意义上的 CTR 预估类的优化目标，而是用户的播放时长。<br>不可否认的是，点击率等指标与用户播放时长有相关性，但二者之间仍存在一些“优化动机”上的差异。如果以点击率为优化目标，那么推荐系统会倾向于推荐“标题党”“预览图劲爆”的短视频，而如果以播放时长为优化目标，那么推荐系统应将视频的长短、视频的质量等特征考虑进来，此时推荐一个高质量的“电影”或“连续剧”就是更好的选择。推荐目标的差异会导致推荐系统倾向性的不同，进而影响到能否完成“增加用户播放时长”这一商业目标。<br>在 YouTube 的推荐系统排序模型（如图 5-9 所示）中，引入播放时长作为优化目标的方式非常巧妙。YouTube 排序模型原本是把推荐问题当作分类问题对待的，即预测用户是否点击某个视频。<br>既然是分类问题，理论上应很难预测播放时长（预测播放时长应该是回归模型做的事情）。但 YouTube 巧妙地把播放时长转换成正样本的权重，输出层利用加权逻辑回归（Weighted Logistic）进行训练，预测过程中利用 eWx+b 算式计算样本的概率（Odds），这一概率就是模型对播放时长的预测（这里的论证并不严谨，在 8.3 节中还会进一步讨论 YouTube 排序模型的推断过程）。</p><h3 id="5-4-2-模型优化和应用场景的统一性"><a href="#5-4-2-模型优化和应用场景的统一性" class="headerlink" title="5.4.2 模型优化和应用场景的统一性"></a>5.4.2 模型优化和应用场景的统一性</h3><p>在天猫、淘宝等电商类网站上做推荐，用户从登录到购买的过程可以抽象成两步：<br>（1）产品曝光，用户浏览商品详情页。<br>（2）用户产生购买行为。<br>对电商类网站而言，公司的商业目标是通过推荐使用户产生更多的购买行为，电商类推荐模型应该是一个 CVR 预估模型。<br>由于购买转化行为是在第二步产生的，因此在训练 CVR 模型时，直观的做法是采用点击数据+转化数据（图 5-10 中灰色和深灰色区域数据）训练 CVR 模型。在使用 CVR 模型时，因为用户登录后直接看到的并不是具体的商品详情页，而是首页或者列表页，因此 CVR 模型需要在产品曝光的场景（图 5-10 中最外层圈内的数据）下进行预估。这就导致了训练场景与预估场景不一致的问题。模型在不同的场景下肯定会产生有偏的预估结果，进而导致应用效果的损失。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-24.jpg" alt="图5-10 训练空间和预测空间的不一致"></p><p>这里当然可以换个思路解决问题，即针对第一步的场景，构建 CTR 预估模型；再针对第二步的场景，构建 CVR 预估模型，针对不同的应用场景应用不同的预估模型，这也是电商或广告类公司经常采用的做法。但这个方案的尴尬之处在于 CTR 模型与最终优化目标的脱节，因为整个问题最终的优化目标是“购买转化”，并不是“点击”，在第一步过程中仅考虑点击数据，显然并不是全局最优化转化率的方案。<br>为了达到同时优化 CTR 和 CVR 模型的目的，阿里巴巴提出了多目标优化模型 ESMM（Entire Space Multi-task Model）。ESMM 可以被当作一个同时模拟“曝光到点击”和“点击到转化”两个阶段的模型。<br>从模型结构上看，底层的 Embedding 层是 CVR 部分和 CTR 部分共享的，共享 Embedding 层的目的主要是解决 CVR 任务正样本稀疏的问题，利用 CTR 的数据生成更准确的用户和物品的特征表达。<br>中间层是 CVR 部分和 CTR 部分各自利用完全隔离的神经网络拟合自己的优化目标——pCVR（post-click CVR，点击后转化率）和 pCTR（post-view Click-through Rate，曝光后点击率）。最终，将 pCVR 和 pCTR 相乘得到 pCTCVR。</p><h2 id="5-5-推荐系统中比模型结构更重要的是什么"><a href="#5-5-推荐系统中比模型结构更重要的是什么" class="headerlink" title="5.5 推荐系统中比模型结构更重要的是什么"></a>5.5 推荐系统中比模型结构更重要的是什么</h2><h3 id="5-5-1-有解决推荐问题的“银弹”吗"><a href="#5-5-1-有解决推荐问题的“银弹”吗" class="headerlink" title="5.5.1 有解决推荐问题的“银弹”吗"></a>5.5.1 有解决推荐问题的“银弹”吗</h3><p>DIEN 的要点是模拟并表达用户兴趣进化的过程，那么模型应用的前提必然是应用场景中存在着“兴趣进化”的过程。阿里巴巴的场景非常好理解，用户的购买兴趣在不同时间点有变化。比如用户在购买了笔记本电脑后会有一定概率购买其周边产品；用户在购买了某些类型的服装后会有一定概率选择与其搭配的其他服装，这些都是兴趣进化的直观例子。<br>DIEN 能够在阿里巴巴的应用场景有效的另一个原因是用户的兴趣进化路径能够被整个数据流近乎完整的保留。作为中国最大的电商集团，阿里巴巴各产品线组成的产品矩阵几乎能够完整地抓住用户购买兴趣迁移的过程。当然，用户有可能去京东、拼多多等电商平台购物，从而打断在阿里巴巴购物的兴趣进化过程，但从统计意义上讲，大量用户的兴趣进化过程还是可以被阿里巴巴的数据体系捕获的。</p><h3 id="5-5-2-Netflix对用户行为的观察"><a href="#5-5-2-Netflix对用户行为的观察" class="headerlink" title="5.5.2 Netflix对用户行为的观察"></a>5.5.2 Netflix对用户行为的观察</h3><p>Netflix 是美国最大的流媒体公司，其推荐系统会根据用户的喜好生成影片的推荐列表。除了影片的排序，最能影响点击率的要素其实是影片的海报预览图。举例来说，一位喜欢马特·达蒙（美国著名男影星）的用户，当看到影片的海报上有马特·达蒙的头像时，点击该影片的概率会大幅增加。Netflix 的数据科学家在通过 A/B 测试验证这一点后，着手开始对影片预览图的生成进行优化（如图 5-13 所示），以提高推荐结果整体的点击率。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-25.jpg" alt="图5-13 Netflix不同预览图的模板"></p><p>在具体的优化过程中，模型会根据不同用户的喜好，使用不同的影片预览图模板，填充以不同的前景、背景、文字等。通过使用简单的线性“探索与利用”（Exploration＆Exploitation）模型验证哪种组合才是最适合某类用户的个性化海报。<br>在这个问题中，Netflix 并没有使用复杂的模型，但 CTR 提升的效果是 10% 量级的，远远超过改进推荐模型结构带来的收益。这才是从用户和场景出发解决问题。这也符合 5.3 节提出的“木桶理论”的思想，对推荐系统效果的改进，最有效的方法不是执着地改进那块已经很长的木板，而是发现那块最短的木板，提高整体的效果。</p><h3 id="5-5-3-观察用户行为，在模型中加入有价值的用户信息"><a href="#5-5-3-观察用户行为，在模型中加入有价值的用户信息" class="headerlink" title="5.5.3 观察用户行为，在模型中加入有价值的用户信息"></a>5.5.3 观察用户行为，在模型中加入有价值的用户信息</h3><p>再举一个例子，图5-14是美国最大的Smart TV（智能电视）平台Roku的主页，每一行是一个类型的影片。但对一个新用户来说，系统非常缺少关于他的点击和播放样本。那么对 Roku 的工程师来说，能否找到其他有价值的信息来解决数据稀疏问题呢？</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-26.jpg" alt="图5-14 捕捉包含关键信息的用户行为"></p><p>这就要求我们回到产品中，从用户的角度理解这个问题，发现有价值的信号。针对该用户界面来说，如果用户对某个类型的影片感兴趣，则必然会向右滑动鼠标或者遥控器（如图 5-14 中红色箭头所指），浏览这个类型下其他影片，这个滑动的动作很好地反映了用户对某类型影片的兴趣。<br>引入这个动作，无疑对构建用户兴趣向量，解决数据稀疏问题，进而提高推荐系统的效果有正向的作用。广义上讲，引入新的有价值信息相当于为推荐系统增加新的“水源”，而改进模型结构则是对已有“水源”的进一步挖掘。通常，新水源带来的收益更高，开拓难度却小于对已有水源的持续挖掘。</p><h3 id="5-5-5-算法工程师不能只是一个“炼金术士”"><a href="#5-5-5-算法工程师不能只是一个“炼金术士”" class="headerlink" title="5.5.5 算法工程师不能只是一个“炼金术士”"></a>5.5.5 算法工程师不能只是一个“炼金术士”</h3><p>很多算法工程师把自己的工作戏称为“调参师”“炼金术士”，在深度学习的场景下，超参数的选择当然是不可或缺的工作。但如果算法工程师仅专注于是否在网络中加dropout，要不要更改激活函数（activation function），需不需要增加正则化项，以及修改网络深度和宽度，是不可能做出真正符合应用场景的针对性改进的。<br>很多业内同仁都说做推荐系统就是“揣摩人心”，这句话笔者并不完全赞同，但这在一定程度上反映了本节的主题——从用户的角度思考问题，构建模型。<br>如果阅读本书的你已经有了几年工作经验，对机器学习的相关技术已经驾轻就熟，反而应该从技术中跳出来，站在用户的角度，深度体验他们的想法，发现他们想法中的偏好和习惯，再用机器学习工具去验证它、模拟它，会得到意想不到的效果。</p><h2 id="5-6-冷启动的解决办法"><a href="#5-6-冷启动的解决办法" class="headerlink" title="5.6 冷启动的解决办法"></a>5.6 冷启动的解决办法</h2><p>任何推荐系统都要经历数据从无到有、从简单到丰富的过程。那么，在缺乏有价值数据的时候，如何有效推荐被称为“冷启动问题”。<br>根据数据匮乏情况的不同，冷启动分为三类：<br>（1）用户冷启动，新用户注册后，没有历史行为数据时的个性化推荐。<br>（2）物品冷启动，系统加入新物品后（新的影片、新的商品等），在该商品还没有交互记录时，如何将该物品推荐给用户。<br>（3）系统冷启动，在推荐系统运行之初，缺乏所有相关历史数据时的推荐。<br>主流的冷启动策略归为以下三类：<br>（1）基于规则的冷启动过程。<br>（2）丰富冷启动过程中可获得的用户和物品特征。<br>（3）利用主动学习、迁移学习和“探索与利用”机制。</p><h3 id="5-6-1-基于规则的冷启动过程（规则推荐）"><a href="#5-6-1-基于规则的冷启动过程（规则推荐）" class="headerlink" title="5.6.1 基于规则的冷启动过程（规则推荐）"></a>5.6.1 基于规则的冷启动过程（规则推荐）</h3><p>在冷启动过程中，由于缺乏数据，个性化推荐引擎无法有效工作，可以让系统回退到“前推荐系统”时代，采用基于规则的推荐方法。例如，在用户冷启动场景下，使用“热门排行榜”“最近流行趋势”“最高评分”等榜单作为默认的推荐列表。大多数音乐、视频等应用都是采用这类方法作为冷启动的默认规则。<br>更进一步，可以参考专家意见建立一些个性化物品列表，根据用户有限的信息，例如注册时填写的年龄、性别、基于 IP 推断出的地址等信息做粗粒度的规则推荐。例如，利用点击率等目标构建一个用户属性的决策树，在每个决策树的叶节点建立冷启动榜单，在新用户完成注册后，根据用户有限的注册信息，寻找决策树上对应的叶节点榜单，完成用户冷启动过程。</p><p>假设使用年龄和性别作为决策树的分裂条件，可以得到如下的决策树：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">A[年龄] --&gt;|小于18岁| B[性别]</span><br><span class="line">A --&gt;|大于等于18岁| C[性别]</span><br><span class="line">B --&gt;|男| D[推荐列表: 《复仇者联盟4》、《星球大战9》、《蜘蛛侠：英雄远征》]</span><br><span class="line">B --&gt;|女| E[推荐列表: 《小妇人》、《冰雪奇缘2》、《狮子王》]</span><br><span class="line">C --&gt;|男| F[推荐列表: 《教父》、《肖申克的救赎》、《盗梦空间》]</span><br><span class="line">C --&gt;|女| G[推荐列表: 《泰坦尼克号》、《乱世佳人》、《当幸福来敲门》]</span><br></pre></td></tr></table></figure><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-1.svg"></p><p>在物品冷启动场景下，可以根据一些规则找到该物品的相似物品，利用相似<br>物品的推荐逻辑完成物品的冷启动过程。<br>本节以 Airbnb 为例说明该过程。<br>Airbnb 是全球最大的短租房中介平台。在新上线短租房时，Airbnb 会根据该房屋的属性对该短租房指定一个“聚类”，位于同样“聚类” 中的房屋会有类似的推荐规则。为冷启动短租房指定“聚类” 所依靠的规则有如下三条：<br>（1）同样的价格范围。<br>（2）相似的房屋属性（面积、房间数等）。<br>（3）距目标房源的距离在 10 公里以内。<br>找到最符合上述规则的 3 个相似短租房，根据这 3 个已有短租房的聚类定位冷启动短租房的聚类。<br>通过 Airbnb 的例子可以知道，基于规则的冷启动方法更多依赖的是领域专家对业务的洞察。在制定冷启动规则时，需要充分了解公司的业务特点，充分利用已有数据，才能让冷启动规则合理且高效。</p><h3 id="5-6-2-丰富冷启动过程中可获得的用户和物品特征（特征工程）"><a href="#5-6-2-丰富冷启动过程中可获得的用户和物品特征（特征工程）" class="headerlink" title="5.6.2 丰富冷启动过程中可获得的用户和物品特征（特征工程）"></a>5.6.2 丰富冷启动过程中可获得的用户和物品特征（特征工程）</h3><p>基于规则的冷启动过程在大多数情况下是有效的，但该过程与推荐系统的“主模型”是割裂的。还可以通过改进推荐模型达到冷启动，主要方法就是在模型中加入更多用户或物品的属性特征，而非历史数据特征。<br>在历史数据特征缺失的情况下，推荐系统仍然可以凭借用户和物品的属性特征完成较粗粒度的推荐。这类属性特征主要包括以下几类：<br>（1）用户的注册信息。包括基本的人口属性信息（年龄、性别、学历、职业等）和通过 IP 地址、GPS 信息等推断出的地理信息。<br>（2）第三方 DMP（DataManagementPlatform，数据管理平台）提供的用户信息，可以极大地丰富用户的属性特征。这些第三方数据管理平台不仅可以提供基本的人口属性特征，通过与大量应用、网站的数据交换，甚至可以提供脱敏的用户兴趣、收入水平、广告倾向等一系列的高阶特征。<br>（3）物品的内容特征。在推荐系统中引入物品的内容相关特征是有效地解决“物品冷启动”的方法。物品的内容特征可以包括物品的分类、标签、描述文字等。具体到不同的业务领域，还可以有更丰富的领域相关内容特征。例如，在视频推荐领域，视频的内容特征可包括，该视频的演员、年代、风格，等等。<br>（4）引导用户输入的冷启动特征。有些应用会在用户第一次登录时引导用户输入一些冷启动特征。例如，一些音乐类应用会引导用户选择“音乐风格”；一些视频类应用会引导用户选择几部喜欢的电影。这些都是通过引导页面来完成丰富冷启动特征的工作。</p><h3 id="5-6-3-利用主动学习、迁移学习和“探索与利用”机制"><a href="#5-6-3-利用主动学习、迁移学习和“探索与利用”机制" class="headerlink" title="5.6.3 利用主动学习、迁移学习和“探索与利用”机制"></a>5.6.3 利用主动学习、迁移学习和“探索与利用”机制</h3><ol><li>主动学习<br>主动学习是相比“被动学习”而言的。被动学习是在已有的数据集上建模，学习过程中不对数据集进行更改，也不会加入新的数据，学习的过程是“被动的”。而主动学习不仅利用已有的数据集进行建模，而且可以“主动”发现哪些数据是最急需的，主动向外界发出询问，获得反馈，从而加速整个学习的过程，生成更全面的模型。<br>主动学习模型是如何在推荐系统冷启动过程中发挥作用的呢？这里举一个实例加以说明。如图 5-16 所示，横轴和纵轴分别代表两个特征维度，图中的点代表一个物品（这里以视频推荐中的影片为例），点的深浅代表用户对该影片实际打分的高低。那么，图 5-16 就代表了一个冷启动的场景，即用户没对任何影片进行打分，系统应该如何进行推荐呢？</li></ol><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-2.png" alt="图 5-16 推荐系统中的主动学习示例"></p><p>主动学习的学习目标是尽可能快速地定位所有物品可能的打分。可以看到，所有影片聚成了a、b、c、d 4类，聚类的大小不一。那么，以主动学习的思路，应该在下一次的推荐中选择哪部影片呢？<br>答案是应该选择最大聚类 d 的中心节点作为推荐影片，因为通过主动问询用户对 d 中心节点的打分，可以得到用户对最大聚类 d 的反馈，使推荐系统的收益最大。严格地讲，应定义推荐系统的损失函数，从而精确地评估推荐不同影片获得的损失下降收益。<br>主动学习的原理与强化学习一脉相承，回顾 3.10 节的强化学习框架不难发现，主动学习的过程完全遵循“行动-反馈-状态更新”的强化学习循环。它的学习目的就是在一次又一次的循环选代中，让推荐系统尽量快速地度过冷启动状态，为用户提供更个性化的推荐结果。</p><ol start="2"><li>迁移学习<br>迁移学习是在某领域知识不足的情况下，迁移其他领域的数据或知识，用于本领域的学习。那么，迁移学习解决冷启动问题的原理就不难理解了，冷启动问题本质上是某领域的数据或知识不足导致的，如果能够将其他领域的知识用于当前领域的推荐，那么冷启动问题自然迎刃而解。<br>迁移学习的思路在推荐系统领域非常常见。在 5.4 节介绍的 ESSM 模型中，阿里巴巴利用 CTR 数据生成了用户和物品的 Embedding，然后共享给 CVR 模型，这本身就是迁移学习的思路。这就使得 CVR 模型在没有转化数据时能够用 CTR 模型的“知识”完成冷启动过程。<br>其他比较实用的迁移学习的方法是在领域 A 和领域 B 的模型结构和特征工程相同的前提下，若领域 A 的模型已经得到充分的训练，则可以直接将领域 A 模型的参数作为领域 B 模型参数的初始值。随着领域 B 数据的不断积累，增量更新模型 B。这样做的目的是在领域 B 数据不足的情况下，也能获得个性化的、较合理的初始推荐。该方法的局限性是要求领域 A 和领域 B 所用的特征必须基本一致。</li></ol><p>3.“探索与利用”机制<br>“探索与利用”机制是解决冷启动问题的另一个有效思路。探索与利用是在“探索新数据”和“利用旧数据”之间进行平衡，使系统既能利用旧数据进行推荐，达到推荐系统的商业目标，又能高效地探索冷启动的物品是否是“优质”物品，使冷启动物品获得曝光的倾向，快速收集冷启动数据。<br>这里以最经典的探索与利用方法 UCB（Upper Confidence Bound，置信区间上界）讲解探索与利用的原理。<br>以下是用 UCB 方法计算每个物品的得分的公式。其中 x<sub>j</sub> 为观测到的第 j 个物品的平均回报（这里的平均回报可以是点击率、转化率、播放率等），n；为目前为止向用户曝光第 j 个物品的次数，n 为到目前为止曝光所有物品的次数之和。</p><p>$$UCB(j) = \overline{x}_j + \sqrt{\frac{2\ln(n)}{n_j}}$$</p><p>通过简单计算可知，当物品的平均回报高时，UCB 的得分会高；同时，当物品的曝光次数低时，UCB 的得分也会高。也就是说，使用 UCB 方法，推荐系统会倾向于推荐“效果好”或者“冷启动”的物品。随着冷启动的物品有倾向性地被推荐，冷启动物品快速收集反馈数据，使之能够快速通过冷启动阶段。<br>“探索与利用”除了解决冷启动问题，还可以更好地挖掘用户潜在兴趣，维持系统的长期受益状态，5.7 节将着重探讨解决“探索与利用”问题的主流方法。</p><h3 id="5-6-4-“巧妇难为无米之炊”的困境"><a href="#5-6-4-“巧妇难为无米之炊”的困境" class="headerlink" title="5.6.4 “巧妇难为无米之炊”的困境"></a>5.6.4 “巧妇难为无米之炊”的困境</h3><p>冷启动问题的难点在于没有米，还要让“巧妇”（算法工程师）做一顿饭。解决这个困局的两种思路：<br>（1）虽然没有米，但不可能什么吃的都没有，先弄点粗粮尽可能做出点吃的再说。这就要求冷启动算法在没有精确的历史行为数据的情况下，利用一些粗粒度的特征、属性，甚至其他领域的知识进行冷启动推荐。<br>（2）边做吃的边买米，快速度过“无米”的阶段。这种解决问题的思路是先做出点吃的，卖了吃的换钱买米，将饭越做越好，米越换越多。这就是利用主动学习、“探索与利用”机制，甚至强化学习模型解决冷启动问题的思路。<br>在实际的工作中，这两种方式往往会结合使用。</p><h2 id="5-7-探索与利用"><a href="#5-7-探索与利用" class="headerlink" title="5.7 探索与利用"></a>5.7 探索与利用</h2><p>一味使用历史数据，根据用户历史进行推荐，不注重发掘用户新的兴趣、新的优质物品，就会涸泽而渔。推荐系统应主动试探用户新的兴趣点，主动推荐新的物品，发掘有潜力的优质物品。<br>给用户推荐的机会是有限的，推荐用户喜欢的内容和探索用户的新兴趣都会占用宝贵的推荐机会，在推荐系统中应该如何权衡这两件事呢？这就是“探索与利用”试图解决的问题。<br>解决“探索与利用”问题目前主要有三大类方法。<br>（1）传统的探索与利用方法：将问题简化成多臂老虎机问题。主要算法有 ε-Greedy（ε 贪婪）、Thompson Sampling（汤普森采样）和 UCB。该类解决方法着重解决新物品的探索和利用，方法中并不考虑用户、上下文等因素，因此是非个性化的探索与利用方法。<br>（2）个性化的探索与利用方法：结合个性化推荐特点和探索与利用的思想，在考虑用户、上下文等因素的基础上权衡探索与利用。<br>（3）基于模型的探索与利用方法：将探索与利用思想融入推荐模型。</p><h1 id="第7章-推荐系统的评估"><a href="#第7章-推荐系统的评估" class="headerlink" title="第7章 推荐系统的评估"></a>第7章 推荐系统的评估</h1><h2 id="7-4-A-B测试与线上评估指标"><a href="#7-4-A-B测试与线上评估指标" class="headerlink" title="7.4 A/B测试与线上评估指标"></a>7.4 A/B测试与线上评估指标</h2><h3 id="7-4-1-什么是A-B测试"><a href="#7-4-1-什么是A-B测试" class="headerlink" title="7.4.1 什么是A/B测试"></a>7.4.1 什么是A/B测试</h3><p>A/B 测试又称为“分流测试”或“分桶测试”，是一个随机实验，通常被分为实验组和对照组。在利用控制变量法保持单一变量的前提下，将 A、B 两组数据进行对比，得出实验结论。具体到互联网场景下的算法测试中，可将用户随机分成实验组和对照组，对实验组的用户施以新模型，对对照组的用户施以旧模型，比较实验组和对照组在各线上评估指标上的差异。</p><h3 id="7-4-2-A-B测试的“分桶”原则"><a href="#7-4-2-A-B测试的“分桶”原则" class="headerlink" title="7.4.2 A/B测试的“分桶”原则"></a>7.4.2 A/B测试的“分桶”原则</h3><p>在 A/B 测试分桶的过程中，需要注意的是样本的独立性和采样方式的无偏性：同一个用户在测试的全程只能被分到同一个桶中，在分桶过程中所用的用户 ID 应是一个随机数，这样才能保证桶中的样本是无偏的。<br>在实际的 A/B 测试场景中，同一个网站或应用往往要同时进行多组不同类型的 A/B 测试，例如在前端进行不同 App 界面的 A/B 测试，在业务层进行不同中间件效率的 A/B 测试，在算法层同时进行推荐场景 1 和推荐场景 2 的 A/B 测试。如果不制定有效的 A/B 测试原则，则不同层的测试之间势必互相干扰，甚至同层测试也可能因分流策略不当导致指标的失真。</p><h3 id="7-5-快速线上评估方法——Interleaving"><a href="#7-5-快速线上评估方法——Interleaving" class="headerlink" title="7.5 快速线上评估方法——Interleaving"></a>7.5 快速线上评估方法——Interleaving</h3><p>对于诸多强算法驱动的互联网应用来说，为了不断迭代、优化推荐模型，需要进行大量 A/B 测试来验证新算法的效果。但线上 A/B 测试必然要占用宝贵的线上流量资源，还有可能对用户体验造成损害，这就带来了一个矛盾——算法工程师日益增长的 A/B 测试需求和线上 A/B 测试资源严重不足之间的矛盾。<br>针对上述问题，一种快速线上评估方法——Interleaving 于 2013 年被微软正式提出，并被 Netflix 等公司成功应用在工程领域。具体地讲，Interleaving 方法被当作线上 A/B 测试的预选阶段（如图 7-7 所示）进行候选算法的快速筛选，从大量初始想法中筛选出少量“优秀”的推荐算法。再对缩小的算法集合进行传统的 A/B 测试，以测量它们对用户行为的长期影响。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-27.jpg" alt="图7-7 使用Interleaving进行快速线上测试"></p><p>图 7-7 中用灯泡代表候选算法。其中，最优的获胜算法用红色灯泡表示。Interleaving 能够快速地将最初的候选算法集合进行缩减，比传统的 A/B 测试更快的确定最优算法。笔者将以 Netflix 的应用场景为例，介绍 Interleaving 方法的原理和特点。</p><h3 id="7-5-1-传统A-B测试存在的统计学问题"><a href="#7-5-1-传统A-B测试存在的统计学问题" class="headerlink" title="7.5.1 传统A/B测试存在的统计学问题"></a>7.5.1 传统A/B测试存在的统计学问题</h3><p>传统的 A/B 测试除了存在效率问题，还存在一些统计学上的显著性差异问题。下面用一个很典型的 A/B 测试例子进行说明。<br>设计一个 A/B 测试来验证用户群体是否对“可口可乐”和“百事可乐”存在口味倾向。按照传统的做法，会将测试人群随机分成两组，然后进行“盲测”，即在不告知可乐品牌的情况下进行测试。第一组只提供可口可乐，第二组只提供百事可乐，然后根据一定时间内的可乐消耗量观察人们是更喜欢“可口可乐”还是“百事可乐”。<br>这个实验在一般意义上确实是有效的，但也存在一些潜在的问题：<br>在总的测试人群中，对于可乐的消费习惯肯定各不相同，从几乎不喝可乐到每天喝大量可乐的人都有。可乐的重消费人群肯定只占总测试人群的一小部分，但他们可能占整体汽水消费的较大比例。<br>这个问题导致 A/B 两组之间重度可乐消费者的微小不平衡，也可能对结论产生不成比例的影响。<br>在互联网应用中，这样的问题同样存在。在 Netflix 的场景下，非常活跃用户的数量是少数，但其贡献的观看时长却占较大的比例，因此，在 Netflix 的 A/B 测试中，活跃用户被分在 A 组的多还是被分在 B 组的多，将对测试结果产生较大影响，从而掩盖了模型的真实效果。<br>如何解决这个问题呢？一个可行的方法是不对测试人群进行分组，而是让所有测试者都可以自由选择百事可乐和可口可乐（测试过程中仍没有品牌标签，但能区分是两种不同的可乐）。在实验结束时，统计每个人消费可口可乐和百事可乐的比例，然后对每个人的消费比例进行平均，得到整体的消费比例。<br>这个测试方案的优点在于：<br>（1）消除了 A/B 组测试者自身属性分布不均的问题。<br>（2）通过给予每个人相同的权重，降低了重度消费者对结果的过多影响。<br>这种不区分 A/B 组，而是把不同的被测对象同时提供给受试者，最后根据受试者喜好得出评估结果的方法就是 Interleaving 方法。</p><h3 id="7-5-2-Interleaving方法的实现"><a href="#7-5-2-Interleaving方法的实现" class="headerlink" title="7.5.2 Interleaving方法的实现"></a>7.5.2 Interleaving方法的实现</h3><p>图 7-8 描绘了传统 A/B 测试和 Interleaving 方法之间的差异。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-28.jpg" alt="图7-8 传统A/B测试和Interleaving方法的比较"></p><p>在传统的 A/B 测试中，Netflix 会选择两组订阅用户：一组接受排序算法 A 的推荐结果，另一组接受排序算法 B 的推荐结果。<br>而在 Interleaving 方法中，只有一组订阅用户，这些订阅用户会收到通过混合算法 A 和 B 的排名生成的交替排名。<br>这就使得用户可以在一行里同时看到算法 A 和 B 的推荐结果（用户无法区分一个物品是由算法 A 推荐的还是由算法 B 推荐的），进而通过计算观看时长等指标来衡量到底是算法 A 的效果好还是算法 B 的效果好。<br>当然，在使用 Interleaving 方法进行测试的时候，必须考虑位置偏差的存在，避免来自算法 A 的视频总排在第一位。因此，需要以相等的概率让算法 A 和算法 B 交替领先。这类似于在野球场打球时，两个队长先通过扔硬币的方式决定谁先选人，再交替选队员的过程。</p><h3 id="7-5-3-Interleaving方法与传统A-B测试的灵敏度比较"><a href="#7-5-3-Interleaving方法与传统A-B测试的灵敏度比较" class="headerlink" title="7.5.3 Interleaving方法与传统A/B测试的灵敏度比较"></a>7.5.3 Interleaving方法与传统A/B测试的灵敏度比较</h3><p>Interleaving 方法利用 10^3 个样本就能判定算法 A 是否比 B 好，而 A/B 测试则需要 10^5 个样本才能将 p-value 降到 5% 以下，即使与最敏感的 A/B 测试指标相比，Interleaving 也只需要 1% 的订阅用户样本就能够确定用户更偏爱哪个算法。这就意味着利用一组 A/B 测试的资源，可以做 100 组 Interleaving 实验，这无疑极大地加强了线上测试的能力。</p><h3 id="7-5-5-Interleaving方法的优点与缺点"><a href="#7-5-5-Interleaving方法的优点与缺点" class="headerlink" title="7.5.5 Interleaving方法的优点与缺点"></a>7.5.5 Interleaving方法的优点与缺点</h3><p>Interleaving 方法也存在一定的局限性，主要表现在以下两方面。<br>（1）工程实现的框架较传统 A/B 测试复杂。Interleaving 方法的实验逻辑和业务逻辑纠缠在一起，因此业务逻辑可能会被干扰。为了实现 Interleaving 方法，需要将大量辅助性的数据标识添加到整个数据流中，这都是工程实现的难点。<br>（2）Interleaving 方法只是对“用户对算法推荐结果偏好程度”的相对测量，不能得出一个算法真实的表现。如果希望知道算法 A 能够将用户整体的观看时长提高了多少，将用户的留存率提高了多少，那么使用 Interleaving 方法是无法得出结论的。为此，Netflix 设计了 Interleaving+A/B 测试两阶实验结构，完善整个线上测试的框架。</p><h1 id="第8章-深度学习推荐系统的前沿实践"><a href="#第8章-深度学习推荐系统的前沿实践" class="headerlink" title="第8章 深度学习推荐系统的前沿实践"></a>第8章 深度学习推荐系统的前沿实践</h1><h2 id="8-3-YouTube深度学习视频推荐系统"><a href="#8-3-YouTube深度学习视频推荐系统" class="headerlink" title="8.3 YouTube深度学习视频推荐系统"></a>8.3 YouTube深度学习视频推荐系统</h2><h3 id="8-3-5-排序模型"><a href="#8-3-5-排序模型" class="headerlink" title="8.3.5 排序模型"></a>8.3.5 排序模型</h3><p>通过候选集生成模型，得到几百个候选视频集合，然后利用排序模型进行精排序，YouTube 推荐系统的排序模型如图 5-9 所示。<br>第一眼看上去，读者可能会认为排序模型的网络结构与候选集生成模型没有太大区别，在模型结构上确实是这样的，这里需要重点关注模型的输入层和输出层，即排序模型的特征工程和优化目标。<br>相比候选集生成模型需要对几百万候选集进行粗筛，排序模型只需对几百个候选视频进行排序，因此可以引入更多特征进行精排。具体地讲，输入层从左至右的特征依次是：<br>（1）当前候选视频的 Embedding（impression video ID embedding）。<br>（2）用户观看过的最后 N 个视频 Embedding 的平均值（watched video IDs average embedding）。<br>（3）用户语言的 Embedding 和当前候选视频语言的 Embedding（language embedding）。<br>（4）该用户自上次观看同频道视频的时间（time since last watch）。<br>（5）该视频已经被曝光给该用户的次数（＃previous impressions）。<br>上面 5 个特征中，前 3 个的含义是直观的，这里重点介绍第 4 个和第 5 个特征。因为这两个特征很好地引入了 YouTube 对用户行为的观察。<br>第 4 个特征 time since last watch 表达的是用户观看同类视频的间隔时间。从用户的角度出发，假如某用户刚看过“DOTA 比赛经典回顾”这个频道的视频，那么用户大概率会继续看这个频道的视频，该特征很好地捕捉到了这一用户行为。<br>第 5 个特征＃previous impressions 则在一定程度上引入了 5.7 节介绍的“探索与利用”机制，避免同一个视频对同一用户的持续无效曝光，尽量增加用户看到新视频的可能性。<br>需要注意的是，排序模型不仅针对第 4 个和第 5 个特征引入了原特征值，还进行了平方和开方的处理。作为新的特征输入模型，这一操作引入了特征的非线性，提升了模型对特征的表达能力。</p><h2 id="8-4-阿里巴巴深度学习推荐系统的进化"><a href="#8-4-阿里巴巴深度学习推荐系统的进化" class="headerlink" title="8.4 阿里巴巴深度学习推荐系统的进化"></a>8.4 阿里巴巴深度学习推荐系统的进化</h2><h3 id="8-4-1-推荐系统应用场景"><a href="#8-4-1-推荐系统应用场景" class="headerlink" title="8.4.1 推荐系统应用场景"></a>8.4.1 推荐系统应用场景</h3><p>阿里巴巴的应用场景读者可能比较熟悉，无论是天猫还是淘宝，阿里巴巴推荐系统的主要功能是根据用户的历史行为、输入的搜索词及其他商品和用户信息，在网站或 App 的不同推荐位置为用户推荐感兴趣的商品。<br>在解决推荐问题时，熟悉场景中的细节要素和用户操作的不同阶段是重要的。例如，某用户希望在天猫中购买一个“无线鼠标”，从登录天猫到购买成功，一般需要经历以下几个阶段（图 8-17 展示了用户搜索“无线鼠标”时的推荐结果）。<br>图 8-17 在天猫中搜索“无线鼠标”时的推荐结果<br>（1）登录。<br>（2）搜索。<br>（3）浏览。<br>（4）点击。<br>（5）加入购物车。<br>（6）支付。<br>（7）购买成功。<br>每一步都存在着用户的流失，又以“浏览-点击”，“点击-加入购物车”最为关键。那么，到底应该为这两个阶段的行为单独建立 CTR 模型和 CVR 模型，还是统一建模呢？5.4 节介绍的多目标优化模型 ESMM 给出了阿里巴巴技术人员对这个问题的思考。</p><h3 id="8-4-2-阿里巴巴的推荐模型体系"><a href="#8-4-2-阿里巴巴的推荐模型体系" class="headerlink" title="8.4.2 阿里巴巴的推荐模型体系"></a>8.4.2 阿里巴巴的推荐模型体系</h3><p>阿里巴巴推荐模型进化过程的重点在于对用户历史行为的利用。一方面，用户历史行为确实在推荐中扮演着至关重要的作用；另一方面，得益于阿里巴巴极高的数据质量，其在电商领域的领先地位决定了它的数据能够保存大部分用户的购买兴趣特征，从而有效地对其建模。图 8-20 所示为某女性用户的购买历史。这个例子（每个图片代表该用户购买过的一个商品）很好地解释了阿里巴巴不同推荐模型对用户行为的建模原理。</p><p><img data-src="/deep-learning-recommender-systems/deep-learning-recommender-systems-29.jpg" alt="图8-20 阿里巴巴各模型对用户行为的建模方法"></p><p>图 8-20（a）是基础深度学习模型对待用户行为的办法，即一视同仁，不分重点；从图 8-20（b）中可以看出，每个商品开始有了一个用进度条表示的权重，这个权重是基于该商品与候选商品的关系，通过注意力机制学习出来的。这就让模型具备了有重点地看待不同用户行为的能力；图 8-20（c）中的用户行为有了时间维度，行为历史按照时间轴被排列成了一个序列，DIEN 模型开始考虑用户行为和用户兴趣随时间变化的趋势，这让模型真正具备了下次购买的预测能力；图 8-20（d）中的用户行为不仅被排成了序列，而且根据商品种类的不同被排列成了多个序列，这使得 MIMN 模型开始对用户多个“兴趣通道”进行建模，更精准地把握用户的兴趣变迁过程，避免不同兴趣之间相互干扰。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/250.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="计算机科学" scheme="https://qianling.pw/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="计算机科学" scheme="https://qianling.pw/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    <category term="教材" scheme="https://qianling.pw/tags/%E6%95%99%E6%9D%90/"/>
    
  </entry>
  
  <entry>
    <title>《赤裸裸的统计学》笔记</title>
    <link href="https://qianling.pw/naked-statistics/"/>
    <id>https://qianling.pw/naked-statistics/</id>
    <published>2023-07-19T00:00:58.000Z</published>
    <updated>2023-07-19T00:00:58.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/75.webp"></p><span id="more"></span><hr><p><strong><center>赤裸裸的统计学 /（美）惠伦著；曹槟译. — 北京：中信出版社，2013.11<br>书名原文：Naked Statistics<br>ISBN 978-7-5086-4215-4</center></strong></p><hr><h1 id="第2章-描述统计学"><a href="#第2章-描述统计学" class="headerlink" title="第2章 描述统计学"></a>第2章 描述统计学</h1><p>基尼系数、传球效绩指数都是将一系列复杂数据浓缩成一个单一数字，只是用作比较的工具，其数字本身并无实质意义。</p><p>数据只不过是知识的原材料。</p><p>描述统计学存在的意义就是简化，因此不可避免地会丢失一些内容和细节。</p><p>用回归分析的方法来完成两个关键步骤：（1）量化吃麸皮饼和患结肠癌之间的关系（例如，在其他影响癌症发病率的因素完全相同的情况下，吃麸皮饼的人患结肠癌的发病率要比不吃麸皮饼的人低 9%），（2）量化吃麸皮饼和结肠癌发病率下降之间的关系只是巧合的概率</p><p>回归分析的局限：我们可以通过统计分析来确定两个变量之间的强烈联系，但却无法解释为什么存在联系，在某些情况下，也无法确定这种联系是否为因果关系，也就是说，不知道其中一个变量的变化是否真的能引起另一个变量的变化。</p><p>中位数正好将一组数字一分为二，1/2 位于中位数之前，另外 1/2 位于中位数之后 (如果遇上一组数字的数量为偶数，那么中位数就是中间两个数的平均值)。<br>如果一组数据分布中没有特别离谱的异常值，那么它们的中位数和平均数差不多。<br>中位数将一组数据从中间分为两部分，这组数据其实还可以继续分为 4 部分，称之为“四分位数”。第一四分位数由处于底部的 25% 的数据构成，往后的 25% 的数据构成了第二四分位数，以此类推。同样的，收入分配数据还可以分为“十分位数”，每组包含 10% 的数据。如果你的收入属于美国人均收入分配顶层的那 10%，那么这意味着你要比 90% 的美国人挣得都多。我们还可以细分下去，将收入数据分为 100 份，也就是“百分位数”，每个百分位数都代表 1% 的数据，也就是说，第一百分位数表示位于底部的 1% 的人的收入，第 99 百分位数代表收入分配数据中收入最高的那 1% 的人。<br>这类描述性数字的好处在于，它们描述了某个具体的值在与其他数据进行比较时所处的位置。如果我告诉你，你的孩子在阅读考试中的成绩处于班级的第三百分位数（有 97% 的孩子的分数比你的孩子高），你该即刻意识到全家人应该在学习方面多辅导孩子。</p><p>标准差用来衡量数据相对于平均值的分散程度。<br>标准差是衡量离散的指标，反映了分散在平均值周围的数据的聚合程度。<br>对于许多典型的数据分布来说，有很大比例的数值都位于它们的平均数的某个标准差范围以内，这些数值有的比平均值大，有的比平均值小，但都是在一个正常范围之内。美国成年男性的平均身高为 70 英寸（1.778 米），标准差约为 3 英寸（0.0762 米），这意味着有很大一部分美国成年男性的身高在 67 英寸（约 1.7 米）到 73 英寸（约 1.85 米）之间。换言之，任何一个身高介于上述区间内的美国成年男性都不会被认为身高异常。<br>当然，距离平均值两个标准差的数值会减少，3~4 个标准差的数值就更少了。以身高为例，如果一个美国成年男性高于平均身高 3 个标准差，那么他的身高至少为 79 英寸（约 2 米多）。<br>在描述统计学中，方差很少被直接用于结论当中，往往是作为计算标准差的中间环节，而标准差才是一个更为直观的描述性数据，标准差就是方差的平方根。</p><p>最常见的分布之一：正态分布。数据的分布一般来说都是对称的，以平均数为中轴呈现类似于“钟”的形状，<br>美国成年男性的身高分布也是对称的，要么比 70 英寸的平均身高略高，要么略低，而且越接近平均身高，人数越多。<br>每一次 SAT 考试都经过精心设计，以得到一个平均分为 500 分、标准差为 100 的成绩的正态分布。<br>通过定义就能知道，有多少数值位于平均值一个标准差的范围之内（68.2%），有多少数值位于两个标准差的范围以内（95.4%），还有多少数值位于 3 个标准差的范围以内（99.7%），以此类推。<br><img data-src="/naked-statistics/naked-statistics-1.jpg" alt="图2-3正态分布"><br>中间的那条线代表平均值，通常由希腊字母μ表示；标准差通常由希腊字母σ表示；每条色带均代表一个标准差</p><p>计算百分数差(或变化)的公式是这样的：(新数据-原数据)/原数据。分子(分数的上半部分)就是变化的绝对值，分母(分数的下半部分)的作用是将这一变化与原数据进行比较，也就是为变化添加背景。</p><p>一个“绝对”分数、号码或数字具有一些与生俱来的意义。<br>一个“相对”值或数字只有在比较或处于一个更大的背景中时才有意义。<br>描述统计学经常会比较两个数据或数量。例如，我比我的哥哥高 1 英寸，今天的气温比历史平均值高 9 摄氏度等。这些比较之所以易于理解，是因为我们大部分人都对其中所包含的数量单位并不陌生。但如果我告诉你，某品牌麦片中 A 配方的钠含量要比 B 配方高 31 毫克，除非你恰好懂得很多关于钠的知识（以及该品牌麦片的食用分量），否则上面这句话并不能给你带来特别具体的信息。又或者我对你说，我的外甥阿尔在 2013 年比 2012 年少挣了 5.3 万美元，我是不是应该对他表示担心呢？阿尔也许是一位对冲基金经理，5.3 万美元只不过是他年薪的一个零头。<br>在钠含量和收入这两个例子里，我们都缺少背景资料。赋予这些比较型数据意义的最简单的方法就是使用百分比。如果我跟你说，某品牌麦片 A 配方的钠含量比 B 配方高了 50%，我的外甥阿尔在 2013 年的收入与 2012 年相比减少了 47%，是不是就更容易理解了？用百分比来表示变化，可以让我们有一种用刻度测量的感觉。<br>伊利诺伊州的个人所得税税率由原来的 3% 上调到了 5%，有两种不一样的说法来描述这一税率的变化。主张并促成这次个税改革的民主党指出，伊利诺伊州的个人所得税税率上升了两个百分点，从 3% 上涨到 5%，共和党指出，该州的所得税税率上升了 67%。</p><p>将一系列复杂的数据序列减少为几个能够起到描述作用的数字，如奥运会体操比赛中将一套多难度组合的复杂动作浓缩为一个得分：9.8。<br>指数的缺点：我们有各种各样的方式来浓缩信息，每种方式都有可能导致一个不同的结果。所有指数均取决于其构成的描述性数据以及它们的权重，任何一点儿微小的变化都有可能引起结果的改变，因此，即使是最终得到的那个指数，可能是一种情况不完美但有现实意义的，也可能是完全不合理的。举一个前一种情况的例子——联合国的人类发展指数（HDI），这是一个比单纯的收入更加广泛的经济健康衡量指数。人类发展指数将收入作为评价的组成部分之一，同时还考虑到了寿命和受教育程度。美国在人均经济产出方面位居世界第 11 位（排在卡塔尔、文莱、科威特等几个石油国家之后），但在人类发展方面跃居全球第 4 名。的确，如果人类发展指数里的组成指标发生变化的话，最终的排名也会不一样，但可以肯定的是，只要是符合常理的调整，无论如何都不会出现津巴布韦超越挪威的结果。当我们想要了解全世界各地人民生活水平的差异时，人类发展指数为我们提供了一个简单方便且相对准确的排名。</p><p>要评价美国“中间阶级”的经济状况，我们需要了解（通货膨胀调整后的）工资中位数在过去几十年中的变化，他们还建议我留意一下处于第 25 百分位数和第 75 百分位数人群的工资变化，因为这两拨人通常被认为是中产阶级中的高收入和低收入人群。<br>还有一组必须分清楚的概念就是，在评价经济状况的过程中，不能将收入和工资等同起来。这两者是不同的，工资是我们付出的固定份额的劳动所得，如时薪或周薪；收入是全部所得的总和，来源有多种。如果一个工人找了一份兼职，或者加班很多个小时，那么这个人的收入会增多，但工资却没有发生变化。这就说明，即使一个人的工资下降，他的收入依然有可能上升，如果他加班足够多的话。但如果这些人不得不付出更多的劳动来取得更多的收入，那么我们很难评价他们的整体生活质量到底是更好还是更糟。因此，相比于收入来说，工资是评价美国人劳动收益的一个更加直观的指标，工资越高，工人们每工作 1 小时能领到的钱也就越多。说了那么多，下面我们来看一幅过去 30 年美国人工资水平的变化图，在图中<br>我还加入了第 90 百分位数人群的数据，以此对比相同时间内中产阶级工人和 10% 最富裕人群的工资增长水平。<br>（单位：美元）<br><img data-src="/naked-statistics/naked-statistics-2.jpg" alt="图2-4 不同收入群体的周薪变化"><br>资料来源：《1979〜2009年美国工人时薪分配变化》，美国国会预算办公室，2011年2月16日。图中具体数据参见<a href="http://www.cbo.gov/sites/default/files/cbofiles/ftpdocs/120xx/doc12051/02-16-wagedispersion.pdf">http://www.cbo.gov/sites/default/files/cbofiles/ftpdocs/120xx/doc12051/02-16-wagedispersion.pdf</a><br>从这些数据中，我们可以得出有关中产阶级经济状况的各种结论，但都不会共同指向一个唯一“正确”的答案。从中我们能看到，典型的美国工人挣着中位数工资，在原地踏步了将近 30 年；但处于第 90 百分位数的富人们就好多了。</p><h1 id="第3章-统计数字会撒谎"><a href="#第3章-统计数字会撒谎" class="headerlink" title="第3章 统计数字会撒谎"></a>第3章 统计数字会撒谎</h1><p>9200 万美国人享受减税待遇，人均减税额超过 1000 美元 (具体数字应该是 1083 美元)。这个关于减税政策的概括准确吗？<br>是不是会有 9200 万美国人将享受减税待遇？答案是肯定的。<br>但大部分人都不能少缴纳约 1000 美元税款，因为减税额的中位数还不足 100 美元。<br>只有数量相对少的巨富们才有资格享受大额减税，而正是这些人拉高了平均值，让人均减税额看起来比绝大多数美国人真正享受到的要高。中位数对异常值并不敏感，因此在这个例子中，如果要看政府的减税政策对普通家庭的影响，中位数是更为准确的描述性数据。</p><p>也正是因为中位数对异常值不敏感，所以在某些情况下中位数同样会掩盖事实真相。假设你患上了某种不治之症，好消息是有一种新药刚刚研发出来，可能会对你的病产生积极疗效，坏消息是这种药的价格非常昂贵，而且副作用有很多。医生告诉你这种新药能够延长患此疾病的病人的“半数预期寿命”（也就是这些病人寿命的中位数）达两周。这根本就算不上是什么好消息，相比起那么贵的药价和不良反应，这两周的寿命不要也罢。同时，你的保险公司也拒绝为这项治疗承担费用。这是一个基于半数预期寿命的典型案例。<br>但在这个例子中，中位数或许会成为一个相当有误的数据。假设有许多病人对这种新药完全没反应，但同时也有相当数量（30%~40%）的病人完全治愈了。然而，后者的成功并不能在中位数中得到体现（虽然接受新药治疗的病人的平均寿命看上去非常令人振奋）。对你而言，与你自己高度相关、真正影响你决定的反而是那些接受了新药治疗并活了很多年的病人，也就是统计学里的异常值。进化生物学家史蒂芬·杰·古尔德曾经被诊断出患有某种癌症，他的半数预期寿命只有区区 8 个月。但 20 年过去了，古尔德死于另一种不相关的癌症。古尔德生前写过一篇非常有名的文章，题目为“中位数不等于真信息”，他在文章里指出了他只能活 8 个月是一个错误结论，并表示是他头脑里积累的统计学科学知识将他从错误的结论中拯救了出来。中位数的定义告诉我们有 1/2 的病人活不到 8 个月，但另外 1/2 的病人至少可以活 8 个月，或者比 8 个月 的时间更长（甚至是活到老），其死亡分布是“右偏”的。因此，如果你恰好患上了这种病，这一数据的意义要比一个单纯的技术术语丰富得多。<br>上述例子表明，中位数的决定性特征——不考虑数据距离中间位置有多远或是多近，而是关注它们是高于中间位置还是低于中间位置——反而成为它的弱点。与之相反，平均数恰恰是由数据分布决定的。从准确性的角度来看，平均数和中位数孰取孰舍，关键就在于这个数据分布里的异常值对事实的真相是起到扭曲的作用，还是其重要的组成部分。再次强调，判断比数学更重要。当然，没有人强制你一定得选中位数或平均数，任何一个复杂综合的数据分析都会包含这两个数据。所以，当只有其中一个数据出现的时候，你就要注意了，有可能只是出于言简意赅的考虑，但也有可能是某些人别有用心地想用数据“说服”你。<br>经济学家甚至为这一重要的现象冠以专业术语，以表示相关数据是否考虑了通货膨胀因素。名义数据就是没有就通货膨胀做出调整的数字，比较 1970 年某项政府项目的名义花费与 2011 年政府在相同项目上的名义花费，实际上看的仅仅是政府财政部在这两年所开出的支票的票面金额，并没有考虑 1970 年的 1 美元能买的东西比 2011 年买到的东西多。假设政府在 1970 年时为老兵的住房补助项目投入了 1000 万美元，到了 2011 年，政府在此项目上投入了 4000 万美元，联邦政府在这个项目上的努力实际上是退步了。花费的金钱在名义上的确是增多了，但这并没有反映出美元价值的变化。1970 年的 1 美元相当于 2011 年的 5.83 美元，也就是说政府 2011 年需要在老兵的住房补助项目上投入 5830 万美元才是与 1970 年的 1000 万美元持平。<br>实际数据是考虑了通货膨胀因素并做出调整的数字。最常见的方法就是将所有数据统一换算成一个相同的单位，如 2011 年的美元。<br>美国最低工资标准是由美国国会制定的。当前的最低工资标准为每小时 7.25 美元，这是一个名义值。你的上司才不会理会现在的 7.25 美元能买到的东西是不是和两年前一样多，他只需要保证能够支付给你的时薪不少于 7.25 美元。上司只跟你谈支票上的数字，而非该数字背后的购买力。<br>随着时间的推移，通货膨胀会逐渐削弱最低工资的购买力（以及其他名义工资的购买力，这也是为什么工会代表在与雇主谈判时总会谈到“生活成本调整”的问题）。如果商品价格的上涨速度快于美国国会调高最低工资的速度，那么每小时能够获得的最低工资的实际价值就会缩水。最低工资标准的支持者们应该关注这一工资的实际价值，因为这项法律出台的初衷就是为了保护低收入工人的利益，保证他们每小时的劳动所获得的报酬能够换来一定水平的购买力以维持生活，而不是让他们在付出劳动后却得到一张什么都买不起的大额支票。</p><p>好莱坞在比较不同年份的电影票房时，总是会对通胀因素视而不见，或许是因为无知，但更有可能是出于对利益的考虑。<br>截止到 2011 年，史上最卖座的 5 部电影依次为：</p><ol><li>《阿凡达》(2009)。</li><li>《泰坦尼克号》(1997)。</li><li>《蝙蝠侠前传II:暗黑骑士》(2008)。</li><li>《星球大战IV》(1977)。</li><li>《怪物史莱克II》(2004)。</li></ol><p>这个排名看上去是不是有点奇怪？好莱坞最常做的事就是让最新的大片看上去比上一部的场面更大、更加成功。为达到这个目的，好莱坞（以及负责媒体电影报道版块的记者）很少用名义数据，因为这一做法会让现在的电影在票房上很轻易地超过 10 年、20 年或者是 50 年前的电影——谁都知道现在的票价比以前贵多了（当《乱世佳人》在 1939 年上映的时候，那时美国某地的一张电影票售价只有 0.5 美元）。比较不同时期电影的商业成功最准确的方法就是，考虑了通货膨胀因素后做出调整的票房成绩。1939 年 1 亿美元的票房可比 2011 年 5 亿美元的票房壮观多了。这样来看，将通货膨胀考虑在内，美国史上最卖座的 5 部电影是：</p><ol><li>《乱世佳人》(1939)。</li><li>《星球大战IV》(1977)。</li><li>《音乐之声》(1965)。</li><li>《外星人E·T》(1982)。</li><li>《十诫》(1956)。</li></ol><p>以剔除通胀因素的实际票房成绩来看，《阿凡达》只排到了第14位，《怪物史莱克II》则落到了第31位。</p><p>研究人员有时候会特别指出某项增长数据是由“一个较低的基数”得出的，哪怕是很小的一点儿增长在进行百分率比较时，看上去都会很可观。<br>除此之外，百分率的另一面也是很可怕的，那就是一个庞大数额的微小比例也会是一个很大的数字。如果美国国防部部长说，2013 年的军费开支仅增长 4%——这看上去可是一条好消息啊！作为纳税人的我们，是不是应该庆祝？其实并不尽然，因为美国的国防预算是在 7000 亿美元左右，4% 的比例就是 280 亿美元，这笔钱能买多少个火鸡三文治啊！事实上，区区 4% 的军费开支就已经超过了美国国家航空航天局（NASA）的全部预算，相当于美国劳工部和财政部预算的总和。<br>同样的，想象一下你有一个菩萨心肠的老板，出于公平的考虑，他决定 2013 年为公司的每一位员工加薪 10%——多么慷慨的决定啊！只不过有一点，老板的年薪是 100 万美元，而你每年只挣 5 万美元，老板将会得到 10 万美元的加薪，而你只有 0.5 万美元的加薪。“2013 年每个人都将获得 10% 的加薪”听上去要比“我的加薪是你的 20 倍”好受太多了——虽然这两句话都没错。</p><p>考核学校和教师最常用的方法就是看学生的考试分数，统考结束后，学生的优异成绩就是教师和学校最好的金字招牌；与之相反的，糟糕的成绩无疑会释放出一个清晰的信号：相关教师应该被辞退，而且越早辞退越好。这样看来，仅凭考试分数我们就能彻底改善公共教育系统了，对吗？<br>错。<br>学生的学业表现有好有差，但其中有多少比例要归功或归咎于学校（或所在的班级）呢？<br>从小就生活在衣食无忧、书香门第家庭里的孩子，一般来说从进入幼儿园的第一天起就有可能会比别的孩子的成绩好。相反的情况同样成立，有些学校的学生天资平平，虽然教师教得很好，但是学生的成绩还是处在一个低水平上，如果没有这些老师的付出，那些学生的成绩会更加惨不忍睹。所以，我们需要在学校，甚至班级层面上将一些“附加值”纳入考核。学生成绩的绝对水平对于解答我们的问题没有意义，我们想知道的是这些学生的表现中有多少是受到了学校和教师的影响，我们想要评估的其实是这些教学因素。<br>有人会说这并不难，只需要在开学时给学生安排一场摸底考试即可，再将这次考试的成绩与入学之后的考试成绩进行对比，就能够判断学生的学业是进步了还是退步了，并由此对其所在的学校或班级进行评价。<br>但这种方法还是错误的。不同能力或背景的学生在学习上的进步程度也是不同的。一些学生在领会知识点方面就是比其他学生快，而这与老师的教学质量没有关系。假如让优质学校 A 的学生和各方面都稍差的学校 B 的学生同时开始学习相同难度的代数课，一年以后，A 校学生的代数成绩更理想，原因可能是 A 校的教师教学能力更强，也可能是 A 校学生的学习能力更强，还有可能二者兼有。</p><p>我们所有关于寻找“最佳”学校的努力都有可能适得其反，误导大众。<br>每年秋天，芝加哥的几家当地报纸和杂志都会对该区域内的高中进行一次排名，其主要参考依据通常是州考成绩。从统计学的角度看，这些排名难免会有一些让人捧腹的地方，比如常年位居榜单前几位的都是一些选择性招生的学校，意思是说学生要进入这些高中，就必须提出申请，申请者中只有很小一部分的人能够如愿，而这些学校在挑选学生时最重要的参考依据就是学生的统考成绩。我们就这个问题作个小结：（1）这些学校因其学生在州考中的出色发挥而被认为是“优质”学校；（2）要进入这些学校学习，首先学生要有非常高的考试分数。</p><p>在考试分数的统计过程中，也出现了同样恶劣的作弊现象。提高考试成绩的方式之一就是改善教学质量，这样学生就能学到更多的知识，并且在考试中取得进步，改善教学质量确实是较好的方法。而比较差的方法则是想办法让那些成绩最差的学生“远离”考场，即使剩余参加考试的学生的成绩没有任何长进，最终考试的平均成绩也会有所提升。</p><p>纽约州就因为类似的统计陷阱而栽了大跟头，付出了惨痛的代价。州政府之前出台了“记分卡”制度，对接受心脏搭桥手术的病人的死亡率进行统计，以便让公众在选择心脏科医生时有一个参考。这似乎是一个完全合情合理，而且有所帮助的描述统计学在政策制定过程中的应用。心脏搭桥手术是治疗心脏病最常用和有效的方法，心脏病人在搭桥手术过程中的死亡比例当然是一个非常重要的数据，而作为个人根本没有办法了解到确切数据，因此政府出面收集并向公众公开这一数据是合乎情理的。但就是这么一个“好”政策，却导致了更多病人的死亡。<br>心脏科医生肯定会在意他们的“记分卡”。但是对于一个外科医生来说，降低病人死亡率最简单的方法并不是降低病患死亡人数，因为大部分医生在救死扶伤方面已经竭尽全力了。降低死亡率最简单易行的方法是拒绝为那些病况最严重的病人动手术。罗彻斯特大学医学与牙医学院的一项调查表明，以服务病人为初衷的记分卡，到头来反而会给病人造成伤害：在参与调查的心脏科医生中，有 83% 的医生表示正是由于公开了死亡率数据，一些本来可以从搭桥手术中获益的病人最终没能被安排进行手术；79% 的医生表示收集并公开死亡率数据或多或少地影响了他们的治疗决策。这一看似有用的描述性数据存在一个可悲的矛盾，而心脏科医生也只能理性地接受并釆取自己的对策，就是让那些最需要心脏搭桥的病人远离手术台。</p><h1 id="第4章-相关性与相关系数"><a href="#第4章-相关性与相关系数" class="headerlink" title="第4章 相关性与相关系数"></a>第4章 相关性与相关系数</h1><p>相关性体现的是两个现象之间相互关联的程度。<br>如果一个变量的改变引发另一个变量朝着相反的方向变化，那么这两个变量就存在负相关性。<br>有些时候也会出现与相关性相违背的现象。有些个子矮的人就是比个子高的人重一些，有些从来不运动的人甚至比运动爱好者苗条，但无论怎样，身高与体重、锻炼与体重之间总是存在着有意义的关联。</p><p>相关性作为一个统计工具的魅力就在于将两个变量的关联精炼成一个描述性数据：相关系数。<br>相关系数是一个区间为 -1 到 1 的常数。如果相关系数为 1，即完全相关，表示一个变量的任何改变都会导致另一个变量朝着相同方向发生等量的改变。如果相关系数为 -1，即完全负相关，代表一个变量的任何变化都将会引发另一个变量朝着相反方向发生等量的改变。<br>相关系数越接近 1 或 -1, 变量间的关联性就越强。如果相关系数为零（或者接近零），则意味着变量之间不存在有意义的联系。<br>相关系数不受变量单位的限制。我们可以计算身高和体重之间的关联性，哪怕身高和体重的单位分别是英寸和磅。我们甚至还可以计算出高中生家里的电视机数量和他们的考试成绩之间的关联性，而且我敢保证是正相关。这就是相关系数能够为我们完成的一件非常神奇的事情：将大量芜杂无序、单位不统一的复杂数据（就比如上面的身高、体重散点分布）加工成一个简洁、优雅的描述性数据。<br>相关系数的计算过程如下：</p><ol><li>计算出两个变量的平均数和标准差。还是以身高和体重为例，我们会得出样本人群的平均身高和平均体重，以及它们的标准差。</li><li>对所有数据进行转换，表现为距离（也就是标准差）的形式。</li></ol><p>假设样本的平均身高为 66 英寸（标准差为 5 英寸），平均体重为 177 磅（标准差为 10 磅）。如果你的身高为 72 英寸，体重为 168 磅，就表明你高于平均身高 1.2 个标准差，用公式来表述即为 [（72-66）/5]=1.2, 轻于平均体重 0.9 个标准差 , 即 [（168-177）/10]=-0.9。的确，如果你的身高高于平均身高，体重却轻于平均体重，我们可以用“异常”来形容。注意了，在此之前你的身高和体重数据后面还紧跟着单位——“英寸”和“磅”，现在却被转换成了简简单单的 1.2 和-0.9，单位神奇地消失了。</p><ol start="3"><li>到了这一步，只需要让电脑完成剩下的工作。通过公式，电脑会整合样本里所有人的身高和体重的标准差数据，并最终为我们揭示身高和体重之间的关系。假如样本中有些人的身高高于平均值 1.5 或 2 个标准差，那么他们的体重相对于平均值来说会呈现一种什么状况？那些身高接近平均值的人，他们的体重又会有什么变化？</li></ol><p>如果一个变量和平均值之间的距离与另一个变量和平均值之间的距离在相同方向上高度吻合（例如，身高特别高或矮的人的体重一般也会特别重或轻），那么我们就可以断言这两个变量之间存在着强烈的正相关关系。<br>如果一个变量和平均值之间的距离与另一个变量和平均值之间的距离在相反方向上高度吻合（例如，锻炼时长大大高于平均值的人，他们的体重也大大低于平均值），那么我们就可以断言这两个变量之间存在着强烈的负相关关系。<br>如果两个变量无论在什么分析模式下都无法呈现出规律（例如鞋的尺码和锻炼时长），那么这两个变量之间就不存在或基本不存在相关性。</p><p>SAT 测试的初衷就在于“让每位学生在申请大学时都能得到公平的对待”。SAT 将学生能力标准化加工，让大学在录取学生时有了简单明了的参考标准。但 SAT 测试究竟是不是一个好的能力评价标准呢？想要找一个评价学生的统一标准并不难，我们可以让所有的高中毕业生来一个百米测试，也能分出优劣，而且比 SAT 花费少和易于操作。不过有一个问题，百米短跑的成绩与大学表现可以说毫不相关，这是两个不相关的变量，虽说数据收集并不费劲，但它也不会告诉我们有意义的情况。<br>那么，SAT 在这方面的表现如何？我有一个不幸的消息要告诉未来的高中毕业生，SAT 成绩在预测大学一年级学生的成绩方面表现得相当不错。美国大学委员会定期会发布相关性报告。零代表毫不相关，1 代表完全相关，学生的高中平均成绩与大学第一年的平均成绩之间的相关系数为 0.56（为了让大家有一个直观的比较，我为大家提一个数据，那就是美国成年男子身高和体重之间的相关系数大约为 0.4）, 而 SAT 综合成绩（阅读、数学和写作）与大学第一年的平均成绩之间的相关系数同样为 0.56。既然 SAT 测试在预测学生大学表现方面并没有比高中的平均成绩更优秀，那为什么还要设立这样一个考试呢？事实上，如果将 SAT 成绩和高中平均成绩综合起来，就能得到一个相关系数为 0.64 的最佳预测指数。所以，亲爱的同学，我只能说抱歉了，乖乖地准备 SAT 考试吧。</p><p>我们必须牢记一点，那就是相关关系并不等于因果关系。两个变量存在正相关或负相关的关系，这并不代表其中一个变量的改变是由另一个变量的变化引起的。</p><h1 id="第5章-概率与期望值"><a href="#第5章-概率与期望值" class="headerlink" title="第5章 概率与期望值"></a>第5章 概率与期望值</h1><p>1981 年，美国约瑟夫·施利茨酿酒公司斥 170 万美元巨资为该公司旗下的旗舰品牌——施利茨啤酒开展了一场大胆而冒险的市场营销活动。当美国橄榄球超级杯大赛（即“超级碗”）的中场休息时间一到，施利茨公司就会当着全球亿万电视观众的面，现场直播一场别开生面的啤酒品鉴会，而挑选的对手不是别人，正是施利茨的死对头——米切罗啤酒，更让人大跌眼镜的是，参加品鉴会的不是别人，正是 100 名米切罗啤酒的忠实用户。这样的广告从始至终出现在季后赛的每一场比赛当中。类似的电视直播啤酒品鉴会总共有 5 场，每场都会邀请 100 名某品牌啤酒的“拥趸”，包括百威、米勒、米切罗等，让这些啤酒爱好者在自己最钟爱的啤酒和施利茨啤酒之间进行“盲品”。一边是如火如荼正在进行的职业橄榄球季后赛，一边是同样激烈的啤酒品鉴会，那时的广告标语甚至打出了“看季后赛，喝施利茨啤酒”的字样。<br>广告噱头很明确：即使是那些自认为喜欢另一种品牌的啤酒爱好者，在盲品时也会发现自己更偏爱施利茨啤酒。啤酒公司甚至还请了一位橄榄球职业联赛的前裁判来监督整个活动过程。考虑到在数量众多的电视观众面前举办这样一场充满风险的啤酒品鉴会，你肯定会觉得施利茨啤酒的口感一定特别好，否则哪会有勇气搞这样的宣传，是吗？<br>那可不一定。施利茨只需要生产出口感平平的啤酒，再掌握一些扎实的统计学知识，就能确保这项计谋肯定会成功——注意，我在写作时通常会非常谨慎地使用“计谋”这样的词，尤其是列举啤酒广告这样的例子。施利茨所生产的这种啤酒喝起来没什么特别的，跟绝大多数其他品牌的同类啤酒几乎没有太大差别；但讽刺的是，正是这一点成为施利茨啤酒广告营销的核心。可以假定的是，如果在街上随机找几个喜欢喝啤酒的人，他们基本上区分不出施利茨、百威、米切罗或米勒啤酒。因此，取其中任意两种品牌的啤酒进行盲品测试，猜对品牌的概率基本上和扔硬币差不多。大体来看，有 1/2 的人会选择施利茨，剩下 1/2 的人会选择“挑战”品牌的啤酒，单看这样的结果可能无法构成一个有说服力的广告营销（我们总不能说“既然口感都差不多，就选择施利茨吧”）。而且，施利茨啤酒公司绝对不会拿自己的忠实用户做试验，因为差不多有 1/2 的用户会“不小心”挑选其他品牌的啤酒。如果一群原本忠实于某品牌啤酒的消费者在盲品时竟然觉得竞争对手的啤酒好喝，这个品牌该有多悲哀啊，所以，施利茨就让这样的事情发生在其他品牌身上。<br>施利茨的高明之处在于，只邀请那些声称自己偏爱另外一个品牌啤酒的消费者参加测试。如果盲品的结果果真如抛硬币一样，那么就会有 1/2 的百威、米勒或米切罗啤酒的爱好者最终选择施利茨。这下施利茨扬眉吐气了，因为有 1/2 的百威啤酒爱好者更喜欢喝施利茨！<br>更妙的是，这一切都在橄榄球联盟决赛的中场进行直播，而且由一位身穿裁判服的橄榄球前裁判执法整个盲品过程。毕竟是电视直播，就算施利茨已经私底下进行了大量试验，并证明了有 1/2 的米切罗啤酒爱好者会选择施利茨啤酒，又有谁能够保证在最终直播的时候不出岔子？万一“超级碗”直播时选取的 100 名米切罗爱好者的味觉特别灵敏呢？虽然盲品测试在概率上等同于抛硬币，但万一就是有绝大部分人恰巧选择了米切罗呢？如果我们让 100 个人排成一队，逐个抛硬币，出现 85 或 90 个硬币反面向上的可能性也是完全存在的。对于施利茨公司来说，在直播时碰上这样的情况将会对它们的品牌造成毁灭性的打击（更不必说用于购买广告时段的那 170 万美元了）。<br>二项分布的主要特点有，试验次数是固定的（例如 100 位啤酒盲品者），每一次试验都有两个可能的结果（施利茨或米切罗），而且每一次“成功”的概率都是相等的（假设选择任意一个品牌啤酒的概率为 50%，如果选择施利茨的概率高就表示试验“成功”）。我们同时还假定所有的试验都是各自独立的，即一位盲品者的决定不会影响其他人的选择。<br>有了这些信息，这位统计学的“超级英雄”就能计算出所有可能出现的不同结果的概率，如 52 人选择施利茨，另外 48 人选择米切罗，或者是 31 人选择施利茨，另外 69 人选择米切罗，这种情况发生的概率是多少。所有 100 位盲品者都选择米切罗的概率是 1/1267650600228229401496703205376, 这可能比这些人在中场休息时被陨石砸中的概率还低。重要的是，重复这些基本运算，能够让我们知道某个结果范围内的累积概率，如有不多于 40 位盲品者选择施利茨的概率是多少。这些数据足以让施利茨的市场营销人员松一口气。<br>让我们假设，要让施利茨公司满意，100 位盲品者中至少要有 40 位选择施利茨啤酒。这是一个非常可观的数字，因为所有参加盲品直播的人都曾信誓旦旦地声明自己是米切罗的忠实用户。而要达到这样的效果，其实一点儿都不难。如果盲品会果真如抛硬币一样，那么运用概率学的基本知识，就能得出至少有 40 人选择施利茨的概率为 98%，至少有 45 人选择施利茨的概率为 86%。从理论上来看，这场电视营销活动其实并没有很大的风险。<br>那么，现实中的结果又如何呢？在 1981 年“超级碗”中场休息的现场，正好有 50% 的米切罗啤酒的消费者在盲品测试中选择施利茨，不多不少，正好 1/2。<br>从这个例子中，我们可以得到两个重要的启示：第一，概率是一个非常强大的统计学工具；第二，20 世纪 80 年代的许多畅销品牌的啤酒确实在口感上没有什么区别。</p><p>许多事件的概率是明确的，如抛一枚标准硬币结果是正面的概率为 1/2，掷一粒骰子得到 1 点的概率为 1/6，还有一些事件的概率能够从过去的数据中推导出来。在美国职业橄榄球比赛中，触地得分后踢定位球再得一分的平均概率为 0.94，也就是说，每 100 个定位球中有 94 个会成功。当然，这一数据会随着不同球员、不同天气环境以及其他因素的改变而有所不同，但不会发生剧烈变化。在获得并信任此类信息的前提下，决策者常常能够看清风险、作出决定。举个例子，澳大利亚运输安全局发布了一份有关乘坐不同交通工具致死风险的量化报告，大家都觉得飞行非常可怕，但实际上商业航空旅行的风险是微乎其微的。澳大利亚自 20 世纪 60 年代起就再没有发生过一起商业航空致死事故，因此航空旅行每一亿公里的致死率基本为 0。汽车每一亿公里旅行的致死率为 0.5，真正吓人的是摩托车的致死率，如果你立志成为一名器官捐献者，那么你就选择摩托车出行吧，因为摩托车的致死率比汽车整整高出 35 倍。</p><p>在“9.11”恐怖袭击事件发生之后，越来越多的美国人选择自驾出行，而不选择乘坐飞机。据统计，在考虑平均死亡率和天气等导致路面交通事故因素的前提下，2001 年 10~12 月，平均每个月因交通事故致死的人数比以往多了 344 人。该效应随着时间的推移逐渐减弱，这是因为大家对恐怖主义的恐惧在慢慢消退，但这项研究的作者认为，“9·11”恐怖袭击事件导致的驾车死亡人数或已超过 2000 人。</p><p>A 与事件 B 同时发生的概率是这两个事件发生概率的乘积。举个例子可能会更直观一些，抛一枚标准硬币得到正面朝上的概率为 1/2，连续抛两次都得到正面朝上的概率为 1/2X1/2=1/4，连续抛 3 次都得到正面朝上的概率为 1/8，连续抛 4 次都得到正面朝上的概率为 1/16，以此类推。同样，连续抛 4 次硬币都得到反面朝上的概率也应该为 1/16。这也解释了为什么学校或办公室的电脑总会弹出一个对话框，提醒你提高开机密码的“安全级别”。假设你的开机密码为 6 位，而且用的全是数字，那么总共有 10x10x10x10x10x10=10^6 种数字排列组合，不要以为这种组合很复杂，对于计算机来说，不到一秒钟，就可以将这些数字排列组合全都试一遍。</p><p>有一点必须再次强调：这一公式只适用于相互独立的事件，也就是说，一个事件的发生及其结果对另一个事件不会造成任何影响。例如，你第一次抛硬币得到正面朝上的概率扦不会影响你第二次抛硬币得到正面朝上的概率。相反的，今天下雨的概率与昨天是否下雨并不是相互孤立的，因为下雨作为一种天气现象具有连续性，有时候经常连续几天都下雨。同样的，你今年出车祸的概率与明年出车祸的概率也不是相互孤立的，今年导致你出车祸的原因很有可能也会导致你明年发生类似的车祸，比如你有可能经常酒后驾车、喜欢跟别人飙车、习惯开车时发短信，或者车技很差。这也是为什么你的车险费率会在发生车祸后上升，并不仅仅是因为保险公司想要从你这里挽回一点儿它们为你支付的赔偿金，更重要的是，它们拥有了关于你未来发生车祸概率的新信息——当你开车撞向你的车库大门之后，这个概率就上升了。</p><p>假如你对发生这个事件或发生那个事件的概率感兴趣，也就是出现结果 A 或出现结果 B 的概率（再次假设两个事件是相互独立的），这个概率就是 A 和 B 各自的概率之和：A 概率+B 概率。举个例子，掷一次骰子得到 1 点、2 点或 3 点的概率就是它们各自的概率之和：1/6+1/6+1/6=3/6=1/2。</p><p>通过概率的计算，我们还可以得到在所有管理决策的过程中，尤其是在金融领域是最实用的统计工具：期望值。期望值是基础概率学的升级版。某个事件如买彩票的期望值或收益，实际上就是所有不同结果的和，其中每个结果都是由各自的概率和收益相乘而来。跟往常一样，我们还是用例子来说明这个问题。假设你参与了一个掷骰子的游戏，游戏规则是掷出 1 点可以获得 1 美元，掷出 2 点可以获得 2 美元，掷出 3 点可以获得 3 美元，以此类推。那么在这个游戏中，掷一次骰子的期望值是多少？每一个结果都有 1/6 的概率，因此期望值为：<br>1/6（1 美元）+1/6（2 美元）+1/6（3 美元）+1/6（4 美元）+1/6（5 美元）+1/6（6 美元）=21/6, 即 3.5 美元。<br>粗略看一下，3.5 美元的期望值似乎是一个无效数据，毕竟你不可能掷一次骰子就获得 3.5 美元。但事实上，期望值是一个非常有用的参考数据，通过比较成本投入和期望收益，你就能知道做这件事是不是“值得”。如果在上述游戏中，每掷一次骰子需要缴纳 3 美元，你还玩吗？当然，因为期望回报（3.5 美元）要高于游戏成本（3 美元）。这虽然并不代表你第一次玩就保证能赚到钱，但至少可以帮助你认清哪些事情值得冒险。</p><p>我们可以进一步将期望值延伸到美国职业橄榄球领域。之前提到，在比赛中触地得分之后，球队将会面临两个选择，要么直接射门再得一分，要么进行一次两分投球的尝试。如果选择前者，则在三码线处定点踢球穿过球门柱即可；如果选择后者，则需要从三码线处将球带到或传到球门区把对方逼成死球，可以想象其难度之大。因此，球队可以选择简单的打法得 1 分，也可以选择难度高的打法得 2 分。应该怎么选？<br>在前文中已经提到，触地后成功点射的概率为 0.94，也就是说这一尝试的期望值为 0.94, 因为回报（1 分）乘以成功概率（0.94）得到的结果为 0.94 分。没有队伍能在比赛中打出 0.94 分，但这个数字能够量化触地后的一种选择，从而与另一种选择——2 分尝试进行直观的比较。2 分尝试的期望值要低得多，才 0.74 分，虽然回报很高（2 分），但成功率却低得可怜（0.37）。由此可见，如果比赛只剩下一秒钟的时间，一支队伍在触地得分后还落后对手 2 分，这支队伍别无选择，只能进行 2 分尝试；但如果某支队伍处于领先，其目标只是在比赛中扩大比分优势，那么就应该采取得 1 分策略。</p><p>我们还可以解释为什么永远不要买彩票。在伊利诺伊州，每张彩票的背面都印着不同玩法和等级的中奖概率，假如我买了一张 1 美元的即开型彩票，在彩票背面印着的细小文字里我可以找到不同等级奖金的中奖概率：1/10（1 美元，即免费再来一张）、1/15（2 美元）、1/42.86（4 美元）、1/75（5 美元），一直到概率为 1/40000 的 1000 美元。我将每一个等级的中奖概率乘以奖金额度，最后将得到的结果相加，计算出购买此类彩票的期望值。结果是这种 1 美元彩票的回报期望值约为 0.56 美元，所以这绝对是一项糟糕的投资。但我的运气还不错，中了 2 美元。<br>虽然我中了 2 美元，依然无法改变购买彩票是一种愚蠢行为的事实，这就是概率教给我们的重要经验之一。通过概率计算得出的好决策，有时会得到坏的结果；而坏的决策——如在伊利诺伊州购买 1 美元即开型彩票——有时还是会有好处，至少从短期来看是这样。但最终“笑傲江湖”的还是概率，因为谁也打败不了概率。有一个重要的定律叫作大数定律，即随着试验次数的增多，结果的平均值会越来越接近期望值。是的，我今天买彩票的确中了 2 美元，我明天也有可能再中 2 美元，但如果长年累月地买下去，每天买的都是这种预期回报为 0.56 美元的 1 美元即开型彩票，那么赔钱将是毋庸置疑的事，到了买齐 100 万张彩票的那一天（也就意味着我花了 100 万美元），我最终的中奖金额约为 56 万美元。<br>我们也可以用大数定律来解释为什么赌场从长期来看总是挣钱的问题。赌场内所有项目的概率都是有利于赌场老板的（出“老千”的赌客不考虑在内）。如果赌场的营业时间足够长，吸引的下注人数也足够多，那么赌场从赌桌赚到的钱肯定要比付出的要多。通过大数定律，我们还可以解释为什么施利茨要在“超级碗”中场休息时邀请 100 位而不是 10 位啤酒爱好者来参与啤酒盲品测试。下面是“施利茨型”测试的“概率密度函数”，测试人数分别为 10、100 和 1000。不要被这个函数的名称吓到，其实函数本身并不复杂，X 轴罗列了各种可能出现的结果，Y 轴表示的是对应结果出现的概率。需要在这里重申一遍的是：我们的前提是所有品牌啤酒的口感是差不多的，品尝选择的过程类似于扔硬币，每位盲品者选择施利茨的概率都为 50%。我们可以从以下的 3 幅函数图中看到，随着盲品者人数的增多，越来越多的预期结果向中间（也就是有一半的人选择施利茨啤酒）集中；与此同时，位于曲线两端的极端结果出现的概率则下降得非常厉害。</p><p><img data-src="/naked-statistics/naked-statistics-3.jpg" alt="图 5-1 选择施利茨啤酒的盲品者人数"><br><img data-src="/naked-statistics/naked-statistics-4.jpg" alt="图 5-2 选择施利茨啤酒的盲品者人数"><br><img data-src="/naked-statistics/naked-statistics-5.jpg" alt="图 5-3 选择施利茨啤酒的盲品者人数">  </p><p>在前文中我说过，如果有大于或等于 40% 的米切罗啤酒爱好者在盲品测试中选择了施利茨啤酒，那么施利茨的高层就满意了。下面就列举了不同盲品人数的条件下得到满意结果的概率：<br>10 人：0.83。<br>100 人：0.98。<br>1000 人 :0.9999999999。<br>1000000 人：1。<br>读到这里，我想很多人已经能够领会“千万别为标价 99 美元的打印机购买保修延长服务”的含义了。整个保险行业都是建立在概率的基础之上，保修只不过是保险的一种表现形式而已。</p><p>预期损失和预期值是完全相同的概念，只不过是套上了保险的外衣。假设车的赔偿额度为 4 万美元，每年被盗的概率是 1/1000, 那么该车的年预期损失为 40 美元，车险保费组成中盗窃险种的定价就应该高于 40 美元，这样看来，保险公司和赌场、伊利诺伊州彩票的性质是一样的，它们都需要付出，但从长期来看，得到的肯定要比付出的多。<br>作为消费者，你应该知道，从长远来看，保险并不能为你省钱。保险能为你做的是，当你遭遇一些难以承受的巨大损失时，如价值 4 万美元的汽车被盗、35 万美元的房子被烧毁等，为你提供赔付，帮你渡过难关。从统计学的角度来看，购买保险是一项“糟糕的投资”，因为平均来看，你支付给保险公司的钱永远要比得到的赔付多。但如果想防止一些足以毁掉你生活的结果出现，保险就是一个理性的工具。讽刺的是，一些巨富如巴菲特倒是可以不用买车险、房屋险，甚至医疗保险，从而省下不少钱，因为就算有再糟糕的事情发生在他的身上，他都能承担得起。</p><p>假设你刚刚精挑细选了一台好评如潮的激光打印机。当你结账的时候，销售人员会向你提供一份详细的保修延长清单，比如说额外支付 25 美元，可以延长一年的免费修理或更换服务，支付 50 美元可以延长维修服务两年。现在你对概率、保险以及基础经济学已经有了一些基本的了解，你可以很快联想到以下几点：（1）百思买是一个以赢利为目的的商家，因此追求利润最大化是它不变的追求；（2）销售助理正在竭尽所能地劝你购买保修延长服务；（3）从前两点能够推测出，购买保修延长服务的代价要高于商家为你修理或更换打印机的预期成本，如果不是这样，那么商家就不可能会如此卖力地推销了；（4）就算价值 99 美元的打印机坏了，你需要自掏腰包来修理或换一台新机器，也不会给你的生活造成太大的困扰。<br>一般来说，你为延长保修服务所支付的金额要高于打印机的修理费。你应该时刻谨记为那些你无法轻松承受的意外上保险，而其他情况就不要浪费钱了，这是个人理财的核心原则之一。</p><p>有些事情可能会在不同时间段出现意外状况，在面临这类复杂抉择时，预期值同样能够帮助我们理清思路。假设你的一个朋友建议你向一家研究中心投资 100 万美元用于开发男性防脱发产品，你或许会问成功的概率有多大，而你的朋友的回答很复杂。由于这是一个研发项目，因此研发团队研制成功的概率只有 30%, 如果最终研制产品失败了，那么你将收回 25 万美元，因为这部分资金原本是留着用于市场推广（用户测试、广告宣传等）的；即使最终产品研制成功了，美国食品药品监督管理局认为这一神奇的治疗脱发的产品对人体安全并批准进入市场的概率也只有 60%; 到了那个时候，即使我们的产品安全有效，依然还有 10% 的概率会出现一个强劲的竞争对手，带着更好的产品与我们一同进入市场，占据全部的市场份额。如果一切顺利——产品安全、有效，而且竞争者也没有出现，那么你将获得最多 2500 万美元的投资回报。<br>你动心了吗？<br>朋友提供的信息量令人眼花缭乱。潜在的回报很诱人，回报的金额是投资额的整整 25 倍，在这一过程中，同样充满了各种潜在的陷阱和失败。如果每一个结果的出现概率都是准确的，那么画一张决策树形图，能够帮助我们理清信息，决定下一步应该做什么、怎么做。决策树形图标出了每一个不确定因素的来源，还有所有可能出现的结果及其概率。在树形图的下方，给出了所有回报可能的金额和概率。如果我们将每一个回报额乘以概率，再将得到的结果相加，就可以算出这一投资机会的期望值。通过观看下图能够帮助我们更好地理解问题。</p><p><img data-src="/naked-statistics/naked-statistics-6.jpg" alt="图5-4 投资决策">  </p><p>如此看来，这项投资的预期回报是非常诱人的，高达 422.5 万美元。但我还是不建议你用辛辛苦苦积攒的、准备将来给孩子读大学的钱来进行投资。观察决策树形图，你会发现预期回报大大高于一开始的投资额，但不要忘记，最有可能发生的结果是研发失败，以致治疗男性脱发的产品最终没有面世，而你只能拿回剩下的 25 万美元。至于你对这项投资的胃口到底有多大，就要取决于你的风险倾向了。对此，大数定律给出的建议是，对于一家投资公司或像巴菲特这样富可敌国的个人投资者来说，应该尽可能地发掘上述例子这类结果不确定但预期回报很丰厚的投资机会，而且数量越多越好，几百个项目里面肯定有一些会成功，一些会失败，但平均来看，这些投资者最终会像保险公司或赌场那样挣到大钱。如果预期收益对你有利，那么涉足的项目越多，赚钱的机会就越大。</p><p>同样的道理，我们还可以用来解释一个有违直觉的现象。有时候，针对全美国人口监测如艾滋病这类罕见但严重的疾病是行不通的。假设我们对某种罕见病的检测拥有相当高的准确度，举例来说，每 10 万人中会有一个人患上某种疾病，检测准确率为 99.9999%，可以保证在检测过程中不产生一例伪阴性（也就是从不漏过任何一个患上该病的人），但产生伪阳性（也就是一个没有患上该病的健康人被误测为阳性）的概率为万分之一。这样就会导致一个棘手的状况，虽然这种疾病的检测准确率非常之高，但绝大部分被诊断为阳性（也就是患有该疾病）的人实际上根本没有得此病。这会在那些诊断结果为阳性的人群中产生巨大恐慌，后续的检测和治疗也会浪费有限的医疗资源。<br>如果我们对美国所有成年人，即约 1.75 亿人口进行检测，决策树形图如图 5-5 所示。</p><p><img data-src="/naked-statistics/naked-statistics-7.jpg" alt="图5-5 某疾病全美国筛査情况">  </p><p>只有 1750 位成年人患有该疾病，他们的检测结果均为阳性。有超过 1.74 亿 成年人未患病，在这部分健康人群中，有 99.999% 的人得到了正确的检测结果，只有 0.01% 的人被误检为阳性。但 1.74 亿的 0.01% 依然是一个非常大的数字，因此在实际操作中平均将会有 1.75 万健康的人被告知患有该疾病。<br>这意味着什么？我们一起来分析一下。总共有 19250 人的检测结果为阳性，但真正患病的只有 9%，而且这还是一个准确性非常高、伪阳性非常低的检测。我想不需要作太多解释，大家就能理解为什么在削减医疗开支的过程中，我们该做的不是对健康人群加强疾病筛查，而是减少这类检测。以艾滋病为例，公共健康官员总是建议将有限的资源用在“刀刃”上，即用在男同性恋者、采取静脉注射的吸毒分子等高危人群身上。</p><p>一边开车一边发短信容易造成事故，但各州出台的禁止开车发短信的法律似乎并没有遏制这种行为。事实上，这些法律甚至有可能让情况变得更糟，因为司机在发短信时会想办法将手机藏得更为隐蔽，更加不把心思放在专心开车上。</p><p>拥有最佳信用记录的客户每个月总能准时付清账单，信用卡公司没法从他们身上赚得一点儿利息；那些账单数额巨大且经常忘记按时还款的客户才是信用卡公司的“金主”，高额的利息给公司带来了丰厚的利润，只要这些客户不违约就行。</p><h1 id="第6章-蒙提·霍尔悖论"><a href="#第6章-蒙提·霍尔悖论" class="headerlink" title="第6章 蒙提·霍尔悖论"></a>第6章 蒙提·霍尔悖论</h1><p>在《让我们做个交易》节目中，主持人打开的 3 号门后面是一头羊，在剩下的 7 号门和 2 号门中必定有一扇门后面是汽车 , 你应该如何选择才能中大奖？<br>“蒙提·霍尔悖论”是一个著名的概率难题。1963 年美国开播的电视游戏节目《让我们做个交易》中，参赛者们就会面临这个难题。正是这个亘古不变却又兴致盎然的悖论，让这类竞赛游戏长盛不衰，至今有许多国家的电视台依然在制作并播放类似的节目。记得读小学的时候一回家我就会打开电视观看《让我们做个交易》。这个节目给统计学家带来了巨大的惊喜。每一期节目播到最后，总会有一个参赛者脱颖而出，站在主持人蒙提·霍尔旁边，在他们的眼前有 3 扇巨大的门，编号分别为 1、2、3。蒙提会告知参赛者，其中的一扇门的门后摆放着极为诱人的大奖（比如说一辆小轿车），而另外两扇门的后面各站着一头羊，参赛者需要在这 3 扇门中选择一扇门，并获得那扇门后面的奖品。（如果有参赛者选中了羊，我怀疑他们是不是真的会把那头羊牵回家，因为在普通人看来，绝大多数参赛者都希望能开一辆新车回去。）游戏刚开始时，中大奖的概率一目了然，两头羊和一辆车，参赛者有 1/3 的概率选中那扇后面是轿车的大门。但正如之前提到的，这个节目及其主持人蒙提·霍尔之所以能够在美国概率学课本中占得一席之地，是因为这个节目还有一个精心的 安排。当参赛者选择了一扇门之后，蒙提会打开剩下的两扇门中的一扇，向观众和选手展示这扇门后面的奖品——一头羊，然后蒙提会再次询问参赛者是否要改变当初的选择，也就是在最初选择的那扇门和剩下的那扇门中再选择一次。<br>为了让表述更加清楚，我们假设参赛者最初选择的是 1 号门，蒙提随后打开了 3 号门，发现门后站着一头活羊。此时，场上还有两扇门是关着的，1 号门和 2 号门，如果小轿车藏在 1 号门的后面，那么参赛者就中奖了，如果小轿车藏在 2 号门的后面，参赛者就会与大奖失之交臂。但就在这个时候，蒙提并不急于揭晓答案，而是再次询问参赛者是否坚持原来的选择，如果参赛者改变主意了，就相当于放弃了一开始选的 1 号门，而改选 2 号门。记住，这两扇门此时依旧紧闭着。参赛者唯一得到的新信息是，在自己刚刚没有选择的那两扇门中，至少有一扇门的后面是一头羊。<br>参赛者应不应该改变最初的选择？<br>答案是肯定的。如果参赛者坚持最初的选择，那么中大奖的概率为 1/3, 如果改选剩下的那扇门，那么中奖的概率就是 2/3。如果你不相信的话，请往下读。<br>我承认这样的一个答案似乎有违直觉，因为在这个过程中，参赛者中大奖的概率似乎一直都是 1/3，不管这个参赛者后来有没有改变选择。一共有 3 扇关闭的大门，一开始的时候每一扇大门后面藏着大奖的概率都是 1/3，但是当参赛者改变自己最初的选择转而选择另一扇门之后，中奖的概率会随之变化吗？<br>问题的关键就在于，主持人蒙提·霍尔本人是知道每一扇门背后的奖品的。如果参赛者选择了 1 号门，而且恰好小轿车就在这扇门的门后，那么蒙提就可以在 2 号或 3 号门中随便选一扇门打开，向观众展示一头羊。<br>如果参赛者选择了 1 号门，而小轿车停在 2 号门后，那么蒙提就会打开 3 号门。<br>如果参赛者选择了 1 号门，而小轿车停在 3 号门后，那么蒙提就会打开 2 号门。<br>通过改变之前的选择，参赛者就能从两次选择中获益，好处自然要比一次选择多。为了说服大家，我会用 3 种不同的方法来证明这一分析的正确性。<br>第一种是从经验主义角度出发的。2008 年，《纽约时报》专栏作家约翰·泰拿尼专门就“蒙提·霍尔现象”写了一篇文章。随后这份报纸还在网站上开辟了一个互动专题，读者可以亲身体验这个游戏，包括提示你是否要改变选择，游戏的最后甚至还有可爱的小羊和小轿车从门后跳出来揭晓答案。这个游戏会记录下你改变和坚持最初选择的成功率，你可以试一下。我特地让我的小女儿玩了 100 次这个游戏，每次都在打开一扇有羊的门后改变最初的选择；然后又找她的哥哥玩了 100 次，全都坚持一开始的选择。我的女儿有 72 次中了大奖，儿子只中了 33 次。他们都从我这里获得了两美元的辛苦费。<br>《让我们做个交易》节目每期的统计结果也印证了这一点。《醉汉的脚步》的作者列纳德·蒙洛迪诺也证实，那些改变选择并得到大奖的参赛者人数是坚持最初选择并中奖的参赛者的两倍。<br>我的第二个解释是从直觉出发。假设游戏规则有变，首先参赛者会在 1、2、3 号门中挑选一扇，然后主持人蒙提在打开一扇门之前，问道“你是否愿意放弃你之前的选择，换取另外两扇门后面的奖品？”也就是说，如果你选择的是 1 号门，你可以放弃那扇门，从而获得 2 号和 3 号门后面的奖品；如果你选择的是 3 号门，你可以换成 1 号和 2 号门。<br>这并不是一个非常难作的决定。显而易见，你应该放弃一扇门换取两扇门，这样你中大奖的概率就从 1/3 上升到了 2/3。接下来，就是见证奇迹的时刻了：蒙提·霍尔在节目中展示一扇门后的羊，其实做的是相同的事情。一个最基本的道理，如果你能选择两扇门，那其中肯定有一扇门的门后是羊。主持人在问你是否要更换选择之前，打开了一扇门后有羊的门，实际上是为你做了一件大好事！他的言下之意就是，“你没有选的那两扇门有 2/3 的概率中大奖，而且你看，我已经帮你排除一扇门了！”<br>我们试想一下，假设你选择了 1 号门，蒙提接着问你是否要换成 2 号和 3 号门，然后你接受了，放弃一扇门换来两扇门，你此时得到轿车的概率也就上升为 2/3。而就在这个时候，蒙提打开了 3 号门——也就是你选择的两扇门中的一扇——发现门后是一头羊，你会有什么感受？是觉得自己中奖的希望变渺茫了？当然不是！如果轿车藏在 3 号门的后面，那么他打开的肯定会是 2 号门！蒙提可以说是什么都没干。<br>如果游戏正常进行，蒙提实际上是给你提供了两个选择，要么坚持最初选的那扇门，要么选择剩下的两扇门——只不过其中有一扇后面是羊的门被打开了，在这个过程中，蒙提还告诉了你另外两扇门中哪一扇门后面没有大奖，因此在如下的两种情况中你中大奖的概率是相同的：</p><ol><li>先选择 1 号门，然后在任何一扇门打开之前同意换成 2 号和 3 号门。</li><li>先选择 1 号门，然后在蒙提打开有羊的 3 号门之后同意换成 2 号门（或者在蒙提打开有羊的 2 号门之后同意换成 3 号门）。<br>在这两种情况下，通过改变选择，你中奖的概率都由原来的一扇门增加到两扇门，因此你的赢面也从 1/3 上涨为 2/3。<br>我的第三种解释更像是第二种解释的极端版。假设摆在你面前的不是 3 扇门，而是 100 扇门。当你选择其中一扇门（比如说 47 号门）之后，蒙提·霍尔在剩下的 99 扇门中打开了 98 扇有羊的门，此时就剩两扇门没有打开了，一扇是你最初选择的 47 号门，一扇是蒙提剩下的（比如说 61 号门），你要换吗？<br>绝对要换！小轿车有 99% 的概率藏在你没有选的那 99 扇门的后面，而蒙提还好心地为你打开了其中的 98 扇门，他知道这 98 扇门的后面都没有小轿车。也就是说，如果你坚持最初的选择（47 号门），那么你开着小轿车回家的概率仅为 1%, 牵一头羊回家的概率却高达 99%; 如果你的最初选择是错误的，那么小轿车就肯定藏在另外一扇门后面（61 号门），如果你想中大奖，那就应该将最初的 47 号门换成最后剩下的 61 号门。<br>简言之，如果你有机会参加《让我们做个交易》节目，当蒙提·霍尔（或者是他的继任者）问你是否要改变选择时，你要毫不犹豫地点头。更夸张的说法是 , 这个例子告诉我们，你对概率的本能理解有时候会将你引入歧途。</li></ol><h1 id="第7章-黑天鹅事件"><a href="#第7章-黑天鹅事件" class="headerlink" title="第7章 黑天鹅事件"></a>第7章 黑天鹅事件</h1><p>最不负责任的数据使用案例就是 2008 年金融危机爆发之前华尔街的风险评估机制了。那时候，整个美国金融行业使用的都是同一个风险晴雨表——风险价值（VaR）模型。理论上说，VaR 既是一个简洁的指标（将大量信息整合为一个单独的数字），又有强大的概率学支撑（对每家公司的资产和交易都给出了预期收益和损失值），是一个不可多得的投资工具。该模型认为，公司的每一项投资都存在着大量可能的结果，比如投资通用电气的股票，这些股票既有可能升值，也有可能贬值。如果在一个相对较短的周期内（比如一周）采用 VaR 模型进行投资评估，最有可能得到的结果是购入的股票在短期内基本维持原状，上涨或下跌 10% 的概率很小，上涨或下跌 25% 的概率就更小了，也就是说，变化越大，概率越小。<br>在分析了以往市场变动的数据之后，公司的数量分析专家会给出一个数字（比如说 1300 万美元），用来表示一项投资在一个特定周期内有可能让公司蒙受的最大损失，出现这种结果的概率为 1%。也就是说，这项投资在 99% 的情况下会使公司的损失低于 1300 万美元，但还有 1% 的概率造成重大损失。<br>请记住上一段内容里的最后一句话，这句话至关重要。<br>在 2008 年金融危机爆发之前，各大公司对 VaR 模型信任有加，在量化整体风险时都会采用这一统计模型。假设一个交易商手上有 923 项不同的“敞口头寸”（即可能会出现涨跌的投资），每一项投资都能像通用电气股票的例子那样进行 VaR 分析，然后再计算得出该交易商手中的证券组合的总体投资风险，该公式甚至还考虑到不同投资之间的相关性。例如，如果两项投资的预期回报呈负相关关系，即一项投资的损失会被另一项投资的收益所抵消，那么这两项投资的整体风险要小于其中任意一项投资。一般而言，投资部门的主管会知道其手下的交易员鲍勃•史密斯的 24 小时 VaR 为 1900 万美元，即在接下来的 24 个小时内，鲍勃最多会让公司亏损 1900 万美元，而且这一情况发生的概率仅为 1%。<br>更妙的是，该投资部门在任何时候都可以得出全公司的风险指数，只需要在上述基础上稍微向前推进一步即可。当然，这其中所包含的数学运算是非常复杂的，因为要考虑到公司所参与的种类繁多的金融产品，而且还涉及多国货币，每项投资的杠杆率（进行投资的贷款额）也不一样，不同国家的资金流动率也存在差别等。但这些都不能阻碍投资经理们在任何时候得出一个看上去十分精确的风险指数，正如《纽约时报》前财经作家乔·诺切拉所解释的那样，“VaR 最吸引人的地方，也是其最大的卖点就在于将风险描述为一个单一的数字——一个美元数据，仅此而已，而那些恰好不擅长数量分析的人就会趋之若鹜。”摩根大通公司是 VaR 模型的创始者，经过不断的开发和完善，每日的 VaR 如今已经有了一个新的名称——4:15 报告，因为在每天下午的 4 点 15 分，即当天的美国金融市场休市没多久，每一位公司高管的桌子上就都会出现 VaR 报告。</p><p>可是不幸的是，VaR 模型的风险档案里隐藏着两个巨大的问题。第一，模型构建的概率基础参照的是过去的市场行为，然而金融市场和啤酒盲品会不一样，前者的未来不一定是历史的重复，没有任何的理论证据可以保证 1980〜2005 年间的市场动态是 2005 年之后市场表现的最佳预测参照物。<br>第二，即使通过基本数据，我们能够借助 VaR 准确地预测未来风险，这 99% 的保证依然存在着失效的危险，因为真正把事情搞砸的正是剩下的 1%。<br>华尔街的数量分析专家们犯了 3 个最基本的错误。第一，他们混淆了“精确”和“准确”的概念。VaR 模型就像是我的高尔夫测距仪，我以为计量单位是“码”，可实际显示的计量单位却是“米”：确实精确，但并不准确。错误的精确让华尔街的高管们自以为是地认为他们对风险状况尽在掌握。第二，他们对基础概率的估算方式是错误的。正如之前格林斯潘在接受质询时所指出的，不应该只用 2005 年以前相对平稳和繁荣的经济数据来预测接下来几十年的市场表现。这就好像一个人去赌场玩轮盘赌，心里想着自己有 62% 的概率会赢，因为上次玩轮盘赌赢钱的概率就是 62%，结果怎么样呢？这对他来说将会是一个难熬、难忘的夜晚。第三，公司忽略了“尾部风险”，VaR 模型预测的是那些发生概率为 99% 的结果，这也是概率的工作原理（本书的后半部分将会不断地重复这一概念——即使是貌似不可能的事件，也有发生的可能。事实上，放眼望去，它们并没有人们想象得那样罕见，每天都有人被雷击中。）</p><p>本章接下来将会介绍一些最为常见的与概率有关的错误、误解和道德困境。<br>想当然地认为事件之间不存在联系。抛一次硬币得到正面的概率为 1/2，抛两次硬币结果都为正面的概率为 1/4，因为这两个事件是独立的，因此两次都得到正面的概率为各自概率的乘积。在领会了这一强大的概率学要点之后，你被正式提升为某大型航空公司的风险管理总监，你的助理告诉你越（大西）洋航班的引擎出现故障的概率为 10 万分之一，考虑到此类航班的班次较多，因此这样的风险还是应该极力避免。可喜的是，每一架越洋航班都配有至少两个引擎，你的助理计算得出在大西洋上空两个引擎都出现故障的概率为（1/100000）^2，即 100 亿分之一——一个理论上安全的风险。这个时候，你作为风险管理总监，就可以让你的助理收拾东西回家，以后再也不用来了。因为两个引擎发生故障并不是彼此独立的事件，如果飞机在起飞时迎面飞来一群天鹅，那么两个引擎都有可能出现损坏。同样的，许多其他的因素也会对飞机引擎的性能造成影响，如天气变化、维护不当等。如果一个引擎出现了故障，那么第二个引擎出现故障的概率肯定要大大高于 10 万分之一。<br>意识到这一点很难吗？对于 20 世纪 90 年代的英国检方来说，恐怕确实很困难，正是因为对概率的不当使用，他们做出了一次严重的司法误判。英国检方所犯的统计学错误正是想当然地认为几个不同事件之间是彼此独立的（跟抛硬币一样），而忽略了它们之间的联系（某个特定结果的出现会增加类似结果发生的可能性）。但这次的事件却是真实的，无辜的人因此蒙受了牢狱之灾。</p><p>人们犯的另一种常见错误是，面对相互独立的事件浑然不觉，甚至还将它们作为相关事件进行处理。假设你正在一家赌场里（虽然从统计学的角度看，你根本就不应该出现在这种地方），你会看到赌客们红着眼睛盯着骰子或扑克牌，嘴里念念有词“总该轮到我赢了吧”。如果轮盘球已经连续 5 次停在黑色区域了，有人就会想当然地认为下一次肯定会停在红色区域，大错特错！轮盘球停在红色区域的概率一直都没变，应该是 16/38，这就是“赌徒谬论”。</p><p>对于年龄区间在 14~26 岁的运动员来说，一次投篮命中和再次投篮命中之间的关联是负相关的。</p><p>检方谬误。假设你是法庭陪审团的一名成员，听到如下事实：（1）犯罪现场找到的 DNA 样本与被告的 DNA 相吻合；（2）除了被告以外，该 DNA 样本与其他人相吻合的概率为百万分之一（在这个例子中，我们姑且认为检方提供的概率是准确的）。在这些证据的基础上，你会认为被告人有罪吗？<br>但愿你投的不是赞成票。<br>当统计证据的存在背景遭到忽视时，检方谬误就成了不可避免的事实。下面的两个场景分别解释了 DNA 证据是如何被用来指证被告的。<br>被告一：该被告是被害人生前的恋人，但被后者抛弃，在离犯罪现场 3 个街区以外的地方被捕，身上携带着杀人工具。在被捕之后，法医从他身上强行提取了 DNA 样本，后被证实与犯罪现场的一根头发相吻合。<br>被告二：该被告于几年前在另一个州以相同的罪名遭到起诉。一个囊括 100 多万名暴力罪犯 DNA 信息的国家级数据库里恰好收集了该被告的 DNA 样本，警方在犯罪现场找到了一根头发，提取了其 DNA 信息并在这个数据库中进行自动比对，比对结果最终指向了这名被告，而根据调查，他与被害者并无任何关系。<br>正如之前所说的，在这两个案例中，检方都可以义正词严地宣称，犯罪现场找到的 DNA 样本与被告相吻合，且该 DNA 样本与除被告以外的第二人相吻合的概率仅为百万分之一。但是在第二个案例中，被告完全有可能就是那个“第二人”，即 100 多万名 DNA 信息所有者中恰好与真正的杀人凶手的 DNA 相似的那个人。这是因为通过 100 万次的数据库样本对比，找到“第二人”的概率相对提升了。</p><p>回归平均数（或趋均数回归）。你或许曾经听到过一个叫作“《体育画报》封面诅咒”的说法，即成为《体育画报》封面人物的运动员或团队，在之后比赛中的成绩会出现不同程度的下滑。一种解释是，成为该杂志的封面人物会对接下来的表现产生不利影响。而另一个在统计学上更加说得过去的解释是，能上杂志封面的通常都是那些近期表现尤为出色的运动员或队伍，如 20 连胜之类的异乎寻常的竞技 表现，而他们之后的比赛成绩只不过是回归正常水平，这一现象就叫作回归平均数。概率学告诉我们，跟在异常值——在某个方向上远离平均数的数据——之后的更有可能是那些接近（长期积累得出的）平均数的数据。<br>回归平均数现象可以用来解释为什么芝加哥小熊队总是花大笔的“冤枉钱”，请一些让球迷们失望的自由球员为其效力。通常，棒球运动员在完成了一个或两个成绩极佳的赛季之后，便获得了谈判加薪的资本，换上一身小熊队的球服并不一定会让这些球员的表现变差（虽然球员表现与球队的训练和管理十分有关），但是小熊队花了大价钱买来的却是这些超级明星超常发挥的“尾端”，每个球星超水平发挥的时间段都是有限的，也就是那么一两年，过了超水平发挥的时间之后，他们的表现便会趋于正常，这也是为什么他们在小熊队效力时会让球迷大失所望——并非因为他们的技术很差，只不过是正常水平而已。<br>同样的现象还可以用来解释为什么有些学生在考试中会超常发挥，有时候又会不尽如人意；有些学生明明考得没有平时好，但重考的成绩却又稍稍提升了。要解释这一回归现象，一种思路是学生的考试成绩（无论是文化课还是体育课）基本上是由个人的努力和运气（统计学家称之为“随机误差”）构成的。也就是说，那些在某次考试中超常发挥的学生只不过是交好运了，而那些考试成绩与平时相比大失水准的考生只是运气差了一些。当好运或厄运终于结束时（总有结束的那一天），随之而来的表现就会更加接近平均值。<br>乍一看，回归平均数可能会与“赌徒悖论”相排斥。当学生连续 6 次抛出的硬币都是反面朝上之后，下一次是不是“应该”正面朝上？他再次抛硬币得到正面向上的概率依旧没变：1/2。他已经连续多次抛出反面朝上的事实并不能增加他下一次抛出正面朝上的概率，每一次抛硬币都是一个独立事件。但是，我们可以期望接下来抛硬币的结果在总体上会和概率学所预测的一致，即半数是正面朝上、半数是反面朝上，而非之前出现的所有结果都是反面朝上。如果一个人一开始抛硬币的结果全都是反面朝上，那么在接下来的 10 次、20 次或 100 次抛硬币的过程中肯定会出现更多的正面朝上的情况。大数定律告诉我们，抛的次数越多，得到的结果就越接近平均值（如果情况相反，那我们就应该开始怀疑是不是有人作弊）。</p><p>最后还有一个有趣的情况，研究者们发现了一个《商业周刊》现象。当公司高管获得了备受瞩目的高级别奖项，包括被提名为《商业周刊》的“最佳经理人”，他们的公司会在接下来的 3 年内遭受利润和股价的双重下挫。但是与《体育画报》效应不同的是，这一现象要比回归平均数复杂得多。根据加利福尼亚大学伯克利分校和洛杉矶分校的两位经济学家乌尔里克·马尔门迪尔和杰弗瑞·塔特的研究，当公司 CEO 们坐到了“超级明星”的位置，他们会被自身的“光环”所影响。他们开始写回忆录，被邀请成为外部董事，甚至开始物色美女为自己的终身幸福作打算（其实两位经济学家只给出了前面两个解释，第三个解释是我自己加的，而且我觉得这个解释同样具有说服力）。马尔门迪尔和塔特写道：“我们的研究表明，媒体主导的超级明星文化会导致行为扭曲，而且扭曲程度要超过单纯的平均值回归。”换言之，如果某位 CEO 成为《商业周刊》封面人物，请马上抛售其公司的股票。</p><p>这样的一个政策乍看上去会让我觉得反感，因为政策制定者们似乎眼里只有政治的正确性，对其他一概视而不见。但仔细一想，我又对自己的立场没那么确定了。还记得之前介绍的有关预防犯罪的知识吗？在这个领域，概率学既可以给我们带来神奇，也会增添很多烦恼。通过概率模型，我们得知从墨西哥进入美国的冰毒贩毒者最有可能是年龄为 18〜30 岁、21 点至凌晨驾驶红色皮卡车的西班牙裔男子，但同时我们也知道符合上述标准的绝大多数西班牙裔男子都不是毒贩，那我们应该怎么办？这就是我在上一章描述得天花乱坠的预测分析方法的缺陷所在，至少是缺陷的一个方面。<br>统计性歧视。概率会告诉我们某个事件发生的可能性有多大，那么面对一个很有可能会发生的情况，我们到底应不应该做出反应？或者说，什么时候做出反应是可以的，而什么时候做出反应又是不可以的？2003 年，欧盟就业社会事务专员安娜·迪曼托波罗提出，保险公司的保费政策不得因为客户的性别不同而有所差别，因为这违反了欧盟的平等对待原则。然而，对于保险公司来说，以性别区分保费的做法仅仅是出于统计学的考虑，与性别歧视无关。男性的车险费用要高一些，这是因为他们出事故的情况较多；女性需要多缴纳养老保险，这是因为她们活的时间更久些。当然，有的女性发生交通事故的比例高于男性，有的男性活得比女性久，但正如上一章所提到的，保险公司并不关心这些，它们只关心统计学意义上的现实，因为只要它们把平均值弄对了，公司就会挣钱。对于欧盟委员会于 2012 年实施的禁止保费男女有别的政策，有趣的地方在于，相关部门并没有否认性别与保险所承担的风险之间存在关联，但它们只是一直在强调这一基于性别的保费差异是不可能接受的。<br>概率学告诉我们什么情况更有可能发生、什么情况更不可能发生，这仅仅是概率学的基础，也就是我们在之前几章里一直探讨的，但我们还不能忽视统计学的社会影响。如果我们想要捉拿暴力犯、恐怖分子、贩毒人员，以及其他有可能对社会造成巨大损害的个人，我们就必须动用手中的一切工具，概率只是其中的一种，如果在执法过程中死守着概率不放，而忽略了性别、年龄、种族、家庭、宗教以及国籍等综合因素，那将会犯下幼稚的错误。<br>对于这些信息（假设它们在某种程度上具有预测价值）的处理，我们能做什么、应该做什么将会是一个复杂的法律问题，而非单纯的统计问题。每天，我们都会收集到有关更多事物的信息，如果这些数据告诉我们正确的概率要比错误的概率高，我们是否就能堂而皇之地进行歧视了（这就是“统计性歧视”或“理性歧视”概念的由来）？那些会买鸟食的人逾期不还信用卡的概率较低（这是真的！），诸如此类的分析可以应用到生活的方方面面，但是分析应该做到哪种程度？如果我们建立一个能够识别毒贩的模型，正确率为 80%，那剩下的 20% 的无辜的人该怎么办？因为这些人将会无止境地遭到这一模型的骚扰。<br>摆在我们面前的一个更大的问题是，数据分析对人们的行为和事件结果的影响已经大大超出了分析人员的想象。对欧盟委员会禁止男女有别的保险费的决定，你可以表示赞成，也可以表示反对，但我可以保证这绝对不会是最后一个让人左右为难的决策。我们总是习惯性地认为数字是“冰冷、确凿的事实”，如果计算无误，那么我们就一定能够得到正确的答案。但一个更为纠结和危险的现实是，有时候正确无误的计算也会将我们带往一个危险、浮躁的方向：我们可以摧毁金融体系，也可以骚扰一个恰好在某个时间出现在某个街头的 22 岁白人男子，因为根据我们的统计模型，几乎可以确定他打算去买毒品。尽管概率有再多的简洁特性和精准优点，也不能替代人类作为行为主体对其所进行的计算、进行计算的原因所作的思考。</p><h1 id="第8章-数据与偏见"><a href="#第8章-数据与偏见" class="headerlink" title="第8章 数据与偏见"></a>第8章 数据与偏见</h1><p>2012 年春天，研究人员在权威杂志《科学》上刊登了一项惊人的发现。这项前沿研究表明，多次被雌性果蝇冷落的雄性果蝇也会“借酒消愁”。《纽约时报》头版对这项研究描述道：“这些急于成功的年轻雄性果绳，在面对一群心仪的雌性果蝇时一而再、再而三地遭受打击，结果它们和众多屡次被拒绝的成年男子一样，借助酒精来缓解内心无处释放的欲望。”<br>这一研究加深了我们对大脑奖赏系统的了解，从而更好地帮助我们在治疗药物和酒精依赖方面寻找新的治疗方法。一位医学专家将这项研究解读为“回到奖赏回路的起源，探究激发基本行为如性爱、进食和睡眠的原始动力”。</p><p>所谓纵向研究，就是对大量调查对象一生中不同时间点的信息进行收集，比如每两年进行一次采访。这类研究的参与者们会在长达 10 年、20 年甚至 50 年的时间里接受定期采访，积累下极为丰富的连续性信息。<br>但不是所有人在任何时候都能纵向研究，很多时候横向研究也是不错的选择，所谓的“横向数据集”即在同一时刻收集到的数据。例如，如果流行病学家正在寻找一种新型疾病（或某种已知疾病）的根源，他们可能会想到去收集所有病患的信息，希望能够从中发现规律：他们都吃了些什么？去过哪里？他们有什么共同点？与此同时，研究人员或许还会收集健康人的相关信息，以凸显两组对象之间的差别。</p><p>选择性偏见也会以其他方式呈现。一个针对某一机场消费者展开的调查肯定是存在偏见的，因为选择乘飞机出行的人一般来说会更加富有一些，而在 90 号州际公路旁的一个休息点展开的调查，可能会存在与机场调查结果相反的问题。此外，由于愿意在公共场合接受采访的人与不喜欢被打扰的人之间也是有差别的，因此这两个调查都有可能存在先天的偏见。假如你在一个公共场合询问 100 个人是否愿意接受一个小调查，其中有 60 人表示愿意回答你的问题，那么这 60 人与剩下的那些匆匆经过你身边、拒绝跟你有眼神接触的 40 人之间，可能在某些方面存在着巨大差别。</p><p>当样本中的个人主动提出要加入治疗组时，就出现了偏见的另一种形式，我们称为选择性偏见。例如，主动提出加入戒毒组的犯人与其他犯人是不同的，因为他们是主动要求加入这个组别的。即使通过跟进，发现戒毒组的成员在出狱之后再次人狱的概率要比没有参加戒毒组的犯人小，也丝毫不能证明戒毒组的存在价值。这些曾经的囚犯已经洗心革面地开始了全新的人生，我们可以说这是因为他们参加了戒毒组，但也有可能是因为其他因素恰好导致其有了主动申请加入戒毒组的愿望（比如产生了再也不想回到监狱的强烈欲望）。我们无法分离其中一种可能（戒毒组项目）与其他可能（成为一个主动申请加入戒毒项目的人）之间的因果关系。</p><p>记忆性偏见。回忆确实很神奇，但并不是优质数据的可靠来源。我们总是认为现在和过去是有逻辑联系的——有因才有果，这符合人类的思考方式。但问题是，当我们试图解释当前一些特别好或特别坏的结果时，我们的记忆便会出现“系统脆弱”的尴尬。1993 年，一位哈佛大学的研究人员进行了一项关于饮食习惯和癌症关系的研究，他收集了两组女性的饮食习惯数据，一组对象为被诊断出患有乳腺癌的女性，另一组对象则由年龄相仿的健康女性组成，通过对她们早年的饮食习惯进行对比研究发现：患有乳腺癌的女性在年轻时喜欢吃高脂肪含量食物的人数明显偏多。<br>但实际上，这项研究并不能揭示饮食习惯和癌症之间的关系，仅仅只是告诉我们癌症是如何影响一个女人对她早期饮食习惯的记忆的。所有参与研究的女性在 几年前都接受了一个关于饮食习惯的调查，那时她们中间还没有一个人被诊断出患有癌症。一个令人震惊的发现是，患有乳腺癌的女性在回忆她们的饮食构成时，食物的脂肪含量明显上升了，甚至比她实际摄入的要高得多；而没有患上乳腺癌的女性则没有这一倾向。《纽约时报》是如此形容这一记忆性偏见的“阴险本质”的：<br>一纸乳腺癌的诊断书不仅改变了一个女性的现在和未来，还改变了她的过去。患有乳腺癌的女性（无意识地）认为摄取过多高脂肪含量食物的饮食习惯极有可能是她们患病的罪魁祸首，因此她们的记忆（无意识地）认为自己过去摄入了太多高脂肪含量的食物。了解这一疾病历史的人，对于这样的一种思维方式是再熟悉不过了：这些女性与千万女性一样，不断回忆过去想要从中找到一个患病原因，然后再将这个原因植入记忆。<br>没有记忆性偏见是纵向研究优于横向研究的一个方面。纵向研究的数据都是基于当前收集的，当研究对象 5 岁的时候，我们会问他对于上学的看法，13 年之后，我们可以对其进行回访，看看他是不是从高中辍学了。横向研究的所有数据都是在某一个时间点上截取的，我们只能问一个 18 岁的高中缀学生当他 5 岁的时候对于上学持哪种态度，这位研究对象的回答必然没有 13 年前那么可靠和真实。</p><p>传统意义上的共同基金公司一般都会怎么做呢？操纵数据是永远的“救心丸”！下面就来说说，它们是如何在没有跑赢市场的情况下“跑赢市场”的。某家大型共同基金公司会同时开放许多只共同基金（有专家专门负责挑选股票，通常会有一个特定的关注点或策略），举个例子，假设一家共同基金公司开放了 20 只新基金，其中每只基金跑赢标准普尔 500 指数的概率都约为 50%（这一假设与长期数据是吻合的）。现在，基础概率学告诉我们，该公司第一年只有 10 只新基金的表现能够打败标准普尔 500 指数，连续两年打败标准普尔 500 指数的基金为 5 只，连续 3 年打败标准普尔 500 指数的基金只剩下了 2〜3 只。<br>最精彩的内容马上就要来了。届时，那些相比标准普尔 500 指数收益率不够理想的共同基金基本上都已经被悄无声息地关闭了（它们的剩余资产都被并入其他现有的基金中）。该公司接下来就可以大肆打广告，宣传这两三只“表现始终优于标准普尔 500 指数”的基金了，而实际上，它们在这 3 年的良好表现就相当于连续抛 3 次硬币都得到正面朝上的结果一样。它们接下来的表现很有可能会回归平均值，但此时投资者的钱已经被成功地骗进来了。真正能够在相当长一段时间里，对标准普尔 500 指数保持不败战绩的共同基金或投资专家少得可怜。</p><h1 id="第9章-中心极限定理"><a href="#第9章-中心极限定理" class="headerlink" title="第9章 中心极限定理"></a>第9章 中心极限定理</h1><p>我们通过对一家禽肉加工厂生产的 100 块鸡胸肉进行沙门氏菌检测，就能得出这家工厂的所有肉类产品是否安全的结论。这些“一概而论”的强大能力，来自中心极限定理。<br>使用样本对一个更大的数量对象进行推理（比如民意调查或是沙门氏菌检测）。<br>中心极限定理的核心要义就是，一个大型样本的正确抽样与其所代表的群体存在相似关系。当然，每个样本之间肯定会存在差异（比如前往马拉松起点的这么多辆客车，每辆客车乘客的组成都不可能完全相同），但是任一样本与整体之间存在巨大差异的概率是较低的。</p><p>在 99% 的情况下，任何一辆随机安排的客车上的选手的平均体重，都将会在全体运动员平均体重 ±9 磅的范围之内。<br>这些乘客的平均体重高于全体马拉松运动员平均体重整整 21 磅，只有低于 1% 的概率是马拉松运动员。因此，我可以有 99% 的把握认为这不是那辆失踪的马拉松客车，也就是说，我可以预期我的推理有 99% 的胜算。</p><p>根据中心极限定理，任意一个群体的样本平均值都会围绕在该群体的整体平均值周围，并且呈正态分布。</p><p>中心极限定理通过对不同样本平均值出现概率的描述，能够让我们推理出更为深入的结论。在这个例子中，样本平均值将会围绕着群体平均值（也就是 7.09 万美元）形成一条正态分布曲线。记住，群体本身的分布形态并不重要，美国家庭收入的分布曲线并非正态分布，但样本平均值的分布曲线却是正态分布。如果我们连续抽取 100 次包含 1000 个家庭的样本，并将它们的平均值的出现频率在坐标轴上标出，那么我们基本可以确定在 7.09 万美元周围将会呈现一个熟悉的“铁钟”曲线分布。</p><p>正态分布曲线的过人之处就在于，能够大体确定有多少比例的数值位于整体平均值的一个标准差之内(68%)，有多少数值位于两个标准差之内(95%)，以此类推。</p><p>标准误差被用来衡量样本平均值的离散性。我们如何评价样本平均值在群体平均值周围的聚集程度？为了避免混淆，我们首先需要对两个概念进行区分：标准差和标准误差。关于这两个概念，我们有必要记住的是：</p><ol><li>标准差是用来衡量群体中所有个体的离散性。在之前的例子中，标准差衡量的是弗雷明汉心脏研究中所有参与者的体重分布，或马拉松比赛中所有参赛运动员的体重分布。</li></ol><p>标准误差就是所有样本平均值的标准差。</p><p>由于样本平均值是呈正态分布的（这一点要归功于中心极限定理），我们便可以通过这条神奇的曲线来获得推理所需的“超能力”。已知的是，差不多有 68% 的样本平均值会在群体平均值一个标准误差的范围之内，有 95% 的样本平均值会在群体平均值的两个标准误差的范围之内，有 99.7% 的样本平均值会在群体平均值 3 个标准误差的范围之内。</p><p><img data-src="/naked-statistics/naked-statistics-8.jpg" alt="图9-6样本平均值概率分布图">  </p><p>为了能够让中心极限定理成立，样本数量必须足够多（依照经验至少有 30 个）；如果我们想要假设群体的标准差等同于样本的标准差，那么更要保证样本数量足够多了。</p><ol><li>如果你从某个研究群体中多次随机抽取数量足够多的样本，那么这些样本的平均值会以整体平均值为中心呈现正态分布（不论该群体自身的分布情况是怎样的）。</li><li>绝大多数的样本平均值都会紧紧围绕在整体平均值的周围，通过计算标准误差就可以知道这些样本平均值到底是离得“近”还是“远”。</li><li>通过中心极限定理，我们便可知道样本平均值与整体平均值之间的距离及其概率。样本平均值离整体平均值两个标准误差的概率相对较低，3 个或以上标准误差的概率基本上为零。</li><li>如果出现了某个概率较低的结果，我们便可以推测是不是有一些其他因素介入，而且概率越低，其他因素介入的可能性就越大。</li></ol><p>这些基本上囊括了统计推断的所有内容，而中心极限定理是让这一切发生的重要推动力。</p><h1 id="第10章-统计推断与假设检验"><a href="#第10章-统计推断与假设检验" class="headerlink" title="第10章 统计推断与假设检验"></a>第10章 统计推断与假设检验</h1><p>我的统计学老师把我叫到了他的办公室，隐约记得他说过“你的期末考试成绩比起你的期中考试成绩有了很大的提高”之类的话，但丝毫听不出有任何夸奖的意味，从始至终我心里都感觉不太舒服，觉得老师话中有话，因为他一直在问我到底是怎么做到的，言外之意就是他怀疑我作弊了。现在做了多年老师的我，也终于能体会他那时的想法了，在我教过的所有课程里，几乎所有学生的期中成绩和期末成绩都有着极为显着的相关性。如果某一个学生的期中考试成绩在班上处于中等偏下的水平，而在期末考试中却一举成为班上的佼佼者，这是一件非常不寻常的事。<br>我当时的解释是，我提早完成了论文，而且开始重视这门课程（认真阅读了课本，并完成了老师布置的课后作业），他看上去似乎对我的回答感到较为满意。我随后离开了他的办公室，但还是被他的含蓄“指控”搅得心神不宁。<br>说出来你们可能不信，通过这么一个小插曲，我们就可以窥见统计推断的优劣。统计学无法确凿地证明任何东西。与之相反，统计推断的力量在于：先发现一些规律和结果，然后再利用概率来证明这些结果的背后最有可能的原因。</p><p>有时候最有可能的解释并非正确的解释，极端罕见的事情总会发生。<br>南加利福尼亚州的一位名叫琳达·库珀的女士被闪电击中了 4 次。据美国联邦应急管理局披露的统计数字，被闪电击中一次的概率只有 60 万分之一。</p><p>（1）假如试验药物没有疗效，则治疗组和对照组之间几乎没有可能会出现如此巨大的差距。（2）因此，试验药物没有积极疗效的可能性很小。（3）那么结论（2）的反面，也就是试验药物具有积极疗效的可能性较大，并且恰巧能解释对照试验的数据结果。</p><p>统计推断过程中最常使用的工具之一就是“假设检验”。</p><p>说服法官或陪审团来推翻一开始的无罪假设，并接受其反面事实，即被告有罪。从逻辑学来看，如果我们能够证明某个零假设不成立，那么其对立假设（又称备择假设）肯定为真。下面举一个例子。<br>零假设：某种新药在预防疟疾方面并没有比安慰剂更加有效。<br>对立假设：该新药能够帮助预防疟疾。<br>数据：随机选取一个小组服用新药，另一个小组作为对照组服用安慰剂。一段时间过后，服用新药的小组的疟疾发病率要远低于对照组。如果该新药不具备任何疗效，那么出现这一结果的概率是非常低的。因此，我们推翻该新药没有疗效的零假设，承认其对立假设成立，即该新药能够帮助预防疟疾。</p><p>零假设和对立假设在逻辑方面是互补的，也就是说，如果其中一个假设为真，则另一个假设为假；如果我们推翻了其中一个假设，那就必须承认另一个假设。</p><p>研究人员经常会提出一个零假设并希望有朝一日能够推翻它，虽然这听上去有违直觉。在上面的两个例子中，研究的“成功”（寻找到一种新的治疗疟疾的药物以及减少重新犯罪率）都意味着推翻零假设，而真正通过数据做到的只有第一个例子。<br>在法庭上，推翻无罪假设的最基本条件是通过定性分析，“在不存在任何疑义的前提下认定被告有罪”，至于法官或陪审团如何理解这句话，那就因人而异了。基本上统计学也是这个道理，但在“排除疑义并定罪”的过程中用到了定量分析。研究人员最常提出的疑问是，如果零假设成立，那么完全是出于巧合的概率有多大？以此类推，医学研究人员会问，如果这一试验药物对治疗心脏病无效（也就是零假设）, 那么治疗组有 91% 的病人病情好转且对照组仅有 49% 的病人病情好转的概率有多大？假如数据显示零假设基本上不可能成立，比如上述的医学例子，那么我们必须推翻它，并承认其备择假设（该药物对治疗心脏病有作用）成立。</p><p>零假设到底要有多“不合情理”才能让我们将其推翻，并承认其反面假设为真？</p><p>研究人员推翻零假设最常参考的“门槛”之一是 5%，经常以十进位小数的形式表示为 0.05。如果一个零假设想要为真，其支撑数据的结果必须至少达到 0.05 这个显着性水平，才能保证该假设具有意义。</p><p>患有自闭症谱群疾病的孩子的大脑在生理结构上与其他孩子有什么不同吗？如果回答是肯定的，那么将有助于研究人员更好地理解自闭症的发病原理，从而为自闭症的治疗和预防提供新的信息。<br>问题是：仅凭一项样本规模并不是太大的研究（只有 59 位自闭症儿童，健康儿童的数量更少，仅为 38 位），我们就能推而广之地认为所有患有自闭症谱群疾病的儿童的脑量都异于常人吗？回答是肯定的。研究人员总结道，在儿童的脑量与患自闭症无关的前提下，两组样本（59 位自闭症儿童和 38 位健康儿童）的脑量出现如此差异的概率只有千分之二（p=0.002）。<br>我还特地找到了那期《普通精神医学纪要》，翻看了论文原文。里面的研究人员所采用的方法并没有比截至目前我们所学的概念更复杂，接下来，我将为大家大致介绍一下这篇在社会影响力方面和统计学意义上都非常重要的论文。首先你应该认识到，研究中的两组孩子 59 位自闭症患儿和 38 位健康孩子——能够合理地代表他们所在的群体，而且样本数量足够了，因此适用于中心极限定理。如果你早已将上一章的内容忘得差不多了，没关系，我们先来简单复习一下：（1）任意一个群体的样本平均值将会在群体平均值周围呈正态分布（⑵样本的平均值和标准差约等于所在群体的整体平均值和标准差；（3）约有 68% 的样本平均值位于群体平均值一个标准误差以内，约有 95% 的样本平均值位于群体平均值两个标准误差以内，以此类推。<br>如果用通俗的语言来总结上述 3 点内容，就是任何一个样本与其所代表的群体之间应该具有相似性；虽然每个样本都是不同的，但任何一个正确抽取的样本的平均值与整体平均值相差甚大的概率相对来说都是非常小的。同样的，我们可以预测，取自相同群体的两个样本彼此之间也应该差不多。在此基础上我们换个角度思考，如果两个样本的平均值相差甚远，那么最有可能的解释就是它们来自于不同的群体。</p><p>那份关于自闭症的研究论文所用的基本方法论是一样的。研究人员将两组孩子的几次大脑检测结果进行了比较（孩子在 2<del>5 岁通过核磁共振成像分别对大脑进行一次检测）。我们现在只看其中的一项指标——总脑量。研究人员的零假设大致上是：无论孩子有没有自闭症，他们的大脑在解剖学上都没有什么差别。备择假设为：患有自闭症谱群疾病的儿童，他们的大脑与健康儿童的大脑有根本性的不同。像这样的一个研究发现自然会存在许多问题，但至少为未来的自闭症研究和探索提供了一个方向。<br>在该研究中，自闭症儿童的平均脑量为 1310.4 立方厘米，对照组儿童的平均脑量为 1238.8 立方厘米，所以两组儿童的平均脑量之差为 71.6 立方厘米。假如自闭症跟儿童的平均脑量并无任何关系，那么出现这一结果的概率有多大？<br>如果你还记得上一章的内容，就会很自然地想到我们可以先求出样本的标准误差：s/fa, 其中 8 为样本的标准差，n 为样本数量。研究为我们提供了这些数据：自闭症组中 59 位儿童脑量的标准误差为 13 立方厘米；对照组中 38 位健康儿童脑量的标准误差为 18 立方厘米。你应该还记得中心极限定理告诉我们，有 95% 的样本平均值会落在整体平均值左右两个标准误差的范围内。<br>因此，我们可以从手中的样本推断出，所有自闭症儿童的平均脑量在 1310.4±26 立方厘米范围内的概率为 95%，在统计学上我们称之为置信区间。我们可以有 95% 的把握声称，在 1284.4〜1336.4 立方厘米的置信区间里包含了广义上所有患自闭症谱群疾病的儿童的平均脑量。<br>用同样的方法，我们也能够有 95% 的把握声称，在 1238.8 土 36 立方厘米的范围内，也就是 1202.8</del>1274.8 立方厘米的置信区间里，包含了所有非自闭症儿童的平均脑量。<br>我承认，上面出现了很多数字，或许烦躁的你刚刚已经将这本书扔到了角落里。假如你没有做出这么冲动的事情，或者你又走过去把书捡了起来，那么你就应该会发现，这两个置信区间居然没有重合的地方。自闭症儿童的平均脑量所处的置信区间的最小值（1284.4 立方厘米），依然要高于非自闭症儿童平均脑量所处的置信区间的最大值（1274.8 立方厘米），请看下面的图解。</p><p><img data-src="/naked-statistics/naked-statistics-10.jpg" alt="图10-2 平均脑量样本分布图">  </p><p>这可能是证明自闭症儿童的大脑，的确存在解剖学差异的第一条线索。是的，照目前来看，这只能算是一条线索，因为我们所有的推断都是建立在不到 100 位儿童组成的样本的基础上，或许我们只是遇上了比较特殊的样本。</p><p>假设自闭症儿童和健康儿童的脑量真的不存在任何解剖学上的差别，即他们属于同一个群体，那么两组样本出现如此巨大差距（一个是 1310.4 立方厘米，一个是 1238.8 立方厘米）的准确概率有多少？我们可以算出已知平均值差异的假定值。</p><p>100 位 NBA 球员并计算出他们的平均身高为 6 英尺 7 英寸（约 2.01 米），那么另外再随机抽取 100 位 NBA 球员，他们的平均身高也应该接近 6 英尺 7 英寸。好吧，或许这两组样本之间会存在一两英寸的差别，但存在 4 英寸差别的概率就没有那么大了，相差 6~8 英寸的概率可以说是微乎其微。我们可以计算出两个样本平均值之间差异的标准误差，通过这个标准误差，以及不同样本平均值之间的差距，我们可以判断样本平均值的离散程度。重要的是，我们可以通过这一标准误差计算出两个样本来自同一个群体的概率。以下就是具体流程：</p><ol><li>假如两个样本均抽取自同一个群体，那么最好的结果是它们的平均值之差为零。</li><li>中心极限定理告诉我们，在重复抽取的样本群里，两个平均值（样本平均值与群体平均值）之间的差将会呈正态分布。（承认吧，你是不是开始有点爱上中心极限定理了？）3. 假如两个样本真的来自于同一个群体，那么有 68% 的概率，两个平均值之间的差小于一个标准误差；有约 95% 的概率，这个差会处于两个标准误差以内；有 99.7% 的概率会处于 3 个标准误差以内。这就是那篇自闭症研究论文的结论落脚点。<br>如前文所述，自闭症儿童组和对照组的平均脑量之差为 71.6 立方厘米，标准误差为 22.7, 也就是说，两组样本的平均值之差超过 3 个标准误差，我们能够据此计算出，如果这两个样本真的来自于同一个群体，那么出现如此极端结果的概率只有千分之二。</li></ol><p>在统计推断的巨大光环之下，我们也要小心它的陷阱。<br>一在没有作弊的情况下。因此，对于任何一类假设检验来说，我们都面临一个根本性的两难困境。</p><h1 id="第11章-民意测验与误差幅度"><a href="#第11章-民意测验与误差幅度" class="headerlink" title="第11章 民意测验与误差幅度"></a>第11章 民意测验与误差幅度</h1><p>每一个拨出去的号码都应该有一位对应的成年人接听，但如何选取也应该有一个“随机的程序”，如要求让当前家中年纪最小的成年人来回答问题。这一个程序经过优化，能够让接听人的年龄、性别比例更加接近真实的成年人口。最重要的是，调查人员会尝试在一天的不同时刻拨打电话，以确保被挑中的电话号码能够打通。这些不断重复的操作一包括重拨某个电话多达 10 多遍——都是获得一个平衡样本不可缺少的重要组成部分。如果只是在工作时间随机拨打电话，能打通最好，打不通就更换其他号码，直到凑齐所需的样本数量，这样做当然在操作上更加容易实现，也更省钱，但这样的一个样本很有可能会存在偏差，在家接听电话的人很有可能大多是失业者或老人等。如果你只是想证明民意测验结果是美国总统奥巴马在失业人口、老人以及热心接听陌生来电人群中的支持率为 46% 的话，那你这样做是可以的。<br>检验民意测验是否正确有效的另一个指标是：被选中的电话号码中有多少接听者最终能够完成电话调查？假如完成率很低，那么就要小心会出现样本偏见了。不接受电话调查的人越多，或者家中电话一直处于无人接听的状态，那么这些人就越有可能与那些完成调查的人存在本质区别。民调策划人可以通过分析那些无法联系上的电话用户的已知信息来决定是否存在“无应答偏见”，这些人是否都住在同一个地区？他们拒绝采访的原因是不是都是类似的？他们是不是大多来自同一个种族、民族或收入群体？通过此类分析，我们便能够知道较低的回应率是否会影响到某次民意测验的结果。<br>2002 年起，每年的民意测试都显示有超过 60% 的美国人支持对谋杀犯判处死刑。美国人对死刑判决的支持率一直在一个很小的范围内变动，最高时的支持率为 2003 年的 70%, 其他时候支持率也曾低至 64%。但民调数据的结果是很清楚的：大多数美国人都支持死刑。<br>事实是这样的吗？当把无假释终身监禁作为选项放人问题中去之后，美国人对于死刑的支持率就大大下降了。2006 年的盖洛普民调发现，只有 47% 的美国人认为对谋杀犯判处死刑是合适的，而有 48% 的受访者选择了终身监禁。这可并非某场晚宴上的统计学玩笑，这意味着当无假释终身监禁作为一个可靠的选择时，多数美国人将不再支持死刑。在作公众调查的过程中，问题的设置以及提问的方式都会对结果产生巨大影响。<br>政客们就常常利用这一点来获得对自己有利的民调结果。例如，选民们对“免税”一词的好感度就高于“减税”，其实这两个词说的是同一个含义。同样的，相比起“气候变化”，选民们更加关心“全球变暖”，虽然后者只是前者的形式之一。政客们总是通过非中性词的使用来操纵选民的反应。如果一个中立、正直的民调机构想要获得正确有效的结果，它们必须警惕那些可能会影响反馈信息准确性的用语。</p><p>像盖洛普这样的机构会经常组织开展“分离样本测试”，也就是将同一个问题的不同问法用在不同的样本人群里，以便判断用词上的小小变化到底会不会影响回应者的答案。对于盖洛普民调机构专家弗兰克·纽波特而言，每一个问题的答案都是有意义的数据，就连那些看上去似乎有些矛盾的答案也不例外。美国人对于死刑的态度在终身监禁的刑罚颁布之后发生了剧烈改变，这其中就透露了一些重要的信息。纽波特说，关键在于要在一个大背景下看待民意测验的结果。对于一个复杂的话题，只看一个问题或一次民调结果是不可能完全看透公众的心理的，此时更需要有大局观和联想力。<br>受访者说的就一定是真的吗？民意测验就像是网恋，在对方所提供的信息里总是有那么一点儿“言不由衷”的成分。我们都知道，人都有撒谎的时候，尤其是当问题比较尴尬或敏感时。<br>选举民调尤其关键的一步是，将那些不会在选举日当天去投票站投票的美国公民筛选出来（因为如果我们想预测某次选举的胜利者，那么那些不打算去投票的人的观点对于我们来说就是无关紧要的）。作为个人而言，他们总是会说自己会去投票，因为他们觉得这是民调公司愿意听到的答案。但是有研究表明，那些自称会去投票的人中有 1/4〜1/3 的人最终没有投票。为了减小这类抽样偏见对民调结果的影响，一种方法是向受访者提问他们是否参加了上一次或前几次的选举投票，那些每场投票都参加的受访者最有可能在未来的选举中投票。如果担心受访者会羞于表达某个社会接受度不高的观点，例如对某个激进组织或民族群体的负面印象，民调人员会采用迂回的问法，如“你身边有认识的人”持有这种观点吗？<br>调查结论中的那句 “调查的准确性保证结论能够代表全体美国成年人的性行为”是建立在两个前提之上的，受访者是从全体美国成年人中正确抽取的样本，受访者提供了诚实准确的答案。<br>民意测验真正的挑战有两个：设计并选取正确的样本 &gt; 用恰当的方式从该样本中获取合适的信息，以准确地反映他们的真实感受。</p><h1 id="第12章-回归分析与线性关系"><a href="#第12章-回归分析与线性关系" class="headerlink" title="第12章 回归分析与线性关系"></a>第12章 回归分析与线性关系</h1><p>工作压力过大会致人死亡吗？答案是肯定的，有大量证据表明工作压力会导致早逝，尤其使心脏病猝死的概率陆增。但这种致命的压力或许跟你想象的有所不同。公司高管们几乎每天都要做出重要决策，这些决策关系到他们公司的前途命运，但他们所承受的风险要远远小于他们的秘书，后者必须兢兢业业地接听电话，完成上级布置的各种任务。但这怎么可能呢？其实最危险的一类工作压力来自于对自己的工作任务“缺乏控制力”。针对数千名英国公务员的多项调查（“白厅”研究）发现，那些对自己的工作没有支配能力的雇员——也就是基本上对干什么、怎么干没有话语权的人——相比起那些拥有更多决策权的雇员来说，前者的死亡率更高。由此表明，并不是那些“权力越大，责任也越大”的压力置你于死地，而是那种等着上司给你布置任务，但自己又没有权力决定怎么完成、何时完成这些任务的压力把人压垮了。</p><p>一个简单的相关关系，并不足以让人得出某类工作对健康有害的结论。在发现了英国政府系统中低级别的雇员更容易患上心脏病之后，我们还必须考虑到其他可能的因素。例如，我们可以想见这些低级别雇员的受教育水平要比高层官员们低；这些人更有可能染上烟瘾（或许是因为他们在工作中郁郁不得志）；低级别雇员小时候的体质较弱，从而影响了长大后的工作前景；又或者较低的收入使得他们无法享受到好的医疗资源等。重点在于，任何一项只是简单地比较某个大型人群中个体（或不同人群）健康状况的研究都不会告诉我们太多有用的结论，在这样庞杂的数据中有太多的干扰因素会模糊我们对那些真正值得注意的关系的看法。心脏病真的是“低级别工作”导致的吗？又或者只是这类雇员所共有的一些因素共同导致的？如果我们认同了后者，那就等于完全无视一个真正的公共健康威胁。</p><p>如果处理得当，回归分析能够排除其他因素的影响<br>如果将统计学的基本概率门槛设定为 5%，那么这一个发现就具有了统计学意义。<br>让我们先好好思考一下上述这个例子。假设这项研究对比的是一群定期打壁球的人和一群从不运动的人——两类人的体重相当。打壁球的确对增强心脏功能有好处，但是，我们也不能忽略壁球这种运动并不是一般人能长期消费得起的，那些有打壁球习惯的人通常是社会的上流人士，他们加入的一些俱乐部常常有壁球场地供他们使用。同时，富有的人所能接触到的医疗资源自然更为丰富，这也有利于他们保持心脏健康。如果研究人员想草草了事，当然可以将这些人的心脏健康归功于打壁球，但事实上真正的健康受益于足够支撑壁球运动习惯的财富（打马球也是相同的道理，有人说参与马球运动的人更健康，其实这也是财富和优质医疗的功劳，不用想都知道打马球的过程中真正锻炼了身体的主要是马）。<br>还有可能是因果关系倒置，会不会是拥有了健康的身体才更愿意运动呢？当然有可能。那些体弱多病的人，尤其是心脏有先天性缺陷的人不宜从事剧烈运动，他们不大可能定期去打壁球。但如果研究分析过于敷衍和简单化，就会说运动有益于身体健康，而实际上却是那些天生身体不好的人不经常从事运动。照这个观点，打壁球并没有让任何人变得更健康，而只不过是将健康的人与体质差的人区分开罢了。</p><p>回归分析的强大能力表现在：将我们所关心的统计关联隔离出来，如工作中的支配力和心脏病，同时还不忘考虑其他可能会对这一相关关系产生影响的因素。</p><p>具体是如何做到的呢？如果我们得知英国政府中低级别雇员的身体要比他们上司的体质更弱，那我们怎么确定在心血管健康状况不佳的致病原因里，有多少比例源于他们低级别的工作，多少比例因为吸烟？这两个因素看上去似乎是彼此缠绕、密不可分的。<br>通过回归分析就能将它们解开。为了让大家都能理解其中的奥妙，我必须从基础说起，无论是哪种形式的回归分析——从最简单的统计学关联到诺贝尔奖获得者搭建的复杂模型，都离不开的基本概念。最核心的一点是，回归分析寻找的是两个变量之间的最佳拟合线性关系。举个简单的例子，身高和体重的关系。虽然不是绝对的，但身高较高的人一般体重应该更重。我们将一组大学毕业生的身高和体重标记在坐标轴上，不知道你会不会回忆起我们在前文中讲过的内容。<br><img data-src="/naked-statistics/naked-statistics-11.jpg" alt="图12-1 身高与体重散点分布图"><br>如果让你描述一下上面的图，你或许会说“体重看上去似乎随着身高的增加而增大”之类的话，说得很对，但离满分还有点距离。回归分析能够让我们更进一步，用更加精确的话语来描述这两个变量之间的线性关系。<br>大致来看，符合身高和体重数据趋势的线有很多条，但我们如何知道哪一条才是“最佳”的？我们又如何定义“最佳”这两个字？回归分析的一个常用方法为最小二乘法（OLS）, 为什么 OLS 能够得出最佳拟合线性关系，我们留给更高阶的课本去解释，这里的关键点在于，OLS 直线可以让所有数据的残差平方和为最小。</p><p>对于任意一个回归系数，我们只需要关心 3 件事情就行了：正负、大小和含义。<br>正负。回归系数的正负揭示了自变量与因变量之间相关关系的方向。<br>大小。自变量到底能对因变量产生多大的影响？这种影响会达到何种程度？在上述例子中，每英寸身高都关系着 4.5 磅的体重，而 4.5 磅对于一个人的体重来说是一个不小的重量。在解释一些人为什么比另一些人的体重更重时，身高自然是一个重要的因素。</p><p>一口洁白的牙齿与每年多挣 86 美元之间存在相关关系。<br>但是，那又怎么样？我们的确发现了一个具有统计学意义的现象，但从社会学角度来看它其实无关紧要。首先，86 美元并不是一笔足以改变人生的金钱，在公共政策制定者的眼里，86 美元或许还不够每年牙齿美容的费用，因此我们甚至无法向年轻雇员推荐这类投资。此外，虽然下一章的内容会着重讲解回归分析中的陷阱，但我还是忍不住想要就方法论这方面的内容先说几句。例如，拥有完美的牙齿很有可能与本人的性格特点有关，正是因为这种性格特点，才带来了更高的收入，他们之所以挣得比别人多，是因为他们具备爱护牙齿这种性格，而非牙齿本身。这个例子告诉我们，要时刻关注解释变量与我们所关心的结果之间相关关系的大小。</p><p>3000 名美国成年人进行身高和体重数据的收集，那么在回归分析中我们可能会发现，他们平均身高每增高 1 英寸，相应的体重增加值为 4.3 磅；如果重复抽样和计算，那么每英寸身高所对应的体重增加值有可能变成 5.2 磅。正态分布又一次成为我们的朋友。</p><p>但是，我必须警告你的是，对于小型样本数据（例如 20 位成年人而非“变化的一生”项目的 3000 人）来说，正态分布将不再是我们的“好朋友”。具体来说，假如我们对不同的小型样本进行回归分析，就不能指望这些回归系数会围绕着全体美国成年人身高和体重的真实情况呈正态分布，此时的分布情况我们称为“t 分布”（简单概括之，t 分布比起正态分布来说更加分散，因此左右两条“尾巴”的幅度更大）。</p><p>一旦得出了回归系数和标准误差，我们便能对“解释变量和因变量之间没有相关关系（即回归系数为 0）”的零假设进行检验了。<br>在上述有关身高和体重的简单例子中，假如对于全体人口来说身高和体重并不存在任何相关关系，那么我们在“变化的一生”样本中得出每英寸身高对应 4.5 磅体重的概率有多高？我在电脑上用一款最基础的统计软件进行了回归运算，得出身高系数的标准误差为 0.13, 也就是说，如果我们重复此分析，比如说有 100 个不同的样本，那么预计将会有约 95 个回归系数落在人口真实参数两个标准误差的范围内。<br>由此，我们可以用两种不同但彼此相关的方式呈现这一结果。第一种方式是，我们可以建立一个 95% 的置信区间（4.5±0.26），也就是说，在 95% 的情况下回归系数会落在此区间里，也就是 4.24~4.76 之间，用基本的统计软件就能算出这一区间。第二种方式是，我们可以说在身高和体重的相关性 95% 的置信区间里不包括零。由此，我们就能有 95% 的把握推翻“身高与体重之间不存在相关关系”的零假设了。这个例子的显着性水平为 0.05, 也就是说在推翻零假设这件事情上只有 5% 的概率是错的。<br>事实上，我们的统计结果还要更极端。标准误差（0.13）相比起回归系数（4.5）来说，是一个极小的数字，一个经验法则就是，当回归系数至少是标准误差的两倍或以上的时候，该系数极有可能具有统计学意义。使用统计软件还可以计算出这个例子中的假定值约为零，这就意味着如果整体人口的身高和体重真的不存在任何相关性的话，那么得到如此极端（或更加极端）结果的概率基本上为零。要记住，我们并没有证明身高略高的人的体重就一定更重，我们只不过表明了，由“变化的一生”样本得出的身高与体重相关性假如不为真的话，那会是一件极为反常的事。<br>通过基础的回归分析，我们还可以得出一个值得注意的统计值：用以衡量所有能够用回归方程表示的数据总和 R2。在“变化的一生”样本中，仅体重一项就有大量不同的数值，有一些人重于所有人的体重平均值，有一些人的体重还不足平均值，通过 R2, 我们便可以知道这些围绕在平均值周围的体重与身高两项因素之间的相关关系到底有多“亲密”，即回归系数。在这个例子中，答案是 0.25 或 25%。也就是说，我们的样本中有 75% 的体重数据无法在回归方程上表现出来。对于“变化的一生”项目的研究对象来说，影响他们体重的因素显然不仅身高这一项，别着急，有趣的内容马上就要讲到了。</p><p>但要记住的是，我们的基本原理并没有改变，无论是之前简单的身高与体重变量，还是现在的多个变量，只要将它们输入电脑上的统计软件，就会自动生成让残差平方和最小的回归系数与回归方程。<br>我们暂时还是以“变化的一生”为例，后面我将通过另外一个例子直观地告诉大家多变量回归分析是如何在我们的生活中创造奇迹的。首先，我们为“变化的一生”项目的研究对象的体重再增加一个解释变量：年龄。在电脑中输入相关的身高和年龄数据后，我们得到了如下的方程式：<br>体重 =-145+4.6×身高 +0.1×年龄 年龄的回归系数是 0.1，也就是说，在其他变量不变的条件下，年龄每增加一岁，体重相应地增加 0.1 磅。对于任意一组相同身高的人来说，年龄大的人的平均体重要高于年龄小的人，年长 10 岁表现在体重上就是体重重 1 磅。从方程式上看，虽然年龄对于体重来说并不是一个很显着的影响因素，但确实和我们在生活中看到的一致，该系数的显着性水平为 0.05。<br>你可能还注意到了身高的回归系数比之前增加了一点儿。当把年龄变量考虑进来后，我们对于身高对体重的影响有了一个更加精确的认识。样本里相同年龄的人中，也就是“当年龄为常量时”，身高每增加 1 英寸，体重增加 4.6 镑。<br>我们再加入一个变量：性别。这次就有一点不同了，因为性别只存在两种可能性：男性或女性。我们总不能把“男”和“女”放到回归方程式里吧？这时候我们需要用到二进制变量（又称虚拟变量）。在输入数据的时候，如果参与者是女性，我们就用 1 来表示；如果参与者是男性，我们就用 0 来表示。性别系数可以理解为，在其他因素不变的情况下对女性体重的影响。该系数为 -4.8，并没有出乎大多数人的意料，具体来说，就是对于相同身高和年龄的人来说，女性要比男性轻 4.8 磅。现在，我们可以开始领略多元回归分析的一些神奇之处了。我们知道女性一般要比男性矮一点儿，但好在我们已经将身高“控制”起来，因此最后呈现的系数也应该会表现出女性比男性矮的特点。最新的回归方程式如下：<br>体重=-118+4.3×身高+0.12×年龄-4.8×性别(女性为1，男性为0)<br>对于一位身高为65英寸的53岁女性来说，她的体重最有可能约为-118x4.3x65+0.12x53-4.8=163镑。对于一位身高75英寸的35岁男性来说，他的体重最有可能约为-118+4.3x75+0.12x35=209磅，我们之所以跳过回归方程式的最后一项(-4.8)，是因为这个人不是女性。</p><p>当 R2 为 0 时，表示我们的回归方程式预测样本中个体体重的能力并没有比“平均值”好多少；当 R2 为 1 时，表示我们的回归方程式能够完美地预测样本中的每个人的体重）。</p><p>与职场歧视并无关系，例如更多女性倾向于选择半日制工作。那么，收入差距中有多少是因为工作量的不同，又有多少是因为职场歧视呢？我想这是所有人都愿意关心的问题。<br>回归分析可以帮助我们回答这个问题。但是，我们这次采用的方法就没那么直截了当了，会比之前解释体重的影响因素时略显复杂。我们会考虑其他一些影响收入的传统因素，如教育、工作经验、行业等，在控制这些因素相同的条件下，假如还存在显着的收入差距，那么就有可能是歧视因素在作祟。无法解释的收入差距的成分越多，职场歧视的嫌疑也就越大。举个例子，3 位经济学家对毕业于芝加哥大学布斯商学院约 2500 名工商管理硕士（MBA）的收入轨迹进行了跟踪研究，毕业时，男女毕业生的起薪大体相等：男性的收入为 13 万美元，女性的收入为 11.5 万美元。但是 10 年以后，他们的收入出现了巨大差异：女性的平均收入（24.3 万美元）比男性收入（44.2 万美元）低了 45%。在另一个大型样本中，1990~2006 年间毕业并进入职场的 18 万名 MBA 里，女性的收入要比男性低 29%。离开学校以后，我们的女同学都怎么了？<br>根据研究人员的调查，其实绝大部分收入差距与歧视因素的关系并不大。当有越来越多的解释变量加入分析中去，性别差异对收入的影响就变得越来越微不足道。例如，在校期间男性选择金融相关课程的人数比女性多，成绩平均分也高于女性，当将这些数据作为控制变量加入回归方程式之后，男女收入差距中无法解释的成分就下降到了 19%。再将毕业后的工作经历、不在公司的时间作为变量放入回归方程式去，男女收入差距中无法解释的成分又进一步降到了 9%。继续加入其他与工作特点有关的解释变量，如雇主类型和加班时长，男女收入差距中无法解释的成分已经不足 4% 了。<br>对于入行 10 年的雇员来说，他们之间存在的收入差距有 99% 都可以用非歧视性因素来解释，只有 1% 的概率与歧视有关。研究人员总结道：“我们发现有 3 个最主要的因素影响了男性和女性之间不断扩大的收入差距：MBA 学习期间不同的课程选择、事业中断的原因和时间长度的差别、每周工作长度的不同。这 3 个决定因素基本上可以解释男性和女性在完成 MBA 学业多年之后的收入差距。”</p><p>我希望通过我的介绍，大家能够认可多元回归分析的价值所在，尤其是在控制其他变量的条件下单独考虑某个解释变量给结果带来的影响。但是，我还没给大家举例说明这一神奇的统计学“万金油”到底是如何发挥作用的。在其他因素相同的情况下，当我们用回归分析法来考察教育和体重之间的关系时，假如“变化的一生”项目的研究对象在其他方面都不完全一样，那统计软件是如何控制身高、性别、年龄、收入等解释因素呢？<br>下面，我们就先分离出某个单一变量（比如教育）并观察其对体重的影响，为了让大家的头脑能够反应过来，我们先来设想如下情形。假设“变化的一生”项目的所有研究对象都被召集在同一个地方——马萨诸塞州的弗雷明汉，首先将他们按性别进行区分，然后再以身高为标准将男性和女性由高到矮作进一步划分，并安排到不同的房间里。现在，我们有一个房间里面全都是身高为 6 英尺的男性，隔壁房间是身高为 6 英尺 1 英寸的男性，以此类推，女性的情况也是如此。假如我们的研究对象数量足够多，那么还可以将每个房间里的人按收入状况再进行分类。最后，研究对象全都被安排进了面积不同的房间，每个房间里的人除了教育和体重以外其他方面全都相同，此时教育和体重是我们所关心的两个变量。有一个房间里全都是年龄为 45 岁、身高为 5 英尺 5 英寸、年收入在 3 万~4 万美元的男性，而隔壁房间里可能全是年龄为 45 岁、身高为 5 英尺 5 英寸、年收入在 3 万〜4 万美元之间的女性，诸如此类。<br>每个房间里个人的体重还是有所差别的，相同性别、身高和收入的人在体重上不一定都相同——但按理来讲，每个房间里的体重差异应该要小于整体样本的体重差异。那我们现在的目标就是，确定每个房间里剩余的体重差异里有多少成分可以用教育因素来解释，换句话说，教育和体重之间的最佳线性关系是什么？<br>现在就剩下最后一个挑战了，那就是如何解决这些房间内出现的不同的回归系数的问题。整个过程的重点就是，在保持其他因素不变的情况下，计算出一个单一的系数来对整个样本的教育和体重关系进行一个最佳描述。我们想要看到的是，用这个唯一的系数使所有房间内不同体重值的残差平方和为最小。那怎样的一个系数才能达到如此效果呢？答案就是回归系数，因为在性别、身高和收入相同的条件下，回归系数能够最好地描述教育和体重之间的线性关系。</p><p>一项对包含 10308 名英国公务员的样本的跟踪研究就试图理清这其中的差别。这一次雇员们还是按照行政级别进行划分——高级、中级和低级，只不过这一次参与者还必须完成一份 15 个题目的问卷，这份问卷主要是评价他们的“决策力或控制力”水平，其中设置的问题包括“你可以选择自己在工作中从事哪些项目吗？”对应的选项按程度划分（“从不”到“经常”），还有陈述句，比如“我在工作中可以决定何时停下来休息”。研究者们发现整个观察过程中“控制力低”的雇员患上冠心病的风险要高于“控制力高”的雇员。同时，研究人员还发现对工作要求高的雇员患心脏疾病的风险并没有比其他人高，在社会认可度低的岗位上工作的雇员也没有表现出容易患上心脏病的倾向。因此，似乎只有对工作缺乏控制力和话语权才是“生命杀手”。</p><p>1981~1993 年间，已发表 36 项研究成果关于此类课题，其中绝大多数的研究成果都发现工作疲劳和心脏病之间存在显着的正相关关系。<br>其次，研究人员探索并发现了相关的生物学证据，解释为什么这一特殊的工作压力能够导致健康状况的恶化。要求严格但控制力低的工作环境能够导致一系列生理反应（如释放与压力有关的荷尔蒙），长此以往会增加患心脏类疾病的风险，甚至连动物研究都为解释其病变原理发挥了作用。研究人员发现，地位低的猴子和拂狒（它们与权力系统中处于底层的公务员的境遇有着相似之处）与地位高的同类在某些生理指标上存在差异 , 使得前者更容易患上心脏血管疾病。</p><p>以下就是让回归分析这一非凡的工具沦为“邪恶”工具的 7 个最常见的错误。<br>用回归方程式来分析非线性关系。</p><p>（解释变量）和每场 18 洞练习的平均杆数（因变量）之间的关系，如你所见，两者之间并不存在一致的线性关系。<br><img data-src="/naked-statistics/naked-statistics-9.jpg" alt="图13-1 高尔夫球课程对打球成绩的影响"><br>上图中并非完全没有规律，只不过是难以用一条直线来描述罢了。前几节高尔夫球课使我的杆数快速降了下来，因此在这个阶段，我的课程数与杆数是呈负相关关系的，斜度为负，也就是说，上课降低了我的杆数（对于高尔夫球来说这是一件好事）。<br>但是，当我的学费累计交到了 200〜300 美元时，这个阶段的课程似乎对我的球场表现没有太大的帮助。高尔夫球课程与我的成绩之间似乎不存在一个明确的关系，因此斜度为零。<br>随着上课的次数越来越多，我的成绩甚至出现了下滑。当累计学费达到 300 美元以上，增加的课程反而使我的杆数越来越高，在这个阶段斜率就为正了（后面的内容我会为大家解释为什么是发挥不佳导致了学习更多的课程，而不是学习更多的课程导致了发挥不佳）。</p><p>相关关系并不等同于因果关系。如我之前所说，回归分析只能证明两个变量之间存在关系，至于是不是其中一个变量发生变化就一定能导致另一个变量也发生变化，仅凭数据我们无法给出证明。事实上，一个并不十分严谨的回归分析也能在两个完全不相关的变量之间找到显着且有统计学意义的关系。假设我们正在探寻过去 20 年里美国的自闭症病例不断增多的原因。我们的因变量——也就是我们正在试图对其做出解释的现象——需要对自闭症进行量化，比如每千名某个年龄段儿童中自闭症的病例数量。与此同时，假如我们将中国的人均年收入看作一个解释变量，我们肯定能够在过去 20 年里激增的中国人均收入和上升的美国儿童自闭症确诊率之间发现一个正相关且具有显着统计学意义的关系。<br>这是为什么呢？因为它们在同一时期都出现了快速上涨的趋势。但是，我高度怀疑即使中国出现经济衰退，美国的自闭症儿童也不会因此减少。</p><p>因果倒置。假如 A 与 B 之间存在统计学关系，我们不能直接推出 A 导致 B，因为完全有可能是 B 导致 A。还记得刚刚的那个高尔夫球课的例子吗？我当时已经暗示了这种现象的存在。在我搭建的解释模型里，击球成绩始终是因变量，解释变量一直锁定在累计课程上。也就是说，上的课越多，成绩越差！一种解释是我的高尔夫球教练教得很差，但另一种更加说得通的解释是，我在状态不好时总是会想着多上几节课——状态不佳导致了更多的课程，而不是相反的情况。（对于这类问题来说，我们在方法论上有多种解决办法。例如，我可以将这个月的高尔夫球课作为下个月成绩的解释变量）。</p><p>因果关系有时候是双向的。假设你手头正在做的一项调查显示，美国在 K-12（指从幼儿园到 12 年级儿童教育）上投入多的州的经济增长率要高于 K-12 项目投入少的州。但就算这两个变量之间的正相关关系再显着，我们也无法从中看出因果关系的方向。我们既可以说 K-12 教育的投入推动了经济增长，也可以认为只有那些经济实力雄厚的州才有钱在 K-12 教育上投入更多，因此是增长的经济带来了教育的投入。还可以说，教育支出推动了经济增长，继而为进一步加大教育投入提供了可能，即它们互为因果。<br>关键在于，我们不应该使用那些（我们正在花大力气解释的）受结果影响的解释变量，不然的话，因和果将会永无休止地纠缠下去。举例来说，解释 GDP 增长时，在回归方程中加入失业率因素是不合适的，因为失业率很显然会受 GDP 增长率的影响。或者换一个角度来看，通过回归分析，发现失业率的下降会促进 GDP 的增长，这样的结论是可笑的、没有任何意义的，因为为了降低失业率，通常的做法是促进 GDP 的增长。</p><p>变量遗漏偏差。下次当你在报纸上读到类似于《常打高尔夫易患心脏病、癌症和关节炎》这类标题时，千万不要轻信。高尔夫球球员患上这些疾病的概率比不打高尔夫球的人高——关于这一点我一点儿都不觉得奇怪，但我同时也认为打高尔夫球有益健康，因为它不仅能够丰富你的社交生活，还能为你提供适当的运动量。我应该如何在这两个截然不同的观点之间进行取舍呢？非常容易。无论什么研究，在量化高尔夫球对健康的影响时都必须正确控制“年龄”变量，通常来说，年龄越大，打高尔夫球的时间和机会越多，尤其是在退休之后。在打高尔夫球这个课题上，任何没有将年龄作为解释变量的研究都不可避免地遗漏了一个事实，那就是打高尔夫球的人总体上比不打高尔夫球的人年长。因此，杀人的不是高尔夫球，而是衰老，而且那些正在老去的人恰巧对打高尔夫球乐此不疲。如果将年龄纳入回归分析中去，得到的结论将很有可能是另外一幅光景：在年纪相仿的一群人中，打高尔夫球可能还会对严重疾病的预防起到正面的效果。这跟前面提到的报纸标题有着天壤之别。<br>在这个例子中，年龄是一个被遗漏的重要变量。当我们用回归方程式解释打高尔夫球与心脏病或其他疾病的关系时，如果将年龄因素排除在外，那“打高尔夫球”就会超出自身的解释作用，而相当于扮演了两个解释因素的角色：它不仅告诉我们打高尔夫球对心脏病的影响，而且还告诉我们年纪的增长对心脏病的影响（因为打高尔夫球的人通常比其他人要年老一些）。用统计学术语来表达，就是打高尔夫球这个变量“覆盖”了年龄这个变量的影响。也就是说，这两种不同的影响在分析中被混为一谈，</p><p>高度相关的解释变量（多元共线性）。在一个回归方程式中，假如两个或两个以上解释变量彼此之间高度相关，那么回归分析的结果将有可能无法分清每一个变量与因变量之间的真实关系。举例说明，假设我们想要知道吸毒对 SAT 考试分数的影响，我们会询问研究对象是否吸食过可卡因或海洛因</p><p>让分析变得模糊。丈夫和妻子的受教育程度存在着相当大的相关性，以至于我们无法通过回归分析得出一个有意义的关于某个家长的教育程度系数（就好像我们难以区分可卡因和海洛因对考试的影响一样）。</p><p>脱离数据进行推断。</p><p>出结论时就明确地规定了适用范围，可以说具体得不能再具体了：“从事缺乏控制力的工作将会增加未来患上冠心病的风险，该结论仅适用于受雇于政府部门的男性和女性。”</p><p>变量过多。<br>假如变量过多，尤其当无关变量过多的时候，回归分析的结果就会被冲淡或稀释。</p><p>有大量发表的专家研究最后被证明是错误的。希腊医生和流行病学家约翰·艾奥尼蒂斯对 3 本最有声望的医学期刊里刊登的 49 篇学术研究论文进行了统计，每一篇论文的研究发现都被转引了至少 1000 次，但其中差不多有 1/3 的研究成果都被后续的研究否定了。（例如，有一些研究是支持雌激素补充疗法的）。根据艾奥尼蒂斯博士的观察，在已经出版的科学论文中，差不多有 1/2 最终会被证明是错误的。他的研究成果刊登在《美国医学协会学报》上，有趣的是这就是他所研究的 3 本期刊中的其中一本。这难免令人产生困惑：假如艾奥尼蒂斯博士的研究发现是正确的，那他的研究发现就很有可能是错误的。</p><p>本章精选的所有警示其实都可以浓缩为两个基本经验。第一，设计一个好的回归方程式，想清楚应该考虑哪些变量、应该从哪里收集数据，一个好的方程式要比统计计算本身更加重要。这个过程可以通过对方程式的评价和回归方程的具体化来实现。</p><p>第二，与绝大部分统计推断一样，回归分析始终以观察样本为立足点。两个变量之间的相关关系就像是犯罪现场的一个指纹，能够为我们指出正确的方向，但在大多数时候还不足以定罪（有些时候在犯罪现场发现的指纹甚至都不是凶手的）。对于任何回归分析来说，都需要在以下方面得到理论支持：为什么方程式里要有这些解释变量？通过其他学科领域是否也能解释这个分析结果？例如，我们为什么会认为穿紫色鞋子可以提高 SAT 考试数学部分的成绩？为什么吃爆米花可以帮助预防前列腺癌？分析得出的结论需要具有可复制性，至少也得与其他科学发现相一致。</p><p>下面就来介绍一些隔离“治疗”效果最常用的方法。<br>随机控制实验。<br>样本数量越大，随机分配的作用就越明显，实验组和对照组的相似性也越强。<br>医学试验就是典型的随机控制实验。理想的情况是“双盲”的临床试验，这意味着无论是病人还是医生都不知道哪一组是治疗组，哪一组是对照组。但如果治疗里包含了手术（心脏外科医生当然知道要给哪些病人做搭桥手术），那“双盲”显然是不可能了。但即使要做手术，病人依然可以被蒙在鼓里，因为就算进了手术室，他们也不知道自己是否接受了心脏搭桥。我最欣赏的研究之一是一份有关某种缓解膝盖疼痛的手术评估报告，治疗组的病人接受了膝盖手术，而对照组病人则接受了一次“冒充手术”，医生只在这组病人的膝盖部位划了 3 道极小的口子，“假装在给他们动手术”。最后的结果是，真正的手术在缓解膝盖疼痛方面并没有比“冒充手术”有效。</p><p>《纽约时报》报道：“无论是哪个国家的研究人员，一个他们达成共识的与长寿相关的社会因素就是教育。一个人受教育程度的高低与寿命长短的相关性比种族和收入因素都要显着。”但至少到目前为止，这还只是一个相关关系。在其他情况都相同的前提下，更多的教育是否就能够带来更健康的身体？如果你把教育看作一种“治疗”，那么接受更多的“治疗（教育）”是否就能保证你活得更久？<br>这是一个看似不可能得到回答的问题，因为选择接受教育的人与不希望读更多书的人肯定在某些方面是不一样的。高中学历与本科学历的人之间的差别绝不仅限于大学 4 年的教育，在那些选择继续求学的人当中，极有可能存在某些他们所共有的除了教育以外的隐藏特性，从而使得这些人更加长寿。假如这是真的，那么让那些原本没想过继续念书的人上大学；对延长他们的寿命并不会有帮助。健康状况的改善不能归功于提高的教育程度，而是来自于那类选择提高自身教育程度的人所共有的特质。</p><p>非对等对照实验。有些时候研究治疗效果最佳且可行的方式，并非完全随机地分配实验组和对照组。当环境不允许我们进行随机分配的时候，我们当然希望最终的实验组和对照组能够大体相似，不对结论的准确性产生影响。好消息是，我们有一个实验组，一个对照组。坏消息是，任何非随机分配都会产生偏见，至少是有存在偏见的可能性。就算你认为你的分组毫无破绽，但或许在实验组和对照组之间还有一些难以察觉的差异，正是这些差异影响了小组成员的分配和组成，从而产生跟现实有偏差的结论，这就是我们所说的“非对等对照”。<br>一个非对等对照组依然可以成为非常有用的工具。让我们回过头来思考一下本章开头提出的那个问题：进入一所顶尖大学学习真的会给人的一生带来巨大的优势吗？</p><p>我们所不知道的是，接受像哈佛或耶鲁大学这类顶尖大学的精英教育会产生怎样的效果？从这些名牌大学毕业出来的人之所以能够成功，到底是因为他们当初在跨入校门时就已经才华出众，还是因为这些大学通过精选优秀人才、培养他们的竞争力而使得他们的“附加值”增加，又或者两者都有？<br>我们还是不能通过随机实验的方法来回答这个问题。很少有高中毕业生愿意被随机分配到一所大学就读，哈佛和达特茅斯大学肯定也不愿意接收随机分配给它们的学生。研究似乎陷入了僵局，到底怎么样才能检验大学教育的效果呢？开动脑筋就能找到出路！两位经济学家斯塔西·戴尔和阿兰·克鲁格发现，其实有很多学生在高中毕业时会同时申请多所大学，通过对这一事实的“挖掘”，研究出现了转机。一些学生被名牌大学录取之后便高高兴兴地去报到了，而有一些学生在收到名牌大学的录取通知书后，经过再三考虑，还是去了普通大学或学院深造。于是现在我们就有了一个实验组（进入名牌大学学习的同学）和一个非对等对照组（凭才华和实力足以进入名牌大学却选择去竞争没那么激烈的高校学习）。<br>戴尔和克鲁格对两个组学生的纵向数据进行了分析。虽然这不是一个苹果对苹果的完美比较，而且收入只不过是人生成就的一部分，但他们的发现应该能够舒缓高中生及其父母的紧张情绪。毕业于名牌大学的人在收入方面并没有超过实力相当，但选择就读一般大学的人，唯一的例外就是出生于低收入家庭的人，他们从名牌院校毕业后的收入会有明显的增长优势。戴尔和克鲁格的方法有效地将实验效果（在名牌大学读 4 年书）从选择效果（最有才华的学生都被名牌大学挑走了）中剥离了出来。阿兰·克鲁格在《纽约时报》上撰文指出，“相比起毕业证书上的学校名字，正确认识自己的兴趣、抱负和能力更能成就人的一生”，这其实也间接回答了本章开头所提出的那个问题。</p><p>差分类差分实验。</p><p>假如美国政府推出了减税政策，经济就会跟着好转，</p><p>的确，政府的减税政策或许正好在某个时间点出台，但在同一时期可能还有其他“介人”因素在发挥作用：越来越多的女性进入大学学习，互联网以及其他科技创新正在提升美国工人的生产效率，</p><p>任何“前与后”类的分析均面临着一个挑战，那就是仅凭一件事情紧随另一件事情的发生，并不能推断两件事情之间存在因果关系。</p><p>“差分类差分”法可以通过两个步骤来明确某个介入因素的效果。首先，我们对某个群体接受某项介入因素或治疗之前和之后的数据进行比较，例如推广促进就业政策之前和之后某个县的失业率变化情况。其次，我们将这些数据与另一个没有推出就业政策的同类县同期的失业率情况进行比较。<br>重要的是，用于分析的两个对象除了是否有介入因素，其他方面的情况基本上都相似；因此，两个对象的观察结果若存在任何显着差异，就应该被认为是所评估的项目或政策的效果。举个例子，假设伊利诺伊州的一个县为了应对高失业率 , 推出了一个就业培训项目，但在接下来的两年时间里，失业率依然呈上升走势，这是不是就意味着就业培训项目失败了？谁能告诉我们答案？<br><img data-src="/naked-statistics/naked-statistics-12.jpg" alt="图14-1 就业培训项目对A县失业率的影响">  </p><p>也有可能存在其他宏观经济因素的作用，如经济的持续不景气等。在“差分类差分”法的指导下，我们对同期两个县的失业率变化情况进行比较，其中一个县推广了就业培训项目，另外一个县并没有推广，除此之外两个县在其他方面都必须保持一致：相同的工业构成、相似的人口结构等。那么，推广了就业培训项目的县在失业率数据上的变化相比起另一个没有推广该项目的县，呈现了一幅什么光景呢？通过比较两个县相同时间段内的失业率变化，我们就能理性地推断出就业培训项目的效果了。这就是“差分类差分”，前一个差分表示项目推广前后的失业率变化，后一个差分指的是两个县同期的失业率变化差异。另一个没有推广就业培训项目的县在研究过程中扮演的是对照组的角色，有利于我们更好地理解项目实施前后的数据变化，因为对照组会受到跟实验组一样的宏观经济的作用。最初我们认为就业培训项目一无是处（因为在项目实施之后失业率变得更高了），但是对照组为我们展示了更加糟糕的就业情况，因此通过综合比较和分析，就业培训项目的正面作用就显现出来了。</p><p><img data-src="/naked-statistics/naked-statistics-13.jpg" alt="图14-2 就业培训项目对A县就业率的影响（以B县为参照物）">  </p><p>不连续分析实验。实验组和对照组还存在一种设置方式，就是将那些刚好符合介入或治疗条件的对象，以及以毫厘之差错失治疗机会的对象进行比较。那些刚好超过或略微不足规定条件（如考试分数或最低家庭收入等）的个人，其实在许多重要方面与实验组里的个人相差无几，而一组对象接受治疗、另一组对象不接受治疗的人为划分其实本身就是非常任意的。因此，比较这两类对象可以为我们提供有关介入或治疗效果的有益参考。<br>假设某个学区要求各个学校利用暑假的时间为成绩不理想的学生开设补习班，主管教育的领导想要知道暑期补习班项目是否具有长期推广的价值。当然，如果只是简单地比较参加补习班的学生和不参加补习班的学生，结果将会是毫无意义的。那些学生之所以会出现在暑期补习班里就是因为他们的成绩不好，就算暑期补习班的效果立竿见影，这些学生还是难以在考试中超过班上其他不需要参加补习班的同学。我们真正关心的是，这些学生在参加完补习班之后的成绩与参加补习班之前相比是不是提高了。是的，我们可以组织一些控制对照实验来将成绩不理想的学生随机分配到暑期补习班组或“闲置在家”组，但这可能会剥夺一些想要寻求上进的学生提高成绩的机会。<br>所以，我们的实验组和对照组应该来自那些正好在班上成绩居中的同学，有一些学生刚好被老师安排到补习班，有一些学生差一点儿就失去了自由自在的暑假时光。设想一下：那些在期中考试中成绩不及格的学生肯定与考试及格的学生是不一样的，但一个分数为 59 分（不及格）的同学与一个分数刚好为 60 分（通过考试）的同学呢？如果那些在期中考试中成绩不及格的学生必须参加补习班，那么一个合理且有意义的实验组和对照组就应该在那些差一点儿就及格的学生（参加补习班）和差一点儿就不及格的学生（不需要参加补习班）中产生，这两组学生的期末成绩将会是我们关注的重点。</p><p>因果关系是一根难啃的骨头，我们有时候甚至连明显得不能再明显的原因和结果都无法确定。为了了解某种介入手段或治疗真正的效果，我们需要看到“反现实——事实的背面”，即假如没有介入手段或治疗会发生什么。但是在许多时候，“事实的背面”却没有那么容易甚至不可能被发现。</p><h1 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h1><p>1930 年美国总统赫伯特·胡佛宣布大萧条结束，但其所参考的依据尽是些不准确的过时数据。他在国情咨文中告诉全体国民美国有 250 万人没有工作，但实际的失业人数已经高达 500 万人，而且还在以每周 10 万人的速度增加。</p><p>有越来越多的证据表明，橄榄球运动过程中产生的脑震荡和其他大脑损伤能够导致严重且永久的神经伤害。（拳击手和曲棍球运动员身上也存在类似的现象。）许多知名的职业橄榄球运动员都曾在公众面前分享过他们退役后与抑郁、记忆丧失以及痴呆等疾病抗争的故事。最令人感到心酸的莫过于前芝加哥熊队安全队员、“超级碗”冠军戴夫·杜尔森，他开枪结束了自己的生命，在遗书中他明确指示家人将他的大脑捐献给相关机构用于科研。<br>在一次随机电话调查中，有 1000 名联盟生涯在 3 年或 3 年以上的前职业橄榄球运动员接受了采访，年龄在 50 岁以上的运动员中有 6.1% 被诊断患有“痴呆、阿尔茨海默症或其他记忆力相关疾病”，是相同年龄段美国平均水平的 5 倍。在年轻运动员群体中，类似疾病的诊断率达到了美国平均水平的 19 倍。至今已有数百名前美国职业橄榄球联盟运动员将联盟和运动头盔制造商告上了法庭，理由是他们涉嫌故意隐瞒有关头部损伤危害的信息。</p><p>北卡罗来纳州州立大学运动脑震荡研究中心的凯文·加士奇维茨在北卡罗来纳州橄榄球队的每一位队员头盔内嵌入了一个感应器，以便记录下运动过程中队员受到的头部撞击的力度和性质。根据他所获得的数据，运动员日常每受到一次头部撞击，就相当于坐在一辆时速为 25 迈的车里突然遇到车祸时脑袋撞上挡风玻璃所受到的撞击。</p><p>但在这个例子中，有一些信息是我们无法知晓的。到目前为止，我们已经发现的有关大脑损伤的证据是否就能全权代表所有职业橄榄球运动员退役后所面临的神经病变风险？还是说，遭遇不幸的人只是所有运动员中的“一小撮”，即统计学上的“异常值”？就算真的是所有橄榄球运动员在晚年患上神经紊乱的风险高于常人，我们也无法证明两者之间的因果关系：可能是爱好并从事橄榄球（或拳击、曲棍球）运动的人天生就容易患上此类疾病；也有可能是其他一些因素，如注射类固醇导致了他们晚年的神经疾病。<br>假如不断有证据表明，橄榄球运动与永久性大脑损伤之间存在清晰的因果关系，那么一个严峻且现实的问题就摆在了运动员（以及青少年运动员的家长）、教练员、律师、NFL 官员，甚至政府有关人员的面前</p><p>哪位教授的教学效率最高？<br>答案是：经验偏少又在非名牌大学取得学士学位的那些教授们。他们的学生在初级课程的标准考试中的成绩普遍较好，而且他们在教学评估中得到的学生评价也通常较好。显而易见，这些年轻、充满干劲的老师对待教学比脾气暴躁的哈佛大学博士老教授要认真负责得多。那些老人家至今还在用 1978 年的陈旧教案来教学生，他们或许还以为演示文稿软件（PPT）是某种功能饮料——除非他们连什么是功能饮料都没见过。根据数据，我们早就应该将这些年龄过大的教授解雇了，或者让他们有尊严地退休。<br>不过，我们先别急着解雇可人。空军学院的研究还有另一个发现——学生的长远表现。卡瑞尔和韦斯特发现，在数学、科学等学科的初级课堂上，经验更丰富、资格更老的老师教出来的学生在接下来的中级、高级课程中的表现要优于年轻教师教出来的学生。一个符合逻辑的推理就是那些资历尚浅的老师更倾向于在初级课堂上“教学生如何去应付考试”因此他们的学生在考试中的分数通常比较高，学生自然会感到开心，给老师的评价自然也不会差。<br>但是，那些上了年纪的、脾气固执的资深教授们（我们在前一段的内容中差点儿就解雇了他们）更关注的是教授重要的理论和概念，而不是考试，这对于学生的进一步学习以及一生都会是受益匪浅的。</p><p>在管理家庭财产的问题上，谁能作决定——男人还是女人？在发达国家，夫妻两人可就这个问题在他们的婚姻顾问面前吵上一整天；但在贫困国家，这个问题决定了家里的小孩能否吃饱饭。从古至今,人们一直存在一个观念，那就是家中的女性总是将孩子的健康和幸福置于一个极高的位置，而家中的男性更倾向于把工资都花在喝酒或其他消遣上。往差了说，这种观念只会让一成不变的偏见更加根深蒂固；往好了说，我们只能认为这是一个难以证明的观点，因为一个家庭的财政在一定程度上受到很多因素的影响。丈夫和妻子对家中的共同财产都有支配权，那么我如何将二者的消费选择进行控制并逐个分析呢？<br>面对这个如此复杂和微妙的问题，迪弗洛没有选择逃避。她甚至还为此进行了一个令人无比着迷的自然实验。在科特迪瓦，家中的男性和女性共同承担种植庄稼的工作，而且一个长久以来约定俗成的做法是，男性和女性各自耕种不同的经济作物，男性种可可、咖啡等，女性种芭蕉、椰子等。从研究者的角度，这种天然安排的好处是男女种植的不同经济作物对雨量的需求恰好相反：在可可和咖啡丰收的年份里，家中的男性会拥有更多的可支配收入；在芭蕉和椰子丰收的年份里，家中的女性会拥有更多的可支配收入。<br>现在，我们只需要将刚才那个棘手的问题提出来：在科特迪瓦的这些家庭中，孩子们是希望爸爸的作物丰收从而让生活变得更好，还是希望妈妈的作物丰收从而让自己过得更幸福？<br>回答是：当女性的收入提升时，她们会将手中余钱的一部分用于改善家庭的伙食，但男性通常不会这么做。</p><p>3〜6 个月的准妈妈，想办法让她们更经常地来逛商场。《纽约时报》的一位签约作家全程跟随了塔吉特的一个预测分析团队来了解他们是如何定位并吸引孕妇的。<br>第一步非常简单。塔吉特向会员提供了迎婴礼物登记服务，怀孕的会员可以在孩子出生前登记领取婴儿礼品。这些女性已经是塔吉特的购物者，而且她们会主动告诉商场自己怀孕的消息。此外统计专家还发现，其他那些与上述消费者有着相似消费倾向的女性可能也怀孕了。举个例子，怀孕的女性通常会将沐浴露换成无香味的，她们会开始购买维生素类保健品，购买棉球等卫生用品时会选择大包装的。塔吉特公司的预测分析专家们精挑细选出 25 种商品，这些商品共同构成了一个“怀孕预测得分”体系，所有分析的最终目标就是向怀孕女性发放相关商品的优惠券以吸弓丨她们前来购买，并最终让她们成为塔吉特公司的长期消费者。<br>但事实上，商家已经知道你既不打保龄球也不修剪草坪，这些广告只不过是一个幌子，为了掩盖他们知道你怀孕的事实。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/75.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    
  </entry>
  
  <entry>
    <title>《机器人叛乱：在达尔文时代找到意义》书摘</title>
    <link href="https://qianling.pw/the-robot%E2%80%99s-rebellion/"/>
    <id>https://qianling.pw/the-robot%E2%80%99s-rebellion/</id>
    <published>2023-07-19T00:00:58.000Z</published>
    <updated>2023-07-19T00:00:58.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/73.webp"></p><span id="more"></span><hr><p><strong><center>机器人叛乱：在达尔文时代找到意义 /（加）斯坦诺维奇（Stanovich,K.E.）著；吴宝沛译.一北京：机械工业出版社，2015.5<br>书名原文：The Robot’s Rebellion: Finding Meaning in the Age of Darwin<br>ISBN 978-7-111-50179-4</center></strong></p><hr><h1 id="推荐序一"><a href="#推荐序一" class="headerlink" title="推荐序一"></a>推荐序一</h1><p>越在进化早期，基因的利益对生物影响就像一条短狗绳那样致命；随着漫长的时间演化，在进化后期，生物体本身的利益逐步背叛了基因的利益。人，是机器人；人，背叛了自己的主人——基因。这，就是人类心智演化史上的“机器人叛乱”。正如真核动物开启了人类进化新篇章；当载体开始背离基因利益——“机器人叛乱”开启了人类心智进化新篇章。<br>如果说进化心理学所强调的是基因的利益，“我们带着石器时代的大脑生活在互联网时代”，然而，进化心理学仅代表事情的一面。随着漫长的演化，人作为基因载体自身的利益本身，会与基因的利益发生冲突，最终背叛基因的利益。基因利益、人自身利益的多寡，从而形成了人类心智架构的双进程：快与慢。在快的心智处理进程，我们下意识做出反应，调用的认知资源非常少；在慢的心智处理进程，我们想得多一些，像机器人叛乱一样，去改写主人的使命，调用更多的认知资源。这，就是人类心智的“双过程理论”。<br><img data-src="/the-robot%E2%80%99s-rebellion-1.jpg" alt="图 0-1">  </p><h1 id="推荐序二"><a href="#推荐序二" class="headerlink" title="推荐序二"></a>推荐序二</h1><p>meme，一译作模因，被定义为文化基因，也即观念、符号、行为的单位，经由文字、话语、动作、仪式或任何其他可模仿的方式传播。与基因一样，meme 自我复制、变异，接受环境选择。从服饰的流行、到观念的传播、到政治的变迁，但凡文化现象，从人的角度看，是人如何创造、接受和传播观念与行为；从 meme 的角度看，则一切均是其经由人这种宿主的自我复制。<br>《机器人叛乱》一书，书名中的机器人不是别人，正是人类自己——人是基因的机器人，这隐喻贯穿全书。与之并行的还有另一个隐喻：人也是 meme 的机器人。人不仅是基因复制的载体，还是 meme 复制的载体。人所要从中挣脱的，还有对 meme 的盲从。</p><h1 id="译者序"><a href="#译者序" class="headerlink" title="译者序"></a>译者序</h1><p>你是一个机器人！你有两个毫无人性的主人，一个是基因，一个是模因。你懵懂无知地在为你的主人卖命，哪怕为此丢了脑袋也在所不惜。这其实就是道金斯在《自私的基因》一书中揭示的真谛：你是载体，是不朽的基因复制自身的工具，也是肮脏的模因复制自身的平台。<br>进化心理学告诉我们，基因传递是进化的标尺。有助于基因传递的性状，都会受到自然选择的青睐而保留下来，保留在我们的心智中——无论这种性状是合作还是背叛，是亲密还是残忍，是觅食还是择偶，是忠贞还是花心。在某种程度上，可以说进化心理学家关心的问题是：作为适应装置的人类心智模块，如何解决进化史上的一个又一个难题，帮助石器时代的人类祖先适应环境，繁衍生息？其实，他们这里有一个默认前提，即基因跟载体大多数时候的利益是一致的，因此，对基因传递有利的性状，常常也对载体有好处。这些发现让我们坚信，进化就像一个慈祥的母亲，她爱我们。<br>斯坦诺维奇也承认这一点。他在这本书中不断强调，基因跟载体大多数时候的关系都很好，像好得能穿一条裤子的亲兄弟一样。可是，斯坦诺维奇也敏锐地意识到，在少数情况下，对基因有利的情况未必对载体有利，比如基因组中存在大量垃圾 DNA，比如鲑鱼繁殖之后马上就死，比如有丝分裂过程中的分离畸变。此外，即使在进化环境中作为适应器的某些身心装置，也可能在现代环境中给载体带来巨大代价。</p><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>普遍达尔文主义有一个令人震惊、叫人不安的洞见：人类是两种复制子（基因和模因）的寄主，而它们不关心人类的利益，仅仅扮演着复制管道的角色。理查德·道金斯总结了 20 世纪生物学的深刻见解，让我们在惊惶不安中意识到：作为人类的我们自己，事实上不过是基因的生存机器。现代进化科学让我们正确了解生物学，不过，这个学科带有很多令人不安的寓意。比如，人类被视作巨大的复制子殖民地，这些为数众多的复制子拥挤在笨重的载体中。本质上，人类就是一架复杂的机器，为基因殖民者服务。<br>同样，我们也是模因（文化的信息单位）的寄主；这是一种破坏人类自主的亚个人实体。跟基因一样，模因也是一种彻头彻尾的自私的复制子。总之，基因包含构造身体的指令，这个身体可携带基因，帮助它们传播自己。总之，模因被用来建立某种文化，这种文化则帮助模因传播自己。模因研究引发的最根本洞见就是，一种观念，即使不是真的，即使不能以任何方式帮助持有这种观念的人，也能传播开来。</p><h1 id="第1章-踏入达尔文的无底洞"><a href="#第1章-踏入达尔文的无底洞" class="headerlink" title="第1章 踏入达尔文的无底洞"></a>第1章 踏入达尔文的无底洞</h1><p>现代进化理论的寓意以及认知科学的进展，将在 21 世纪导致许多传统概念的土崩瓦解，即使人们已跟这些概念共同生活了很多个世纪。举个例子，假如相信传统的灵魂观念，你就应该知道，对进化论的寓意和认知神经科学的更完整评估正在摧毁这个观念，而且，这个过程将在你临死之前完成。在这本书中，我打算敦促世人，我们必须接受这种不可避免的结果，努力建构另一套跟生物科学和认知科学一致的世界观，而不是花力气避免或掩盖这些影响。我认为，我们应该接受认知科学和进化论揭示的令人不安的事实，而不是跟它们战斗。</p><h2 id="为什么杰里·福尔韦尔是对的"><a href="#为什么杰里·福尔韦尔是对的" class="headerlink" title="为什么杰里·福尔韦尔是对的"></a>为什么杰里·福尔韦尔是对的</h2><p>在著名的《自私的基因》一书中，理查德·道金斯抛出了一枚定时炸弹。到目前为止，这颗定时炸弹还没有完全爆炸。它指出，实际情况跟刚才说的完全不同：我们被构造出来是为了给基因服务，而不是相反。流行的观点认为，“基因存在，是为了制造我们的副本”，这里来了一个 180 度大转弯：我们存在，是为了让基因制造它们的副本！它们是主要的，我们（作为人）是次要的。我们存在的理由是为基因服务，而正是为了这个目的，基因才把我们制造出来。<br>事实上，稍微思考一下，我们就知道，“基因存在是为了让我们制造自己的副本”这种观点说不通。我们从不制造自己的副本，只有基因才这么干。显然，我们的意识并没有在我们孩子那里得到复制，因此，我们没有在这个意义上延续自我。我们把一半随机的、乱成一团的基因传给自己的孩子。到了第五代时，我们跟后代的遗传重叠将减少到 1/32，这个比例通常在表现型水平上都难以觉察。“基因存在是为了让我们制造自己的副本”，这个谬论背后存在一个错误观念。道金斯对此进行了讨论。他认为，情况恰恰相反，“我们被制造成基因机器，我们被创造出来是为了传递自身的基因。不过，三代之内，我们这一方面就会被人遗忘。你的孩子，甚至你的孙子孙女，都可能跟你长得像……但是当每一代人不断生儿育女，往下传递，你的基因的贡献就会减半。用不了多长时间，它就会达到一个可以忽视的程度。我们的基因可能是不朽的，但是基因的集合，也就是我们每个人，事实上注定要分崩离析。伊丽莎白二世是征服者威廉的直接后裔。然而，她很可能并不携带老国王的任何一个基因。我们不应该在繁衍之中寻求不朽”（199）。<br>普遍达尔文主义中内在的危险。这些危险是什么呢？我们首先看一个显而易见的选项：人类通过自然选择进化而来，这就意味着，人类不是上帝或其他任何神灵的特殊设计。它意味着，人类的出现没有任何目的。它还意味着，就生命形式而言，没有任何天生的“高等”或“低等”（见 Gould 1989，1996，2002；Sterelny 2001a）。简单地说，一种生命形式跟另一种一样好。<br>其次，存在一个令人恐惧的问题：进化无意义。这个问题来自一个事实，即进化是一种算法过程（Dennett 1995）。一个算法仅仅是一套形式步骤（即配方），用以解决一个具体问题。我们熟悉一种算法，即计算机程序。进化就是一种在自然界中而不是在计算机上执行的程序。设想有一种最简单的计算机程序，即复制那些在选择过程中存活下来的实体。根据像这种程序一样简单的逻辑，算法式自然选择过程（机械地、盲目地）构造出了像人脑一样复杂的结构（见 Dawkins 1986，1996）。</p><h2 id="复制子和载体"><a href="#复制子和载体" class="headerlink" title="复制子和载体"></a>复制子和载体</h2><p>在某个历史时间点上，地球上存在着一种化学成分的原始汤，从中演化出了稳定的分子，道金斯把它们称之为复制子，因为它们能复制自身。复制子越来越多，达到一定程度，它们就发展出了复制的精确、多产和长寿等特征。也就是说，它们能精确地复制自己，制造数量巨大的副本，而且自身能保持稳定。紧接着，原始食肉动物出现了，它们能分解竞争性分子，还能使用其中的成分复制自身。其他的复制子发展了蛋白质保护涂层技术，以此来抵御这种食肉动物的“猎杀”[2]。当然，还有的复制子创造了更复杂的容器，把自己安置其中，这些复制子也能存活和繁殖。<br>道金斯把这种复制子置身其中的复杂容器称之为载体。跟环境互动的其实就是载体，而且，载体跟环境互动的差异化成就，决定了置身其中的复制子的成就。当然，需要强调的是，复制子的成就不外乎就是跟对手复制子相比，增加自身在复制子群体中的频次。简而言之，复制子是这样一种实体，它们能在复制之后，把自身结构相对完整地传递下去。载体是跟环境互动的实体，它们跟环境互动的差异化成就，导致了置身其中的复制子的差异化复制结果。<br>这就是为什么，道金斯把载体称之为复制子的“生存机器”（survival machine）。接着，他还告诉我们这样一个惊天秘密：<br>生存机器变得更大，更复杂，这一过程是渐进的、累积的……在长达一千年的时间里，自然选择将会产生怎样怪异的、自我保存的机器呢？40 亿年的时间过去了，古老的复制子的命运是什么呢？它们没有消亡，因为它们是过去的生存艺术大师。但是，不要在波涛汹涌的海洋中寻找它们；它们很早以前就放弃了自身的自由。现在，它们像殖民者一样群居在一起，安稳地寄居在庞大而笨拙的机器人体内，远离外面的世界，通过迂回曲折的间接途径跟它沟通，通过遥控的方式操纵它。它们在你体内，也在我体内；它们创造了我们，无论是身体还是心灵；而且，我们存在的终极理由就是保存它们。这些复制子远道而来。它们现在的名字叫基因，而我们就是它们的生存机器。（1976，19-20）<br>我们的基因是复制子。我们是它们的载体。这就是为什么（我在前面强调过这一点）现代进化论的一个核心观点是：人类之所以存在，是因为他们对于基因复制来说是一个好载体。思考一下相反的情形，即基因存在是为了让我们复制自己。正如道金斯指出的那样，这是“一个很深奥的错误”（237）。但实际上，大多数人在思考进化时都很容易犯这个错误。即使在生物学家中，一不留神，它也可能成为一种默认的思维模式，因为“单个有机体在生物学家的意识中最早出现，而复制子——现在被称为基因——被看作单个有机体所使用的机器的一部分。需要靠深思熟虑的心理努力，才能让生物学重新走上正轨。这种努力也会提醒我们，复制子在先，无论是它的重要性还是它的历史，都是如此”（265）。<br>简而言之，人类在自然界中的最终目标，就是作为一种复杂的生存机器，为现在的复制子（基因）服务。面对这一点，我们畏葸不前，惊惶不安。<br>但是，这在某种意义上就是人类存在终极理由的说法，并不意味着我们只能继续扮演生存机器的角色。</p><p>道金斯承认，自然选择的进化有一个非同凡响的洞见，让自己也大吃一惊。从基因眼的角度来看，“我们都是生存机器，是盲目的机器人载体。我们被植入程序，以保存被称为基因的自私分子。这是一个直到现在也令人震惊的真相。虽然很多年前我就知道这一点，但现在自己也没有完全适应。我有一个愿望，就是拿这个事实把其他人也吓一跳。”这个观点的确令人惊诧。如果你愿意，请想象一下，“独立的 DNA 复制子像羚羊一样跳跃，奔放不羁，自由自在，世代相传。它们通过生存机器而临时组合，聚在一起，摆脱了芸芸众生终有一死的不断演替，打造出属于自身的永恒不朽。……身体看起来并不是一个好战的遗传代理人松散的、临时的联盟。这些代理人彼此之间并不熟悉，直到在精子或卵子中准备下一次伟大的基因混合时才会见面。”（234）<br>简单地说，这就是令人恐惧的事实：我们是盲目的复制子制造的生存机器，这是一种叫作自然选择的算法导致的结果。</p><p>我使用机器人 [3] 这样的说法，是想让读者浮想联翩，以便对付我们朴素心理学中根深蒂固的直觉。举例来说，有一种直觉认为，基因存在，是为了服务于人类的目标。相反，我们需要明白，人类存在，是为了构造载体（在植物和动物中有成千上万种不同载体，人类不过是其中的一类），以便为复制子的繁殖目标服务。<br>在本书中，我有意使用道金斯用过的术语，因为它们富有煽动性，比如载体和生存机器，而我不想减弱语言所能唤起的进化的洞见，想要使它富有感染力。只有当我们能理解这些另类的观点，体会到它们是多么令人不安时，我们才有动力付出我在本书中提出的认知变革的努力。比如，生物哲学家戴维·赫尔和其他人 [4] 更喜欢用交互子（interactor）而不是载体这样的术语，因为后者含有被动和消极的意味，看起来减少了有机体本身（跟复制子相比）的因果主体性。他们认为，交互子这个术语更好地传达了有机体的主动性和自主性。我完全同意这一点，交互子的说法在严格意义上更合适，但是我会继续使用载体这个词，因为它传达了令人不安的逻辑。通过这些逻辑，进化论颠覆了我们对世界的看法，动摇了我们人类在这个星球上的特殊位置。对我的目标而言，更重要的是，当人们更全面地认识到自身的生物起源时，载体这个术语更清晰地刻画了人类面临的挑战。本书的一个主题就是，要是人类不能认识到他们是以盲目复制子的载体这一身份诞生于这个星球上，那么，他们就有成为被动管道的风险，而这些管道是为了基因的利益和目标存在的。在人类语境中使用时，载体的说法带有轻蔑的含义。它丢下一封必要的战书，在我看来，这反而更能激起人类认知变革的努力。<br>类似地，使用“生存机器”和“机器人”这些术语，遵循相同的逻辑。它们同样被有意地、带有挑衅意味地加以使用，这是为了引发令人不安的直觉——我们必须寻找出路的直觉。在某种程度上，这些令人不安的直觉促使我们推进必要的认知变革，因此，这样的术语大有用处，它们帮助我们维持这些战栗不安的直觉。举个例子，道金斯曾经雄辩地指出，人类能反抗自私的复制子的独裁统治，他们是能这样做的唯一载体。要是可以把人类理解成生存机器——笨手笨脚的机器人，通过自然选择的进化，由复制子制造出来——那么，他们也是唯一被设想能煽动一场反对复制叛乱的生存机器。根据道金斯的优秀传统，我将使用“机器人叛乱”指代来自进化洞见和认知变革的方案，它们将带领人类超越复制子的有限利益，以界定自身的自主性目标。</p><p>读者应该理解，对复制子活动的拟人化描述仅仅是一种简单说法，这在生物学著作中很常见。因此，对于这里提到的句子“复制子发展了蛋白质保护涂层技术来对抗攻击”来说，它的更完整也更笨拙的说法是，“构造具有蛋白质保护涂层的载体的复制子，它们在群体中将更为常见”。我会继续这么做，即使用隐喻语言描述复制子和基因，说它们有“目标”和“利益”。我对读者有信心，他们会明白这些仅仅是简单说法。正如 Blackmore（1999）指出的那样，“‘基因想做 X’的简单说法，永远可以被更详细地表述为‘做 X 的基因更可能传递下去’”（5）。不过在表达复杂观点时，后者会显得笨手笨脚。因此，我将学习 Dawkins（1976），“给我们发通行证，让我们讨论基因，就好像它们具有意识目标一样。我们能把自己草率的语言翻译成备受尊重的术语，要是我们愿意的话，而这会让我们安心”（88）。</p><p>控制论中“机器人”并不含有僵化的寓意。恰恰相反，很多高水平电脑程序在为机器人和人工智能实体配备了相当灵活的能力，使它们能应对不断变化的环境输入。现在，人们更普遍地意识到，当一个现代机器人穿越它的环境时，并不是被一种基于每时每刻的程序控制着，而是在机器人开始执行它的环境设定之前就完成了编程。这里的类比是，基因编程产生载体，但并不精确地知道载体在环境中会遭遇什么。在这一节中，我们将看到，这种属性（基因缺乏远见）将给载体事实上逃脱基因控制创造机会。</p><h2 id="人类是哪种机器人"><a href="#人类是哪种机器人" class="headerlink" title="人类是哪种机器人"></a>人类是哪种机器人</h2><p>在为自己建立了一个更快速的执行计算机之后，它们就没法这样做了……就像国际象棋的程序一样，基因为了‘指导’它们的生存机器，必须采取宽泛的策略和巧妙的技巧，而不再是面面俱到……这种编程的优点是，它大大减少了细节性规则，而这些原本都要内置在原始程序中”（55，57）。人类的大脑代表：<br>朝向生存机器解放的进化趋势的高潮，这里的生存机器是它们最终主人基因的决策执行者。通过左右生存机器和它们神经系统建立的方式，基因对行为施加了终极控制。但是，那种即时反馈的接着要做什么的决策被神经系统承担了。基因是主要的政策制定者，而大脑是执行官。然而，大脑变得越来越发达，通过玩弄学习和模仿这样的伎俩，它们接管了越来越多的权力，甚至能自行制定实际的政策。这一趋势的逻辑结果——目前还没有在任何一个物种中出现——将是这样的情形，基因最后给生存机器一个整体的政策指导：为了让我们活着，做你认为最好的选择。（59-60）<br>道金斯说的弱约束控制，额外建立在强约束的遗传控制机制上，这是一种更早内置在大脑中的进化适应器。两者之间不是你死我活的对立关系，弱约束机制没有取代强约束机制。可以说，不同的大脑控制类型进化而来，并没有取代早期的控制模式，而是在它们那一层之上又加了自己这一层。[2] 当然，后者也可能导致早期结构的改动（见 Badcock 2000，27-29）。不同的大脑系统给基因目标编码时，直接程度不同。在人类中，所有形式的大脑控制通常同时运作（这一主题将在下一章中详细阐述），这就有了认知协作的需要，因为不同程序之间可能存在认知冲突。机器人叛乱的目的就是解决这些冲突，实现个体的最广泛利益。在下一章中，我将介绍一些心理学中的任务案例，这些都是心理学家开发出来，用以评估哪种类型的控制系统说了算的工具。对现在的讨论来说，读者更重要的是认识到：我们是自然选择的创造物，进化已经在我们的大脑中植入了一个灵活的系统，这个系统具有道金斯暗示的终极的弱约束目标“做你认为最好的选择”。然而，有趣的是，作为一种独特的动物，人类已经开始意识到这里有一个关键的问题要问：最好的选择，这是对谁而言？</p><h2 id="我们的行为，在为谁的目标服务"><a href="#我们的行为，在为谁的目标服务" class="headerlink" title="我们的行为，在为谁的目标服务"></a>我们的行为，在为谁的目标服务</h2><p>蜜蜂拥有如图 1-1 所示的目标结构。标记为 A 的区域表示，在大多数情况下，复制子跟载体目标一致。在这个区域中，很多目标同时并行不悖地服务于复制子（在蜂巢里，蜜蜂拥有促进复制的功能）的利益，以及作为一个连贯有机体的蜜蜂的利益。[2] 当然，A 代表的精确区域不过是一个猜测而已。要点在于，存在一个非零区域 B，这里的一整套目标仅仅服务于复制子的利益，而跟整个载体的利益对立。要是通过牺牲自己帮助其他个体，能为基因的传递带来更大的好处，一只蜜蜂就可能牺牲作为载体的自身。比如，蜜蜂可能为了保护跟自己有血缘关系的蜂后，跟外来入侵者殊死搏斗，失去蜂刺而死。有时，基因会为了自身利益而牺牲载体 [3]。</p><p>复制子的目标可能跟载体的福祉相冲突，这是一个违反直觉的观点。的确，他们早已习惯这样的观点：进化的运作是为了有机体的利益，而不是为了复制子的利益。</p><p>人类是生存机器，善于帮助他们自身的基因复制，因此，相互合作构造人体的基因才生存得相当惬意。而且，现在，我们拥有了理解那个无比重要的洞见所需的语言：这是一个令人眩晕的见解。毫无疑问，它是机器人叛乱的第一步。作为载体的人类，破天荒地意识到一个惊人事实：要是符合自身的利益，基因将总是牺牲载体。</p><h2 id="所有载体都已满员！"><a href="#所有载体都已满员！" class="headerlink" title="所有载体都已满员！"></a>所有载体都已满员！</h2><p>基因为了自己的利益，牺牲它们置身其中的载体，这怎么有可能呢？有一个观点能回答这个问题，这个观点来自所谓的垃圾 DNA 现象。在大多数基因组中都有垃圾 DNA（Ridley 2000；Sterelny 2001a；Sterelny and Griffiths 1999）。它们留在基因组中，并不为有用的蛋白质编码。可以说，在蛋白质编码的重要任务中，这些家伙不过是“凑凑热闹”。为什么我们有那么多遗传物质没有被转化成蛋白质，而仅仅是一代一代传递下去，它们并不帮助自己寄居其中的身体？直到人们把自私的复制子的逻辑想明白，垃圾 DNA 的谜底才被揭开。</p><p>它们在本质上就是寄生虫。如果基因必须为蛋白质编码，相互合作构造身体，以便更好地复制自己，它们就会这么干。可要是不必这么麻烦、这么辛苦，不必非得帮着构造载体，就能复制自身，那也很好。复制子只“关心”复制（当然，这是一种拟人化的说法）。</p><p>垃圾 DNA 的概念仅仅是冰山一角，因为情况比我们想象的还要糟糕。垃圾 DNA 在我们体内一路随行，而我们作为生存机器为它们服务，也为其他真正给蛋白质编码的基因服务。基因既不帮我们，也不害我们。但是，在某些情况下，基因的利益跟载体的利益实际上会打架。这时候，基因诱发的载体行为并不符合载体本身的利益。比如，衰老就是一个明显的例子（Hamilton 1966；Kirkwood and Holliday 1979；Rose 1991；Williams 1957，1992，1996）。要是引发病变的致命基因出现在载体的繁殖期之后，它们就会保留在种群中；要是它们生不逢辰，出现在载体的童年期，这些致命基因就会被自然选择给剔除掉。不言而喻，当载体完成了繁殖任务以后，致命基因就一点儿也不“怜香惜玉”了。这就是为什么存在这样的怪事：很多物种，比如鲑鱼，繁殖之后就会立刻死掉。</p><p>杂合子优势这个概念：如果杂合子比任何一种纯合子都有更高的适应性，既定的染色体位置上就有可能存在不同的等位基因，这被称为多态性或多效性（Ridley 1996；Sterelny and Griffiths 1999）。不过，在逻辑上这意味着，杂合子确保的任何一种等位基因的成功（它们在固定数量的载体中扮演着建设者角色）将不是最优化状态（它们是纯合子），甚至某些（纯合子隐性基因）会带来严重缺陷。有一种隐性基因能导致镰刀形细胞贫血症，说的就是这种情况。<br>进化心理学家杰弗里·米勒（2001）讨论有性生殖的起源时，也使用了同样的身体集合逻辑。他指出，当基因组变得相当复杂，也因此更容易遭受突变导致的各种功能障碍时，有性繁殖就可能作为一种对抗策略产生，它能包含和承受这些基因组突变带来的破坏。或者，我们也可以听一听另外一种观点。这一观点来自生物学家马克·里德利，他说性之所以进化出来，是为了把复制错误集中在少数身体中（里德利使用“替罪羊后代”来揭示这种现象背后的生物学逻辑）。其实，不管发生什么，只要能“保证突变在一段较长的时期内不再累积，有性繁殖就有机会咸鱼翻身”。</p><p>哈奴曼黑叶猴存在后宫妃嫔现象，即一个占据支配地位的雄猴霸占了猴群中的雌性，独享跟她们性接触的权利。当一个年轻力壮的雄猴发动叛乱，篡夺王位，把原来的统治者推翻、废黜以后，他就会接管整座后宫。这时，所有雌猴怀中尚未断奶的幼崽就会凶多吉少。当它们被屠戮殆尽后，雌猴就会再次排卵，而新猴王也就能跟她们交配了。杀死所有的幼年黑叶猴以及由此带来的损失，对“群体”没有任何好处，甚至可以说是一种令人难以置信的浪费。不过，如果从生存机器要想办法传递基因的角度看，雄性黑叶猴的残暴行为就能说得通。前面的案例，诸如分离畸变、杂合子优势以及性选择，都表明繁殖并不是为了“有机体的利益”。这个例子说明，繁殖也不是为了“整个物种的利益”。</p><p>自然选择，站在载体的角度看，目的并不是实现自身的最优化。许多动物被设计成这种模式：它们为了传递基因宁可牺牲自己。一路走来，人类是唯一能意识到这一点正在发生，也能尝试阻止它发生的动物！在进化论历史上，生存机器发动叛乱，第一次有了可能。</p><p>诸如分离畸变这种效应的存在表明，有必要采用生命的基因眼观点。单个有机体遭遇某种怪异或有害的影响，是因为有机体被构造而来是为了给基因服务—而不是为有机体自身的利益服务。</p><p>对“为了物种利益”或“为了群体利益”这种观点的问题，请思考另一个案例：在有性生殖的动物中，存在性别比的恒常性。在许多形成后宫妃嫔的动物中，比如象海豹，雄性能产生大量的精子，足以让一百个雌性怀孕。而大量的雄性从来没机会交配。过多的单身汉耗用了相当的环境资源，而这些本来可以给那些群体中生儿育女的雄性用的。如果生物条件是“为了物种利益”，那么有后宫妃嫔的动物不可能表现出 50∶50 的性别比。只有生物学的基因眼观点能解释为什么在象海豹中存在雌雄比例对等的现象，即使这一现象从该物种的角度来看没效率：使用博弈论的术语（Maynard Smith 1974，1976，1998；Skyrms 1996），基因对雌性“确定的事情”上的赌注跟对雄性“冒险”上的赌注具有相同的预期值（不那么以基因为中心，而是从多层选择理论角度讨论性别比的文献，见 Sober and Wilson 1998）。</p><h2 id="你的基因更关心你，而不是你应该关心它们！"><a href="#你的基因更关心你，而不是你应该关心它们！" class="headerlink" title="你的基因更关心你，而不是你应该关心它们！"></a>你的基因更关心你，而不是你应该关心它们！</h2><p>一个灵活的大脑通常很忙，它要不断协调众多的长期目标，比如它自身的生存目标和快乐目标。此外，这些众多的长期目标甚至会强大到压抑其繁殖目标的地步。从基因的角度来说，人类的大脑有时就像是狼奔豕突、横冲直撞的火星探测器。它太忙了，总在不停调整自己的次要目标，比如掌控你的环境、跟其他人交往，诸如此类。于是，大脑有时就会忽略复制基因的主要目标，而次要目标本来是要给主要目标服务的。</p><h2 id="逃离基因的魔爪"><a href="#逃离基因的魔爪" class="headerlink" title="逃离基因的魔爪"></a>逃离基因的魔爪</h2><p>这是一个生动的思想实验（一种想象，以便激发我们的直觉），由丹尼尔·丹尼特提出（1995，422-427）。这个实验出现于他的一本书中，标题是《通向未来的安全通道》（A Safe Passage to the Future）。我在这里打算把它润色一番。想象一下，这是 2024 年。世界上出现了一种低温冷藏室，能把我们的体温降到绝对零度附近，保存它们，这样的话也许未来有一天，医学技术就能让我们活得更久，甚至长生不老。假设你想把自己保存在低温冷藏室里一直到 2404 年。那时，你走出冷藏室，看着眼前一个陌生的、光怪陆离的新世界，那时的医学或许能让你永远活下去。问题来了，你要如何着手“维护通向未来的安全通道”？也就是说，你得想办法，要让你的低温冷藏室能保留到那时，而不是在此之前被毁掉。记住，你不可能日复一日地在它周围转悠。</p><p>一种策略是为你的低温冷藏室找一个理想地点，以便它能在随后的四百年里高枕无忧。这个地点应该能对抗自然界的种种挑战，比如风吹日晒，还能获得各种防护（也许还能用日光提供能量）。这一策略的危险在于，你可能运气很背，找错了地方。未来的人类可能觉得，你选的地方最好是建造地球上的第一百万个购物商场。他们根据当时的法律剥夺你旧有的产权——这一点殷鉴不远，我们现在就在美洲印第安人的古代坟地上盖购物商场。因此，这种留在原地不动弹的策略有问题。它也许可被称为“植物”策略。</p><p>另一种策略代价更高昂，可被称为“动物”策略。你可以建造一个巨大的机器人，它具备传感器和大脑，还能移动。接着，你把自己的低温冷藏室放在机器人体内。机器人的终极目标就是保护你，避免危险。要是它面临不利状况，就带着你一起自行移动，远走高飞。当然，为了生存，机器人还需要完成许多其他任务。比如，它必须保证能量来源，它的身体不能太热，等等。</p><p>除此之外，你的机器人还需要有相当高的智能，这样，它就能在自己所处的环境中，对人类和其他动物的行为做反应。它自然会按照推荐路线走出购物商场，也能仅仅出于好奇心，就及时避开能把自己踩翻在地的大象群。不过，请注意，你的机器人运作起来很复杂，因为这个世界有很多像它一样的机器人，它们到处游荡，寻找食物和藏身之地。请你在想象中，用魔法变出数百家机器人公司。这些公司主动寻找客户，把更便宜的机器人推荐给他们；而且，这些新推出的机器人比 2024 年最早的一批同类具有“更多功能”。市场上，景区里，到处都是机器人。政府也许会着手开展调控机器人产业，甚至把机器人隔离在某些沙漠地区。美国有些州可能会想办法促进低温冷藏室机器人产业的发展，不再监管，让这些机器人在该州自由游荡。现在不少城市都在做同样的事：它们绝望至极，花力气吸引废物管理产业，以便“创造就业机会”。</p><p>你的机器人需要完成的任务，跟其他的机器人一样，变得越来越复杂。因为，这些机器人可能被植入了某些生存策略程序，这些程序会鼓励它们跟你的机器人交往。某些不靠谱的公司会卖次品机器人，它们为了削减成本，故意降低机器人功率。这跟我们现在的个人电脑面临的情形差不多，你必须购买额外的内存条，可事实上，这些内存条就应该第一时间安装在电脑中。需要及时升级的软件，也是这种情况——还是回到机器人这边。这些不靠谱公司给次品机器人植入程序，唆使它们殴打其他机器人，盗用对方的电源。</p><p>显然，你一定希望自己的机器人避开所有的潜在威胁，希望它的目标不受干扰。这毫无疑问。可是，不是跟其他机器人的所有交往都这么简单。事实上，这里的要点在于，你的机器人面临的数百年后的决策，是身在 2024 年的你难以想象的。请思考下面两种情况。</p><p>场景 A。这是 2304 年，距离将来你被解冻的那一天还有大概 100 年。你的机器人遭到殴打，它的电路出了故障。很可能它只能活到 2350 年了，那时它将崩溃，只留下你的低温冷藏室和它的电源。你无法移动。现在，你所在的地方容易受到各种因素和历史的影响，这就跟“植物”策略面临的不利状况如出一辙。不过，自从 2024 年以来，低温冷藏产业进展迅速，这时可能已出现了超级油轮大小的机器人，它们能携带数以百计的低温冷藏室。不少公司实际上已发现了这个市场空隙，于是，他们以旧换新，推出了下面的交易方式：超级油轮公司答应从旧有的单个机器人体内取出低温冷藏室，把它继续保存 150 年；这个时间对你来说绰绰有余，非常充裕。作为交换，机器人答应让公司把它拆除，重新使用它的某些部件（这个，就像未来的精算师以难以忍受的效率计算出一分钱的一百万分之一，也比在装有数千低温冷藏室的超级油轮中再加一个额外冷藏室要值）。</p><p>现在，想一想，你会让自己的机器人如何抉择？答案显而易见，你想让它牺牲自己成全你，以便你的冷藏室能保存到 2404 年。机器人毁灭，你活了下来，这对你有好处。从设计者角度来看，机器人仅仅是一个载体，一个容器。你现在就处于类似基因的位置上。你设计了一个载体，以便保证你的生存、你的利益，甚至在必要的时候，你命令这个载体自毁来保护你。</p><p>如果冷藏室成员在这个例子中代表基因，那么，机器人代表谁呢？毋庸讳言，机器人就是我们自己。悟到这一点，我们在思想实验中的忠诚立刻转向。当机器人面对这场交易的时候，我们现在就想大声疾呼：“不要做！”</p><p>让我们再看一个例子，它将揭示弱约束控制中的一些悖论。</p><p>场景 B。你的机器人跟另一个单身机器人达成了一项互惠利他协议。就像某些类型的吸血蝙蝠一样，当一个机器人电量不够用时，另一个机器人可允许它插入插头，从自己身上获取电量，以便熬过一段特别脆弱的能量匮乏期。在吸血蝙蝠的例子中，如果某只蝙蝠好几天都没有收集到足够的血液，它的朋友就用反哺的方式给它补血。你的机器人利用同样的互惠利他协议，提高了它自己的生存机会。然而，你的机器人不知道，当好朋友从它身上吸收电量的时候，也会同时从低温冷藏室汲取能量，而这会破坏冷藏室，你也就没法成功被冷藏到 2404 年了。</p><p>这真是一个悖论：通过签署协议，你的机器人提高了自身生存的机会，没想到这样却损害了你，降低了你生存的机会。在场景 B 中，意识到这一点极为重要，要是你的机器人拥有较少的计算能力，你的处境会更好。假如它体内植入了这样一个简单的指令，“永远不要跟任何机器人或人类签订协议”，你在场景 B 中将安全无虞。随着机器人的心理变得越来越复杂，拥有的计算能力越来越强，它就越来越有可能为自己打算，而不是为你服务了。</p><p>当然，在场景 A 中，存在一个明显的推论，我前面没有提及。但它其实是本书的一个主要话题，一个具有自我意识的机器人，也许会重新考虑自己的角色——它是你的奴隶，被你奴役。事实上，你一动不动，像个死人，它甚至都不认识你。而且，机器人现在作为一个自主性的实体而存在，它为什么不干脆把你扔到沙漠里，然后做自己想做的事呢？而它居然允许自己被拆得七零八落，保证你能登上超级游轮，好撑到 2404 年——太异想天开了！当你思考这个场景时，我们应该把下面的话告诉给我们的程序员：它们这些不速之客（指被冷藏的家伙）就是基因。曾几何时，它们进入我们的身体，还想以我们为跳板，要我们做牺牲，追求永垂不朽。</p><h2 id="真知灼见：把人放在第一位"><a href="#真知灼见：把人放在第一位" class="headerlink" title="真知灼见：把人放在第一位"></a>真知灼见：把人放在第一位</h2><p>对于人类而言，好消息是他们将不再只是基因的容器。人类拥有优先考虑自身利益的能力。不过，为了让这种积极的认知变革程序开花结果，关键是要保证我们大脑中的某些部分不跟自己作对。这些达尔文式部分具有强约束特点，容易受基因影响。作为我们认知架构的一部分，它们依然驻扎在我们的大脑中。我们必须学会跟它们打交道。其实，我们手边就有可用的认知工具。它们能确保，我们达尔文式心智做出的反应符合我们的整体目标，为我们自身的利益服务。现在已有这样的文化知识了，要是能抓到手里，就能帮我们实现认知变革的宏伟蓝图。我将在本书第 3 章和第 4 章对某些认知工具加以讨论。也许，最基本的大脑工具就是某些最简单的洞见：我们大脑的不同部分以平行系统的方式运作，常常同时在争取我们行为的控制权。而认知科学解释的真相就是，我们的大脑中发生着激烈的战争。</p><p>基因工程和为了人类健康和长寿而开展的基因疗法，也许代表了 Dawkins（1976）所谓的生存机器的终极胜利。依靠基因工程学技术，被复制子建立作为给它们服务的生存机器的我们，可以用它们实现我们的目标—不是基因的目标（比如过了繁殖期依然存活）。</p><h1 id="第2章-跟自己作战的大脑"><a href="#第2章-跟自己作战的大脑" class="headerlink" title="第2章 跟自己作战的大脑"></a>第2章 跟自己作战的大脑</h1><h2 id="自发式系统：大脑中忽视你的那一部分"><a href="#自发式系统：大脑中忽视你的那一部分" class="headerlink" title="自发式系统：大脑中忽视你的那一部分"></a>自发式系统：大脑中忽视你的那一部分</h2><p>许多认知理论家强调[5]，在某种程度上，自发式系统的加工相当不聪明：当触发刺激出现时，它们就不问青红皂白做反应，直到反应完成；即使情况有变，即使它们的反应结果已是累赘。它们只处理相关的诱发刺激。不过，即使自发式系统不怎么聪明，它们也以自己惊人的效率对此做了弥补。跟缓慢、笨拙、计算昂贵的中心化加工（见下文）相比，许多自发式系统的加工能够平行进行，很快就出结果。正如进化心理学家告诉我们的那样，诸如面孔再认、言语理解以及解读他人的行为线索这样的认知结果，要是能完成得越快，就越有适应性。</p><p>根据进化心理学家（比如 Pinker 1997；Tooby and Cosmides 1992）的说法，很多自发式系统的加工是自然选择的产物。不过，在我宽泛的自发式系统子过程的定义中，某些不是，它们通过实践获得了自发性。当然，我跟进化心理学家一样都反对福多：我们允许某些高水平或概念性的自发式加工过程，而不是局限于知觉领域。进化心理学家强调，高级认知过程也可具有模块性特点。同样，我也允许高级概念存在于自发式系统中。不过，我比进化心理学家走得更远。我认为，通过实践，概念化的系统和规则也能进入自发式系统。[7]这是一种人们组织他们认知的方式：明确训练高级技能，使它们转变为自发式加工，能自动执行，这就为其他活动释放了中心化的加工空间。</p><p>丹尼特（1991，414）描述了另一个版本的罗津实验，虽然是非正式的。实验如下。把你嘴里的唾液咽下去。没问题。好，现在找一个空瓶子，把唾液吐进去，然后把它一饮而尽。呀！太恶心了！不过，为什么？正如丹尼特（1991）指出的那样，“看起来这跟我们的感知有关：一旦某物脱离了你的身体，它就不再是我们身体的一部分，它变得陌生，令人怀疑；它已经放弃了自己的公民身份，变成了要被断然拒绝的另一个东西”（414）。在某种意义上，我们知道，我们对吞咽和对喝的反应不同，这是非理性的，可是这也不能取消两种反应之间的差别。知道得再多，了解得再深，都不足以克服面对瓶中唾液时的自发式反应。它同样也是大脑中忽视我们的那一部分。</p><p>认知加工的自发性不仅仅是预先配置好的倾向，也可以获得。这可以通过一个最古老的实验心理学范式加以说明；这个范式常被用来证明认知过程的自发性。这个所谓的斯特鲁普范式表明，当注意力指向别处时，自发式过程依然在执行（见 Dyer 1973；Klein 1964；MacLeod 1991，1992；MacLeod and MacDonald 2000；Stanovich，Cunningham，and West 1981）。这里有一个斯特鲁普范式的描述。实验的参与者看到一张卡片，上面有彩色的条带，他们被要求报告那个条带颜色的名称。在第一种对照条件下，条带不含有任何干扰信息。在第二种干扰条件下，条带标记使用的是另一种颜色，这种颜色跟条带本身的颜色不同。比如，一个红色的条带可能含有“绿色”这个词。在干扰条件下，参与者被告知要尽可能忽略颜色词，接着完成他们在第一种条件下的任务：给条带的颜色命名。<br>自动词汇识别的存在是这样推测的：跟对照条件下不存在言语刺激冲突（只出现红色条带）相比，在冲突条件下，人们的反应时会延长。由不相容的冲突性文字引发的干扰成了自动化的一个指标。研究者认为，斯特鲁普任务表明，即使参与者的注意力指向别处，他们对文字的加工依然会强制进行；是的，哪怕他们其实不想这么做。事实上，对于“当注意指向别处时，加工依然会进行”这一逻辑而言，斯特鲁普任务是一个极端案例。因为经过多次尝试之后，大多数参与者都会主动试着（虽然没成功）忽视那些文字。不过，词汇识别加工的自发性表明：别把注意力放在红色条带上，或“告诉自己忽略那些单词”，都无助于消除文字干扰。执行斯特鲁普任务的参与者证明，他们获得了一个忽略中心系统指令的大脑过程。</p><h2 id="一次一步骤：用语言找出世界运行的方式"><a href="#一次一步骤：用语言找出世界运行的方式" class="headerlink" title="一次一步骤：用语言找出世界运行的方式"></a>一次一步骤：用语言找出世界运行的方式</h2><p>跟许多自发式系统（特别是达尔文式模块）语境限定的操作不同，分析式系统允许我们维持强大的脱离语境的机制，包括逻辑思维、推论、抽象、计划、决策和认知控制。另外一个属性，即序列加工而非平行加工，也能把分析式系统（系统 2）跟自发式系统区分开来。因为前面讨论的不少属性（自动化、弹道导弹式运行，等等），许多自发式系统能同时执行，而分析式系统一次只能处理一个观念。<br>尽管分析式系统对逻辑和符号思维而言很强大，可它的去语境化认知方式计算高昂，而且难以维持。分析式认知“不自然”，于是也很少见。因为它跟自发式系统不同，不是一个硬连接的大脑架构。相反，在《意识的解释》这本书中，丹尼尔·丹尼特提出这样一种观点：分析式加工靠一系列虚拟机执行，而虚拟机是由很多平行的大脑硬件虚拟出来的。虚拟机就是运行在电子计算机上的一套指令（“一个虚拟机就是一套暂时的、高度结构化的规则，这套规则由一个基于硬件的程序启动……这样就能给硬件一套巨大的、环环相扣的、做出反应的习惯或倾向”，丹尼特 1991，216）。简而言之，分析式系统在这种视角下更接近于软件（某些人称之为“心智套件”；见 Clark 2001；Perkins 1995），而不是一套独立的硬件架构。<br>丹尼特（1991）的模型跟一个观点有关系；这个观点在认知科学文献中反复多次出现。它认为，在某种程度上，领域特殊性的自发式模块输出能被用作更为一般的目的，因而增加了行为的灵活性。[1]不过，分析式系统的串行功能难以维持，因为它们是在更适合模式识别这种并行功能的硬件上模拟出来的。[2] 这样一种看待自发式和分析式系统差异的观点，跟长期以来人工智能领域中的反讽是一致的：人类擅长做的事，比如面孔识别、三维物体感知、语言理解，对计算机来说很难；而计算机很容易做的事，比如使用逻辑、概率推理，对人类来说就很难。现在，研究者对自发式和分析式系统之间为何不同的理解，把这种人工智能领域的悖论给厘清了。对计算机来说，它没有建立起历经数百万年进化而成的精细严密的自发式系统。于是，作为一种进化遗产，诸多平行而有效的人类自发式系统擅长的事，对计算机来说简直是难于登天。相比之下，作为一种用于逻辑的串行处理器，人类的分析式系统是一种最近才安装的大脑软件。打一个比方，它就像是一台组装机（在计算机科学中，这是一种解决问题的粗糙方案）运行在诸多平行的、为别的目的而设计的硬件上。相反，计算机最初就是有意设计的串行处理器，依据逻辑规则而运行（Dennett 1991，212-214）。怪不得，逻辑运算对计算机很容易，但对我们很难。<br>几乎所有的认知学家都认为，唯有分析式系统才能对语言输入做响应，无论输入的是内部语言还是外部语言。作为一种自我激励机制，语言为大脑的信息加工序列引入了更多的连续性。它好像也是唯一的认知模块通路介质，而在通常情况下，这些模块没有彼此输出之间的通路。因此，在孤立的认知子系统跟存储位置之间，使用语言建立新的联结，这是一个额外的串行处理器的重要功能。<br>通过语言，我们能很快接收新的心智套件，还能即时安装和准备运行新的虚拟机（这是一种安装了的规则机构，暂时掌管处理器信息加工的逻辑）。因此，我们能迅速安装被其他人发现的心智套件，它们被证明很有用。比如，在本书后面的章节中，我将讨论无数决策科学家发现的策略，它们能帮人们做出更好的决策。</p><p>分析式系统也负责建立对一个人的行为进行一致性描述。回想一下，自发式系统将自动对刺激做出响应，使得加工产品进入工作记忆以便进一步处理，引发它自身的行动，或至少促发某些反应，因而增加了它们的反应性。分析式系统尝试维持一个连贯的故事，以便解释某个活动的全部，即使它对引发这个活动没多少贡献。人们发现，分析式系统会编故事，它们会对被自发式系统无意识引发的行为进行有意识选择。[4]我很快就会阐述，分析式系统对行为进行虚构解释的倾向会阻碍认知变革；而只有承认并考虑某些大脑子系统具有自主性的本质，这种变革才能发生。我们的分析式系统能学会对行为给出更好的描述性解释，这种解释跟神经心理学的事实更一致。学习这种技能，就是机器人叛乱的一部分。</p><h2 id="假设思维和表征复杂性"><a href="#假设思维和表征复杂性" class="headerlink" title="假设思维和表征复杂性"></a>假设思维和表征复杂性</h2><p>除了某些领域，比如行为预测（所谓的“心智理论”）之外，脱钩是一种认知要求很高的操作。执行它的通常是串行的、加工能力要求较高的分析式系统。语言提供了一种离散的表征媒介，能让作为一种文化获得观念的假想得以蓬勃发展。举例来说，假设思维涉及表征假设，诸如条件句这样的语言行为提供了这种表征的媒介。对这种表征类型的序列操作，看起来主要依赖于一种分析式系统的功能。</p><p>表征复杂性的增加，以及伴随的脱钩能力的增加，都由于语言的获得而大大增强了。</p><h2 id="无意识加工：火星人在你脑子里！"><a href="#无意识加工：火星人在你脑子里！" class="headerlink" title="无意识加工：火星人在你脑子里！"></a>无意识加工：火星人在你脑子里！</h2><p>我们通常有意识思考的东西，我们分析式系统正在处理的东西，都是来自物理世界和人类社会的输入信息。自发式模块无意识地把这些信息提交给分析式系统，任其调用。因此，很多理论家都强调，我们大部分的精神生活都带着自发式系统的痕迹（Cummins 1996；Evans and Over 1996；Hilton 1995；Levinson 1995；Reber 1993）。自发式系统不只直接引发自动反应，而且，在那些自发式系统不直接引发某个反应的情况下，它也会给分析式系统提供输入信息，因而通过自己提供的认知表征的特点对分析式加工施加影响。倘若某些自发式反应或产物对我们的行为有不利影响，我们就需要加以补救，使用分析式系统提供的策略来对付它们。</p><p>大脑阐述了本章的论点。他说，“约翰像天生的盲人一样，对我每天大部分的日常生活都视而不见”（1997，223）。大脑慢慢向约翰宣布，不仅他的知觉和营养功能受他意识之外的大脑过程指挥，甚至他深层的概念加工也不全受他有意识心智的控制。大脑说，尽管约翰认为他作为一个普罗米修斯式控制器，负责和指导大脑的活动，而事实上，约翰“被通报的，仅仅是我内部活动的极少数知识”（223）。跟我在本书中对自发式系统的描述一致，约翰的大脑告诉他，他大脑中的大多数活动都由诸多平行的、相对独立的计算通道执行。这些活动中，只有很少一部分输出成了约翰分析式活动有意关注的焦点。<br>出于这些原因，大脑告诉约翰，他的想法很落后。约翰以为“他”控制着自己大脑的活动（的确，约翰的朴素心理学带有强烈的笛卡尔式二元论色彩）。事实上，大脑告诉他“我可不是约翰概念化的内部回声。相反，在某种程度上，我是它们的怪异来源”（225）。使用我在这里提到的术语，大脑在告诉约翰，自发式系统对他的分析式加工提供了重要的输入信息。尽管约翰持有相反的观点，他也不能控制在他有意识推理和决策过程中的一切输入。<br>约翰的大脑想向他解释，约翰对他整个大脑的观点存在严重偏差，因为他过于依赖语言以及语言提供的概念。可约翰不能理解，这让大脑很伤心。当约翰继续坚持“他对我产生的梦幻式观点”时，大脑变得沮丧起来（226；参考前面提及的，分析式加工具有虚构倾向，以及下面要讨论的内容）。大脑感叹，说约翰看起来像个幸福的笨蛋，他对跟自己基于语言的认知模式不同的信息加工和信息存储操作一无所知。约翰的概念化倾向同样过于受语言的影响。他没有工具，不能思考跟他观点不同的加工模式。认知科学在继续探索平行的联结主义架构以及动力学系统模型，通过它们发展这种概念化工具。</p><p>我们有众多的自发式系统。在我们没有输入或意识（更确切地说，没有分析式系统输入）的情况下，它们忙于自己的业务。</p><p>在每一本认知科学和神经心理学的教科书中（比如 Clark 2001；Harnish 2002；Parkin 1996），几乎都有它的身影。它就是盲视现象（Marcel 1988；Weiskrantz 1986，1995）。某些视皮层受损的病人表现出一系列令人费解的症状。他们的视野中有一个盲点或暗点。他们说，在自己这个特定的区域看不到任何东西。然而，实验者会说服他们，要求他们对一组固定的刺激做出迫选（比如，从两种形状的灯中选出一种）。面对这组置于他们盲视区域的刺激，虽然他们在现象性经验中看不到任何东西，可选择的准确性高于随机水平。举例来说，当在两种刺激中迫选时，他们的正确率居然高达 70%；尽管在每一次选择中，他们都说自己看不见。通常，这些病人需要被说服，必须强制选择，尽管他们认为这毫无意义。许多人报告，说他们只能靠猜，因为他们“看不到任何东西”。他们还会怀疑，无聊的实验者到底能从这种无意义的任务中发现什么。<br>对盲视现象的解释，在细节方面依然充满争议，因为视网膜把信息传递到很多不同的大脑区域。然而，这一发现最基本的寓意却极少有争议。在某种程度上，这些病人大脑的某些区域能处理视觉刺激，但是负责整理信息、对意识经验进行言语报告的大脑系统没有达到阈值。说白了，它们没有发现这些信息。</p><p>盲视病人表现的无意识加工，不应该被认为仅仅发生在脑损伤的病人身上。在过去数十年里，知觉心理学家通过大量心理学实验，在大脑和知觉系统完全正常的实验参与者身上，证明了无意识加工现象的存在。[1]这是一种正常的认知活动，无处不在。这些实验在细节上各有特色，但实验情形大致是下面的形式。一个参与者盯着一台速视器（这是一种用于呈现视觉刺激的设备，呈现时间极短，短至千分之一秒的数量级）或一个电脑屏幕，看见 A、B、C、D 四个字母中的某一个，不同字母一次又一次地在他们眼前快速闪现。慢慢地，实验者减少呈现时间，使得这些字母难以辨别，以便衡量人类的识别阈限。随着呈现时间的缩短，确认正确字母的准确度不断降低、降低。比如，从 100% 降至 90%，再从 90% 降至 75%。在某个呈现时间上，参与者常常说他们做不下去，因为看不清楚，没法识别呈现的字母。然而，即使到了这种地步，参与者抗议说自己看不清，他们通常也能以高于随机水平的正确率报告目标字母是什么。比如，对于四个字母来说，他们报告的正确率也许是 45%，这要明显高于 25% 的猜测水平。高于随机水平的正确率意味着，参与者其实能辨别某些信息，即使他们坚持，说实验者要求他们继续是白费功夫，因为他们只能瞎猜。就像盲视病人一样，这些实验表明，正常人能加工一些连他们自己都没有意识到的刺激。</p><p>我们可以把正常人身上的这些现象加以扩展，即无意识加工的信息在整个大脑中会产生回荡效应，包括对语义水平加工的影响。认知心理学家广泛研究了所谓的语义启动效应（semantic priming effect），即如果每个词呈现之前先呈现一个跟它语义相关的词，这个词加工起来就会更容易。比如，如果在呈现启动词“医生”之后及时呈现目标词“护士”，人们对这个目标词的加工会更容易（通过反应时、电生理记录或其他技术来测量）。有趣的是，即使启动词呈现的时间极短，以至于参与者不能有意识地确认它们的身份，对目标词加工的促进效应还是会出现。跟前面描述过的实验一样，在这些启动实验中，参与者报告说，他们不能确定前面呈现的启动词是什么。可是，启动跟目标之间的语义关联还是会影响他们的行为。<br>需要澄清的是，并不是只有外围加工才显示出自发性，大部分概念加工也有这种特征。因为自发式系统的概念加工为分析式处理器提供输入，当深层的概念加工任务无意识中发生时，这些输入的根源对于意识而言难以触及。比如，许多最近的研究指出，社会和文化群体的刻板印象能通过无意识的激活加工而发生，这不完全是有意识思考的结果（Brauer，Wasel，and Niedenthal 2000；Frank and Gilovich 1988；Greenwald and Banaji 1995；Greenwald et al.2002）。</p><p>被自发式系统自动引发的概念联想影响重要的外在行为。数十年前，在一篇被广为引用的经典论文中，尼斯贝特和威尔逊（1977）搜集了很多证据，指出存在自发式的概念加工，而人们通常不清楚导致他们行为的原因。结果呢，当分析式系统（这个加工系统以维持跟个人行为有关的因果模型为己任）必须解释这些情况下的行为时，它经常会为这个行为编造一个理由。而真正的原因存在于自发式系统中，在认知层面上难以触及。<br>尼斯贝特和威尔逊（1977）讨论了这方面很多案例，不胜枚举。而在他们的综述发表之后，这方面的文献还在不断增加。尼斯贝特和沙克特（1966）做了一个对实验结果的归因研究，非常典型。在研究中，参与者需要接受不断提高的电击，以确定他们能承受多大的疼痛。其中一组服用安慰剂（糖丸），然后被告知，这种药会产生呼吸不规则、心悸和恶心的效果。研究者假设，安慰剂组会把任何他们感受到的神经症状（呼吸不均匀、出汗、恶心）都归结为糖丸，而不是对遭受电击的焦虑，因此，他们更容易忍受强烈的电击。结果的确如此。跟没有服用药丸的控制组相比，安慰剂组忍受住了 4 倍强的电流冲击！<br>有趣的是，当询问他们为什么有能力忍受这样的电击时，安慰剂组参与者从来都没提糖丸的影响。他们的行为，受到自己没有意识到的某个因素的深刻影响。比如，当询问他们为什么有那么强的耐受能力时，一个典型的回答就是“哎呀，我真的不知道……好吧，我想想。当我习惯鼓捣无线电之类的玩意时，只有 13 岁或 14 岁。也许，我已经习惯了电击”（Nisbett and Wilson 1977，237）。当研究者直接刺探问他们是否在实验中考虑过糖丸时，典型的回答如下：“不，我太担心电击了，根本不会想糖丸。”当更直接问他们是否认为糖丸引发了身体的各种反应时，典型的回答是：“不，就像我说过的那样，我太忙了，老在担心电击。”（237）当研究者把实验假设拿给他们看，问他们觉得这些假设是否说得通时，通常能得到肯定的回答。参与者认为，很多人的行为的确在假设情况下容易受影响，不过他们的行为是例外！<br>这种现象，即人们无法触及导致自身行为真正的大脑过程和刺激，在尼斯贝特和威尔逊（1977）综述的许多其他实验中也屡屡出现。在他们描述的一个实验中，参与者看电影，在各个不同维度上评价电影。实验过程涉及的若干因素都会变化，比如屏幕的视觉焦点，以及观看电影时外面出现的噪声。某些因素影响参与者的体验和他们对电影的评价，而其他因素则不起作用。大厅的噪声其实并不影响参与者对影片的评价，不过，有 55% 的人都误以为他们的评价受到了噪声的影响。跟我刚才描述的电击实验不同，那个实验的参与者没有意识到影响他们行为的某个因素，而在这个实验中，参与者报告了一个事实上不起作用的因素，认为它有影响。<br>电影实验最清楚不过地说明了人类的虚构能力，这一点被尼斯贝特和威尔逊（1977）在他们的经典论文中加以强调。他们使用了这样的标题，《我们说的比知道的多：对心理过程的言语报告》（Telling More Than We Can Know：Verbal Reports on Mental Processes）。“我们说的比我们知道的多”，指的是即使面对那些在认知上没办法触及以便反思的行为和大脑活动（因为它们是自发式模块的输出结果），我们也倾向于提出解释。在尼斯贝特和威尔逊描述的电影实验中，分析式系统仅仅是不能触及所有对电影评价的因素。这些因素数量众多，而且，它们由诸多的自发式模块提供，在认知上难以触及。然而，在为一个已发生的行为编造一个貌似合理的因果模型时，分析式系统毫无困难。不过，这个模型建立在朴素心理学的基础上，解释为什么人们通常做了他们做的事，而不是基于实际上起作用的内部认知过程的优先知识。<br>分析式系统的虚构倾向，在一系列经典研究中得到了惊人的展示。这些所谓的裂脑人研究，由神经科学家迈克尔·加扎尼加和同事合作进行。[2]裂脑人经历了联合部切开手术，他们的胼胝体被切断（这是两个大脑半球之间最庞大的一组联结）。人类的右视野刺激投射到大脑左半球，而左视野投射到大脑右半球。这就意味着，对于裂脑人来说，视觉刺激可以很轻易就被完全投射到一个孤立的对侧脑半球。根据这个事实，加扎尼加探讨了两个大脑半球不同的加工能力。在这个过程中，他发现，左半球大脑具有某种程度的虚构能力；这是控制语言产生的脑半球。<br>在一个著名实验中，加扎尼加把一张鸡爪照片快速闪现在裂脑人的左半球，同时把一张雪地照片投射到他的右半球。在很多照片中，右手（联结到对侧的左脑半球）正确指出了跟原来投射到左脑半球最接近的一张照片（鸡），而左手（联结到对侧的右脑半球）也正确指出了跟原来投射到右脑半球最接近的一张照片（雪铲）。然而，当问及为什么选这两张照片时，左脑半球（唯一能说话的半球）回答说“哦，这很简单。鸡爪是鸡的一部分，而雪铲能用来清理鸡棚”（Gazzaniga 1998 b，25）。参与者的左脑半球根本没接触雪地照片。不过，加扎尼加指出，左脑半球能看到左手（沉默的右脑半球）指向一把雪铲。裂脑人把这两个选择联系起来，编造了一个解释。<br>加扎尼加强调，这种虚构解释的倾向很普遍。他指出，参与者不会做出另一种反应：直言不讳，说自己不知道为什么选雪铲。相反，他编造了一个故事。在这个过程中，他做出了有意识的选择，而不是承认他没意识到自己行为的原因。请留意，加扎尼加提醒我们，这种解释令人信服，因为裂脑人没有做出下面决定合理的回应，“你看，我不清楚自己为什么选雪铲。我的脑袋被割裂了，难道你不记得了？我可能把某些东西投射到自己不说话的脑半球；这事儿经常发生，有一段时间了。你知道，我不能告诉你，为什么我选择那把雪铲。不要再问我这种愚蠢的问题了。”（1998 a，25）可惜，左脑半球没这么做。在自己完全控制身体一举一动的假设下，左脑半球编造了一个故事。在尼斯贝特和威尔逊描述的实验中，参与者编造了他们为什么喜欢影片的解释，根据的是通常的朴素心理学，而不是对大脑内部过程的了解（因为认知难以渗透，他们无法触及这些信息）。跟这种情况类似，裂脑人也炮制了一个连贯的故事，而不是准确思考相关的内部过程。<br>有的人有心理疾病，是因为脑损伤导致自发式模块运作失常，导致他们接收了很多不正常输入，于是，他们的翻译开始编造离奇的故事。替身综合征（Capgras syndrome），说的就是这种现象。[3]在这种疾病中，人们相信他的一个近亲（比如父亲或母亲）是一个替身。由于相信自己的父母或伴侣可能是替身，要欺骗自己，这些病人会攻击甚至杀死他们。这种病之所以产生，是因为神经系统接受的自主指标跟明显的识别指标不同。替身综合征患者的脑损伤不影响他们的面孔识别系统，因此，他们能认出自己的亲人。然而，跟这些面孔进行情感联结的系统遭到了干扰。看到一张熟悉的面孔，可是没有适当的情感反应，这就带来了一种反常体验，这种体验需要翻译给出一个解释。对某些人来说，他们（可能预先）有归因偏差、推理偏差和信念固着，翻译可能就会跳到一个极端假设上（这些反常经验说明他们是骗子），然后参与维持这一假设的偏差性加工。就像加扎尼加的裂脑人在鸡和雪铲实验中的表现一样，替身综合征患者没有考虑下面的假设：他的分析式系统处理的信息有错误，因为他脑子坏了。无论是裂脑人还是替身综合征患者都坚信，他们知道自己脑子里发生了什么。而事实上，他们没有接触到自发式系统运作出故障的信息。<br>朴素心理学拒绝承认我们大脑中自发式系统的影响，这也会给没有脑损伤的正常人带来灾难性后果。洛温斯坦（1996）指出，这种倾向是导致人们药物成瘾的一个主要因素。在一篇跟行为的内脏影响（内驱力状态直接影响跟饥饿、疼痛和性欲望有关的快乐体验）有关的综述中，洛温斯坦认为，大多数人都低估了内脏反应的未来效果，因为他们高估了自己直接控制的效果。对于早期药物吸食而言，个人强烈的好奇心是主要原因。因此，洛温斯坦提出，相信自己能停止吸食，这是导致人们决定吸食药物的一个重要因素。不过，可悲的是，他们对自己控制大脑能力的理解是错误的，而这被当成了他们吸食药物的一个根据。他们的朴素模型，极力夸大了自己对内脏过程有意识控制的程度。<br>这些是某类情境中的若干案例。在这类情境中，我们必须让自己习惯于我们的自发式系统，它们就像火星人一样。自发式系统是一种进化史上的古老系统，它有时候会引发一些跟现代世界不搭配的输出。本书的一大主题就是，现代生活创造了越来越多这样的情境：我们身居其中，必须诉诸分析式系统的评价和监督功能，必须克服长久以来服务于我们的习惯化反应。<br>人类学家唐纳德·西蒙斯（1992）指出，我们拥有专门的味觉机制，作为我们偏爱甜食的基础。这些可能是受下列事实塑造的进化适应器：当含糖量最高时，水果的营养价值最高。</p><p>因为具有古老的进化根源，我们的自发式系统容易引发某些反应，而它们很不适合我们目前的状况，这让我们觉得，自己的脑子里恐怕有火星人。当我们节食时，对甜食的不断渴望叫人心烦意乱。或者，举我在本章开头说的那个例子。当我们在大部分时间里被另一辆汽车挡住时，我们暴跳如雷，即使我们知道，这样做在当时的情况下没任何意义。自发式系统的进化联结在某些其他的案例中更明显。强奸受害者的配偶可耻地拒绝她们，这植根于男人的性所有权模块（Wilson and Daly 1992）。对破相者的排斥，则植根于探测对称性和其他所谓美貌线索的进化模块，而这些线索仅仅是繁殖适应度的代表。（Buss 1989；Langlois，Kalakanis，Rubenstein，Larson，Hallam，and Smott 2000；Symons 1992）</p><p>我这里不是主张一种简化的柏拉图式观点，认为低级心智（自发式心智）应该永远被更高级心智（分析式心智）统治。我们将在第 7 章和第 8 章看到，有时候我们应该在自发式跟分析式系统冲突是，认同前者。有一篇哲学论文（e.g.，Bennett 1974；MacIntyre 1990）讨论了马克·吐温的一个小说主人公哈克贝利·芬，他经历了一场冲突：一边是感情上他应该帮助一个奴隶朋友逃跑，一边是分析判断认为，帮助努力逃跑在道德上是错的。</p><h2 id="当不同类型的心智冲突时：分析式系统的覆盖功能"><a href="#当不同类型的心智冲突时：分析式系统的覆盖功能" class="headerlink" title="当不同类型的心智冲突时：分析式系统的覆盖功能"></a>当不同类型的心智冲突时：分析式系统的覆盖功能</h2><p>自发式系统执行很多有用的信息加工操作和适应行为，比如深度知觉、面孔识别、频次估计、语言理解、意图归因、欺骗探测、颜色知觉，等等。事实上，这个名单很长。很多理论家都强调，大部分精神生活其实都来源于自发式系统的输出。不过，如前所述，自发式系统的输出有时会跟分析式系统指定的高级行为目标相冲突。因此，有时候，我们必须借用分析式系统的监督和评价功能，以便平息或覆盖跟更一般目标相冲突的自发式输出。</p><h2 id="弱约束大脑跟强约束大脑"><a href="#弱约束大脑跟强约束大脑" class="headerlink" title="弱约束大脑跟强约束大脑"></a>弱约束大脑跟强约束大脑</h2><p>平克（1997）指出，自发式系统“被设计出来，是为了复制建造它们的基因，而不是为了促进幸福、智慧或道德价值。当某种行为对群体有害，有损于行为者的长期福祉，难以控制，不听劝说，或是一种自我欺骗的产物时，我们通常会说这种行为‘情绪化’。说起来令人痛心，这些行为并非功能失调，而正是我们从精心设计的情绪中所期待的东西”（370）。平克这里使用了“精心设计”的说法，它的含义很特殊，一种故意为之的特殊，因为他想要触动读者，让他们思考一种新观点；我在第 1 章中提出的观点，也有同样的考虑。我们思考再三，才能想到平克说的是进化的精心设计，它让这些设计能更好地为复制子的利益服务。</p><p>通过实践，分析式系统的高级目标状态将被安装在更刻板、更僵化的自发式系统中；这是一种新的可能。对于载体而言，通过反思而获得的目标状态，可能会呈现出独特的优势（因为它们能战胜基因植入的目标，这种优势还会累积——“不要跟你老板的老婆调情”）。此外，它们经过训练，将被安装在自发式系统中。在这种情况下，我们可以说，人类的自发式系统反映了带有反思的分析式系统驻扎在大脑中的结果。这也是为什么，人类的自发式目标结构绝不等同于图 1-1 描述的达尔文式生物体的结构。</p><p>人类头脑内部有冲突的观点，这可不是什么新鲜玩意。在长达几个世纪的时间里，它是不少伟大的文学作品的主题。然而，我们现在有更好的词汇来描述这些冲突，而这些词汇得到了认知神经科学发现的支持和验证。即便如此，作家在描述这些冲突时，依然能给我们带来最细腻的感受。</p><h2 id="自己试试：你能在著名的四卡片选择任务和琳达任务中覆盖自发式系统吗"><a href="#自己试试：你能在著名的四卡片选择任务和琳达任务中覆盖自发式系统吗" class="headerlink" title="自己试试：你能在著名的四卡片选择任务和琳达任务中覆盖自发式系统吗"></a>自己试试：你能在著名的四卡片选择任务和琳达任务中覆盖自发式系统吗</h2><p>设计出了类似于下面的“目的地问题”：<br>下面的每张卡片，一面是目的地，另一面是一种交通方式。这里有一个规则：“如果巴尔的摩在卡片的一面，那么飞机就在卡片的另一面。”你的任务是决定翻开哪些卡片，才能判断这个规则是对的还是错的。请指出哪些卡片必须被翻开。<br><img data-src="/the-robot%E2%80%99s-rebellion-2.jpg">  </p><p>令人惊讶的是，这种类型的内容丝毫没有提高人们的表现。大多数参与者依然选择了P（巴尔的摩）和Q（飞机），或者只有卡片P，而正确的P和非Q答案（巴尔的摩和火车）被大多数人忽视了。</p><p>类似于“如果 P 那么 Q”条件推理形式的规则，只有在它出现由 P 和非 Q 构成的情况时才能证伪。</p><p>在四卡片选择任务中，我们存在一种明确的自发式倾向（PQ），它反对分析式系统的反应倾向（P 和非 Q，依次检查每张卡片的逻辑意义，就能得出这个结果）。有人在得出错误答案之前想了一阵子，这个事实跟参与者的选择是自发式加工的假设并不矛盾。设计巧妙的研究（有些涉及在线反应时技术）表明，大多数进行中的思考其实都只是对自发式系统引发的反应倾向进行合理化而已。</p><h2 id="别跟掘地蜂一个样"><a href="#别跟掘地蜂一个样" class="headerlink" title="别跟掘地蜂一个样"></a>别跟掘地蜂一个样</h2><p>本书呈现的认知模型给个人身份带来了有趣的问题。如果我们大脑的不同部分不和，计算出相互冲突的输出，那么，哪一个才是我们认同和谈论的“我们”呢？哪一部分，才是“作为一个人，我们到底是谁”的最佳代表呢？在某些情况下，答案貌似很清楚。当一个人回避和排斥破相者，但又觉得这样做不好，他到底在认同哪一种认知输出呢：是回避，还是对回避的羞耻？这两种反应都来自同一个大脑。当一个丈夫没有安慰因遭受强奸而痛苦的配偶，但很快他又后悔没有这样做时，哪一种认知输出是丈夫应该认同的：没有安慰她，还是后悔没有安慰她？<br>在这两种情况下，我们希望人们认同羞耻和后悔，希望他们认为另一种反应远非他们的本性。我们以这种方式感受，原因在于，起初的反应是由自发式系统自动运作产生的（不适当）输出，未经思考或反思。而羞耻和后悔是对整个环境文本分析和反思的结果。我们觉得，在许多这样的情况下，人们应该认同他们的反思式心智，而不是达尔文式心智。</p><p>丹尼特在他 1984 年写的与自由意志有关的一本书中，要求我们思考自己对掘地蜂（Sphex ichneumoneus）行为描述的反应。雌掘地蜂为了产卵和孵化后代，会做很多事情。首先，她会挖一个洞穴。接着，她飞出去寻找蟋蟀。当她找到一个合适的对象，就会刺入蟋蟀的身体，把它麻痹，但又不杀死它。她把蟋蟀带回洞穴，放在洞穴口。她随后进入洞穴，确保一切安全，万事俱备。如果是这样，雌掘地蜂就会回到门口，把被麻痹的蟋蟀拖到洞穴里。然后，她就把卵产在洞穴里，密封起来，完事就飞走了。当卵孵化时，掘地蜂幼虫就吃瘫痪了的蟋蟀，那时蟋蟀恐怕还没腐烂，因为它仅仅是被麻痹了，但依然活着。<br>掘地蜂的所有表现，看起来相当复杂，令人印象深刻：这是一场动物智能的真实表演。表面上的确如此。也就是说我们将了解到，实验室研究表明，掘地蜂行为的几乎任何一个步骤都是精心设计的、面对自身环境中具体刺激而做出的刻板而僵化的程序性反应。举例来说，思考一下掘地蜂把被麻痹的蟋蟀放在洞穴口的行为：她检查洞穴，然后把蟋蟀拖进里面。科学家发现，这一套行为不是反思的结果，而是相当刻板的。当掘地蜂在洞穴里检查时，他们把洞穴口的蟋蟀移动了几英寸远。当雌蜂出来后，她现在就不会把蟋蟀拖进去了。相反，她会把蟋蟀再拖到洞穴口，又一次检查洞穴。要是门口的蟋蟀又被移动了一英寸左右的距离，雌掘地蜂还是不会把它拖进洞穴里，而是第三次把蟋蟀移到洞穴口，再一次回到洞穴进行检查。事实上，在某个研究者不断搞破坏的实验中，雌掘地蜂居然把洞穴检查了 40 次，也不会直接把蟋蟀拖进去。达尔文式动作的固定类型主宰着一定的行为顺序。当这种行为被具体的一套刺激引发后就会展开，而任何偏离这套顺序的偏差都不会被容忍。<br>在类似掘地蜂的情况中，当我们第一次观察到这种生物体如此巧妙复杂的行为时，恐怕会惊讶万分：它们乍看之下如此聪明。接着，实验就告诉我们，刚才描述的行为其实很机械。丹尼特把这称之为“当观察或了解昆虫或其他低等动物时，一种毛骨悚然的感觉：活动热闹非凡，可家里一个人都没有！”（1984，13）。丹尼特引用了认知科学家道格拉斯·霍夫斯塔特（1982）的观点，提议我们把这种令人不安的特征称为“掘地蜂性”。他说，看到简单生物体表面行为的复杂性背后不过是简单、刻板的例行公事，这会让我们担忧：“有什么能让你确信，你自己不是掘地蜂，哪怕有一点点不是？”（11）。</p><p>认知双过程理论，以及本章讨论的所有目的，就是以不同方式告诉读者这样的事实：我们都有一点像掘地蜂。事实上，这些理论中有很多都强调，自发式系统的无处不在，以及分析式加工的罕见和困难，实质上都认为我们默认的加工模式跟掘地蜂一样。假如我们不想跟掘地蜂一个样，就必须坚持完成那个艰难的任务：调用认知能力，运行包括心智套件的序列模拟机，以便能监控自发式系统，确保它实现的是载体水平的目标。<br>自发式模块提供的输出，要是跟有理有据的分析式系统的输出有矛盾，它们就可以被视作“你体内的掘地蜂”。某些自发式过程是我们当前环境的产物，因为习得的规则经过多次练习就能自动执行。即使了解这一点，也不能减少我们对于掘地蜂性的恐惧。通过广告，通过我们青春期的同伴群体，或通过我们父母重复的教条（这些教条来自他们有限的经历，因而并没有使得他们跟掘地蜂有什么不同），像掘地蜂一样的反应倾向都可能被安装在我们的自发式系统中。可事实上，它们跟其他的自发式加工过程一样，都没有经过反省，都不是深思熟虑的结果。只有那些经过反思被安装在自发式系统中的规则，才应该受尊重、被认同，即使这些规则有时候也会被过度概括（因为那时它们会自动运行），即使它们在某种情况下也需要被克服。</p><h1 id="第3章-机器人的秘密武器"><a href="#第3章-机器人的秘密武器" class="headerlink" title="第3章 机器人的秘密武器"></a>第3章 机器人的秘密武器</h1><h2 id="选人而不是选基因：工具理性和进化适应是如何分道扬镳的"><a href="#选人而不是选基因：工具理性和进化适应是如何分道扬镳的" class="headerlink" title="选人而不是选基因：工具理性和进化适应是如何分道扬镳的"></a>选人而不是选基因：工具理性和进化适应是如何分道扬镳的</h2><p>通常来说，在它们繁殖力消失之后，哺乳动物就不在个人生存领域投资了”（67）。米利肯这里说的是，活着只是最一般的目标，它只是很间接地跟基因复制的最终目标有关联。死亡的有机体无法繁殖。然而，活着并不能保证，一个有机体就能繁殖。生存被基因作为一种目标安装在自发式系统中，作为目标结构层级中一种必要而不是充分的欲望，最终导致繁殖。然而，当繁殖的未来条件不具备时（也许因为繁殖器官有缺陷或不能正常工作），载体依然想要实现生存目标，即使它已不再能为基因带来完全成功的结果。</p><h2 id="让你的工具理性更充实"><a href="#让你的工具理性更充实" class="headerlink" title="让你的工具理性更充实"></a>让你的工具理性更充实</h2><p>很多理论家（见 Nathanson 1994 的综述）提出，要是经过反思，我们宁愿取消某个欲望而不是实现它，那么它就是非理性欲望。其他理论家则提出，矛盾的欲望或建立在错误信念之上的欲望，也是非理性的。最后，可以认为，如果目标的预期效用跟它们被实现时的效用不一致，追求这样的目标也是一种非理性的标志</p><h1 id="第4章-自发式大脑偏偶尔让人悲伤的强约束心智的特点"><a href="#第4章-自发式大脑偏偶尔让人悲伤的强约束心智的特点" class="headerlink" title="第4章 自发式大脑偏偶尔让人悲伤的强约束心智的特点"></a>第4章 自发式大脑偏偶尔让人悲伤的强约束心智的特点</h1><h2 id="正面思维的危险：自发式系统不能“想到反面”"><a href="#正面思维的危险：自发式系统不能“想到反面”" class="headerlink" title="正面思维的危险：自发式系统不能“想到反面”"></a>正面思维的危险：自发式系统不能“想到反面”</h2><p>假设下面的断言中，只有一个关于具体手牌的说明是对的：</p><ol><li>有一张 K 在手里，或有一张 A 在手里，或两者兼有。</li><li>有一张 Q 在手里，或有一张 A 在手里，或两者兼有。<br>哪一个更可能在手里：K 还是 A？<br>你得保证，回答完了再往下读。<br>约翰逊-莱尔德和萨瓦里（1996）发现，有 75% 的参与者认为，A 比 K 可能性更大。这个回答是错的，这也是为什么约翰逊-莱尔德和萨瓦里给他们的论文拟了这样的标题“概率的虚幻推断”。这种虚幻来自，表征真实信息很自然，而表征可能非真的状态不自然。你可能依然受制于这个幻觉，虽然你已把注意聚焦在真实原则的陷阱上了。约翰逊-莱尔德和萨瓦里指出，人们在那个问题中做出虚幻推断，因为他们分别把每一种陈述都当成了真实，但是忘了其中一个陈述是假的，而且他们应该算出背后的含义。陈述 1 代表的意思是，有一个 K，有一个 A，或两者都有；每一种情况都在一行中表征出来，见下面的模型：<br>陈述 2 代表的意思是，有一个 Q，有一个 A，或两者都有；每一种情况都在一行中表征出来，见下面的模型。<br>因为包含 A 的行比包含 K 的多（4 比 2），这会导致参与者认为 A 出现的概率更高。参与者忘了，两个陈述中，只有一个是真的。他们没有考虑更复杂的过程，计算出要是其中一个模型不成立，另一个模型的含义。这是因为，两种陈述最初都表征为“真”的形式，在这种情况下，处理起来很复杂。<br>相反，要是问题在两种情况下表征为假，处理起来容易多了：<br>陈述 1 为假，如果：非 K 和非 A。<br>陈述 2 为假，如果：非 Q 和非 A。<br>现在，指导语说两个陈述中有一个为假。不管哪一个为假，手里都不会有 A。因此，手里不可能有 A，但是可能有 K，因此 K 出现在手里的可能性更大。<br>因此，当人们把事件状态表征为假时，问题计算起来就不会那么困难了。然而，认知科学的许多发现表明，自发式系统默认的表征倾向恰好相反。它习惯把注意焦点放在事件的真实状态上。约翰逊-莱尔德（1999）承认，对于一个计算系统来说，它是一个合理的默认设置。但是，他认为，这导致了处理科学假想世界的能力不足；在这个假想世界里，存在另外的处理结果，以及比较结果。只给事件的真实状态建模，这排除了第 2 章讨论过的假设思维。</li></ol><h2 id="现在，你选它；现在，你不选它：框架效应损害了人类理性的观念"><a href="#现在，你选它；现在，你不选它：框架效应损害了人类理性的观念" class="headerlink" title="现在，你选它；现在，你不选它：框架效应损害了人类理性的观念"></a>现在，你选它；现在，你不选它：框架效应损害了人类理性的观念</h2><p>人们的选择，有时甚至是非常重要的选择，能被一些无关紧要的因素影响，比如，替代选项的呈现方式，参与者对替代选项做反应的方式（购买物品、口头指定、强制选择，等等）。在诸多相关文献中，这样的情况多达数十种。不过，其中最有说服力的一项来自特沃斯基跟卡尼曼（1981）的早期研究。面对决策 1，请给出自己的选择。<br>决策 1　想象一下，美国正面临着一种罕见疾病的威胁，这种病预计杀死 600 人。有两种方案能对抗这种疾病。假定对项目后果的科学评估如下：如果实施项目 A，200 人将被拯救；如果实施项目 B，1/3 的可能性 600 人获救，2/3 的可能性没人获救。你更支持哪个项目，项目 A 还是项目 B？<br>面对这个问题，大多数人都选了项目 A，它肯定能拯救 200 人。单独这么看，没什么问题。只要跟对另一个问题的反应放在一起，事情就变得诡异起来。实验参与者（有时候是同一批人，有时候是另一批人）要回答一个额外的问题。还是老规矩，请给出你对决策 2 的即时反应：<br>决策 2　想象一下，美国正面临着一种罕见疾病的威胁，这种病预计将杀死 600 人。有两种方案能对抗这种疾病。假定对项目后果的科学估计如下：如果实施项目 C，400 人将死掉。如果实施项目 D，1/3 的可能性 600 人获救，2/3 的可能性 600 人会死。你更支持哪个项目，项目 C 还是项目 D？<br>面对决策 2，大多数参与者都选了 D。因此，在两个决策场景中，最为流行的选项就是项目 A 和项目 D。唯一的问题在于，决策 1 和决策 2 其实是同一个问题，它们仅仅是对同一场景的不同描述而已。项目 A 和项目 C 是一样的。在项目 C 中，400 人死掉意味着有 200 人获救，恰好这就是项目 A 中出现的数字。同样，在项目 D 中 600 人有 2/3 的可能性死掉，跟项目 B 中 600 人有 2/3 的可能性死掉（“没人获救”）是一样的。如果你在决策 1 中更支持项目 A，你应该在决策 2 中更支持项目 C。但是，许多人表现出的是不一致偏好，问题的措辞不同，他们的偏好也不同。重要的是，我们要注意，参与者自己（当同时呈现两个版本的问题时）认为问题是一模一样的，不同措辞不应该带来选择的差异。<br>在上述疾病问题中呈现的不一致，违背了基本的理性决策公理，即所谓的描述不变性特征（Kahneman and Tversky 1984，2000）。如果参与者自己认为的无关特征影响了他们对问题的回答，那么，可以判定，他们根本不具有稳定有序的偏好。如果无关紧要的问题措辞，就能逆转个人的偏好，那么，人们就不可能实现预期效用最大化。描述不变属性的失效，对我们认为“人是理性的”这一观念产生了严重影响，尽管这样的失效不难产生。决策文献中充斥着类似的案例，俯拾皆是。请考虑下面两个问题（Tversky and Kahneman 1986），这是决策论文献中经常使用的一个赌博框架情境：<br>决策 3　想象一下，除了任何你现有的财富，有人给你一份价值 300 美元的礼物。现在，你需要在两个选项中选择其中一个：<br>（A）肯定得到 100 美元；<br>（B）50% 的可能性赢得 200 美元，50% 的可能性没任何收益。<br>决策 4　想象一下，除了你现有的财富，有人给了你价值 500 美元的礼物。现在，你需要在两个选项中选择其中一个：<br>（C）肯定损失 100 美元；<br>（D）50% 的可能性损失 200 美元，50% 的可能性没任何损失。<br>特沃斯基和卡尼曼（1986）发现，同一批人，有 72% 的选了选项 A 而不是 B，有 64% 的选了选项 D 而不是 C。同样，跟疾病问题一样，两个决策其实反映了完全相同结果之间的对比。如果有人喜欢选项 A 而不是 B，他们也应该喜欢选项 C 而不是 D。在选项 A 中，肯定获得 100 美元跟原来的 300 美元加起来，一共有 400 美元，这跟决策场景 4 中肯定损失 100 美元后的选项 C 总钱数（也是 400 美元）一样多。选项 B 意味着，50% 的可能性总额有 500 美元，50% 的可能性总额有 300 美元。跟决策场景 4 中的选项 D 相比，同样是 50% 的可能性有 500 美元，50% 的可能性有 300 美元。两者完全相同。<br>有个理论想要解释，为什么这些决策中会发生描述不变的失效现象。这个理论就是卡尼曼和特沃斯基提出的前景理论（1979；Tversky and Kahneman 1986）。这些例子的共同点在于，在两类问题中，参与者在收益情况下都是风险厌恶，而在损失情况下都是风险寻求。他们发现，决策 1 中，肯定收益（拯救 200 人）比同样预期价值的赌博更吸引人。在决策 3 中，肯定收益（获得 100 美元）比同样预期价值的赌博更吸引人。相反，在决策 2 中，肯定损失（400 人死掉）明显不如同样预期价值的赌博有吸引力。当然，这里的“肯定损失”400 人，参与者觉得不怎么有吸引力，事实上，这个结果跟决策 1 中他们认为比较有吸引力的“肯定收益”拯救 200 人完全一样！<br>同样，决策 4 选项 C 中的“肯定损失”，跟同样预期价值的赌博比起来，也不怎么有吸引力。在这样两类问题中，参与者根据零点，以收益和损失的方式对结果进行编码，而不是评估选项的最终位置。这是卡尼曼和特沃斯基（1979）前景理论最关键的一个假设（也见 Markowitz 1952）。另外一个重要假设是，损失的效用函数（负方向）比收益更陡峭。这也是为什么，即使面对积极预期价值的赌博，人们通常会有风险厌恶。你愿意跟我玩掷硬币吗？正面朝上的话你给我 500 美元，反面朝上的话我给你 505 美元？大多数人都拒绝这种对自己有利的赌注。表面看来，潜在损失比潜在收益小一点点，可在心理层面上，它比收益更大。<br>这里出现了两种人类决策时的特点，一种是效用函数差异化的坡度，一种是人们根据作为零参照点的现状，对选项重新编码。两种特点看起来也是自发式系统的特点。在决策情境下，它们是信息的自动化编码方式。它们不能被关闭，但是能被克服。比如，通过分析式策略，保证即使在问题进行不同表征时，人们依然持有不变的偏好。道斯（1988）指出，“前景理论描述的决策，是一种自动化加工的结果”（45）。倘若未被克服，我们编码决策信息的这两个特点能引起完全逆转的偏好，这意味着某种令人恐惧的影响，就像我们自发式系统偏好装置被构造的那样。这里隐藏着一个令人不安的观点，人们的偏好来自外界（来自有权力塑造环境、决定问题该如何呈现的人），而不是根据个人独特的心理而产生的内在倾向。因为大多数情境都可以任何方式被重新构造，这意味着，并不是人类拥有稳定偏好，可以被不同方式引发，而是引发过程本身就足以完全决定这种偏好是什么！这种观念，导致了经济学中“理性人”观点背后的基本概念轰然坍塌。此外，它还有潜在的社会影响。正如卡尼曼（1994）所说，稳定、理性、有序的偏好假设，被某些人拿来“支持这种立场，即我们不需要保护人们，对抗他们选择的结果”（18）。<br>描述不变性的展示还有许多不可忽视的现实影响。比如，在医学治疗的重要领域，结果信息通常要么被表征为损失，要么被表征为收益。麦克尼尔、波克尔、索克斯和特沃斯基（1982）的研究发现，跟前面的案例一样，用不同措辞表述同样结果，就能导致医生面对肺癌时选择不同的治疗方案。他们指出，无论对医生，还是对受过统计训练的人来说，这些人表现出的框架效应跟临床病人一样大。请留意，医学治疗的偏好居然会因为措辞不同而逆转，而这些措辞没有传达任何不同的信息，也没有改变结果本身。这有点儿吓人。这个案例表明，违反描述不变性是如何真正的可怕——这是一种多么可怕的非理性反应。（它因为自身的不一致，违反了工具理性的基本约束，让人们无法得到他们最想要的结果）<br>这些问题都有一个关键特征，即参与者似乎接受了问题的框架，把它作为一种设定，而不是尝试利用另一种框架看问题，以判断是否会有不一致结果出现。特沃斯基（1996 a）认为，“这些观察说明的现象可被称为接受原则：人们倾向于接受问题呈现的框架，在这种框架下评估结果”（8）。这里，我们有了另一个自发式系统加工偏差的阐述。在此之前，我们谈及了约翰逊-莱尔德（1999）的真实原则，以及被吉尔伯特（1991）检验过的斯宾诺莎的理解和接受的融合。自发式系统偏向于自动接受命题，也偏向于接受给定的语境。面对问题，要想让人探索其他的假设和框架，我们就必须使用分析式系统，克服这种自然的加工倾向。<br>这些违背描述不变性的案例，仅仅是冰山一角。不计其数的文献，都揭示出这种不正常的判断普遍存在。[2]它们暗示，人们不能被刻画成效用最大化者；根据前一章对理性的界定，他们无法表现出一致的理性。另外，重要的是，我们必须面对这个事实：人类的选择，轻而易举就被框架给改变了，这将带来不可忽视的社会和经济影响。</p><h2 id="自发式大脑的基本计算偏差"><a href="#自发式大脑的基本计算偏差" class="headerlink" title="自发式大脑的基本计算偏差"></a>自发式大脑的基本计算偏差</h2><p>自发式系统加工贯穿于大脑所有的运作中，而且它们不能被“关闭”，不过可以被各个击破。</p><h2 id="现代社会的自发式系统陷阱"><a href="#现代社会的自发式系统陷阱" class="headerlink" title="现代社会的自发式系统陷阱"></a>现代社会的自发式系统陷阱</h2><p>由兰格、布兰克和查诺维茨（1978）做过的一个著名实验。在该实验中，研究者的一个同伙假扮参与者，想要插队使用复印机。在一种条件下，他会提供一个正当理由（“我能使用一下复印机吗？现在我急着赶时间”）。而在另一种条件下，他没有给出理由，仅仅是冗长的重复（“我能使用一下复印机吗？因为我得复印”）。第二种情况下给出的解释信息远远少于第一种情况，可两种情况下，人们同意的可能性居然没区别。</p><p>在很多重要领域中，兰格式的“盲目”案例比比皆是。消费者报告（1998 年 4 月）记载了这样一种做法：有些汽车零售商列出一个价值 500 美元的项目，给它起名 ADM，然后把它贴在许多汽车的价格标签上。汽车零售商希望，有些人不会问 ADM 是什么东西。他们还希望，即使有人问了，这些人会被告知，它的意思是“额外零售标志”。这种情况下，也许还会有人不完全清楚这个名称的含义，可他们在不询问额外零售标志是什么的情况下，还是会付钱。简而言之，零售商希望，人们的分析处理器千万别正常工作，以免戳穿这种欺骗行为，从而确定 ADM 根本就不是什么跟汽车有关的要素。它更像是一场慈善捐款，代表零售商，要求消费者把 500 美元捐给汽车零售业。正如一个零售商所言，“每过一段时间，总有人不问任何问题就为此付钱”（17）。这里的盲目反应，代表着分析式系统克服失效，意味着购买者要把自己的血汗钱随便扔掉。</p><p>现代大众传播技术员已非常老练，他们善于利用人类自发式系统的默认设置。依靠自发式加工的沟通逻辑战胜分析式系统，除了广告商和竞选团队，连政府甚至都在这么做——为了促进彩票业发展，他们就这么干了。“你可能就是中奖者！”安大略省彩票委员会不停地在广告中发出这种刺耳的宣传。这样做，就让一个名叫 49 选 6 的彩票项目看起来招人喜爱，让你以为买它很容易就能中奖，可它实际的中奖概率是 1/14000000。</p><p>在一天里，我们数百次地探测频次，数十次地探测面孔，不断使用我们的语言模块，不时推断他人的想法，诸如此类。这些都是适应的，都有助于个人目标的实现。</p><p>市场经济非常擅长把非最优化行为倾向转变为效用，这种非最优化的自发式反应模式，将遭到某些人的利用。因为一本光鲜的小册子，一个消费者购买了手续费为 5% 的价值 10000 美元的共同基金，而没有购买同样表现、没打广告（也没有手续费）的空载指数基金。可以想象，他用一种最直接的方式，简单地选择放弃 500 美元，把它们送给了一个销售员，以及一个阔绰的共同基金公司的收益所有人。现代市场经济到处都充斥着这种自发式系统陷阱。而且，这些情况越是具有潜在代价，就越有可能是陷阱（汽车销售、共同基金投资、抵押贷款交易费用，以及出现在脑海中的保险单）。</p><h1 id="第5章-进化心理学出了什么问题"><a href="#第5章-进化心理学出了什么问题" class="headerlink" title="第5章 进化心理学出了什么问题"></a>第5章 进化心理学出了什么问题</h1><p>科学家们普遍认为，智力至少有 40%~50% 是可遗传的（Deary 2000；Grigorenko 1999；Neisser et al.1996；Plomin et al.2001；Plomin and Petrill 1997）。这是否就是一种“功能上的表面属性”，无关紧要？恐怕没有任何一个负责任的心理学家会这么想。要知道，无论在实验室里，还是在现实情境中，智力都是预测人类行为最有效的心理因素，没有任何一个现有的心理因素能把它比下去（Lubinski 2000；Lubinski and Humphreys 1997）。智力能预测人类在现实世界中的诸多表现，而这些表现在现代技术社会中，对实现个人效用最大化（工具理性）格外重要。这其实也是为什么即使在很多后工业社会，测量人们跟抽象事物打交道的能力，比如智力，依然大受欢迎，因为它能预测一个人能否找到工作，能有多少收入——它是这些表现的最佳预测因素。此外，心理测量文献中为数众多的发现，指出即使在排除教育水平的影响之后，无论是伤害回避行为，还是职场成就，抑或是个人获得社会地位的高低，都跟认知能力有着密切关联。</p><p>可遗传的认知构念（智力、人格维度，思维风格）。</p><p>明显跟个人效用最大化行为有关的认知构念，诸如工作成就、人身伤害、人际关系中的左右逢源，以及物质滥用。</p><h2 id="现代社会就是一盏钠气灯"><a href="#现代社会就是一盏钠气灯" class="headerlink" title="现代社会就是一盏钠气灯"></a>现代社会就是一盏钠气灯</h2><p>人类的认知装置更擅长处理频次信息，而不是概率信息（对于一个具体问题来说，频次表征能减少认知幻觉，但不能完全消除它）。比如，人们更容易处理这样的信息“在 1000 个人当中，有 40 个会染上某种疾病”。相比之下，他们不擅长对付同样内容的下列描述“人们有 4% 的可能性染上某种疾病”。我得承认，这类研究很有用，毫无疑问。它能清楚地告诉我们，在现实情形中，我们该如何呈现概率信息才能更容易被人理解（Gigerenzer，Hoffrage，and Ebert 1998；Gigerenzer 2002）。</p><p>最重要的是，我们必须脱钩自发式系统通过众多渠道提供的信息，它们发现了这些信息，还想把这些加入我们的决策中（“不，这个推销员是不是招人喜欢，不应该成为我是否要买一辆 25000 美元私家车的考虑因素”）。脱钩是分析式系统的一大功能。</p><h2 id="自然母亲并不善良，这一事实意味着什么"><a href="#自然母亲并不善良，这一事实意味着什么" class="headerlink" title="自然母亲并不善良，这一事实意味着什么"></a>自然母亲并不善良，这一事实意味着什么</h2><p>比较选择激发了更多的分析式加工，而单个选项更可能跟自发式系统相关联，也更可能基于语义联想或生动性这些特点。贝泽曼等人讨论了消费者研究，指出品牌在消费者单独评估产品时更重要，但是在他们比较产品时就不那么重要了。在消费者决策中依赖自发式系统，就意味着公司依靠品牌知名度比依靠产品质量更能盈利。</p><p>另一组参与者则被问及，他们愿意花多少钱购买一份价值 10 万美元的任意原因死亡险时，他们平均愿意支付 12.03 美元。这很自然。一个人搭飞机，有可能死于机械故障之外的原因，比如驾驶员出错或飞机遭到蓄意破坏（20 世纪 90 年代，一架埃及航空公司的航班被副驾驶动了手脚，一头栽进了大海）。第三组参与者被问及，他们愿意花多少钱，购买 10 万美元的险种以防自己遭受恐怖分子袭击，结果他们给出的平均费用是 14.12 美元。这就有问题了。遭受恐怖袭击而死，这种风险显然包括在由于各种原因而死的风险中，可人们认为该险种只值 12.03 美元。那么，为什么我们愿意花更多钱（14.12 美元）以预防一种风险（恐怖袭击），而该风险仅仅是任意风险的一个子集？恐怖袭击的概率要小于任意风险的概率。通过一系列自发式加工过程，比如自动化的语义启动，“恐怖袭击”这个词引发了栩栩如生的场景记忆，从而人为夸大了这种结果出现的概率。恐怖袭击的担忧被夸大了，但因此也使得这种保险价值被高估。这些研究结果将被保险公司用来增加他们的利润。</p><p>在另一个案例中，约翰逊跟合作者讨论了自动化的现状偏差（status quo bias）如何解释昂贵的保险决策，这些决策让宾夕法尼亚的消费者支付了数百万美元。他们说，在 20 世纪 80 年代，新泽西州和宾夕法尼亚州想通过减少诉讼权（同时降低诉讼费用），减少消费者的保险费用。不过，两个州的做法不一样。在新泽西，现状就是人们只有有限的诉讼权，而且很少诉讼。为了获得完整的诉讼权，消费者需要同意支付更高的费用才能获得它。而在宾夕法尼亚州，现状是消费者拥有完全的诉讼权。为了降低支付费用，消费者必须同意减少自己的诉讼权。在新泽西，只有 20% 的司机选择获得完整的诉讼权，而在诉讼权完整的宾夕法尼亚，75% 的司机选择保留它。一种基于自发式系统的现状偏差，会把消费者已拥有的保险特征设定为“正常”，然后把消费者冻结在当前状态下。宾夕法尼亚的改变由立法者推动，目的是为消费者节省巨额开支，而它也的确做到了这一点。通过修改立法者的措辞逆转现状，为消费者节省了 2 亿美元的花费，即使人们的直觉告诉自己，保持现状就好。</p><h1 id="第6章-理性障碍为什么那么多聪明人干了那么多蠢事"><a href="#第6章-理性障碍为什么那么多聪明人干了那么多蠢事" class="headerlink" title="第6章 理性障碍为什么那么多聪明人干了那么多蠢事"></a>第6章 理性障碍为什么那么多聪明人干了那么多蠢事</h1><h2 id="认知能力、思维倾向和分析水平"><a href="#认知能力、思维倾向和分析水平" class="headerlink" title="认知能力、思维倾向和分析水平"></a>认知能力、思维倾向和分析水平</h2><p>在当代的认知科学中，智力指标衡量的个体差异，其实衡量的就是算法水平上信息的加工效率。相比之下，正如心理学传统研究指出的那样，思维倾向和认知风格表示的是分析的意图水平的个体差异。它们跟理性有关，因为它们告诉我们个人的目标和认识价值观的信息。</p><h2 id="理性大争论：过度乐观者、卫道士和社会向善论者之间的观点碰撞"><a href="#理性大争论：过度乐观者、卫道士和社会向善论者之间的观点碰撞" class="headerlink" title="理性大争论：过度乐观者、卫道士和社会向善论者之间的观点碰撞"></a>理性大争论：过度乐观者、卫道士和社会向善论者之间的观点碰撞</h2><p>在个人的一生中，重要的是，获取跟实现个人最重要目标有关的领域知识。这个过程被我称为知识获得的实用校正。知识获得很辛苦，而用于某个任务的认知资源是有限的。我们只有有限的时间、精力能够投入求知活动中。而且，重要的是，我们的努力需要校正，以便它能指向跟我们认为重要的目标相关联的领域。如果我们说某些东西对我们极为重要（比如，我们孩子的生命安全），那么我们就义不容辞、责无旁贷，一定要知道这些对我们来说很重要的事情。根据这种观点，不给孩子系安全带的父母是不理性的，因为在他们生命中的很长一段时间里，他们知识获得的实用校正做得相当差。</p><h2 id="理性障碍：化解聪明人干蠢事悖论"><a href="#理性障碍：化解聪明人干蠢事悖论" class="headerlink" title="理性障碍：化解聪明人干蠢事悖论"></a>理性障碍：化解聪明人干蠢事悖论</h2><p>智力（一种算法水平的构念）的个体差异跟理性思维倾向（一种意图水平的构念）并不具有很高相关。[1]两种水平的个体差异因此可以分离。</p><p>当我们说一个人做了蠢事，通常指的是他们的行为不理性。或者，用更正式也更技术性的说法，因为在分析的意图水平上存在次优的行为调节，于是导致了这一行为。这里，我们不认为，某些算法水平的故障（对刺激的不正确编码、短时记忆出错，等等）导致了蠢事的发生。如果我们意识到，在朴素心理学的说法中，“蠢”的含义偏向于理性而不是智力，而“聪明”的含义偏向于智力而不是理性，那么“聪明人干蠢事”这个悖论将不复存在。</p><h2 id="你想慢慢得到你想要的，还是很快得到你不想要的"><a href="#你想慢慢得到你想要的，还是很快得到你不想要的" class="headerlink" title="你想慢慢得到你想要的，还是很快得到你不想要的"></a>你想慢慢得到你想要的，还是很快得到你不想要的</h2><p>理性，如果有的话，可能比基本的算法水平的认知能力更容易锻炼：一个人的短时记忆容量不太可能因为一时的指导就改变；而寻找跟替代假设有关证据的倾向，相比之下更容易改变。况且，理性对于实现个人目标也更重要。</p><p>继续使用无效的医疗手段，继续做出同样糟糕的财务决策，继续投票反对切身利益，继续错误地评估环境风险；而且，继续做其他的次优化决定。</p><p>根据工具理性的定义，理性思维保证你将得到你想要的东西。一个具有一般智力的理性思考者，也许会在执行计划的时候比较慢。然而，根据工具目的分析，那个计划是最优化的。相比之下，一个不理性的计划，无论被强大的算法机制执行得多么有效，都不能最大化人们的个人效用。社会过于看重智力，而对理性则相对冷淡。这也许暗示，我们现在接受的培养模式，会让我们更快得到自己不想要的东西。我们对智力的痴迷，我们对培养理性所必需的认知评估类型的普遍敌意，似乎就是要把我们改造成具有理性障碍的公民。</p><h1 id="第7章-才出狼窝，又入虎穴从基因到模因"><a href="#第7章-才出狼窝，又入虎穴从基因到模因" class="headerlink" title="第7章 才出狼窝，又入虎穴从基因到模因"></a>第7章 才出狼窝，又入虎穴从基因到模因</h1><h2 id="模因的攻击：第二种复制子"><a href="#模因的攻击：第二种复制子" class="headerlink" title="模因的攻击：第二种复制子"></a>模因的攻击：第二种复制子</h2><p>模因的利益就是复制；把自己复制更多次的模因，以更高保真度复制的模因，以及更长寿的模因，都会在未来的世代中留下更多的自身副本。</p><p>艾伦·林奇（1996）讨论了传教模因的扩散。他用了这么一个信念案例，“我的国家武器不足，这很危险”。林奇认为，这个例子阐明了传教优势：“这个信念在寄主身上引发恐惧……而恐惧驱动他们在军事软弱方面说服其他人，为在这方面采取行动制造压力。因此，尽管这个信念有恐惧的副效应，可它导致了说服。同时，其他的观点比如‘我的国家弹药充足’提升了安全感，但也减少了改变他人心智的紧迫性。因此，武器短缺的信念能扩散到大多数人头脑中，甚至在一个超级大国中同样如此”。（5-6）</p><p>广告商在制造模因寄生虫方面自然是行家里手，这些模因骑在其他模因的头上。制造不加分析的条件信念，比如“如果我买了这辆车，这个美丽动人的模特就是我的了”，就是广告商的鬼把戏，他们把这两样东西巧妙地摆在一起，让观念和图像产生虚假关联。广告商也会制造模因丛——一整套倾向于共同复制的模因（协同适应的模因集合）——把他们的产品跟某些有价值的物品联系起来。</p><h2 id="理性、科学和模因评估"><a href="#理性、科学和模因评估" class="headerlink" title="理性、科学和模因评估"></a>理性、科学和模因评估</h2><p>许多现存的模因不是真的，对我们实现自身目标也没帮助。这些在类别 4 中的坏模因包括不劳而获模因和寄生虫模因，后者模拟有用基因的结构，欺骗寄主，让他以为自己能从这些模因身上捞到好处。这些模因就像身体中所谓的“垃圾 DNA”一样：这种 DNA 并不为某种有用的蛋白质编码，可以说仅仅是“凑凑热闹”。正如第 1 章的讨论所示，除非我们把这些复制子的逻辑搞清楚了，否则，垃圾 DNA 就是一个不解之谜。一旦我们了解到，DNA 的存在仅仅是为了复制自身，而不必做对我们（有机体）有利的事情，我们就不再困惑，就能理解为什么基因组中存在这么多垃圾。要是 DNA 能在无益于身体建造的情况下得到复制，那么对它来说，就这么做也很完美。让我再次使用隐喻性的语言，复制子仅仅在乎复制！<br>这一点当然也适用于模因。如果一个模因能保存和传播，而不必对人类寄主有帮助，那么它也会这么干（想一想连锁信的例子）。模因论促使我们提出新的问题类型：我们的信念中有多少是“垃圾信念”，仅仅在乎它们自身的传播，而对我们没有用？科学推论和理性思考的原则，本质上就是我们的模因评估装置，用来帮助我们决定哪一个信念是真的，因此可能对我们有用，以及哪些真实的模因跟它们是一伙的。镶嵌在工具理性选择公理中的一致性检验，如果失败，通常就会把我们指向某些坏模因表征的目标；它们可对我们的人生计划没有帮助。</p><h2 id="通过反思获得的模因：模因评估的纽拉特式项目"><a href="#通过反思获得的模因：模因评估的纽拉特式项目" class="headerlink" title="通过反思获得的模因：模因评估的纽拉特式项目"></a>通过反思获得的模因：模因评估的纽拉特式项目</h2><p>在某种意义上，自私的模因甚至可能比自私的基因更可怕，对人类的危害也更大。一个让人跳下悬崖的基因，将随着载体的毁灭而消失。可是，一个导致同样结果的模因，仍然能在我们这个媒体饱和的信息时代不断扩散。成为一个积极的、自身模因的评估者，在很多理论家看来，这是真正实现个人自主的必由之路。（比如 Dawkins 1993；Frankfurt 1971；Gewirth 1998；Gibbard 1990；Nozick 1989，1993；Turner 2001）为了确保是我们控制自己的模因，而不是自己的模因控制我们（“你要是不把这封信传下去，将来就会倒大霉”），我们需要很多知识工具，比如可证伪性标准，无混淆地检验假设，以及偏好一致性检测，这样才能把“垃圾”从我们信念和欲望的意图心理系统中给清理掉。</p><h2 id="什么样的模因对我们友善"><a href="#什么样的模因对我们友善" class="headerlink" title="什么样的模因对我们友善"></a>什么样的模因对我们友善</h2><p>如果人们想要在自己的生活中实现预期效用最大化，他们就必须评估（大多数情况下都是无意识地，有意识评估的假设不需要）：对于每一个替代行为，这一行为得到每种结果的可能性，以及这些结果的效用（行为的预期效用就这样变成了效用乘以概率的总和）。要实现效用最大化，被评估的概率应该真实反映这个世界的不确定性。</p><h2 id="模因的终极妙计：为什么你的模因想让你仇恨跟模因有关的观点"><a href="#模因的终极妙计：为什么你的模因想让你仇恨跟模因有关的观点" class="headerlink" title="模因的终极妙计：为什么你的模因想让你仇恨跟模因有关的观点"></a>模因的终极妙计：为什么你的模因想让你仇恨跟模因有关的观点</h2><p>培养批判性思维技能（脱钩、对信念的中立评估、视角切换、从当前位置去语境化）。</p><p>即使是占有有限记忆空间和有限计算能力的中性模因，也是有害的，因为它们限制了留给友善模因的记忆空间和计算能力。</p><p>站不住脚的模因使用的一种解除武装策略的方式，就是藏在现代的一句陈词滥调后面“每一个人都有表达的权利”。如果从字面上看，这种说法是在微不足道。一种观点仅仅是一种观点，一个模因而已。我们毕竟不是在一个极权社会。身处像我们这样的自由社会，人们被允许携带他们想要的模因，只要他们不因此给他人带来伤害即可，否则他们就要被惩罚。这是理所当然的事。从来没有人否认这种所谓的“言论自由权”。那么，为什么我们常常听到有人要求这种权利，而事实上几乎没有人在自由社会的讨论中想要进行心智控制，想要（从字面上看）剥夺他们表达观点的权利？为什么人们继续说出这句“没跟人都有表达观点的权利”，而事实上这个陈述微不足道，这就会引发怀疑，人们实际上想要通过这句话获得不那么微不足道的结果（见 Ruggiero 2000）。通过说出“有权表达我的观点”这句话，某个人就是在发出一种额外信号，说不需要对这种观点如临大敌，于是这种观点就不受批判。因此，重要的是要理解，人们需要的要比表达和持有他们的观点多得多。他们真正想要的是压制对他们观点的批判。至少，他们想要自己的对话者停止对这种模因进行理性辩论的要求。“言论权利”的抵制把戏已经跟我们的宽容概念相连共生，因此在我们的社会里运作得相当有效。一旦某个人举起了“言论权利”的盾牌，继续要求他给出观点的合理说明似乎就变得不礼貌了。因此，当一个模因的逻辑和实证支持很微弱时，一个非常有效的接种策略就是把给自己贴上言论的标签，使出“言论权利”的撒手锏。</p><h2 id="协同适应的模因悖论"><a href="#协同适应的模因悖论" class="headerlink" title="协同适应的模因悖论"></a>协同适应的模因悖论</h2><p>哲学家德里克·帕菲特（1984）提出了一种观点，认为我们可以把未来的自己视作不同的人，然后把这一点包含在我们的道德计算中，决定我们现在做什么（知道这些“未来家属”的生活将决定于我们现在的选择）。他的观点强化了本章前面讨论过的原则。它提供了一个未来的思想工具来帮忙，遵循的是模因评估规则 3 中的约束：对于欲望类型的模因，力争只安装不排除未来其他模因丛被安装的模因。编造未来自我的思想实验，有助于让我们跟现在的自我疏远，而这对坚持这一约束是有必要的。未来的“你”的集合，就像是现在你的赞助者。想到这一点，有助于防止当前自我主导所有的效用计算和行动。</p><p>另外一个案例来自哲学家约翰·罗尔斯（1971，2001）的研究。罗尔斯因为发展出了所谓的原初状态这个观念而广为人知。他发明这个术语是为了解决下面的问题：如何进行跟社会正义有关的争论，使得这种正义不受制于参与者自我利益的约束？原初状态是一种想象中的情境，在你不知道自己扮演什么角色的情况下，你说出一个公平正义的社会该具有怎样的原则。罗尔斯想要人们采取推理的姿态，假设自己可能在某个社会中扮演任何角色，在此前提下看待社会结构的正义，以及确定他们想要建设一个什么样的社会。</p><p>因为我们的意识自我在很大程度上就是被安装的（作为所谓的虚拟机软件）模因丛。</p><h1 id="第8章-不再神秘的灵魂在达尔文时代找到意义"><a href="#第8章-不再神秘的灵魂在达尔文时代找到意义" class="headerlink" title="第8章 不再神秘的灵魂在达尔文时代找到意义"></a>第8章 不再神秘的灵魂在达尔文时代找到意义</h1><p>洛奇让他的一个核心人物表达了这么一段话，可视作对本书基本原理的一个最好总结。他笔下的主人公拉尔夫使者，概括了我们目前的困境：<br>在进化史上，智人是第一个也是唯一一个发现自己必死的物种。那么，他如何回应呢？他编造故事，解释自己为什么陷入这种境地，以及自己如何摆脱它。他发明了宗教，设计了葬礼习俗，他编造了来世和灵魂不朽的故事。随着时间的推移，这些故事变得越来越精致。但是在最晚近的文化阶段，在进化史上也就是一个瞬间，科学异军突起，开始给我们讲一个我们来自哪里的不同故事，这样一个更为强大的解释，把宗教打得措手不及。没有多少聪明人再相信宗教故事了，但他们依然坚持宗教那慰藉人心的一些概念，比如灵魂，比如来世，诸如此类。（Lodge 2001，101）</p><h2 id="诺齐克阐述符号效用"><a href="#诺齐克阐述符号效用" class="headerlink" title="诺齐克阐述符号效用"></a>诺齐克阐述符号效用</h2><p>诺齐克指出，我们习惯于把对符号效用的关切视作非理性。这在两种情况下可能发生。第一种是，符号行为跟实际结果之间缺乏因果联结，这很明显，可这种行为还是不断被执行。诺齐克提到，很多禁毒措施可能都属于这一类。在某些情况下，不断有证据指出，某种禁毒措施对于减少实际的毒品使用没有因果影响，但项目会持续，因为它已成了我们关心减少毒品使用的一个象征。在其他情况下，要是一个人身处给予他们意义或表达的符号关联体系之外，符号行为也会看起来很古怪或非理性。诺齐克认为，对“证明自己是男人”或丢脸的关切，属于上面提到的这一类。</p><p>对许多人来说，投票行为就有这种象征意义。我们很多人都知道，政治系统的投票影响带来的直接效用（根据选举情况，权重只有 100 万分之一或 10 万分之一），远低于我们为了投票而投入的努力（Baron 1998；Quattrone and Tversky 1984）。可是，我们不想错过任何一次选举！投票对我们而言具有符号效用。它代表着我们是谁。我们是严肃对待选票的“那类人”。我们不仅从投票中获得符号效用，而且投票还维持了一种自我形象，事实上有助于支持相关的行动，而这些行动要比全国大选中的一次投票更有效。投票行为在工具性层面上是徒劳的，可我的自我形象受到了它的强化。或许，有朝一日，它就鼓励我把一大笔钱捐给牛津救济委员会，或积极参与当地的政治议题，或承诺购买本地商家的产品而不是去逛连锁商店。<br>购书对许多有知识的人来说具有象征价值。很多时候，符号效用变得完全跟消费效用或使用价值毫无关联。跟很多人一样，我买了不少自己从来都不会读的书（我完全知道，自己说“我退休之后就有时间了”，不过是痴人说梦）。最近几年，虽然我读的小说越来越少，但总是会追踪最新的布克奖得主，买他们的作品。即使书评中的描述和评价表明，我很可能根本不会读这本书，我也照买不误。事实上，阅读小说给我带来的消费效用在减弱，可我依然是阅读有品位小说的“那类人”，或至少当我购买最新布克奖得主的作品时，我在对自己发出同样的信号。</p><p>若干年前，斯蒂芬·霍金的《时间简史》（A Brief History of Time）这本书常常被放在咖啡馆的桌上，几乎从来都没被读过，这是为什么？忽视才智地位的展示带来的效用，我们许多人从购买这本书中获得了符号效用，尽管它永远不能产生像消费品一样的效用。要么因为主题的壮美宏大，要么因为尊重作者的生活，抑或是两个原因的独特组合，对于这本极畅销而又总是少有人读的书而言，我提到的候选人，就是一个令人印象深刻的符号效用的传播者。</p><h2 id="“这是意义问题，不是钱的问题”：表述理性、伦理偏好和承诺"><a href="#“这是意义问题，不是钱的问题”：表述理性、伦理偏好和承诺" class="headerlink" title="“这是意义问题，不是钱的问题”：表述理性、伦理偏好和承诺"></a>“这是意义问题，不是钱的问题”：表述理性、伦理偏好和承诺</h2><p>想象一下，知道有人遭受酷刑，这消息让你厌恶。因此，你有动机做点什么阻止这件事，而且你做了。根据森（1977）的界定，你产生了同情。其他人的遭遇直接影响了你自己的体验效用，而且，在帮助他人的时候，你不仅仅影响了他们，也影响了你自己直接的体验效用。森把这个人跟另一个人对比。第二个人也承诺她会阻止酷刑，但是她的体质跟你不同。想到折磨实际上并没有让她恶心。听到酷刑的消息也损害她的价值观，但并没有让她产生持续恶心的感觉。成功干预，阻止酷刑，这符合她的价值观，但她从这种干预和阻止中没有得到直接的体验效用。根据森（1977）的说法，这是一种承诺的情形。<br>在某种意义上，承诺不像同情那么自我中心。一个根据承诺而行动的人表现某种价值观，但不寻求增加自身的工具理性。而根据同情行动的人，自身则受到另一个人快乐状态的强化。森（1977）讲了一个幽默的故事，以说明同情和承诺的不同。这个故事中有两个男孩，他们需要从两个苹果中各选一个，而这两个苹果一个大一个小。男孩 A 说“你先选”，结果男孩 B 立刻拿走了大苹果。男孩 A 被这种行为激怒了。男孩 B 大惑不解，他问男孩 A 如果他先选，他会拿哪一个苹果。男孩 A 说“当然是小苹果了”。对此，男孩 B 回应说，“这样的话，有问题吗？你不是得到了你想要的吗！”森（1977）指出，要是男孩 A 的提议“你先选”基于同情的话，从字面上理解，男孩 B 说得没错。男孩 A 被激怒了，这暗示着，他提议别人先选是基于承诺的礼貌原则，而不是说，他富有同情心地认可男孩 B 的享乐主义影响。要真是这样，当男孩 B 拿走大苹果的时候，男孩 A 将获得效用，会高兴，而不会愤怒。</p><p>尽管传统模型有各种问题，决策理论家后来还是明确强调，或早或晚，我们的模型需要纳入符号因素——所以，或许我们现在就可以开始了。在一系列跟决策内在意义有关的论文中，麦丁和同事（Medin and Bazerman 1999；Medin，Schwartz，Blok，and Birnbaum 1999）强调说，决策不仅仅是把效用给予当事人，还包括把有意义信号传递给其他行动者，象征性地强化当事人的自我形象。麦丁和贝泽曼（1999，541）指出，在最后通牒博弈中，不少人拒绝了分成在 50% 以下的提议，这些接收者可能就在向其他人发出信号，他在惩罚一个贪婪分配者的行为中看到了正面价值。此外，他可能还参与一种发信号的象征行为，也许是发给别人，也许是发给自己，表示自己不是那种纵容贪婪的人。麦丁和贝泽曼讨论了很多实验，当他们的保护性价值受威胁时，其中的参与者要么不愿意交易，要么不愿意把它们跟其他项目作比较（Anderson 1993；Baron and Leshner 2000；Baron and Spranca 1997）。比如，人们不想在市场交易中出售下面的东西：他们的宠物狗，一块属于家庭好几十年的土地，他们的结婚戒指。在麦丁和贝泽曼的实验参与者中，面对这些交易，他们认为这是侮辱的一个典型说法是，“这是一个意义问题，不是一个金钱问题”。</p><h2 id="二阶欲望和偏好"><a href="#二阶欲望和偏好" class="headerlink" title="二阶欲望和偏好"></a>二阶欲望和偏好</h2><p>我们用以启动欲望评估的主要机制，就是我们的价值观。要是我们的行为跟价值观不一致，就表明有必要进行规范性批判，以及同时评估我们的一阶欲望和价值观本身。因此，价值观为欲望结构的可能重组提供了一种动力。它们能让人类理性成为广义理性——其中，欲望内容很重要——从而跟黑猩猩和其他动物具有的典型的工具理性有了区别。<br>我一直提倡的批判个人自身欲望结构这种说法（以及泰勒的强评估概念），有更正式的阐述。在哲学家哈里·法兰克福（1971）广为引用的一篇文章中，他提出的二阶欲望（想要拥有某种欲望的欲望）这个概念能做到这一点。根据经济学家和决策论者更为常用的语言（见 Jeffrey 1974），这种高级状态将被称为二阶偏好：对具体一组一阶偏好的一种偏好。[1]法兰克福推测，只有人类拥有二阶欲望，而且，他还生动形象地把没有二阶欲望的生物体（其他动物以及人类的婴儿）称为“玩偶”（wanton）。说一个玩偶并不具有二阶欲望，并不意味着它们对自己的一阶欲望不顾一切或粗枝大叶。根据纯粹工具性的界定，可以说玩偶是理性的。因为在它们的环境中，玩偶能以最佳效率实现自己的目标。玩偶根本不会反思它们的目标。玩偶想要，但它们不关心自己想要什么。<br>为了阐述他的这个概念，法兰克福（1971）使用了三种瘾君子的案例。玩偶瘾君子仅仅是想要获得毒品。这就是故事的结尾。玩偶认知装置的其余部分，仅仅屈从于寻找最好的方式满足这种欲望，即这个玩偶瘾君子可以说是具有工具理性。玩偶瘾君子不会反思他的欲望，并不这样想或那样想，以判断它是不是一个好东西。欲望就是欲望。相反，不情愿瘾君子跟玩偶瘾君子拥有同样的一阶欲望，但是拥有不想这样做的二阶欲望。不情愿瘾君子想要不再嗑药。可是，想要不再嗑药的欲望，不像想要嗑药的欲望那么强烈。因此，不情愿瘾君子最后就跟玩偶瘾君子一样，继续嗑药。不过，不情愿瘾君子跟他行为之间的关系，跟玩偶瘾君子的情况不同。不情愿瘾君子跟他的嗑药行为有一种疏离感，而玩偶瘾君子不是这样。不情愿瘾君子甚至可能在嗑药时感觉违背了自我形象。而玩偶瘾君子嗑药时永远都不会有这种感觉。<br>最后，还存在一种有趣的情形，那就是情愿的瘾君子（人类有这种可能）。情愿的瘾君子思考过他嗑药的欲望，还认为这是一件好事。事实上，他想拥有想嗑药的欲望。法兰克福（1971）为了帮助我们理解这种类型，特别指出，如果想嗑药的欲望减退的话，情愿的瘾君子会想办法让自己继续上瘾。跟不情愿瘾君子一样，情愿的瘾君子也反思过嗑药，但他决定认可一阶欲望。<br>法兰克福的三种瘾君子都表现出同样的行为，但是，他们欲望层级的认知结构千差万别。这些差异，尽管没有表现在当前的行为中，但对继续嗑药的可能性有影响。不情愿瘾君子（当然是在统计意义上）发生行为改变的可能性最大。他是三个人当中唯一有内心挣扎的瘾君子。可以想见，这种挣扎至少有可能让一阶欲望被打乱，或被削弱。玩偶的特点是没有这种内心挣扎，因此，他们打破一阶欲望的可能性要小一点。不过，需要留意的是，跟情愿的瘾君子比起来，玩偶事实上更可能戒除毒瘾。前者有一种内在调节器，试图保持毒瘾，即想要保有嗑药欲望的二阶欲望。情愿的瘾君子将采取行动，避免毒瘾的自然衰退。而毒瘾的自然衰退在玩偶那里畅通无阻，他会简单地做点别的事。这些事在他的一阶欲望层级中占据较高的位置。玩偶不会因为毒瘾的消失而悲伤。当然，他也不会高兴。根据他自身的逻辑，他对自身欲望的来去起落不加思考。</p><p>我不想把二阶欲望等同于价值观。对于这里的讨论而言，价值观被视作提示状态的形成和评估的东西，而这些状态可以被描述成二阶偏好或欲望，但是高阶偏好不需一定从价值观中产生。也不是所有的二阶判断需要有道德基础。有许多高阶评估状态，代表个人的或自我中心的关切，而跟道德价值观无关。正如 Frankfurt（1982）指出的，为了批判我们的一阶欲望，我们使用许多具体的理念，比如家庭传统、追求数学优雅，以及投身于鉴赏—它们中有很多都不属于道德领域（而且有许多都是模因丛）。</p><h2 id="实现理性的欲望整合：形成和反思高阶偏好"><a href="#实现理性的欲望整合：形成和反思高阶偏好" class="headerlink" title="实现理性的欲望整合：形成和反思高阶偏好"></a>实现理性的欲望整合：形成和反思高阶偏好</h2><p>就像前面提到的不情愿瘾君子一样，约翰想要不再继续吸烟。因此，约翰具有一个二阶偏好：<br>约翰喜欢不抽烟甚于喜欢抽烟。<br>（<del>S pref S）pref（S pref</del>S）<br>在这种场景下，约翰拥有的二阶偏好跟他的一阶偏好有冲突。在二阶偏好的水平上，约翰更喜欢不吸烟的欲望；然而，作为一种一阶偏好，他喜欢吸烟。由此引发的冲突表明，约翰在他的偏好结构中缺少诺齐克（1993）所说的理性整合（rational integraiton）。而这是诺齐克理性广义理论的一个特征，即人们应该想要追求理性整合。就像不情愿的瘾君子一样，约翰对于自身欲望在不同水平上的不匹配格外不舒服。诺齐克的原则（事实上是他广义理性理论约束中的原则 IV）仅仅说的是，约翰应该做出努力解决这种不一致。它没有说，约翰应该怎样解决这种不一致。<br>在高阶偏好的早期哲学著述中（比如 Taylor 1989）有这样一种强烈倾向，即假定高阶欲望应该永远战胜低阶欲望。在前一章中，我们已明白为什么这是一个危险的假设。是的，有些情况下，高级欲望的确应该战胜低级欲望。比如，自发式系统决定的偏好，假如对载体不是最优化的，就应该由一个经过反思而获得的高阶偏好取而代之；这种高阶偏好跟人的价值观步调一致。不过，第 7 章中讨论过的许多例子都表明，还存在另外一种可能性。也许，一个自发式系统决定的偏好事实上对载体有好处，但跟一个未经反思就获得的模因相冲突。这个模因具有高度的复制能力，而且成了个人价值观结构的一部分，即便它并不能很好地为当事人服务。[2]在这种情况下，对个人来说，没用或有害的就是二阶偏好，而不是一阶偏好。因此，我们并不需要总是遵循泰勒（1989）的观点，要求强评估务必推翻一阶偏好。高阶评估并不应该总是享有对低阶欲望的特权。相反，高阶欲望仅仅是整体结构的一部分，个人需要对这个结构反思权衡，以便实现理性整合。<br>也许，我们应该离开吸烟的例子。很显然，对于一个中性案例而言，它带有强烈的倾向性。假设：<br>比尔喜欢 Y 甚于喜欢 X。<br>以及 比尔喜欢他喜欢 X 甚于喜欢 Y。</p><p>诺齐克（1993）认为，对于人们来说，想要实现理性整合是合理的。这意味着，当一个一阶偏好没有得到一个二阶强评估的认可时，当事人应该采取措施，调和一阶偏好和二阶偏好之间的冲突。我们能使用的一种认知工具就是询问我们三阶偏好的状态。我们构造出一种三阶偏好的类型，就是要评估某人到底是更认可他的二阶偏好，还是更认可他的一阶偏好。因此，当我们前面讨论的吸烟者约翰检查自己的感受时，可能意识到：<br>他偏爱他偏爱不吸烟的偏好而不是吸烟的偏好。<br>[（<del>S pref S）pref（S pref</del>S）]pref[S pref<del>S] 在这种情况下，我们可以说，约翰的三阶判断认可了他的二阶强评估。[5]假定这种对二阶判断的批准，增加了改变一阶偏好的认知压力——通过采取行为措施，约翰让二阶偏好获得更大的支持（参与禁烟项目，咨询医生，寻求亲友的帮助，待在烟味呛人的酒吧外面）。另一方面，一个三阶判断可能妨碍二阶偏好，它不认可对方：<br>约翰可能偏爱吸烟而不是偏爱他偏爱不吸烟的偏好。<br>[S pref</del>S]pref[（<del>S pref S）pref（S pref</del>S）] 在这种情况下，尽管约翰希望他自己不再吸烟，但这种偏好不如他想要吸烟的偏好强烈。我们可能会怀疑，这种三阶判断可能不仅阻止约翰采取强硬的行为措施把自己从成瘾中解救出来，而且随着时间的推移，它也可能会削弱他的二阶偏好本身，由此而实现三个水平的理性整合。<br>三阶偏好的观点有时很难掌握，因此，这里我提供了其他思考它的方式。首先，在一般情况下，高阶判断可能被认为是在问“我的这种偏好对吗？”，偏好对象自然是低阶偏好。或者，另外一种思考高阶判断的方式是问“我想要成为自己低阶判断的强评估者吗？”正是对一阶偏好的强评估第一次导致了理性整合的缺乏。玩偶没有理性整合的问题，因为他们不做强评估。然而，一旦做出了强评估，在三阶偏好水平上思考立场的一种方式就是，问你自己下面的问题：我想在这件事上成为一个强评估者吗？我想认同强评估而不是支持一阶偏好吗？或者，我希望自己一开始就没有做强评估，因为我想维持一阶偏好吗？<br>现在，除了吸烟之外，我将讨论一些案例，上升到某种三阶偏好；这种偏好不怎么偏向于反对一阶偏好。我想以此说明，实现理性整合是一个持续的过程，相互调整，约束满足，由反思和评估在许多不同水平的分析上驱动进行。<br>还是个孩子时，泰莎就一直喜欢圣诞节。她爱装饰自己的圣诞树，帮着父母把灯串挂在外面，也装饰屋子内部。泰莎喜欢给别人包装礼物，但不包装她自己的。作为一个 35 岁的成年人，现在的泰莎依然喜欢圣诞的各种装饰物：圣诞树（她会像小时候一样努力打扮它），圣诞歌，剧团表演的圣诞歌曲，所有的圣诞电影和电视上的音乐节目。因此，毫无疑问：<br>泰莎喜欢庆祝圣诞节甚于不庆祝它。<br>圣诞节 pref 非圣诞节 唯一的问题是，泰莎在年轻时就失去了她对上帝的信仰。在整个青年期，这种信仰都在不停地减少，包括现在，泰莎已经当了好几年的无神论者了。她的确想知道，是否一个无神论者庆祝圣诞节也没什么可奇怪的。有时候她感觉可能有，因此，强评估悄悄潜入了她的心智中。这里的二阶判断是：<br>泰莎偏爱不过圣诞节的偏好。<br>（非圣诞节 pref 圣诞节）pref（圣诞节 pref 非圣诞节）<br>也就是说，要是她真的不想庆祝圣诞节了，可能情况会更好，她有时候会这么想（因此，她的一阶偏好和二阶偏好之间不匹配，这创造了一个缺乏理性整合的情况）。<br>面对这个问题时，泰莎有时通过做出一个三阶判断，寻求解决缺乏理性整合的方法。她会思考，她拥有的这个二阶偏好是否是对的？她想知道，在自己的这个生活领域她是否应该做一个强评估者？当她思考时，她发现，有理由怀疑她是否应该担心自己对她的具体偏好进行强评估。没有人因为她的行为而受伤害（她的其他家庭成员，或者是也喜欢圣诞节的不可知论者，或者也过圣诞节）。她从圣诞节中得到的快乐，看起来远远超过了做出不庆祝决定带来的满足，这种决定只是一个轻微有效的展示，告诉别人她是一个无神论者（仅仅轻微有效，因为大多数了解她的人都知道她的无神论信仰）。此外，泰莎想到了经常被提及的抱怨“圣诞节中已无基督”，这难道不就意味着它已成为科学唯物论者的完美假期了吗？当地的报纸宗教栏目里也频繁抱怨“圣诞节中已无基督”，这不就是意味着，至少在北美，对她而言很便利的这个节日已变成了一个唯物论者的狂欢节：购物、装修、唱歌和庆祝，一个拥有生活乐趣的科学唯物论者的完美假日！考虑到这些，泰莎判定，她的强评估没有得到一个更高分析水平的认可。相反， 泰莎更偏爱庆祝圣诞节甚于她偏爱自己不庆祝它的偏好。<br>[圣诞节 pref 非圣诞节]pref[（非圣诞节 pref 圣诞节）pref（圣诞节 pref 非圣诞节）] 根据这个三阶分析，她的二阶偏好没得到支持，泰莎不太可能改变她庆祝圣诞节的一阶偏好。相反，更有可能的是，当泰莎的二阶偏好由于受到三阶判断的破坏而削弱时，她的理性整合程度将提高。<br>然而，在很多情况下，低阶欲望的理性整合没法实现。因为三阶判断的性质到底是什么存在不确定性，具体地说，就是二阶评估是否应该被认可。事实上，我们社会中的许多政治和伦理争议都跟二阶判断的适当性有关。比如，对某些伦理偏好是否合理的争议。吉姆喜欢把车停在好事多、沃尔玛或其他折扣店门前。他喜欢便宜货，喜欢看到某样东西在镇上别的店里价格高于现在的店。吉姆喜欢前面讨论过的来自巴基斯坦的便宜足球。简而言之，吉姆喜欢买便宜货甚于他喜欢不买便宜货（错过了一次打折购物机会）。对于吉姆而言，他的情况很明确，就是：<br>吉姆偏爱便宜货甚于更昂贵的商品。<br>便宜货 pref<del>便宜货 不过，自从他有了这些习惯之后，吉姆渐渐留意到全球贸易的某些阴暗面。比如，他在新闻 60 分中看到一个特别报道，说是巴基斯坦的小孩在血汗工厂里谋生，工作很长时间，而薪水低得可怜，这就是为什么吉姆能给儿子买到这么便宜的球。在过去几年中，吉姆觉得全球化的整个场景变得令人很反感。他读了很多触目惊心的报告：整个印度次大陆的童工，某些公司威胁转移到第三世界去以此试图削减工人福利，以及在美国边境加工厂附近的大量污染和环境恶化（墨西哥的自由贸易区）。他明白了，所有这些都紧密相连，要不然沃尔玛的商品不会这么便宜。现在，他听说了公平贸易产品，他也意识到自己的一些朋友经常有意购买更昂贵的工会产品。吉姆现在开始相信，他如此酷爱便宜货，很可能不是一件好事。他开始发展出一种伦理偏好。事实上，他现在宁愿他不那么偏爱便宜货。<br>吉姆宁愿他没有那么偏爱便宜货。<br>（</del>便宜货 pref 便宜货）pref（便宜货 pref<del>便宜货）<br>吉姆的一阶偏好和二阶偏好不匹配。为了实现理性整合，他必须扭转他的一阶偏好，或收回他对自己一阶偏好的强评估。但是，他发现自己在三阶水平上陷入困境。吉姆承认，要是他没有二阶偏好的话，他会舒服很多。现在，他跟自己以前未有过的欲望展开搏斗。他更喜欢自己能像一个玩偶那样购物，仅仅满足于实现一阶欲望而不考虑其他。<br>吉姆的朋友告诉他，他对自己购物的反思态度让他成为一个更好的人，而且，以前他不过就是一个购物机器人，在垃圾箱里清空上一次的便宜货，接着又一次贪婪地被购物自动机填满。他告诉他们，这或许是真的，不过作为一个购物机器人，他很开心。他的朋友提醒他巴基斯坦的儿童，全球经济的必然逻辑，以及竞相杀价，为了让东西越来越便宜而把成本外部化。他们告诉他，想一想有两家洗涤剂公司（A 和 B），它们制造的洗涤剂成本一样，质量相同。他们指出，如果公司 A 找到一个方式剥夺员工的健康福利，那么出现在沃尔玛的洗涤剂 A 就会更便宜，而像老吉姆这样的人就会把它们一扫而空，这就逼迫公司 B 也做同样的事情。正当吉姆打算屈服于这些论述，正当他认为做一个强评估者对他来说是对的，正当他打算相信：<br>他偏好他不偏爱便宜货的偏好甚于他偏爱便宜货的偏好。<br>[（</del>便宜货 pref 便宜货）pref（便宜货 pref<del>便宜货）]pref[（便宜货 pref</del>便宜货）] 他读到了《经济学人》和《华尔街日报》（Wall Street Journal）的不同观点，这些主张认为，对他的购物行为持有任何二阶偏好都是错的，购物而不担忧他购物篮里的东西是如何制造的，不仅会让人更开心，而且也会让世界上的其他人过得更好。吉姆以前听说过潘格洛斯博士，但这些似乎把事情提高到了一个新水平。这些人是严肃的。他们实实在在相信这些事情。这些备受尊重的出版物编辑告诉吉姆，巴基斯坦的孩子用变形的手指缝制足球，无论如何也不会去上学，因为他们的国家太穷了。未来的孩子想上学，唯一的方法就是靠这些缝纫的孩子创造更多财富，把这个国家的经济生产力提高，这样就能让未来的孩子有学上了。而对于那些失去了健康福利的工人来说，也许他们的公司 A 对工人很苛刻，但所有人都能受益，因为这个公司将创造更多的利润，然后通过公司和经济的反馈，以及由此而提升的生产力，这就能在某些领域为那些已被解雇的工人创造更好的工作。（嗯，严格来说或许不是为这些工人，但是为未来某些时候的某些人。）<br>令人惊讶的是，这些甚至会让潘格洛斯博士也大吃一惊，吉姆在这个世界需要的所有信息都被总结在产品的价格中了，因此，为了让这个世界变成一个更好的居所，他不得不正视的、唯一的事情，就是随便看看价格。这是一个多么惊人的说法。这几乎足以使吉姆认为，在一种三阶判断的水平上，他的确这么想，他的确不认为他需要做一个强评估者，在这个领域中对他的偏好指手画脚。不过到了这个份上，吉姆意识到让他停顿的东西，这个在《华尔街日报》上告诉什么是正确的新观点似乎也有一些问题。在这个过分乐观的世界，只有他的购买行为看起来有意义。我们就是我们买的东西，而世界就是我们购物的场所。吉姆认为，这也很恐怖。如果我不对某个价格有反应，这些人就会说，什么好事都不会发生。如果我待在家里，读书给孩子听，而不是买两盒录像带和一件新衬衫，这个世界的总体效用就会流失吗？这些人本质上说的就是这个。吉姆发现，这很难让人信服。还有，什么是价格的负面影响呢？吉姆可不想发生下面的事：在他那风景如画的小镇上，镇中心的商店都被沃尔玛取而代之了。可这就是正在发生的事。在他附近和当地小镇的状况，就是沃尔玛商品价格的一种间接影响，可这些商品并没有广而告之：当地商店被吞并了，或它们对当地环境的其他影响（交通更忙碌），这是它们成本的一部分。吉姆获悉，甚至有经济学家研究这种被称为外部性的现象，可《华尔街日报》并没有引用这些研究。<br>吉姆发现，他不能认同自己的强评估，但他也无法被说服要推翻它。他面临着现代世界中我们许多人都面临的问题：努力让他的高阶偏好跟低阶偏好保持一致。不过，事实上，实现理性整合不是个人自主或个人身份的标志，正如前面在文献中对待二阶欲望概念时强调的那样；仅仅是参与二阶评估项目就已经足够了（见 Dworkin 1988；Lehrer 1997）。跟这种高阶判断角力，就是人类状况的显著标志，没必要调和所有的不一致。<br>在许多政治争议中，争论者希望改变或强化某个具体的人类行为或选择。这些争论的性质是，人们做出的某个强评估是否是合理的。</p><p>根据上一章中的观点，仅仅是更高阶的判断还不够，因为有可能二阶和三阶判断都可能来自同样的寄生虫模因。法兰克福（1971）的高阶欲望概念中，没有任何东西能保证高阶判断不被坏模因感染，而它们不能有效实现载体的福祉。</p><p>约翰的欲望结构和决断跟袭击纽约世贸大厦杀死数千人的劫机犯的欲望结构是完全一样的。<br>一个（很明显过于简单的）模型可能如下：像大多数人一样，即使是劫机者（至少有一次）也有玩偶的求生欲望，这种欲望超过了他们想象中的宗教式殉难：<br>他们偏爱生命甚于殉难。<br>生命 pref 殉难 不过，在他们生命中的某一时期，一个基于信仰的模因丛发现他们是很好的寄主，而该模因丛也成了他们一阶欲望的二阶判断的基础。在他们生命中的某一时刻，尽管他们偏爱生命甚于殉难，他们开始希望他们不这么想。他们开始评估成了恐怖主义殉难者的人们，尽管他们不想成为其中的一个。他们开始希望自己也能成为这些人中的一个：<br>他们偏爱对殉难的偏好甚于生命。<br>（殉难 pref 生命）pref（生命 pref 殉难）<br>也许不匹配的偏好结构，同样给吉姆带来了不适，他继续喜欢便宜货，尽管他决定他希望他不喜欢便宜货。不匹配的偏好结构带来的不适，引发了实现理性整合的动机。这就会催生对二阶偏好的三阶评估，这个人可能会问自己：我拥有这种偏爱殉难甚于生命的二阶偏好，对吗？不过，因为这个人沉浸在同样的引发原始的二阶判断的概念社区中（这一社区也是模因丛促使他做出强评估判断的环境），就像在吸烟案例中一样，很可能他的三阶判断将认可二阶偏好：<br>他们偏爱他们偏好殉难甚于生命的偏好甚于他们对生命的偏好。<br>[（殉难 pref 生命）pref（生命 pref 殉难）]pref[生命 pref 殉难] 不过，就像在吸烟案例中一样，这样就开始了认知行为的串联，导致一阶偏好的反转，理性整合以谋杀数以千计无辜者的方式得以实现。<br>这个令人不安的例子说明，除了对代表每一个判断水平的木板进行纽拉特式检查（依次递归）之外，没有其他选择。我们实现一贯性，我们在船上漂浮了一会儿，把一个不同的判断水平带入问题中。也许，反转一个偏好关系引发了不连贯，必须被再次纳入反思平衡，这一次或许通过给予不同的判断优先权来实现。<br>我的观点是，理性整合并不简单地要通过反转偏好来实现，在所有水平的分析中，这只是一种少数情况。当然，它也不能通过把优先权给最高水平这样一个简单的规则来实现。理性整合的一个部分就是评估形成价值观的模因，而价值观是高阶评估的基础。还需要注意的是，基于模因而形成的可不仅仅是高阶偏好。正如在前一章中讨论过的（见图 7-2），某些高阶评估通过练习，就能成为反射式的自发式系统一阶目标的一部分（Ainslie 1984）。这当然是类似维多利亚式道德准则的东西不断重复的目标。它们的促销员希望把这些变成反射式反应，而不是分析式反思的客体（其中的批判过程可能会拒绝它们）。</p><p>许多哲学分析中，所谓的意志软弱指的是一个人屈从于自己的一阶偏好做选择，从而跟自己的二阶偏好不一致。在这样的分析中，所谓的意志就是二阶偏好。而一阶偏好指定了另一个不同的反应，这一事实被认为阻挠了意志的实现。而当下的分析不仅拒绝了侏儒和笛卡尔式冠冕堂皇的概念，而且还拒绝了自动地把二阶水平视作真实自我的观点（关于这种讨论的传统和批评，见 Bennett 1974；Dworkin 1988，Elster 1983；Frankfurt 1971，1982；Hurley 1989；Lehrer 1997；MacIntyre 1990；Schick 1984；Zimmerman 1981）。可能存在三阶判断并不是唯一的问题。我们很容易就找出一个例子，放在目前的模型下，使得二阶判断不具有必然的优先级。假定某人多年前发展出了一种对美酒的口味，他的分析式判断认为这是一个好东西，接着他使用明确的规则（“我将每周喝三种新酒”）来获得这种口味。二十年之后，你的自发式系统中就有了一个对美酒的一阶偏好。你最近加入了一个狂热的宗教，它的部分模因给了你这样一种二阶信念：我宁愿自己没有喜欢美酒的偏好，因为它让人颓废。传统分析会给予二阶偏好的模因以优先级（把它称为你的身份或个性）。而根据目前的观点来看，不存在这样的优先处理—在纽拉特式结构中的这两块木板都同等程度地需要检测。再回想一下在第 2 章和第 7 章中我们提及的哈克贝利·芬的例子。同样，我们在生活中的大多数享受都来自=基于自发式系统的一阶倾向的满足。我们应该期待，即使在象征意义上，负责的认知变革也不会明显打乱这种基本的生活特征。</p><h2 id="为什么老鼠、鸽子和黑猩猩都比人类理性"><a href="#为什么老鼠、鸽子和黑猩猩都比人类理性" class="headerlink" title="为什么老鼠、鸽子和黑猩猩都比人类理性"></a>为什么老鼠、鸽子和黑猩猩都比人类理性</h2><p>认为理性应该随着有机体复杂性的增加而提高，这种假设是错的。恰恰相反，低等动物跟人类相比表现出更多的工具理性，这没有任何可奇怪的，因为当有机体本身的认知架构更简单时，理性选择的原理事实上遵循起来更容易。<br>这里不存在悖论（蜜蜂比人类表现出更多的工具理性一点儿也不令人意外）的一个理由是，理性选择的原理说白了，就是以这种方式或那种方式，让自己的选择不受无关语境的干扰。正如在第 4 章中看到的那样，选择原理把下面的观念操作化了：对于所有潜在选项而言，一个人具有的既定偏好是完整的，有序的，稳定的。当面临不同选项时，个体只需要咨询稳定的偏好排序，选择能带来最多个人效用的选项。因为每种偏好的强度（选项的效用）在选项呈现之前就存在于大脑中，因此，跟呈现语境有关的任何因素都不应该影响偏好，除非个人判断语境很重要（以某种重要的方式改变选项）。可还是有摩擦。人类，作为这个星球上最复杂的有机体，对语境特征格外敏感。因此，他们更可能处于这样的情境中：他们不清楚是否要使用某种选择原理，这使得选择原理变得模棱两可，因为一个语境特征是否要被编码纳入选项无定论。这种争论的一部分是内在的（就像露丝跟她一阶欲望和二阶欲望斗争的情形），因此会导致不同选择情境下的不一致，违背了理性选择的公理。</p><p>露丝层级目标结构的复杂性使得她的一阶偏好不稳定，要是她从来没有反思它们的话，它们反而更稳定。或者换句话说，因为她关心自己的广义理性（而不仅仅是把她的欲望作为一个既定前提接受下来），她参与了对自己一阶欲望的批判。因为试图在所有纵向水平上寻求理性整合，因此露丝参与了二阶强评估或高阶批判，而这事实上就意味着要牺牲一定程度的工具理性。由于一阶偏好不稳定而引发的任何工具性损失，因此都是由于她尝试参与批判低阶欲望的广义认知程序导致的，这种批判通过形成高阶偏好而来实现。而拉尔夫叔叔的工具理性，则不受任何这种去稳定化程序的影响。</p><h2 id="亚个人实体令人毛骨悚然"><a href="#亚个人实体令人毛骨悚然" class="headerlink" title="亚个人实体令人毛骨悚然"></a>亚个人实体令人毛骨悚然</h2><p>可怕事实#1：大脑中没有一个能意识到一切在进行、也能控制一切的“我”的存在。<br>对无意识心理的讨论其实早于弗洛伊德。现代认知科学做的就是填充了很多细节，揭示了我们没有意识到的大脑过程是什么。这些研究所揭示的就是：在大脑中，没有任何一个单独的部位可以被确定是“我”——灵魂的座椅。我们所体验到的“我”，仅仅是监控式注意系统的内部感受，而它事实上分布在整个大脑中，而且尝试着优化使用和安排自发式系统的输出，而这些操作通常并不产生意识体验（比如 Norman and Shallice 1986；Shallice 1988）。这跟下面的事实相互作用：<br>可怕事实#2：构建我们大脑的实体，并不专门想要实现对我们有好处的目标。<br>特别令人不安的是，想一想这两个可怕事实如何相互勾结。反射式运作的自发式系统意味着，大脑中有一个自动化部分试图实现复制子的远古目标，而不是载体正在执行的目标，可它就是生活在一个复杂的现代世界、作为人类的我们拥有的目标。因为有可怕事实#1，可以说自发式系统的输出“汩汩冒出”，从下面给分析式系统提供可安排的选项。但是怪异之处在于，来自“汩汩冒出”的输出，事实上主要来自用以实现复制子成功的子系统，它们不是为了载体。[1]<br>在第 1 章中，我讨论了一个令人不安的逻辑：围绕着我们、当前构成身体的复制子，都是在进化史上当跟载体利益冲突时，为了复制子利益而牺牲载体的复制子。任何不自私的复制子，当两者冲突时选择载体而不是复制，从来就没有机会在我们周围讲故事。强约束的自发式系统目标永远含有这种危险，即载体和复制子的目标可能发生冲突。这为什么吓人？因为自发式系统以一种盲目的方式处理它的业务。我在第 2 章中讨论了盲目的生物体如何做复杂的事情（想一想那一章中的掘地蜂），这也很可怕，因为它们引诱我们把所有有价值的特征都赋予它们（聪明、意识和思考，等等），但当我们把它们打开时，我们一无所获，只看到自动机盲目的机械逻辑——它们是真正的机器人，做它们所做的事，但从来没有意识到它们在做什么。同样，自发式系统盲目的复杂性令人不安，特别是它就位于我们的大脑中！（回想一下克拉克[1997]使用过的说法“约翰大脑中的火星人”，我在第 2 章中讨论过）。想到你身体里有东西让人不寒而栗。它们不是那种一时的病毒只是让人感冒，而是深深地嵌入你的大脑中，控制你的身体，而且①你还意识不到它们；②它们可能并不以你的利益为重；③你所认为代表你的“我”并不是你的整个大脑，而它也不控制你的整个大脑；④因为你大脑的目的不是为“我”服务（你的大脑被构造出来是为了服务于亚个人的复制子）。<br>正如我们看到的，面对这些令人不安的结论，唯一的逃生出口——载体反对基因把它当成一架生存机器，发动叛乱的唯一方式——就是依靠分析式系统设置服务于载体长期利益的目标，使用这些目标监控自发式系统的自动化输出，通过执行监控式注意控制而覆盖或重新调整它们。更简单地说，分析式系统必须秣马厉兵，增强能力以便在必要时覆盖自发式系统。不过，这样就会使我们面临：<br>可怕事实#3：还存在另一种亚个人的复制子，它们组成了用以监控自发式系统的分析式系统的软件。而且，这种亚个人的复制子就像基因一样，可能具有跟载体福祉相冲突的利益。<br>在本章的前面和上一章，我讨论了认知评估的纽拉特式项目，为了防止可怕事实#3 令人毛骨悚然的后果发生，我们必须推进这一项目。然而在这一节中，我想提醒大家，那些引发我们痛苦的可怕事实具有一个共性：我们从任何没有人类意识处于行动中心的行动中退缩。[2]我们发现，有些做法没有把人类（或更准确地说，是人类意识）置于中心舞台（也许是因为，我们的朴素心理学还没有习惯于一种没有小矮人的心智观），要承认它们的根本重要性很难。</p><p>文化制度有时候也在不断演化，防范那些可能会伤害它们寄主的自私的模因。某些国家的政府宣布传销（一种非常糟糕的寄生虫模因）非法，就是为了保护他们的公民不被这种模因感染，导致经济损失，从而损害他们的个人福祉。本书就代表了一种文化产品，试图引发公众注意，要他们留心，亚个人的实体能损害他们的福祉。</p><h2 id="跟美元连在一起的欲望：另一种幽灵般的亚个人最优化"><a href="#跟美元连在一起的欲望：另一种幽灵般的亚个人最优化" class="headerlink" title="跟美元连在一起的欲望：另一种幽灵般的亚个人最优化"></a>跟美元连在一起的欲望：另一种幽灵般的亚个人最优化</h2><p>每个人都有强约束的基因目标，然而只有一小部分人是拥有二阶欲望的强评估者。当然，人们也能通过市场表达经过反思的、更高阶的偏好（比如，自由放养鸡蛋，公平贸易咖啡），不过它们在统计上只占很小的份额，很难通过广告而引发，也缺乏经济规模。围绕着考虑不周的、基于自发式系统的欲望的正反馈环，甚至能影响人们的二阶判断——“嗯，既然每个人都在这么做，这一定不怎么糟糕”。我们必须发展诸多符号选项和伦理选项，以反对强约束的自发式系统目标，市场已经习惯于有效地实现它们。这样的符号和伦理偏好相当不普遍，同时也在其拥有者身上不会持续活跃（在大多数时间里，哪怕是强评估者也是玩偶——除非二阶判断经过充分练习已成为自发式系统的一部分）。它们也不广泛存在，因此，市场没有把它们变成便宜的欲望。<br>使得基于自发式系统的欲望变便宜的正反馈环，跟埃尔斯特（1983）讨论的所谓适应偏好有关（我们也可以把它称之为便利偏好）。适应偏好说的是那种在个体生活的环境中特别容易实现的偏好。市场自动把广泛的、容易满足的欲望变成了适应偏好。如果你喜欢快餐、电视连续剧、视频游戏、车内消遣、暴力电影以及酒精，市场就会让你很容易以一种合理的价格得到它们，因为这些都是便利偏好。如果你想看原创绘画，看戏，行走在原始树林中，看法国电影，吃没有脂肪的食物，那么，在你充分富裕的情况下，你也能实现这些偏好，不过，它们跟前面提及的偏好相比，实现起来更困难，花的钱也多。因此，偏好在适应性或便利性上有区别，而市场会加剧未经反思的一阶偏好满足的便利性。强约束的自发式系统偏好，不是经过反思而获得的，毫无疑问也很便利，因为它们有普遍性，也只有一小部分人能通过二阶评估推翻它们。于是，这些偏好无处不在，满足起来很便宜。因此，市场使得对一阶欲望的批判变得困难，可如前所述，这是我们人格的一个核心部分。无论是你的基因还是市场，它们都不关心你的符号效用或你的二阶欲望。</p><h2 id="元理性的需要"><a href="#元理性的需要" class="headerlink" title="元理性的需要"></a>元理性的需要</h2><p>本书的一个主题是，理性（以及它在机构中的体现）提供了一种手段，能创造出个人水平而不是基因水平的最优化状态，而这就是机器人叛乱的开始。然而，另一套人们最近获得的自我洞察（即第二种复制子模因的影响），把问题变得更复杂了。个人认可的目标（它们被用来界定工具理性的载体最优化过程的成功）不应该被视为理所当然，不然，我们就将再次把主动权拱手相让，让给复制子的利益。它们需要接受一个纽拉特式过程的批判。<br>正是这个后面的认知变革计划，受到了当前制度支配性的威胁，这些机构强迫我们在一种最狭义的程度上考虑工具理性。正如我在这一节的标题下阐述的，我感觉，我们需要一种元理性形式来避免这种结果。理性将不得不批判自身。重要的是，它要尝试计算出：什么时候我们应该允许强大的工具理性最优化计划按照自己的意志行动；以及相反，什么时候它威胁通过阻碍我们的目标评估而限制我们的尝试，于是需要得到相应的调整。</p><h2 id="面临许多亚个人威胁时，个人自主的配方"><a href="#面临许多亚个人威胁时，个人自主的配方" class="headerlink" title="面临许多亚个人威胁时，个人自主的配方"></a>面临许多亚个人威胁时，个人自主的配方</h2><p>我们的欲望也是。首先，我们应该很小心，不要把我们的利益等同于存储在自发式系统中的一阶欲望。这些可能是用来实现古老的基因利益的目标，而跟我们当前的长期目标不兼容。不过，同样，我们的分析式系统使用的长期计划也必须加以评估，因为它们中有很多都是模因。<br>即使有这样的危险，重要的是参与一种强评估的项目，以评估一阶欲望。当我们的一阶偏好跟二阶评估之间不匹配时，我们必须参与一个纽拉特式理性整合的项目。就像所有的纽拉特式项目一样，它有风险——我们有可能站在一块腐烂的木板上。<br>所有这一切，距离蜜蜂的理性相当遥远，跟黑猩猩比起来也差不多。这个项目可以被正确地称为元理性（meta-retionality），即理性被用来评估自身，评估机构——理性也嵌入了后者理性演化而来的文化产品中。</p><h2 id="我们胜任这个任务吗？在我们的精神生活中寻找重要之物"><a href="#我们胜任这个任务吗？在我们的精神生活中寻找重要之物" class="headerlink" title="我们胜任这个任务吗？在我们的精神生活中寻找重要之物"></a>我们胜任这个任务吗？在我们的精神生活中寻找重要之物</h2><p>这里有一个悲戚而动人的小插曲，来自作家乔纳森·弗兰岑（2001）；这件事跟他父亲有关。他父亲患了阿尔茨海默病有一段时间了，他们家人把父亲从疗养院接回家里过感恩节，一起吃晚餐。根据那时他父亲老年痴呆症的发展，弗兰岑告诉我们，“除了比上一年更老之外，在我的印象里，父亲没有任何其他的变化”（89）。他描述了那个悲伤的场面：父亲被他妻子带过来蜷缩在椅子里，以沉默和耸肩对这个女人做了回应。弗兰岑的父亲曾感谢过他的其他儿子，因为他们给他打了电话，但也仅此而已。不过在晚饭之后，当弗兰岑把父亲送回疗养院，一件令人惊奇的事情发生在疗养院门前。弗兰岑的妻子跑进疗养室，推了一辆轮椅出来，而弗兰岑和他父亲坐着，看着通向家里的路。这时，他父亲突然说道：“最好不要离开，而不是再回来。”<br>弗兰岑被他父亲的这个举动给惊呆了，这意味着至少在这一瞬间，父亲对自己的处境有了意识，还对此进行了评估。弗兰岑说：“首先，无论如何，根据他意志明显持续的状态，我很吃惊。我无力地不敢相信，他对身体的其余部分施加了自我约束，包括存在于意识和记忆之下的某些肌肉力量储备，于是他使尽全力，振作起来，在疗养院外面对我说了这么一句话。同样，我无力地不敢相信，他在第二天早上崩溃，就像他的第一天晚上住院时崩溃一样，相当于放弃了他的意志”（89）。我认为，弗兰岑这里说得很正确。即在他的观点中没有什么不连续性——深深地浸入这凄凉的时刻——从最独立和最冷血的认知科学的观点来看。而后者对这件事说了什么呢？首先，作为一个阿尔茨海默症受害者，弗兰岑的父亲丧失了尊严，这是由盲目的和漠不关心的被称为基因的复制子的逻辑导致的，它们一点儿也不关心生存机器，一旦他们的繁殖前景丧失的话。如果它们关心的复制目标早已实现，无论生存机器以任何方式解体，复制子都会很开心。我们的创造者丝毫不关心我们最在意的东西——我们的自我意识。正如弗兰岑和其他评论者（比如 Shenk 2001）认为的那样，阿尔茨海默症特别令人恐怖的一点是，自我在身体之前死亡。<br>阿尔茨海默症患者的大脑退化跟儿童发展恰恰相反，最后获得的认知能力最早丧失。在晚期，阿尔茨海默症患者就会变成一个玩偶——像一个婴儿一样，仅仅对即时欲望有反应。弗兰岑对这件事震惊，原因在于，他已经习惯了自己父亲作为一个玩偶的状态——这个人不会对他的状态做任何二阶评估。然而，刚才就是弗兰岑悲戚的描述，而他对这件事情的分析也是对的。他父亲正在动用他所谓的意志，如果我们把这个老式的单词视作认知努力，它就涉及在我们大脑中平行硬件上运行的串联虚拟机。而他父亲一瞬间做的，使得他的分析式处理器得以运行——他最后一次这么做（这一事件之后，他父亲的病情进一步恶化，死亡也随之而来），其实就是在做一次强评估。<br>诚然，灵活处理这个案例，加入某种仁慈来描述他，我们也可以说尽管他很享受感恩节晚餐，毫无疑问也想参加随后的庆祝活动，弗兰岑的父亲希望，他宁愿不离开疗养院。伴随着他能动用的最后一点认知能力（这种认知能力对于维持做出二阶判断的表征能力很必要），弗兰岑的父亲想做某些事，而不仅仅是当一个玩偶。自发式系统运行在阿尔茨海默症的头脑中，跟“直觉”拥护者的思考相反，它并不维持对于自我最重要的表征能力。而这种能力，使得在人类文化中发动叛乱反对复制子的利益成为可能。<br>带着他最后一点认知意志，弗兰岑的父亲反叛了对他漠不关心的复制子创造者。伴随着他最后的认知努力，他宣称，人类主体有权利从他自身的角度来判断这个世界。弗兰岑的父亲把这种叛乱带到了最后，因为他认知能力的限制而失败。复制子不对这个世界做判断——它们就是这个世界。只有我们判断。而弗兰岑父亲的故事表明，我们想要这样做的动力是何其强大。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/73.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="思维科学" scheme="https://qianling.pw/categories/%E6%80%9D%E7%BB%B4%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="演化生物学" scheme="https://qianling.pw/tags/%E6%BC%94%E5%8C%96%E7%94%9F%E7%89%A9%E5%AD%A6/"/>
    
    <category term="思维科学" scheme="https://qianling.pw/tags/%E6%80%9D%E7%BB%B4%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>《优雅老去：你的前100岁健康指南》书摘</title>
    <link href="https://qianling.pw/health-guide-for-the-first-100-years-of-life/"/>
    <id>https://qianling.pw/health-guide-for-the-first-100-years-of-life/</id>
    <published>2023-07-18T23:58:32.000Z</published>
    <updated>2023-07-18T23:58:32.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/59.webp"></p><span id="more"></span><hr><p><strong><center>优雅老去：你的前100岁健康指南／（美）杰罗尔德·温特（Jerrold Winter）著；阎少华译. —北京：人民卫生出版社，2019<br>ISBN 978-7-117-28372-4</center></strong></p><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>我们今天的所知所信，仅仅是在以往所知的基础上对事实真相做出的当前最佳推断而已。</p><h1 id="第一部分-我们生命中的化学物质"><a href="#第一部分-我们生命中的化学物质" class="headerlink" title="第一部分 我们生命中的化学物质"></a>第一部分 我们生命中的化学物质</h1><h2 id="第一章-认识药物——药物的正面、反面以及阴暗面"><a href="#第一章-认识药物——药物的正面、反面以及阴暗面" class="headerlink" title="第一章 认识药物——药物的正面、反面以及阴暗面"></a>第一章 认识药物——药物的正面、反面以及阴暗面</h2><p>医院给特林布女士服用了呋喃妥因，这是一种常用于泌尿系统感染的抗生素，由于其在尿中浓度非常高，因此医生在治疗尿路感染时常会选用。但由于该药存在一定的不良反应，且不良反应发生的几率常常随着年龄增加而增大，此刻，该药对特林布老太太显露出了不友好的一面。</p><p>药物们不知道它们要去哪儿！实际上，它们哪里都能去。除少数例外，药物吃下肚之后，先由肠道吸收，再通过肝脏，最后进入血液循环。药物一旦进入血液，就将到达全身每一个细胞，深入全身每一个组织。于是就引出了药物受体的概念，药物通过附着于一种叫作受体的细胞结构而产生药效。受体很挑剔，它只对某种药物有反应，而对其他药物没反应。特林布女士所吃的药物，到达了她全身各处，但只对那些有合适受体的组织产生了药效。</p><p>如果药物能到达身体的每一个细胞，那么它会不会去到我们不希望它去的受体呢？那些不相干的受体，又会不会产生我们所不希望的药物效果呢？答案是肯定加确定！吗啡就是个很好的例子。吗啡提炼于罂粟，是用来缓解重度疼痛的首选药物。</p><p>吗啡的止痛作用之所以如此神奇，是因为它能作用于大脑和脊髓中的受体，从而减轻各种剧痛。然而，我们身体的消化道中也存在吗啡的多种受体。当消化道中的受体接受吗啡的作用之后，肠胃蠕动能力就会减弱，就会导致便秘。那你可能会说了，拿便秘来换疼痛，这买卖不挺合算的吗？但是你可要知道，便秘这种事其后果可大可小，尤其对老年人来说，绝不可掉以轻心。</p><p>假设我得了转移性癌症，疼痛难忍。医生给我开了吗啡，止疼效果非常好。但是过了一段时间，为了维持镇痛效果，必须给我加大吗啡剂量才行，这时就可以说，我对吗啡的止痛效果产生了耐受性，这种耐受性可以通过不断加大药物剂量来克服。几个月之后，我接受的吗啡剂量会达到相当大的程度。要是在我还没形成吗啡耐受性之前，这样的大剂量可能早就要了我的命了。药物耐受性，就其本身而言，其实是件好事。<br>在接受吗啡止痛期间，我的大脑除了经历了一个耐受性的变化之外，同时还经历了一个适应性的变化过程。然而，我自己是完全意识不到这些的。只有当吗啡停药之后，这些适应性才会显露出来。停药之后产生的各种体征和症状，统称为戒断综合征或停药综合征。这时就可以说，我身体对吗啡产生了依赖性。换句话说，当产生了身体依赖性之后，就必须继续服用吗啡，我身体才能正常工作。只要给我用上所依赖的药物，我就不会出现停药综合征。<br>长期使用吗啡所产生的身体依赖，还有一个更通用的叫法，叫做类鸦片身体依赖性。这个术语所体现的是，不管是从鸦片中提取的海洛因，还是人工合成的麻醉剂，如哌替啶和美沙酮，很多类似吗啡的药物都会产生类似的身体依赖性。</p><p>药物耐受性和身体依赖性，是不可避免的药理现象，这与个人意志力毫无关系。作为人类，实际上包括一路进化到今天的所有动物，都会对某种药物产生身体依赖。</p><p>直到不久以前，人们普遍认同的身体依赖有两种：一种是刚才讲的类鸦片；另一种是乙醇、巴比妥类。第二种身体依赖，酗酒者会对酒精产生身体依赖，一旦戒断酒精或者类似药物，就会出现戒断综合征。毫无疑问，长期酗酒或吸食鸦片，就会导致成瘾，即身体无法控制对其渴望。</p><p>面前的叔叔表情僵硬、坐立不安、身形憔悴、神经兮兮。“这次戒烟我可遭老罪了，从没有这样难受过。”他说他不能入睡，不能集中思想，啥事都想不了。这已经影响到他的工作、婚姻和日常思维了。很多人可能已经看出来了，这就是戒烟综合征。丹尼尔的叔叔是个烟民，他的成瘾药物，就是尼古丁。他叔叔的症状，就是尼古丁戒断综合征。<br>我说过，身体依赖并不等于成瘾，但是一旦身体对尼古丁产生了依赖，想去逃避戒断综合征的这种念头，就会成为继续吸烟的强大动因。套用英国作家托马斯·哈代的说法，一旦你遭受过戒断综合征的折磨，小小的救济（复吸）都会令人欣喜不已。虽然烟草行业多年来一直否认，但吸烟者跟海洛因吸食者是一模一样的，他们都是成瘾者。</p><p>可卡因、甲基苯丙胺以及其他各种兴奋剂，都是很强的成瘾药物，只不过它们的戒断综合征轻微一点罢了。</p><p>我刚讲过了吗啡和酒精，我还要加上各种抗抑郁药、安眠药、5-羟色胺再摄取抑制剂以及咖啡因。没错，咖啡因也会产生身体依赖，咖啡因戒断的最典型症状就是头痛。很多经常喝咖啡、喝茶或者喝含咖啡因饮料的患者，在手术之后，除了正常的术后疼痛，还会伴有剧烈的头痛。这是因为术前术后的这段时间里，饮食中没有了咖啡因，于是就出现了咖啡因戒断综合征。</p><p>为什么说老年人及其家属对药物耐受性、药物身体依赖和药物成瘾需要有一个基本的认识非常重要呢？原因有两点：一是除了停药所带来的不适感之外，停药综合征很有可能与神志功能老化相混淆，尤其对老年人来说，容易被误诊为老年痴呆症，从而带来严重后果；二是医生往往因为无缘无故地担心药物成瘾，不愿意给患者开足够剂量的类鸦片止痛药。正如我前面讲的，身体依赖不是成瘾。用恰好适量的药物来治疗疼痛，也许会导致身体依赖，但患者并没有成瘾。据估计，在印度，给患者的吗啡用量，只有不到应给剂量的十分之一。即使在美国，对疼痛的治疗尤其是对晚期患者，也常常未能达标。</p><p>在本章结尾，我要给大家介绍一项称为“老年人多种用药的系统化停药方法的可行性研究”。这项工作的研究人员是两位医生——多伦·戈芬科尔和德瑞里·曼金。他们的研究结果发表在 2010 年的《内科医学档案》杂志上。通过排除癌症患者以及预期寿命小于 3 个月的患者之后，他们召集了 70 名参与者，这些患者平均年龄 82.8 岁。所有参与该研究项目的患者，都不是独居，26% 的人无需照顾并可自主行动，57% 的人身体虚弱，但仍可以自行走动，17% 的人需要一定的日常生活照料。可想而知，这把年纪的老人，肯定都患有这样那样的疾病。有四分之一的参与者正在接受五种病症的药物治疗，同时服用多种药物。63% 的人有高血压，57% 的人有痴呆症，43% 的人有抑郁症或焦虑症。其中很多人有糖尿病、高脂血症、心脏病和骨质疏松症，也都在服用各种药物。<br>研究开始时，参与者每人平均接受 8 种药物。研究人员采用了“最优化老年温和用药程序”。这其实就是一种有步骤地“质疑与决策”的用药过程：继续用药、换成另外一种药、减少用药量、完全停止用药。<br>研究结果之好，非常令人兴奋。当然，我们大家都已经知道了前面特林布女士的故事，对这个结果也就不会感到意外了。从患者角度来看，88% 的参与者感到整体健康状况改善了，情绪好转了，思维能力也提高了。超过 58% 的药物都停用了，只有 2% 的药物需要继续服用，只有 6 名参与者，未能做到停药（停用至少一种就算停药）。参与者没有出现明显的不良事件。我说过，一开始有 63% 的参与者都在接受高血压的治疗，而现在 84% 的高血压药物都停掉了。所有阿司匹林及其类似药物也都停掉了，当然，这又在预料之中。</p><p>还有一类药物，值得提请大家注意，就是治疗情绪失调和行为失调的那些药物，这些疾病包括焦虑症、抑郁症、明显精神分裂症等一系列疾病。戈芬科尔和曼金两位医生研究的这群患者当中，有 36 人（占比 51%）在接受抑郁症的治疗，33 人（占比 47%）在服用 5-羟色胺再摄取抑制剂，8 人（占比 11%）在服用抗精神病药物。在采取他们的用药策略之后，三分之一的 5-羟色胺再摄取抑制剂可以停药，有 3 人继续服用抗精神病药物。那 36 人中，只有 1 人需要继续接受抑郁症治疗。在后面章节我还会继续讲到这些药物，但在这里我要先指出，这些抗焦虑症药物，被称为苯二氮类药物。大家可能都熟悉以下这些名字：阿普唑仑、氯二氮平、地西泮、氟硝西泮、氟西泮、劳拉西泮、奥沙西泮、三唑仑。我还要指出，长期服用此类药物可以导致身体依赖。苯二氮停药综合征包括：失眠、颤抖和严重焦虑。这类药物的身体依赖性被大众所认知，是源于 1979 年著名的舞蹈家芭芭拉·哥顿的作品《我心飞扬》，该书中有她停用安定（地西泮）之后症状的生动写照。不过，这种苯二氮类药物至今仍在继续广泛用于老年患者。它除了加重患者意识混乱和身体依赖性之外，还是导致跌倒受伤的主要原因。</p><p>要特别注意：同其他疾病一样，过度用药的处理也需要有经验的专业人士来进行最好。在患者、患者亲属以及开药医生三方之间没有进行协商之前，绝不可随意停止用药。</p><h2 id="第二章-膳食补充剂——谁在为我们的健康把关"><a href="#第二章-膳食补充剂——谁在为我们的健康把关" class="headerlink" title="第二章 膳食补充剂——谁在为我们的健康把关"></a>第二章 膳食补充剂——谁在为我们的健康把关</h2><p>最近关于处方药的一项调查表明，有十分之四的成年人相信，FDA 只会批准那些特别有效的药物；四分之一的人相信，经过 FDA 批准的药物，不会有严重副作用。但事实上，如果某个药物的收益与风险比率为正面，FDA 就会批准它。换句话说，如果某种药物的预期好处大于其预期害处，就会得到批准。批准的依据，也往往是基于有限的患者数量和较短的观察周期。</p><p>正如某补充剂厂家代言人曾经说的那样，“我们应对那些对我们不利的研究结果，办法就是一个字：耗！时间一耗长，人们就会淡忘了，对我们生意啥影响都没有。”</p><h2 id="第三章-老化的大脑——制药行业与饱受诟病的医学顽童"><a href="#第三章-老化的大脑——制药行业与饱受诟病的医学顽童" class="headerlink" title="第三章 老化的大脑——制药行业与饱受诟病的医学顽童"></a>第三章 老化的大脑——制药行业与饱受诟病的医学顽童</h2><p>什么时候才需要对焦虑、抑郁、失眠以及痴呆采取药物治疗？答案很简单：只有当这些疾患影响到了生命活动，并且只有在首先采取了其他非药物治疗手段之后，才需要考虑药物治疗。开始采用药物治疗后，必须做到按时经常观察，一旦发现不良现象或者没有疗效，就停止用药。像特林布女士一样，很多患者无法做到自己控制用药或自己观察用药的情况，这时候，就需要有一个强有力的后盾。</p><p>一旦某种药品被批准用于某种症状，比如癫痫症，那么它也就可以用于其他别的症状，比如痴呆症，这种做法称为超说明书用药。然而，虽然医生方面可以超说明书用药，但是对于制药企业来说，若去宣传某种药物的超说明书用途，那则是违法行为。<br>那么，有没有制药厂，在老年人抗精神病类药物方面，犯过宣传超说明书用药的违法行为呢？对这个问题，我们可以从一些药厂的罚款清单中找到部分答案。这些药厂，有些还是受人尊敬的全球性制药巨头。</p><h1 id="第二部分-我们所能掌控的事情"><a href="#第二部分-我们所能掌控的事情" class="headerlink" title="第二部分 我们所能掌控的事情"></a>第二部分 我们所能掌控的事情</h1><h2 id="第四章-锻炼的效果——橄榄球教练阿尔文·罗伊的革命之举"><a href="#第四章-锻炼的效果——橄榄球教练阿尔文·罗伊的革命之举" class="headerlink" title="第四章 锻炼的效果——橄榄球教练阿尔文·罗伊的革命之举"></a>第四章 锻炼的效果——橄榄球教练阿尔文·罗伊的革命之举</h2><p>肌肉收缩所需要的即时能源是一种叫做三磷酸腺苷的化学物质（ATP），这种化学物质存在于每个细胞。假如我即将被汽车撞到了，大脑就会向肌肉发出一个紧急信号，命令我赶紧躲避。庆幸的是，身体总有足够的 ATP 能让我完成躲避汽车这样的瞬间动作。这种即时动作不需要氧气参与，因此这种救命的肌肉收缩，被称为无氧动作。无氧（anaerobic）这个词，来源于希腊语。<br>相反，如果不是汽车马上要撞我了，而是我面对着缓缓上涨的洪水威胁，要去远在 16 公里之外的高处躲避，而我还没有带轮子的交通工具可用，那我必须另想其他办法来应对这个局面。如果我飞奔快跑，那么我身体里的三磷酸腺苷（ATP）很快就会耗尽，我就会累瘫在洪水到来之前。于是，我会选择走路或者慢跑，以能坚持 1~2 个小时的速度，走完或慢慢跑完 16 公里的路程。<br>完成这段 16 公里路程所需的大量 ATP，只能由身体里的各种营养和氧气来产生。营养不是问题，必要时，我身体肌肉这部机器可以由碳水化合物、脂肪或者蛋白质来驱动，而且用量只需一点点就够。同时，由于需氧量增加，我必须要加快呼吸，加深呼吸，这种需要氧气的运动就叫有氧运动（aerobic）。</p><p>力量锻炼主要是无氧运动。健美运动员可以练就一身像世界健美先生那样轮廓清晰的肌肉，也可以只是把身体练得更加壮硕。有氧运动则刚好相反，比如非洲肯尼亚的马拉松运动员，无论男女个个长得精瘦，跑得飞快，都能以每小时 8 公里的速度不停地跑上好几个小时。<br>从健身者和跑步者锻炼方式的不同，我们就可以理解他们身体外形的差异。我以人体的股外侧肌为例加以说明，股外侧肌是大腿上的三大肌肉之一。健身者一般会拿几百磅重的杠铃来练，放在肩部、下蹲、站起。每次下蹲，用时大约三秒，重复大概四次。如果重量选得非常精确的话，那么你第四次下蹲再站起，就需要使出全身的最大力气，第五次你就站不起来了，因为你肌肉中的 ATP 不够用了。12 秒钟的无氧运动，看起来好像不多，但时间一长，身体变化就会非常明显。在无氧运动下，最能收缩的那类肌肉纤维，就会变粗，股外侧肌就变大、变强。短暂休息一下之后，又可以继续锻炼。其他的肌肉，也可以用类似的方法，做最大化锻炼。</p><p>与举重训练的时间短、强度高不同，跑步者每跑一步，对股外侧肌的需求要小得多。但是这种小的需求，可能要不间断地重复上千次。与举重者每次都需要借用肌肉储存的 ATP 不同，跑步者需要边跑边获得 ATP。为了做到这一点，跑步者就要依靠第二大类肌肉纤维了，这种肌肉纤维可以利用氧气和身体营养高效地供应 ATP。换句话说，它们可以做到有氧收缩。通过几个星期每天 30 分钟的锻炼，股外侧肌纤维生产 ATP 的能力就会提高，但是肌肉纤维却不会变大。因此，那些跑步锻炼的女士们，不必担心腿部肌肉变粗。有氧运动不会使肌肉变大，那些肯尼亚长跑运动员就是证明。<br>有氧运动的锻炼效果，不单只会对肌肉产生影响，因为肌肉如果需要更多氧气，那么就会要求身体整个供氧系统的能力也必须同时提高。经过锻炼的肌肉纤维，上面会布满更多的毛细血管，毛细血管是人体最小的血管。心脏的肌肉组织也会变得更加强壮，更加高效，以便每分钟可以泵出更多血液。呼吸系统的肌肉耐力也会得以提高，以维持呼吸的加快和加深。神经系统也变得更加敏捷，以便让血液从一个地方输送到另一个地方。我们身体的这些相应改变，就是人类有别于机器的地方。我们人类能够通过提高运动能力来响应运动压力，从而变得越来越健壮。</p><h2 id="第五章-一个锻炼计划——锻炼成瘾是件好事"><a href="#第五章-一个锻炼计划——锻炼成瘾是件好事" class="headerlink" title="第五章 一个锻炼计划——锻炼成瘾是件好事"></a>第五章 一个锻炼计划——锻炼成瘾是件好事</h2><p>我们今日的行为依据，都是迄今为止我们所能获得的、对真理的最佳近似。我们总是欢迎对传统思想进行挑战。虽然我说过不能教条，但在这里我却要教条一次：无论什么锻炼，都对我们有好处。锻炼有益于身体健康，锻炼有益于精神状态，对爱美者来说，锻炼还有益于容貌。在本书多个地方，我介绍了锻炼有益于各种症状的多个案例，包括骨质疏松症、心脏病、高血压、类风湿关节炎、肥胖症、纤维肌痛、痴呆症、抑郁症甚至癌症。</p><p>每个健身计划的本质都是有氧锻炼，不管你一开始就是有氧运动和无氧运动一起上，还是后期再加上无氧运动，如何搭配不重要，关键是这两种运动都要做。</p><p>有氧运动的最大强度意味着最大可能的肌肉需氧量，运动生理学家称之为最大摄氧量（MOU）。运动强度，可以用 MOU 的比例来衡量。一次快跑，可能需要 90% 的 MOU，一次闲逛，可能仅需要 50% 的 MOU，</p><p>吸氧量最大时，心跳也最快。因此，心率可以用来作为有氧运动强度的衡量参考。</p><p>我们最开始的问题“强度多大才算足够”现在可以变成“要保持最高心率的多少比例才能达到有氧训练的效果”，对此大家看法不一。美国卫生部给出了一个目标范围，是 60%~75%。</p><p>在你对自己身体更加了解之后，就没有必要再测量心率了。</p><p>最高心率只会随着有氧锻炼的进展而有很小的改变。这是因为我们的心脏变得更有力量了，每搏动一次，可以泵出更多血液，就好似你身体里安装的泵，比之前更大了，而不是泵得更快了。结果就是，身体好的人和身体不好的人，在安静状态时的心率会有很大不同。换句话说，身体锻练得越好，静态心率就降低得越多。</p><p>如果你的运动没有达到最高心率的 60%，那么多长时间也不会改变你的有氧能力。这就是为什么很多坐在办公室的人，从有氧观点来看，“每天都工作很久，很勤奋”，但是身体状况还是很差。相反，一次短时间高强度的锻炼，也能迅速达到有氧效果。早期的一项研究表明，经常保持坐姿的中年人，每周只要锻炼 36 分钟，就能实现非常明显的健身效果。但前提是，他们的锻炼强度都保持在最大心率的 85% 左右。</p><p>我确信，一旦适应了经常锻炼的自我约束，并开始感觉到、看到锻炼的价值所在，你就无需进一步的鼓励了。在没有达到这种状态之前，你需要借助于一个相当严格的锻炼计划。以下是我的几点建议：<br>（1）选择一年当中，你最有可能做到的一个季节，每周能拿出三天，每天 30 分钟，作为你健康复兴之始。第一个月最关键。<br>（2）每天坚持固定时间锻炼。什么时间不重要，但你要事先想好。变成例行任务之后，就可以不用再那么死板了。我以前每天锻炼的时间都不同，现在则固定在早上上班之前。早上锻炼的好处是，就像有人调侃的那样，在你的脑袋还未完全醒来之前，去做一些你不愿意做的事情，免得自己给自己找借口。<br>（3）选好慢跑地点，尽量避开车辆、宠物及其他危险或干扰。一般平坦的地面就行，无论老式的煤渣跑道还是人工塑胶跑道，都算近乎完美了。我从海军退役大约两年后，就开始了经常跑步。在纽约西城的户外，水泥路面和沥青路面，我全年坚持跑步达 45 年之久。后来我买了跑步机，除非不在家，否则我每天都要用它跑步。虽然室内跑步看不到外面的风景了，但是跑步机的好处是极其方便，让你随时可以锻炼。还有看不完的“Netflix（网飞公司）”提供的电影，简直都让我忘记了这是在完成每天的任务。<br>（4）不要急于求成。按照自己的节奏慢慢来。好几年的甚至几十年的懒散，不可能在一周之内转变过来。有人可能连 30 分钟都走不动，有人可能一开始就能跑得很远。我们的目标是循序渐进。有的人锻炼前要先做热身运动，锻炼后要做放松运动，整得一本正经。我的看法，这些都是个人偏好，而不是生理必需。如果你想在跑步之前抻抻腿，弯弯腰，没问题啊，但这些不能算在 30 分钟里面。我的做法是，跑 9~10 分钟后再逐步加快步伐。至于柔韧性锻炼的好处，这方面令人信服的研究结论很少。如果你觉得伸胳膊、抻腿、弯腰之类的很舒服，那就去做好了。<br>（5）做好运动记录。你愿意记得多详细都行，但起码要把日期和锻炼时间记下来。把一周作为一个基本的锻炼时间单位，并努力做到每周锻炼三次。为了尽可能减少肌肉酸痛，锻炼一天，然后休息一天，不要连续三天锻炼。如果你的三天锻炼时间有两天不得不安排在周末的话，那就把周日锻炼安排得比周六轻松些。一旦你的锻炼计划坚持得很好，就要考虑增加锻炼次数。<br>（6）先集中进行三个月的有氧锻炼。在充分地适应有氧锻炼调节之后，下一步在锻炼程序中增加无氧环节，即力量环节。<br>除非采取有效措施，否则老龄化的特征之一，就是肌肉数量的减少。肌少症，这个花哨的名字就是用来描述这种现象的。那些终生不得不从事体力劳动的人，比如农民或者牧民，不需要对此感到担心。而对其他人来说，整天坐在电脑旁的或者懒于运动的，就需要在有氧锻炼调节的同时，必须辅以其他的锻炼办法。<br>对于我们绝大多数人，不论年龄和身体状况，我都几乎毫无保留地建议采取我上面给出的自我管理的慢跑方式。力量锻炼则不同，除非你以前有过举重的经验，否则我还是建议你去健身房、俱乐部、社区健身机构之类的地方，找人指导一下，然后再使用力量训练器和其他训练器械。不用太长时间，你就会掌握那些必要知识，摸索出适合自己的力量训练计划，在一些书籍或视频资料的协助下，开始自由自在地进行锻炼了。健美操是一种很好的、有氧和无氧相结合的锻炼方式。健美操的英文单词，来自于希腊语的“美和力量”。健美操几乎不需要任何器材，而利用我们自身身体的重量来进行肌肉锻炼，再利用开合跳、下蹲后伸腿等来方式进行有氧锻炼。那些曾在“第二次世界大战”中参战的“最伟大的一代人”，对健美操都很熟悉，但如今，现代器械在很大程度上已经取代了健美操。但是，对于那些不愿意花钱去玩力量训练器的人，或无法经常去健身房、或附近没有训练设施的人来说，健美操仍是有价值的一种锻炼方式。再者，你也可以去看书，了解这方面的锻炼建议和各种实用做法。不过，我们要始终牢记，我们的目标就是有氧和无氧锻炼的平衡。对我来说，慢跑和使用力量训练器，就很容易做到平衡了。</p><h2 id="第六章-认识营养素——穿透历史的迷雾"><a href="#第六章-认识营养素——穿透历史的迷雾" class="headerlink" title="第六章 认识营养素——穿透历史的迷雾"></a>第六章 认识营养素——穿透历史的迷雾</h2><p>《内科医学年鉴》刚刚刊登了一项研究报告，发现食用饱和脂肪酸，与心脏病风险无关。肉类、奶酪及其他动物性食品都含有饱和脂肪酸。该项研究报告的作者是拉吉夫·乔杜里及其同事们，他们分别来自剑桥大学等英国、美国以及荷兰等国家的顶尖研究机构。他们的调查研究涵盖了多项前期研究结果，涉及研究对象超过 60 万人，他们的结论一定会让厨师们欢呼不已。要是没糖、没盐、没油的话，大厨们就没法做出各种美食了。然而，有人欢喜有人愁，那些卖鱼油补充剂的、卖磷虾油补充剂的，肯定非常不爽，因为以上的研究结论并没发现欧米伽-3 脂肪酸的各种补充剂对人体有任何益处。实际上，唯一的明确结论就是反式脂肪对人体不好。乔杜里医生和同事们最后建议，现有的心血管疾病指南“或许需要重新评估了”。</p><p>三文鱼（鲑鱼）或许是补充脂肪酸最好的鱼，不过金枪鱼、鲱鱼、湖鳟鱼、鲶鱼、青鳕鱼、鳕鱼、比目鱼、沙丁鱼等，也都富含欧米伽-3 脂肪酸，我最爱吃的甲壳类食物是螃蟹和虾。我们往往老是容易把鱼类跟欧米伽-3 脂肪酸联系在一起，但其实植物也含有大量欧米伽-3 脂肪酸，比如，同样重量，一斤核桃所含的欧米伽-3 脂肪酸，是一斤三文鱼的 5 倍之多。再比如，豆腐的欧米伽-3 脂肪酸含量完全可以媲美金枪鱼。只不过，素食者最爱吃豆腐，很多人不爱吃，所以对那些严格素食者们来说，即使啥鱼都不吃，只要维生素 B12 的摄入量足够，他们心脏病的风险水平也都非常令人满意。</p><p>只有锻炼才能够促进肌肉的增长。过量的蛋白质只会增加身体热量并最终转化为脂肪。</p><p>除了食物提供的蛋白质以外，我每天还会消化掉 70 克自己体内的高品质蛋白质。这 70 克蛋白质，来源于我体内用过的消化酶、胃肠上脱落的细胞以及各种含有蛋白质的人体碎屑，最后到达我肝脏的，其实是来自食物和我自身循环利用的各种氨基酸的混合物。因此，在短时间内，肝脏能够向血液输送比例刚好的各种氨基酸混合物，即使每一餐的蛋白质含量有很大波动，也不成问题。</p><p>碳水化合物，顾名思义，是由碳和水组成的。根据结合在一起的碳和水的单位个数多少，碳水化合物又有简单与复杂之分。例如，葡萄糖和果糖，就叫作简单碳水化合物。如果它们进一步分解，就会失去其独特的感官特性，即甜味。如果它们两个结合在一起就形成一种新的碳水化合物，即蔗糖。虽然我们把蔗糖通常称为糖，但是要记住，还有很多带甜味的简单碳水化合物也都叫做糖。糖（sugar）的拉丁语，是 saccharum（糖类）。葡萄糖和果糖，称为单糖；蔗糖，称为二糖，以此类推；多个葡萄糖单位连结在一起，我们就称之为多糖或复合糖。<br>前面我们了解了，饮食中的脂肪和蛋白质会在肠道中被分解、吸收，最后重组为人体的脂肪和蛋白质。碳水化合物在人体里的处理过程与脂肪和蛋白质相同，我们以土豆为例来说明。我们吃了土豆之后，其所含的植物淀粉迅速被分解为葡萄糖，由肠道吸收，经由肝脏进入血液循环，分布至全身。来源于土豆的这些葡萄糖要经历几件事：其中大部分，转化为三磷酸腺苷（ATP），供肌肉利用。三磷酸腺苷是我们身体肌肉收缩所需的直接能源，这点在本书第四章我们讲过了。另一部分葡萄糖去到大脑，作为大脑的唯一能量来源。如果还有剩余葡萄糖，我们身体会以糖原的形式将其储备起来以供将来之需。在这个过程中，我们把植物淀粉转化为了自身的动物淀粉。植物淀粉和动物淀粉都是复杂碳水化合物，也都是葡萄糖的来源，然而糖原的储存地点空间有限，一旦存满，多余的葡萄糖就会被转化为脂肪了。哎，悲剧的是，我们身体储存脂肪的能力却又是几乎无限的。这一点，我们大家都清楚。<br>如果我吃的是食糖，也就是蔗糖，它也会被身体分解为葡萄糖和果糖，其中葡萄糖的处理过程与上面所讲的来自土豆的葡萄糖完全相同，而其中的果糖，不管是间接来自蔗糖，还是直接来自水果或者蔬菜，其处理过程则稍有不同。果糖，也是由肠道吸收，但在到达肝脏之后经过一系列转化步骤后，大部分转化为葡萄糖，然后，要么作为糖原储存起来，要么再转化为脂肪。前面所提到的很多指责糖是毒药的说法，都基于果糖代谢的这种特异机制。</p><p>人体对糖的消化吸收，牵涉到了成百上千个不同的生化机制。这么多个生化过程，最主要的总指挥就是胰岛素。胰岛素是我们身体胰腺分泌的一种荷尔蒙（激素），如果胰岛素完全缺失，人就无法活命，如 1 型糖尿病，就是胰岛素完全缺失。远比 1 型糖尿病更常见的是另外一种情形，即胰岛素并不缺失，但其功能的发挥出现了障碍，这种糖尿病，称为 2 型糖尿病。2 型糖尿病的病因还未完全搞清，但认为它与肥胖密切相关。</p><p>果糖浆的制造是先把玉米淀粉消化，以便释放出自由葡萄糖，由葡萄糖再转化为果糖，然后再加入葡萄糖，形成大致上一半果糖、一半葡萄糖的高果糖浆（HFCS），或者比列类似于从甘蔗或甜菜所榨取的餐桌食糖一样，所以说，高果糖浆这个名字有些误导性。高果糖浆除了里面的葡萄糖和果糖都是以自由单糖的形式存在以外，其所含的葡萄糖和果糖比例，与蔗糖几乎相同。对于食品行业来说，高果糖浆的主要魅力在于它价格便宜。</p><p>孤立来看，蔗糖和高果糖浆，除了提供能量之外，别无其他，即所谓的空热量。精加工糖里，不含任何维生素、矿物质或纤维素。而各种软饮料和随处可见的功能饮料里面的糖，则让人们很容易就会摄入过多热量。实际上，在理想的世界里，除了那些未经加工的水果和蔬菜中的糖，以及为了让食物更加美味可口所加的糖之外，我们完全不需要再去吃额外的糖。</p><p>原麸纤维，大部分都不能消化和发酵，吸收水分之后，可以形成比较大块的松软大便。卷心菜纤维形成的大便，也比较松软，但块型要小得多，差别的原因，就是卷心菜纤维被肠道中的细菌充分发酵了，细菌大量繁殖，排出大便的主要部分成分都是柔软的细菌本体以及大量水分。</p><p>多糖好过单糖，原因至少有三点。第一点，蔗糖只是一种纯粹的能量来源，没有附带任何其他营养。第二点，是膳食纤维的概念。非水溶性纤维通过身体时，不能被消化。流行病学研究发现，非水溶性纤维膳食，与消化道疾病，包括结肠癌发病率的减少，有相关性。近期，更令人们感兴趣的是可溶性纤维，它们可以被肠道中寄生的亿万个细菌发酵。第三点，大量流行病学证据表明，多吃水果和蔬菜的人，会更长寿、更健康。虽然这方面的原因，还有待于进一步研究，但是转变膳食结构，把过量蛋白质和脂肪改成各种简单和复杂碳水化合物，这种做法还是非常有道理的。至于各种运动饮料以及各种含糖饮料（蔗糖或高果糖浆），建议你还是别喝了，喝水就行，从而把含糖的热量省下来，这样，你就可以去吃一块甜馅饼或一块蛋糕，或者任何能让你解馋的其他甜品美食了。</p><p>第二次世界大战期间，在英国谢菲尔德进行了一项实验，该实验的结果可以解释“为什么这方面的研究少之又少”。16 名志愿者参与了该项实验。参试者的膳食，既不含维生素 A，也不含胡萝卜素。严密观察 8 个月之后，有一半参试者，血液中的视黄醇水平降低了。11 个月之后，其中有三人得了夜盲症。而其他参试者，都没有出现维生素 A 缺乏症的迹象，即使这种膳食持续两年之久也没有出现任何迹象。（现在的人体试验都要求首先进行伦理学评估）</p><p>大米和其他食物中所含的这种人体必需的保护性物质，最初被称为“抗神经炎因子”，这源于脚气病神经炎。杰拉德医生指出，脚气病神经炎使得感知功能和运动功能都受到损害，导致走路“踮脚”。为了把这种保护性物质与之前发现的“脂溶性 A”区别开来，有人把它称为“水溶性 B”。看来需要给这种物质取个更好听的名字了。波兰的一位生物化学家卡西米尔·丰克，想出了一个好名字。1911 年，丰克医生逐渐意识到这种水溶性 B，还有脂溶性 A 和水溶性 C，它们都属于新的一类食物因子。他把这一类新物质，称为“维生素”（vitamine）。Vitamine 是 vital amine 的缩写，意思是生命攸关的胺。不久之后，vitamine 的拼写又简化为 vitamin</p><p>这样一来，水溶性 B 就叫做维生素 B。其后又发现了新的水溶性 B，就起名叫维生素 B1。1926 年，发现了维生素 B1 的化学结构。维生素 B1 有了正式名称，叫硫胺素。因此，维生素 B1 和硫胺素指的是同一种化学物质。</p><p>日本战俘营里的膳食会导致多种营养缺乏症以及非常复杂的后果，而科学家们都想去研究只缺少一种必需营养素的患者对象。从 1951 年开始，爱荷华州立大学医学院的两位医生威廉·比恩和罗伯特·霍奇斯，给纳摩萨州立监狱里的犯人们食用各种不含泛酸的膳食，犯人们并没有出现明显的缺乏综合征。后来在食物中，又加入了阻断泛酸发挥作用的药物，这时候犯人们才出现了病症。他们表现为容易疲劳、脾气变坏、肠胃不适。最重要的是，有一些犯人说，他们的脚部有灼痛感。（今天的伦理道德标准，已经不再允许在犯人身上进行大部分的医学实验了。）</p><p>博厄斯的研究结果在 1927 年发表，随后就有很多人开始研究“保护因子 X”的成分。这其中就有保罗·吉尔吉，之前我们介绍吡哆醇（B6）的时候曾提到过此人。到了 1931 年，吉尔吉医生已经能够把“保护因子 X”提纯到很高的程度，而且他确信，这是一种以前没有发现的新维生素。他建议称之为维生素 H（之所以称为维生素 H，只是因为字母 H 刚好是当时可选用的下一个字母。巧合的是，在发现维生素 H 的两年前，为了纪念戈德伯格医生（他的姓氏首字母是 G），就把抗脚气病因子称为了维生素 G。不过，维生素 G 和维生素 H，在今天已经很少有人这么叫了，只要食物中含有足够的维生素 H，就可以给动物饲喂生鸡蛋，而不会造成什么伤害。</p><p>鲨鱼之所以能够在水中自由自在地游来游去，原因就在于它没有硬骨。鲨鱼的骨骼都是软骨，柔软容易弯曲。软骨极为适应海洋生存环境，因此数百万年来，鲨鱼的样子都没怎么变化。<br>但软骨骨骼绝不适合我们人类，因为人类生活在空气中，不在水里，我们对万有引力的感觉要比鲨鱼敏感得多。我们需要致密、结实、刚直的硬骨头来支撑身体。虽然我们的骨头也是由软骨生长而来，但钙质和其他矿物质会很快沉积形成骨骼。只要我们膳食中的钙质充足，并接受适量的阳光照晒，骨骼就会正常生长。</p><p>60 多年前，埃尔金（伊利诺伊）州立医院的麦克斯·K·霍维特医生和同事们对 19 位患者进行了为期 6 年的维生素 E 缺乏的诱导实验。（这是违反道德的做法，类似的实验今天不再允许。）</p><h2 id="第七章-肥胖——啥样才叫胖？眼见为“胖”"><a href="#第七章-肥胖——啥样才叫胖？眼见为“胖”" class="headerlink" title="第七章 肥胖——啥样才叫胖？眼见为“胖”"></a>第七章 肥胖——啥样才叫胖？眼见为“胖”</h2><p>在人类历史上的多个地区和多个时期，肥胖往往是人们所追求的目标。肥胖是财富和权力的象征。晚年的英国国王亨利八世，可算当时的海报型男（亨利八世身材极胖）。这种社会中最成功的人士，也就是食物多得吃不完的那些人。在那个时代，富人们才不会去开豪华的宾利汽车或兰博基尼跑车到处炫耀。相反，他们只干一件事儿，就是把自己吃胖。而如今，有多个原因让我们不再把肥胖当成地位的象征，而去追求普遍意义上的健美。其中最重要的一个原因就是，肥胖是一个几乎人人都能实现的目标，不再成为地位的象征了。比如在今天这种社会，就连穷人都能吃得饱变得胖。确实，穷人还真是往往都很胖。肥胖，现在已经被视为缺乏自控能力而不是富有。身材苗条，在医学上也有它的道理所在。现在的普遍观点认为，肥胖就等于不健康。</p><p>男性在变老的过程中，身体脂肪堆积的位置会逐渐发生变化，而且这种变化还不是那么容易察觉的：屁股越来越小，大腿越来越细，肚子越来越大。</p><h2 id="第八章-减肥与保持——别老说节食减肥了"><a href="#第八章-减肥与保持——别老说节食减肥了" class="headerlink" title="第八章 减肥与保持——别老说节食减肥了"></a>第八章 减肥与保持——别老说节食减肥了</h2><p>加拿大拉瓦尔大学克劳德·布查德以及同事。他们打算研究基因是如何决定我们的体重的。他们的研究对象是十二对同卵双胞胎。同卵双胞胎的基因组成完全相同，在为期 100 天的实验过程中，这些双胞胎们都被喂食总热量达 84 000 卡路里的食物，这远超他们身体所需。<br>还记得我们那个简单公式吧，3600 卡路里等于体重增加一磅。这就意味着所有的研究对象体重将会增加 23.3 磅（约 10.6 千克）。事实上，他们平均体重增加为 17.8 磅（约 8 千克），比预期的少了 24%。但是每个人体重增加的范围都不同。实验结束后，其中一个人只增加了 9.5 磅，比预期的少了 40%。而另外一个人体重增加了 29.3 磅（约 13.2 千克），比预期的多了 26%。同样明显的结果表明，在每对同卵双胞胎之间，体重增加的差异和身体脂肪分布的差异都很小。反而在不同的双胞胎之间，这些差别要大得多。<br>布查德医生的研究小组于是得出了一个明显结论：我们的基因在对过量饮食上起着重要的作用。他们还进一步认为，基因因素也许还会影响我们的静息能量消耗，即基础代谢率（BMR）。一个静止状态的成年人，其基础代谢率最多会达到总能量消耗的 70%。具有讽刺意味的是，对于基础代谢率低的人来说，当处于食物短缺环境时，这是个有利条件。但当处于食物丰富环境时，却更容易变得肥胖。而今天，我们很多人所处的环境，恰好是食物丰盛的环境。</p><p>基础代谢率是可以受摄入热量的多少影响的。通过坚持不懈地减少食物摄入量，我们身体就会变得更加高效地去使用热量，身体基础代谢率就会相应降低。<br>荷兰研究人员珍娜德·布尔博士和她同事们的研究成果就很能说明这个问题。他们针对十四名平均体重在 206 磅（约 93 千克）的女性，做了一个实验，每天让这些女性摄入 1000 卡路里的热量，为期八周。结果显示，她们的平均体重减轻 22 磅（约 10 千克）。不过在实验期间，她们的基础代谢率降低了 15%。基础代谢率降低这种变化的实际意义就是，为了维持体重的减轻，这些女士们，就必须要坚持比以往吃得少才行。</p><p>我要向你推荐的减肥与保持计划，基于以下两项不可动摇的原则：一是热量，二是锻炼。用大白话来说就是，如果你摄入的食物，超过了你身体能量所需，体重就会增加；如果你摄入的食物，不满足身体能量所需，体重就会减少。</p><p>地中海饮食方案，这种饮食方案中，多达 50% 的热量都是脂肪。第二种方案是抗高血压饮食方案（缩写为 DASH），这种方案的热量形式中脂肪只占 25%。其实更重要的是，如何在每一类常量营养素之内选择合适的食物。这样看来，上述两种饮食方案都在强调减少饱和脂肪的摄入量，增加单不饱和脂肪或多不饱和脂肪。饱和脂肪的主要来源是动物制品；不饱和脂肪的来源是植物油、鱼类、干果类以及蔬菜类。这两种不饱和脂肪，从营养学和体重控制的角度来看都是特别好的食物。选择某一种饮食方案或不选择某一种饮食方案，都应该与你目前的膳食结构或文化传统做到最佳匹配。</p><p>我们要考虑的是地中海饮食方案，或者更确切一点说是多种地中海饮食方式。因为地中海饮食方案有多种表现形式。它的地域范围从西边的西班牙直到东边的叙利亚。我们现在所指的这种典型地中海饮食方式是基于“第二次世界大战”后对希腊克里特岛地区的研究。其研究者是洛克菲勒基金会下的流行病学专家利兰·阿尔博。他发现，克里特岛人的主要脂肪来源是橄榄油。在本书第六章中我们知道，橄榄油与油菜籽油一样，都是单不饱和脂肪。不饱和脂肪有益心脏，而饱和脂肪对心脏不好。</p><p>地中海饮食方式有很多优点，尤其是肉类较少，尤其是红肉，这样就会降低直肠 / 结肠癌和乳腺癌的风险。</p><p>地中海饮食方式中，脂肪所占热量可达 50%。基斯医生在 1950 年，这样给我们描述地中海饮食方式，他称之为“那不勒斯普通民众的饮食”，即“自家做的各式各样的面条，再配以西红柿汁以及奶酪碎，只是偶尔才点缀一点点肉类或者少量本地海鲜。一大盘儿各种豆子和短空心粉，新出炉的面包，面包上面从来不涂抹任何黄油之类的东西，大量的新鲜蔬菜，每周只吃两次少量的肉或者鱼，还有红酒，甜点总是新鲜水果。”地中海饮食的脂肪，主要来自于特级初榨橄榄油及各种蔬菜里的多不饱和脂肪。我们也看到，地中海饮食还包括了面条和面包，这些都是那些拒绝碳水化合物的人所谴责和抵制的东西。<br>1959 年，安雪·基斯医生与他的太太玛格丽特合著了一本书，名叫《吃得好，身体好》。在书中，他们给出了如下的营养学建议：少吃饱和脂肪，少吃动物油，多吃植物油；多吃新鲜蔬菜、水果和低脂奶制品；少吃盐和糖。自从阿尔博医生和基斯医生时代开始到现在，很多出色的研究已经得出结论，地中海饮食在多个方面对人体都是有益的，可以延年益寿，可以避免心脏病、肥胖、2 型糖尿病以及某些癌症。还有证据表明，地中海饮食方式可以减少智力衰退的可能性，甚至减缓阿尔茨海默病。虽然炎症在上述这些疾病中所起的作用还不明确，但我要指出，著名的安德鲁·威尔博士在他的多部著作里面所描述的抗炎饮食包括了地中海饮食的全部元素。</p><p>1995 年，弗兰克·萨克斯和他同事们进行了一项研究，目的就是为了评估饮食方式对血压的影响。研究的题目，叫做“防止高血压饮食疗法研究”（DASH）。</p><p>抗高血压饮食的研究结果于 1997 年发表在《新英格兰医学杂志》上，对照组中增加了水果和蔬菜，明显的降低了血压。效果更明显的是混合组。大量的水果、蔬菜和低脂奶制品减少了饱和脂肪以及总脂肪含量。在一项后续研究中还发现，通过减少混合组的盐量三分之一，还能进一步降低血压。比钠的绝对重量更重要的是，钾钠比例，因为钾可以抵消钠的不利影响。幸运的是，抗高血压饮食方案中的水果和蔬菜都提供了大量的钾。<br>尽管抗高血压饮食实验仅仅进行了十一周，但是这项研究深刻地影响了美国农业部颁发的《美国人饮食指南》。自从 1997 年这项研究结果发表之后，很多后续研究也都表明抗高血压饮食的有益之处。它不但可以降低血压，还可以减少 2 型糖尿病，这一点要归功于这种膳食方式的抗炎效果。抗高血压饮食，可以防止青春期女孩儿肥胖，还可以降低直结 / 肠癌的发病率。</p><p>地中海饮食和抗高血压饮食，这两者的可贵之处都在于，它们吃起来也都很好吃。这二者都取材于日常食物，也都不需要你在饮食方式方面作出巨大改变，而且这两者都已经得到证实可以预防或者缓解很多疾病。这两种饮食方式的特点都是：大量的水果和蔬菜、全谷物粮食、低脂或脱脂奶制品、瘦肉、鱼类、豆类以及干果类。这两者的最主要区别在于脂肪含量，地中海饮食强调用特级初榨橄榄油作为主要烹调用油。这两种饮食都不使用各种蛋白质、纤维、锰、钾、钙等的补充剂。实际上，对这些单个营养补充剂的研究都表明，它们对减肥和身体健康没有什么用。</p><p>转变了饮食习惯之后，就该考虑是要减肥还是要保持体重。只有到这个时候，你才需要一点儿器械的协助，即要有一个可靠的浴室体重秤。<br>（A）每天固定时间称一下体重。我是在每天早晨起来锻炼之前称体重。然后想好你觉得的理想体重是多少。如果哪天早晨发觉体重超过了你理想的体重，那么当天，你就减少热量的摄入，直到达到你的目标体重。这种减少体重的方式，并不是戒除任何不健康食品或者修改你的整体饮食计划，你要做的只是减少你的热量摄入总量。<br>只有少数幸运的人能够通过不减少热量的摄入来实现理想的体重。另一方面，我们大多数人都有很多方法可以减少热量摄入。还是以我为例。在前一章我告诉过你，我的理想体重是 178 磅（约 80.7 千克）。如果今天早晨我称重，发现超了，那么我的早餐就会少吃一点，午餐和晚餐也要少吃一点。我不是不吃什么东西，而只是减少数量。比如，我可能少吃一块蛋糕，多吃一点水果。假如我离家出差一周，身边没有体重秤，回家之后发现自己体重为 182.3 磅（约 82.7 千克），这时，我就要采取更激烈的措施了。跟以前一样，我减少了食物摄入，但同时我还取消了每天的啤酒，直到我回到 178 磅（约 80.7 千克）！那我不馋啤酒了吗？当然馋。这种做法就会提醒我，任何偏离我的理想体重，都要立即改正，绝不拖延到明天。你不喝啤酒？那你就取消甜食、或者曲奇饼干、或者任何零食，都行。如果原因不明，我的体重比目标体重还轻了 1<del>2 磅（0.9</del>1.8 千克），那这不是我的大好机会吗？让自己去吃平时爱吃的食物，甚至去吃一次最爱的“罪恶食物”。平时故意比目标体重多减轻几磅，那么当假期来临，岂不快哉？<br>（B）如果你的理想体重比现有体重高出好多，比如说多了 20 磅（约 9 千克），以上的原则同样适用，只不过是时间会延长。既然你今天的状态不是一周之内形成的，那么你也就不应期望一周之后就能改变。大部分营养学家认为，每周减轻 2 磅（约 0.9 千克）是健康的和可行的。如果你觉得这减得太少，那你算一下，10 周就是 20 磅（约 9 千克）。同样，你的饮食方式，不管是抗高血压饮食还是地中海饮食，都不需要改变，只是所吃食物的数量减少了。一个简单的办法就是减少晚餐热量摄入 50%，这可以通过以下方式做到，如不盛第二盘菜，不吃甜品或只吃半份儿，柜橱里少放诸如饼干、蛋糕、薯片、奶酪片之类的零食。你不必要让周围充满这些诱惑。</p><p>你也许会想加长你的锻炼时间，前面第五章给出的计划，是每周锻炼三次。随着你越来越习惯于锻炼，你就可能想增加锻炼次数了。（我每周都做的有氧锻炼就是跑步，同时还有力量锻炼，隔一天一次。）但是，我们不能夸大锻炼对减肥的作用。</p><p>分分钟我会吃进去的要超过锻炼消耗的。记住，限制热量，永远是减肥的关键。</p><p>我们身体以两种形式储存能量，即脂肪和糖原。糖原也叫动物淀粉，是一种多糖，由多个葡萄糖组成。糖原大部分储存在肝脏，一小部分储存在肌肉。如果我们大幅减少碳水化合物的摄入，那么我们身体就会利用糖原来产生能量。当糖原用尽，就会排出大量水分。这就给人带来一个幻觉：快速减肥了！你可能在十天之内，就减轻了 10 磅（约 4.5 千克），但这其实减去的并非脂肪。<br>那如果我们把这两者结合起来，会怎么样呢？即在不吃碳水化合物的同时，也把热量摄入减小到低于我们的能量需求。这时就真的会出现脂肪减少，这种现象也叫做酮中毒。当身体的糖原耗尽，身体会把脂肪和蛋白质转化为一种可利用的能量来源，叫酮体。把脂肪和蛋白质转化为能量，对身体来说是勉为其难的。我们身体会发出不高兴的信号，包括口臭、疲劳、恶心、食欲不振、浑身不爽。</p><p>一个根深蒂固的营养学老生常谈，四十年来都快让我们的耳朵听出老茧了：“低脂肪就是好”。然而正如我们在前面说明的，地中海饮食就属于高脂肪，只是这些脂肪都是单不饱和脂肪或多不饱和脂肪，这些反而对身体非常有益。进一步来讲，越来越多的基于成千上万人的研究表明，即使是饱和脂肪也并不像我们想象的那么邪恶。事实上，正如哈佛大学公共卫生学院的沃尔特·威利特及其同事所强烈指出的那样，用糖和精制碳水化合物来取代饱和脂肪，这不是好的营养学做法，而且十分可能还是导致肥胖的主要原因，这正如在抗高血压饮食和地中海饮食中所阐明的那样。但这并不是说，我们不应该减少红肉和加工肉类的摄入，而是说补偿脂肪热量应该用植物油、鱼类和干果来补充。</p><h2 id="第九章-身体功能的增强——运动能力、认知能力和性能力"><a href="#第九章-身体功能的增强——运动能力、认知能力和性能力" class="headerlink" title="第九章 身体功能的增强——运动能力、认知能力和性能力"></a>第九章 身体功能的增强——运动能力、认知能力和性能力</h2><p>拟交感神经药物能够抵抗疲劳和增加耐力，这一点显然不会逃过军方的眼睛。1939 年到 1940 年，在征服波兰、荷兰、比利时和法国的“闪电战”中，德国向其地面部队和空军发放了大约 3500 万片脱氧麻黄碱（德国人把这药叫作 Pervitin）。<br>英国空军向美国制药厂史克公司购买了安非他明并进行一系列实验室和实地测试之后，于 1942 年开始向轰炸机部队发放这个药物。在电影《沙漠兄弟连》中，伯纳德·蒙哥马利将军击败了德军名将埃尔文·隆美尔，名扬世界。蒙哥马利将军，就特别提倡使用安非他明，并向他的中东军团所有人员发放该药。<br>挪威大学的安德鲁·艾维，在医学生中间也进行了有关实验。后来，美国军队在 1943 年开始也向所有战区指挥官提供安非他明。北非战区最高指挥官德怀特·艾森豪威尔将军一下子就要了 300 万片。美国军队使用兴奋剂的做法一直持续到今天，无论是战时还是和平时期。（威尔康奈尔医学院的精神病学教授理查德·弗里德曼认为，最近在伊拉克和阿富汗的美军士兵中使用兴奋剂导致了创伤后心理压力综合征的可能性增加。）</p><p>哈佛医学院的麻醉学教授亨利·比彻做了一系列实验。其结果明确显示，只需服用很少量的安非他明，大学游泳运动员的成绩就提高了 1%~2%。你可能会说，这差别也不大呀。但你别忘了，高水平比赛的输赢往往就在丝毫之间。例如 2012 年伦敦奥运会上，美国游泳运动员内森·阿里德安在男子 100 米自由泳比赛中获得冠军，仅仅比澳大利亚运动员詹姆斯·马格努森快了 1% 秒。这两者的差距仅为 0.02%。第四名选手与冠军的差距只有 0.7%。哪怕兴奋剂仅仅能让成绩比别人略微有一点点优势，加上巨额奖金的诱惑，你就不难理解，为什么就连职业自行车比赛这种体育运动，兴奋剂也都泛滥成灾了。</p><p>咖啡因是全世界消费最广泛的兴奋剂类药物。而且我敢肯定地说，看到这儿的本书读者，今天差不多都会吃过各种形式的咖啡因了，要么是茶，要么是咖啡，要么是巧克力或者其他软饮料。更容易让人们喝到咖啡因的，是“运动饮料”、“功能饮料”、“能量饮料”等的流行饮料。这些饮料，大多数都是由糖、B 族维生素以及其他各种五花八门的成分混合而来的。<br>一个多世纪以前，准确一点说是 1912 年 3 月 16 日，《美国医学会杂志》发表了第一篇短文，总结了咖啡因“对脑力和体力功效”的研究结果。研究中的一项测试内容是打字。结果发现，打字速度和准确率都得到了提高。其他方面的脑力和体力测试结果也表现出了类似好处。除了伸臂抓握的稳定性稍有降低之外，没有发现其他副作用。</p><p>咖啡因，主要作用于大脑中的腺苷受体。腺苷的通常作用是抑制大脑的神经活动，对于睡眠起着关键作用。咖啡因之所以能够抵抗疲劳和延长清醒状态，就是由于它阻止了腺苷系统的某些环节。除此之外，还有可靠的证据表明，咖啡因通过作用于腺苷，可以增加多巴胺的分泌。可卡因和安非他明类药物也是通过多巴胺这种神经递质发生作用的。<br>我们既然把安非他明与咖啡因放在一起来说，那么就有必要把二者做一个比较和对照。在增强人体功能和抵抗疲劳方面，我前面讲过，在“第二次世界大战”期间的一些研究结果常常表明，这两者的效果不相上下，它们都有助于提高研究对象的抗疲劳能力，使其保持注意力以完成任务。从这个意义上讲，咖啡因也是一种非常有效的药物。<br>在第一章，我讲过药物耐受、药物身体依赖以及药物成瘾这三者之间的关系，那么经常使用咖啡因的人，会不会也产生药物耐受？答案是会的，只是程度没有那么严重，也不会产生危害。那么药物耐受，又会不会引起身体依赖呢？答案也是会的。咖啡因的典型戒断症状，就是头疼，还常常伴有易怒。那么我们可不可以说，咖啡因也会让人成瘾呢？我对这个问题的回答是：可能会。例如我认识的一些经常喝咖啡的人，看上去都陷入强迫性的对药物的渴望和寻求，正好部分符合药物成瘾的定义。但是，可卡因和安非他明所引起的药物成瘾，要比咖啡因强烈得多。不过，现在咖啡因并没有被当作兴奋剂来看待，这主要取决于我们社会对它的态度。</p><p>来自一项由美国国立卫生研究院和美国退休人员协会联合赞助的大型研究。研究人员一共征集到了 402 260 名参与者，年龄从 50~71 岁，男女都有。所有参与者都没有癌症、心脏病或脑卒中（中风）病史。所有人都填写了调查问卷，之后被跟踪研究十四年。在研究期间，有 52 515 人去世（占总人数的 13%）。<br>先说坏消息：常喝咖啡的人，不论男性还是女性，都更加容易死亡。不过，常喝咖啡的人往往也都是吸烟者，而且不爱运动，水果和蔬菜吃得也少。再说好消息：在利用统计方法排除掉吸烟、运动和饮食因素的影响之后，常喝咖啡的人死于心脏病、肺部疾病、脑卒中（中风）、糖尿病以及感染的风险都降低了，死于癌症方面的情况则没变化。其中有三分之一的研究对象喝的是无咖啡因咖啡，而疾病防护效果也同样不错，这就意味着咖啡中起作用的关键因素也许不是咖啡因。这份研究报告发表在 2012 年的《新英格兰医学杂志》。报告作者尼尔·弗里德曼和他的同事们这样总结道：“我们的研究结果给人们以信心，不用再担心喝咖啡会对健康不利。”</p><p>高兴得直哆嗦”的表现也是刺激交感神经的结果。这在提醒我们，如果能抑制住过度兴奋，也许我们的表现就会更加出色。</p><p>β-肾上腺受体阻断剂，或简称为β受体阻断剂。<br>大家常见的一个类药，叫美托洛尔，商品名有“Toprol”和“Lopressor”（“美多心安”和“倍他乐克”）。<br>想象一下：在奥林匹克运动会的射击比赛中，你正要举枪射击，或者你正走上卡内基音乐厅的舞台，进行小提琴独奏的首次公开演出，你的心脏在剧烈跳动，你的双手激动得发抖。那么美洛托尔能够减缓你的心跳、消除你的颤抖，从而提高你的表现吗？对于这个问题，多年以前就给出了肯定的回答，这个答案是通过对射击比赛选手和职业音乐家精心设计的实验得出的。美乐托尔，可以明显提高步枪和手枪的射击准确度，以至于该药在奥林匹克运动会中被明确禁止。当然，对于音乐家们没有这个限制，对于其他想克服舞台表演紧张的人也没有限制。</p><p>很多研究发现，坚持终生大脑的认知活动与减少老年痴呆的概率，具有相关性。不过，毕生保持大脑活动也与教育程度、社会经济地位、肥胖、非法使用药物、吸烟、营养以及其他多种因素相关，这些方面对于大脑老化有什么影响还没有弄清楚。但为什么我不现在就开始改善大脑功能，甚至开始提高我的智商呢？<br>大脑的基本功能单元，称为神经元，神经元的数量有很多。根据最近估计，其数量达到 860 亿个。这还不算复杂，大脑还有几百亿的辅助细胞。每个神经元，都可以与上千个其他神经元发生联系。这种联系从本质上讲，既是电信号，也是化学信号。电信号沿着轴突从一个神经元到达另一个神经元，从而发生联系，你不妨把轴突比作电线。不过这种联系并不是直接的，而是轴突的末端接下来会释放一种化学物质，然后这种化学物质再传递到接收端神经元的节点，即突触。突触传递，即由此得名。如果一个广告跟你说，你的“化学物质失衡”了，它指的就是这些神经递质。今天，人们谈论最多的两种神经递质就是血清素和多巴胺。</p><p>美国抗衰老协会还是赞助了一项有关的研究，并在 2014 年发表了结果报告，对此给予了保守的肯定。这项研究开始于 1998 年，称为“独立健康老年人的高级认知训练”（ACTIVE），参加总人数为 2832 人，平均年龄 74 岁。参与者都没有身体和认知缺陷，而且生活在社区。他们被分成三个训练组，分别针对记忆力、推理能力和思考速度进行训练。还有第四个组作为对照组，平时不接触。一节训练课为 60<del>75 分钟，一共 10 次课，为期 5</del>6 周。跟预期一样，所有训练组都立即显示出，完成认知任务的能力有所提高。更令人惊讶的是，他们还观察到，推理能力和思考速度方面的改善竟然还能保持到十年之后。不过令人失望的一点是，在记忆力训练组，并没有出现记忆力保持的明显改善，只是观察到了日常记忆方面的一点稍微改善。不过，这项研究结果首次给出了中立的证据，证明那些训练项目有可能带来长期益处。现在还剩一个问题。是否可以说，那些正式的训练课程要比简单有趣的智力游戏强呢？</p><p>如今人们已经接受了这个事实，我们大脑中的神经突触一直在不断生长。目前我们还不知道，如何去影响这个过程，但我要指出的是，身体锻炼可以促进神经再生，至少对于那些做实验的豚鼠来说确实如此。</p><h2 id="第十章-类固醇——从犬睾到睾酮网站"><a href="#第十章-类固醇——从犬睾到睾酮网站" class="headerlink" title="第十章 类固醇——从犬睾到睾酮网站"></a>第十章 类固醇——从犬睾到睾酮网站</h2><p>大部分男性会在中年前期才开始注意到自己的前列腺。也是在这个时候，前列腺才会开始变大，这种几乎普遍的现象，称为良性前列腺增生或前列腺肥大（BPH）。前列腺肥大会压迫尿道，在大多数情况下，也只不过就是增加了一点麻烦而已，夜里会多起床几次尿尿。但如果是前列腺癌，事情就完全不同了。仅在美国一个国家，每年就会新增约 2 万个前列腺癌确诊病例。前列腺癌，是导致美国男性死亡的第二大癌症，仅次于肺癌。</p><p>从上个世纪 1935 年开始，无数研究已经表明，随着男性年龄的增长，前列腺中存在癌细胞的可能性也越来越大。到了六十岁，一半的男性前列腺中都会存在癌细胞；到了八十岁，三分之二及以上都存在。而其中绝大多数人，最后都往往死于其他原因，而非死于前列腺癌。事实上，除非做尸体解剖，否则到死也没人知道自己得过前列腺癌。我仅举其中一项研究为例。2010 年，底特律的韦恩州立大学医学院艾萨克·鲍威尔医生及其同事们发表报告指出，在对 1056 例 20<del>79 岁男性死者进行解剖后发现，45% 的死者身上有前列腺癌，而这些人的死因都不是前列腺癌。报告还指出，随着年龄越大，这个比例也稳步升高，在 70</del>79 岁年龄组，这一比例达到了 72%。因此，这类研究让我们得出一个结论，那就是过了某个年龄，我们最好还是不要去知道这些癌细胞的存在了。在欧洲，完全不建议采用前列腺癌筛查手段，例如采用前列腺特异抗原（PSA）做筛查。在美国，美国国家综合癌症网则建议，在 75 岁之后就不再进行筛查。因为即使筛查出来，其治疗风险也远远大于治疗收益。<br>那这就等于说，与大多数男性一样，在我的一生里，前列腺中有可能很早就存在癌细胞了。那这些癌细胞会扩散吗？还是会一直静悄悄地潜伏着，直到别的疾病把我带走？如果一生都维持跟年轻成人一样高水平的睾酮，又会不会刺激这些癌细胞，使其发展成为可能威胁生命的疾病呢？目前我们还无法回答这些问题。</p><h1 id="第三部分-我们希望避免的事情"><a href="#第三部分-我们希望避免的事情" class="headerlink" title="第三部分 我们希望避免的事情"></a>第三部分 我们希望避免的事情</h1><h2 id="第十一章-疼痛——比死神更可怕的魔鬼"><a href="#第十一章-疼痛——比死神更可怕的魔鬼" class="headerlink" title="第十一章 疼痛——比死神更可怕的魔鬼"></a>第十一章 疼痛——比死神更可怕的魔鬼</h2><p>疼痛对协助医生诊断疾病，也是个无价之宝。在没有确定病因之前不轻易止痛，这是医生看病的一个原则。</p><p>身体脊髓里一片相对较小的区域麻木，叫作局部麻醉；身体完全失去意识，叫作全身麻醉。</p><h2 id="第十二章-痴呆症——奥古斯特·迪特尔与阿尔茨海默医生"><a href="#第十二章-痴呆症——奥古斯特·迪特尔与阿尔茨海默医生" class="headerlink" title="第十二章 痴呆症——奥古斯特·迪特尔与阿尔茨海默医生"></a>第十二章 痴呆症——奥古斯特·迪特尔与阿尔茨海默医生</h2><p>目前为止，对那些注定会患上阿尔茨海默病的人来说，我几乎没有给出一点希望。难道对于减少该病风险，我们就完全无能为力了吗？对于如何预防这种疾病也完全一无所知吗？是的，目前我们所能给出的建议都基于一些相关性的研究结果。比如，阿尔茨海默病的患病风险与受教育程度相关。受教育程度越高，患病风险越低。但是，正如我们之前所看到的，相关性并不等于因果性。教育程度与阿尔茨海默病的关系，很有可能是因为较高的教育程度只不过是其他多种根本性因素的一个表象而已。比如，肥胖、糖尿病、高胆固醇和吸烟，这些都是痴呆症的风险因素，而这些因素，往往在受教育程度较低的人群中更为多见。</p><h2 id="第十三章-癌症——什么是预防癌症的最佳生活方式"><a href="#第十三章-癌症——什么是预防癌症的最佳生活方式" class="headerlink" title="第十三章 癌症——什么是预防癌症的最佳生活方式"></a>第十三章 癌症——什么是预防癌症的最佳生活方式</h2><p>据估计，吸烟可以平均缩短寿命 10 年。不过一个好消息是，如果在 40 岁之前能够戒烟，就可以把风险降低 90%。理查德·多尔从 1949 年开始，就研究吸烟与肺癌的关系。也就在那一年，他 37 岁，他戒了烟。理查德爵士后来活到了 92 岁。</p><p>《国际肿瘤杂志》1975 年 4 月的那一期，刊登了一篇文章，题为《从膳食角度研究不同国家的环境因素与癌症发病率及死亡率的关系》。文章的作者是布鲁斯·阿姆斯特朗和理查德·多尔。多尔就是之前警告吸烟与肺癌有关的那个医生。如今，多尔医生已经受封为理查德爵士了，同时他还是牛津大学雷德克里夫校医院的皇家医学教授。这篇文章的内容很多也很复杂，里面充满了统计学上的术语。但结论还是非常明确的，措词谨慎但具有启发性。阿姆斯特朗和多尔两位医生将 32 个国家中的 27 种癌症发病率与一系列多种膳食因素关联起来。用他们的话来说，“这些分析中最突出的一点意味着，结肠癌、直肠癌和乳腺癌与饮食因素之间存在相关性，尤其是肉类（动物蛋白）以及总脂肪摄入量……很显然，这些关系以及其他相关性只能作为进一步研究的建议，而不能当做因果性的证据，也不能作为预防的根据……不过膳食很有可能会影响到多种癌症……这一点，值得引起更多关注。”<br>美国国立癌症研究所的癌症预防与病因研究室据此做了一项类似的研究。1982 年 6 月 12 日，美国科学院发布了一份长达 550 页的报告，报告的标题简洁明了：《膳食、营养与癌症》。报告中关于调整膳食的结论和建议有以下几点：<br>（1）减少脂肪摄入量（但并未指明不同类型脂肪的影响）；<br>（2）多吃水果蔬菜和全麸谷物；<br>（3）酒精饮料要适度；<br>（4）尽量少吃腌制或熏制食物。</p><p>目前最新、也是最成功的，把我们在预防癌症方面的所有已知总结起来的一个尝试，就是 2011 年《英国癌症杂志》的一个增刊。该增刊把一系列研究报告都集中在了《癌症根源的分布：生活方式与环境因素》这篇报告中。报告的主要作者，是伦敦皇后玛丽大学沃夫森预防医学研究所癌症预防中心的 D·M·帕金教授。虽然他们的研究明确说该报告只适用于英国，但无疑在广泛意义上，它也适用于美国和其他发达国家人群。这篇报告并没有提供新的数据，而是把“几百项高水平流行病的研究结果”综合到了一起。换句话说，这是迄今为止我们所能拿到的最好证据。<br>下面，我对帕金教授有关减少癌症风险的建议做一个快速总结。然后我们再针对个别项目，进行相对详细讨论。针对 18 种癌症，帕金教授他们考虑了 14 种生活方式和环境因素。不出所料，在这 14 种因素中，烟草占据了第一位，占所有癌症风险的 19.4%。接下来，按照风险重要程度的高低排序，分别是：膳食、超重与肥胖、职业、阳光照晒、感染、电离辐射、锻炼、生育因素以及绝经后的激素水平。他们给出了所有每一项因素对于癌症发病率的影响估计。他们总的结论是：有三分之一的新增癌症病例是可以通过改变生活方式来做到预防的。这个比例远远低于半个世纪前希金森医生给出的比例，不过，也相当可观了。更重要的是，生活方式的很多改变，除了可以减少癌症风险，也有效减少了心脏病、脑卒中以及其他各种疾病。而且很有可能也减少了痴呆症的风险。<br>基于这次大规模的文献综述，帕金医生和同事们得出了以下理论上的风险最适接触量：<br>（1）吸烟，零接触。<br>（2）酒精，零接触。<br>（3）饮食<br>（a）水果和蔬菜，每天 5 次或更多。<br>（b）红肉或腌制肉，零接触。<br>（c）纤维，每天 23 克或以上。<br>（d）食盐（氯化钠），每天 6 克或更少。<br>（4）超重和肥胖，身高体重比（BMI）25 或以下。<br>（5）锻炼，每周 5 次，每次 30 分钟或以上。<br>（6）外源性激素，零接触。<br>（7）感染，零接触。<br>（8）电离辐射，零接触。<br>（9）紫外线（太阳），越少越好。<br>（10）职业风险，零接触。<br>（11）生殖因素，母乳哺乳至少 6 个月。</p><p>女性的外源性激素，主要来自两种形式：口服避孕药和绝经后激素替代疗法（HRT）。10 年前已经得出结论，口服雌激素加上孕酮一体化避孕药，能增加乳腺癌、子宫颈癌和肝癌的风险。然而，还有同样令人信服的证据也表明，避孕药可以减少子宫内膜癌和卵巢癌的风险。要想在这些风险因素中取得平衡是不容易，但帕金医生们的结论是，避孕药的总体效果是正面的，即它减少了癌症的发病总数。</p><p>19 世纪末，X 射线首次被发现，很快它就被用于医疗成像。不久人们也意识到，X 射线可能引起皮肤癌和白血病。正是由于这个原因，在牙科和医疗当中使用 X 射线，尤其是 CT 扫描，都应该做到次数和数量最少为好。另一种电离辐射的来源，就是氡元素，这是一种自然存在的放射性气体。氡很有可能是那些不抽烟的人也得肺癌的原因。也是因为这个原因，在很多地方都要求房屋在出售之前，先要做氡检测。跟 X 射线一样，要想做到与氡的零接触（零暴露）也是不现实的。同样道理，也适用于太阳辐射。太阳辐射是造成恶性黑素瘤的主要原因，四分之三的皮肤癌死亡原因都是黑素瘤。</p><p>在理论最佳风险接触量（暴露量）表里，生殖因素项下只提到了母乳喂养这一个因素。这点我需要解释一下，该项下其他需要考虑的因素有月经初潮年龄、绝经年龄、生育胎数、首胎年龄。一种看上去普遍有理的观点是，生育年龄较早、生育过多胎以及母乳喂养的妇女，子宫癌、卵巢癌和乳腺癌的发病率就会降低。相反，如果初潮过早、总的行经周期过长，这些癌症的风险就会增加。因为有其他充分理由证明不应该过早生育或者生育多胎，因此帕金医生的研究小组并没有把它列入预防措施的选项之内。说到初潮过早，人们早就知道，良好的营养可以让儿童长得更大，让儿童性早熟。今时今日，故意让我们的女儿营养不良，推迟初潮年龄，以便于减少乳腺癌的风险，这种事不会有人去做的。</p><p>地中海饮食中的脂肪，主要是植物不饱和脂肪和极少的动物脂肪。</p><p>多种癌症都与老龄化的过程密切相关。大多数研究人员把其归结于我们身体 DNA 的累积性突变损伤。但先不管其原理到底如何，90% 以上的癌症都发生在 40 岁以后，这是个事实。2014 年，美国疾控中心估计，75 岁以上年龄段的癌症发病率是青少年的 126 倍。这就让我们更加有理由去竭尽可能地避免癌症。虽然无法想象，在我们的有生之年可以消灭所有癌症。即使消灭了癌症，还有心脏病和痴呆症呢。但我们每个人都应该仔细看一下，前面帕金医生给出的理论最佳风险接触量。不管你现在年龄多大，都请你采取预防计划吧。这样做的好处是，不但可以减少患癌的风险，而且可以同时缓解那些你想摆脱的老龄化症状。</p><h2 id="第十四章-心脏病与脑卒中（中风）——人类最凶残的两大杀手"><a href="#第十四章-心脏病与脑卒中（中风）——人类最凶残的两大杀手" class="headerlink" title="第十四章 心脏病与脑卒中（中风）——人类最凶残的两大杀手"></a>第十四章 心脏病与脑卒中（中风）——人类最凶残的两大杀手</h2><p>家族史为我们提供了最清楚的参照，让我们能看到自己将来的可能状态。我们不能改变自己的先天基因，但我们能够想办法去对抗先天基因强加给我们的任何疾病。因为父亲早年被心脏病夺去生命，很多儿子们就会从中获得启示，通过改变其他风险因子，从而能让自己的人生之路与父辈不同。</p><p>1940 年后期，在英国医学研究理事会的赞助下，J·N·莫里斯和他的同事们开始了一项研究，目的是寻找“男性所从事的工作性质与冠心病之间的关系”。他们对比了伦敦双层公交车司机和售票员的情况，司机每天基本都是坐着开车，而售票员则在车厢里上下来回，几乎走个不停。<br>1953 年 11 月，莫里斯医生发表了 2 篇研究报告指出，与司机相比，售票员得冠心病的情况要少，严重程度要小。又过了几年，莫里斯医生和玛格丽特·克劳福德医生共同指出，“对中年人来说，日常活动习惯是影响心血管疾病的主要因素，经常锻炼是保持中年健康的正确生活方式。”</p><p>钾，也是我们饮食中常见的一种元素离子，它的作用跟钠刚好相反。目前世界卫生组织的建议是每天 3000 毫克钾，美国的建议是每天 4700 毫克。据估计，只有不到 2% 的美国人达到了每天 4700 毫克钾的水平。前面我们指出过，多项研究表明，减少钠的摄入对高血压有好处。相反，增加饮食中钾的摄入会降低血压。其中最有说服力的一些研究证实了钠与钾的比例关系更为重要。研究表明，1∶1 的钠与钾，既对高血压有好处，也对心血管疾病和脑卒中有好处，可以减少死亡。<br>有一个简单办法，可以做到在减少钠的同时增加钾。那就是多吃未经加工的水果和蔬菜。水果和蔬菜，都属于低钠高钾食物。特别建议各种豆类、蔬菜、带皮土豆、香蕉、全谷物、干果和鱼类。以上这些食物，也正是抗高血压饮食和地中海饮食中最多见的种类。我个人最爱吃的是西红柿及其各种制品。西红柿几乎不含钠，但富含钾。加工类食品里，酸奶是比较好的一种，大部分酸奶品牌里，钾的含量都是钠的 2~5 倍。就连我几乎每天都吃的饱受批评的加糖燕麦里面，也含有很多钾，没什么钠。</p><p>通过未加工食物来摄入钾是最安全不过的，通过补充剂来摄入钾，则很容易超出健康剂量，尤其是对有肾病的人。</p><p>上述研究（LRCT）的结果报告，发表在 1984 年 1 月 20 日的《美国医学杂志》上。报告结论认为，药物治疗降低了血液胆固醇水平，胆固醇水平的降低与心脏病发作减少和死亡减少相关。媒体对这项研究结果的反应可以用爆炸来形容。《时代周刊》的封面文章，标题为《当心鸡蛋和黄油》，副标题为《胆固醇证明可以致命，我们的膳食将从此改变》。<br>但是，正如我们之前看到的那样，科学文献上的那些有所保留的信息以及那些警示事项，在经过大众媒体的传递和过滤之后，并非总是百分百不失真的，总是会发生曲解。</p><h2 id="第十五章-骨质疏松——关于破骨细胞和成骨细胞"><a href="#第十五章-骨质疏松——关于破骨细胞和成骨细胞" class="headerlink" title="第十五章 骨质疏松——关于破骨细胞和成骨细胞"></a>第十五章 骨质疏松——关于破骨细胞和成骨细胞</h2><p>人们很容易以为，骨骼一旦形成了就会固化，就稳定不变了。事实上，骨骼是人体最活跃的组织之一，它在我们一生当中不断地在进行着重构。成骨细胞负责建造骨骼，破骨细胞负责破坏骨骼。理想状态下，这两者达到平衡。该平衡受到多种因素影响，包括睾酮、雌激素和甲状旁腺激素。失去平衡之后，比如绝经期雌激素分泌不足，破骨细胞占了上风，造成骨质流失，就可能发生骨折。</p><p>如果不活动，肌肉就会萎缩，活动拉伸，肌肉就会生长。骨骼对活动的反应原理一样。骨骼的这种非凡特性，是由于成骨细胞的前体细胞与神经元细胞相同。就像神经元细胞一样，成骨细胞能伸出很长的突触，其作用就是感知由肌肉收缩和地球引力所带来的骨骼压力。<br>创伤后骨质疏松症这个术语，首次出现在一百多年前的医学文献中。这种现象指的是，身体缺乏活动导致骨质流失。因伤肌肉麻痹或有小儿麻痹的人，就会出现骨质流失，同时肌肉萎缩。由于太空失重，宇航员的钙流失也肯定大于钙摄入。不管我们对太空失重和肌肉麻痹这些现象感到多么无法理解，我们身体骨骼对这两种情形的反应却是极其自然的。你钙摄入再多，如果没有压力，骨头也无法形成。因此也就不难理解，为什么钙补充剂不能预防由于缺少活动导致的骨质流失。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/59.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="医学" scheme="https://qianling.pw/categories/%E5%8C%BB%E5%AD%A6/"/>
    
    
    <category term="医学" scheme="https://qianling.pw/tags/%E5%8C%BB%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>《超越智商》书摘</title>
    <link href="https://qianling.pw/what-intelligence-tests-miss/"/>
    <id>https://qianling.pw/what-intelligence-tests-miss/</id>
    <published>2023-03-29T11:20:45.000Z</published>
    <updated>2023-04-15T02:33:40.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/88.webp"></p><span id="more"></span><hr><p><strong><center>超越智商：为什么聪明人也会做蠢事 /（加）斯坦诺维奇（Stanovich，K.E.）著 ；张斌译 . -- 北京：机械工业出版社，2015.7<br>书名原文 ：What Intelligence Tests Miss: The Psychology of Rational Thought<br>ISBN 978-7-111-50927-1</center></strong></p><hr><h1 id="导读-理性：重新定义人类认知能力"><a href="#导读-理性：重新定义人类认知能力" class="headerlink" title="导读　理性：重新定义人类认知能力"></a>导读　理性：重新定义人类认知能力</h1><h2 id="思考，快与慢"><a href="#思考，快与慢" class="headerlink" title="思考，快与慢"></a>思考，快与慢</h2><p>斯坦诺维奇敏锐地注意到这一点，既然“聪明人”会做“傻事”，那么就意味着认知科学对“聪明”的界定出了问题。因此，早在 1989 年，他参照学习障碍（那些智力测验正常，却学习成绩低下的人）的概念，发明了一个新的词汇：理性障碍（dysrationalia），用于描述那类智力测验正常，但思维能力低于人类正常水准的人群。正如书中所写：</p><p>什么是理性障碍？布什的认知缺陷没有影响到他在智力测验上的表现，但是削弱了他做出理性决策的能力。这些认知缺陷，是“理性障碍”（类比“阅读障碍”（dyslexia））的根源。我于 20 世纪 90 年代创造了这个词，用以引起人们关注智力测验的不足之处。我把理性障碍定义为，尽管具有足够智力，却缺乏理性思考和行动的能力。因此，总统并非不聪明，而是很可能患有理性障碍。</p><p>学术界的奇妙就在这里。高手过招，相互激发。“理性障碍”作为斯坦诺维奇所言的“模因”，又引出了一连串的新模因。首先是理性障碍概念启发了哈佛大学认知科学家帕金斯提出“心智程序”（mindware）概念。1995 年，帕金斯注意到理性障碍的普遍存在，因此在著作《出类拔萃的 IQ》第 1 章中引用斯坦诺维奇发明的词汇“理性障碍”来呼唤人们重视反省智力。为了解释人们如何提高反省智力，帕金斯发明了一个新词汇——心智程序，用来形容那些安插在人们大脑中的程序。我们要抵制那些坏软件，安装好软件。</p><p>结果，心智程序概念反过来启发斯坦诺维奇提出人类心智架构的“双过程理论”。他与英国认知科学家埃文斯审查了大量认知科学、神经科学与心理科学文献，注意到，无论是齐瓦·孔达在社会心理学领域提出的冷认知、暖认知，还是雷伯在教育心理学领域提出的内隐学习、外显学习，还是埃文斯在推理心理学领域提出的进程 1、进程 2，都在阐述人类大脑的运作可以区分为两种不同的认知过程。</p><p>因此，在 2000 年左右，斯坦诺维奇首先提出了“双系统理论”（dual-system），他认为人类的心智加工存在系统 1、系统 2 两个不同过程。斯坦诺维奇的“双系统理论”又启发了 2002 年诺贝尔经济学奖得主、认知心理学家卡尼曼。卡尼曼不仅在诺奖演讲中提及斯坦诺维奇的贡献，还将斯坦诺维奇与埃文斯提出的这一理论作为其 2011 年出版图书《思考，快与慢》的标题与图书架构。卡尼曼在《思考，快与慢》中写道：</p><p>基思·斯坦诺维奇与其长期合作者理查德·韦斯特（Richard West）首先提出了系统 1 和系统 2 这两个术语（他们现在更喜欢将其称为第 1 类型过程和第 2 类型过程）。斯坦诺维奇和他的同事用了几十年的时间来研究不同个体面对各种问题时的不同反应，这也是本书所关注的问题。</p><p>他们用多种不同的方式问受试者同一个基本问题：为什么有些人比其他人更容易受判断成见的影响？斯坦诺维奇在《理性与反省心智》（Rationality and Reflective Mind）一书中阐明了他的观点，对书中相关章节的主题进行了大胆而独到的论述。他对系统 2 的两个部分做了明确区分，这一区分十分明显，斯坦诺维奇称其为泾渭分明的两种“思维”。</p><p>其中一种思维（他称其为算法）负责的是慢思考和要求很高的计算活动。有些人在这些脑力活动中比他人做得更好，他们在智力测验中超越他人，并且在从一项任务转换到另一项任务上时，他们往往更快、更高效。不过，斯坦诺维奇认为，高智商并不能消除成见。要想消除成见，还需具备另一种能力，他称其为理性。斯坦诺维奇对理性之人的定义和我之前说到的“勤快人”有相似之处。他的核心观点是我们应当将理性和智力区分开来。在他看来，肤浅的或者惰性思考是一个反思缺陷，是一个理性错误。这是个引人注目且发人深省的想法。为了论证自己的想法，斯坦诺维奇和他的同事们发现，在某种情况下，球拍和球的问题以及其他此类问题比传统的智力测验（比如智商测试）更能反映出我们对认知错误的敏感度。关于智力和理性之间的区别是否会引出更多的新发现，时间最终会告知我们答案。</p><p>《思考，快与慢》的不少中国读者没有注意到这段话，甚至部分读者以为双系统理论是卡尼曼的贡献，其实不然。它来自斯坦诺维奇与埃文斯。尤其是英国认知科学家埃文斯，少为人知。但是实际上，他才是最初原创者，早在 1989 年，埃文斯便发表了相关的论文与著述。</p><p>正如卡尼曼上文中提及的肯定被人忽略的要点：“他们现在更喜欢将其称为第 1 类型过程和第 2 类型过程。”近些年来，斯坦诺维奇与埃文斯等合作的论文，否定了通过卡尼曼畅销书《思考，快与慢》的宣传而广为人知的“双系统理论”，而更倾向于使用“双过程理论”（dual-process）描述人类大脑工作的两种不同进程。为什么要否定自己提出的双系统呢？因为系统 1、系统 2 的区分，容易使读者造成一个错觉，以为人们的大脑真的存在两种不同的生理区域。然而，它们仅仅是加工机制而已，所以斯坦诺维奇现在更倾向于使用进程 1（Type 1Process）、进程 2（Type 2Process）来描述我们人类大脑存在的两个进程：快与慢。</p><p>·在快的心智处理进程，我们调用的认知资源非常少，像个猛张飞。猛张飞常常情绪化，依赖直觉，见多识广又很会联想，擅长编故事，经常下意识做出反应，但很容易被骗，以为亲眼所见就是事情全貌，任由损失厌恶和乐观偏见之类的错觉引导我们做出错误的选择。</p><p>·在慢的心智处理进程，我们想得多一些，调用的认知资源也更多，像个诸葛亮。诸葛亮动作比较慢、擅长逻辑分析，猛张飞搞不定的问题，都丢给他来处理。他虽然不易出错却很懒惰，经常走捷径，直接采纳猛张飞的判断结果。</p><p>这，就是斯坦诺维奇提出的人类心智“双过程理论”（见表 0-1）。</p><p><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-8.webp" alt="表　0-1">  </p><h2 id="自主心智、算法心智与反省心智"><a href="#自主心智、算法心智与反省心智" class="headerlink" title="自主心智、算法心智与反省心智"></a>自主心智、算法心智与反省心智</h2><p>卡尼曼问道：“关于智力和理性之间的区别是否会引出更多的新发现，时间最终会告知我们答案。”这个答案已在斯坦诺维奇的理性三部曲中揭晓。</p><p>它就是斯坦诺维奇提出的人类心智的“三重心智模型”。</p><ol><li>自主心智</li></ol><p>正如前文所述，我们知道可以将人类的心智区分为进程 1、进程 2 两种。斯坦诺维奇将进程 1 称为自主心智（autonomous mind），自主心智是我们通过进化与内隐学习习得。比如，我们看到蛇就会害怕，不同民族不同文化对女性的择偶偏好存在一致规律，这都是因为我们虽然生活在互联网时代，但我们的大脑来自石器时代。</p><p>除了来自进化习得的适应性组块，自主心智还包括情感化反应、学习习得的自动化反应与条件化反应等。举个例子，一旦学会骑自行车，就终身难忘，变为本能，这就是后天习得的自动化反应。</p><ol start="2"><li>算法心智</li></ol><p>进程 2 是传统智力研究重心。它与进程 1 最大的区别是需要工作记忆介入。什么是工作记忆？你可以将人类大脑想象为一个简化的输入输出装置。制约这个装置输入输出速率的是工作记忆，它是人类所有能力，包括阅读速度、记忆、注意、执行功能的瓶颈。这个瓶颈受制于人类进化早期出现的前额皮层。因为工作记忆的瓶颈，导致进程 2 是个“慢慢想，仔细计算”的过程。</p><p>在智力研究领域，目前集大成的是 1997 年诞生、影响至今的 CHC 理论，强调一般智力（G 因素）的重要性，将人的智力分为流体智力与晶体智力两种。流体智力更多受制于先天习得因素，包括记忆、处理速度、逻辑推理等核心能力；晶体智力则来自后天习得，如语言能力。其中最核心的智力元素是一般流体智力，也就是智力研究者常常称呼的大 G。斯坦诺维奇将传统智力，尤其是与一般流体智力相关的认知操作过程定义为算法心智：“维持认知去耦化是流体智力的重要机制。”</p><p>试看一位女士不幸死亡的例子：</p><p>场景 1：一位女性沿着海边悬崖散步，她试图爬上一块巨石，然而她所爬的并不是石头，而是一道深渊的边缘，她不小心跌落巨石而死。</p><p>这位女士不幸死亡，在认知科学家看来，是由于她的算法心智出问题了，计算失误。</p><ol start="3"><li>反省心智</li></ol><p>然而，问题来了。进程 2 仅仅包括流体智力与晶体智力吗？答案是，否。基于上述例子，继续来看：</p><p>场景 2：一位女士试图自杀，飞身跃下海边悬崖，撞到海边巨石而死。</p><p>显然，在场景 2 中，这位女士的算法心智工作正常，她准确地知道自己跟悬崖的关系，也准确地知道自己行为的后果，那么，她为什么还会做这类非理性行为呢？我们不得而知。既然聪明人会做傻事，那么就意味着我们需要进一步厘清进程 2，需要将理性从进程 2 中剥离出来，独立于传统意义上的智力。不仅仅是这位我们假设的女士会采取非理性行为，试看以下一个经典例子：</p><p>琳达 31 岁，单身，性格外向，哲学毕业。在学校期间关心歧视和社会公正问题，参加过反核武器抗议示威活动。那么，她可能是？</p><p>选项有以下两个：</p><p>A.她既是银行职员又是个女权主义者。</p><p>B.她是个银行职员。</p><p>当询问琳达更有可能是哪一种人时，结果表明，绝大部分人认为她更像 A。虽然选项 A 出现的概率要比选项 B 出现的概率小得多。不过人们似乎认为 A 是对琳达更自然的描述，更像她的代表性特征。</p><p>这就是来自卡尼曼的经典实验“琳达问题”。多数人在这样的问题上，都会回答错误，只有少数回答正确，而这跟他们的智力测验成绩无关。同样，认知科学研究发现大量类似“琳达问题”这样的认知偏差。试看另一个经典例子：</p><p>杰克正看着安妮，而安妮正看着乔治。杰克已婚，乔治未婚。请问是否有一位已婚人士正看着一位未婚人士？</p><p>A.是。</p><p>B.不是。</p><p>C.无法确定。</p><p>你会选择哪个答案？A、B 还是 C？如果你选择的是 C，恭喜你！你是正常的人类。一定会选错的那批人。研究表明，大约有 80% 的人会选 C。最后，再看一个类似例子：</p><p>球和球拍的总价是 1.1 美元，已知球拍比球贵 1 美元。请问球的价格是多少？</p><p>如果你脱口而出的答案是 0.1 美元，恭喜你，你又一次答错了！而上述题目，研究者发现，即使是就读于麻省理工学院、哈佛大学等顶尖学府的学生，都会答错。大脑总是个认知吝啬鬼，能省就省。这就意味着我们需要将进程 2 继续拆分为算法心智与反省心智。除了那类偏计算的算法心智外，斯坦诺维奇将这类对人类心智过程进行监控、帮助执行决策与判断的人类心智加工过程称为反省心智（reflective mind）。</p><p>斯坦诺维奇注意到传统智力理论作为考察人类认知能力的理论，缺失了两种人类心智运作机制：自主心智与反省心智。因此，斯坦诺维奇重新定义人类的认知能力，将其分成自主心智、算法心智与反省心智三种。这就是斯坦诺维奇的三重心智模型。其中：</p><p>·自主心智来自进程 1，同时受到进化与内隐学习影响，比如看到蛇就会害怕，或者学会骑自行车后不再需要思考。</p><p>·算法心智与反省心智来自进程 2。算法心智就是传统意义上智力测验考察的能力，比如记忆、处理速度、逻辑推理等。</p><p>·反省心智主要指对人类心智过程进行监控，帮助执行决策与判断，如行为经济学关心的非理性偏差等。</p><p>具体如图 0-1 所示。</p><p><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-9.webp" alt="图　0-1">  </p><h2 id="流体理性与晶体理性"><a href="#流体理性与晶体理性" class="headerlink" title="流体理性与晶体理性"></a>流体理性与晶体理性</h2><p>那么，理性是否可以习得？</p><p>斯坦诺维奇的答案坚定不移：理性可以习得，甚至比智力更容易习得。</p><p>仿照智力领域的 CHC 理论，既然我们可以将人的智力分成流体智力与晶体智力两种，那么同样地，我们可以将人的理性分为流体理性（fluid rationality）与晶体理性（crystallized rationality）两种。</p><p>其中流体理性指更多人类大脑早期习得的模式，比如人人都是认知吝啬鬼；晶体理性更多关乎后天习得的能够增进理性的知识，比如概率知识会有助于增进我们的理性。斯坦诺维奇整理了人类最重要的 13 个流体理性，具体如下。①认知吝啬鬼；②避免自我中心偏见与准确的自我评估；③决策时缺少上下文（框架效应与锚定效应）；④信念灵活性：积极的开放性思维；⑤信仰理性与真理；⑥倾向于寻求信息、享受思考与充分处理信息；⑦客观的推理风格；⑧对矛盾的敏感：倾向于寻求信念与判断之间的一致性；⑨自我效能感；⑩审慎贴现未来（双曲线贴现）；自我控制的技能；良好控制情绪调节；情绪调节对奖励。</p><p>既然我们的大脑会安装各种各样的心智程序，那么，有好的心智程序，也有坏的心智程序。斯坦诺维奇将能够促进人类理性的称为晶体理性促进剂（crystallized facilitators），主要包括 5 大类知识：①概率推理，如明白基线概率；②决策科学知识，如明白决策偏好；③科学推理知识，如明白自变量、因变量与控制变量，会区分相关与因果的不同等；④逻辑的一致性与有效性的规则，如明白证伪、证据的不同层级、个人经验作为证据的不足等；⑤经济思维，如明白什么是机会成本、沉没成本，什么是指数增长。</p><p>将世界最聪明的头脑汇聚在一个房间中的 Edge，曾经提过一个有意思的问题：有无数能够增进人们心智能力的科学概念，普通人最应掌握的是什么？答：双盲实验。《自私的基因》作者道金斯如是回答，你只需要理解其原则，领悟到为什么有必要这么做，就能感受到其优美。在这些晶体理性促进剂中，或许双盲实验是最重要的，如果每个学校都教学生做，那么会提高我们抵制坏的心智程序的能力。</p><p>同样，那些阻碍我们人类理性的心智程序，斯坦诺维奇则将其称为晶体理性抑制剂（crystallized inhibitors），主要包括 8 大类知识：①信仰超自然与迷信；②信仰直觉；③过度依赖民间智慧与民间心理学；④信仰“特殊”的专业知识；⑤金融误解；⑥屡教不改的反思（过度自信自己的反思能力）；⑦个人信念功能失调；⑧自我鼓励自我中心。</p><p>怎样才能避免大脑中被安装上这些坏的心智程序，斯坦诺维奇认为我们需要遵从以下几个规则。</p><p>（1）避免安装可能对你（宿主）产生生理伤害的心智程序，比如自残；</p><p>（2）关注影响你目标的心智程序，确保它不妨碍目标选择的多样性，比如让你只相信它的思想；</p><p>（3）关注同认识世界相关的信念和模型，努力只安装正确的心智程序，也就是真实反映世界的心智程序，比如不选择过激的价值观；</p><p>（4）避免拒绝对自身进行评估的心智程序，比如神秘主义色彩的思想。</p><p>可以说，斯坦诺维奇将人类对理性的认识提高到一个新的水准。甚至不夸张地说，他的理性三部曲著作秒杀其他一切行为经济学著作，将传统行为经济学辐射的 50 来种认知偏差，重新归类、编织为三类，用来指涉人们的理性思维水准高下，从而为我们提高理性提供了一条清晰可循的路径。斯坦诺维奇在编制一个全新的、类似智力测验的理商测验，可惜至今为止，还没编制完毕，大约 2016 年将完成此项工作。安人心智团队则在编制一个理商测验的中文版。</p><h2 id="如果一个人有两个大脑"><a href="#如果一个人有两个大脑" class="headerlink" title="如果一个人有两个大脑"></a>如果一个人有两个大脑</h2><p>那么，提高人类理性的意义何在？我们可以来玩一个思想实验。</p><p>在前文中，我们指出人类工作记忆作为大脑信息处理的瓶颈，制约了人们的记忆、注意等事情。因此，研究大脑的科学家之间有个玩笑：如果神灯只能增进你的一种能力，那么就请灯神将你的工作记忆能力提高一倍。然而，如果你的工作记忆真的提高一倍，这个世界会变得更好吗？</p><p>不会。</p><p>当我们人类的智力，比如工作记忆、注意力提高了几倍，变得更强，这个世界并不会变得更好，因为如果一个人有两个大脑——</p><p>那么，它只会加倍愚蠢。</p><p>当你的能力提高了一倍，那时如果你不具备理性思维，你犯错的概率也将伴随增加，给人类造成的社会危害也越大。正如常常为纳粹辩护、高呼希特勒万岁的海德格尔，他是举世闻名的思想家；又如精通文字的著名诗人庞德，在第二次世界大战期间专注于通过意大利广播为法西斯宣传；第二次世界大战后纽伦堡大审判，绝大多数纳粹战犯的智商高于 125 分，最终策划大屠杀的 14 人中，有 8 人拥有博士学位。</p><p>这就是认知科学历史上著名的 IQ 之辩。认知心理学家乔纳森·巴伦（Jonathan Baron）在 1985 年的著作中介绍了上述思想实验。巴伦让我们设想一下，如果能给每个人服用一种无害的、又能增加他们的算法心智的药，结果会怎样呢？从人类幸福感角度来看，发生戏剧性变化的可能性很小。你不可能在服药后的第 2 天就能更好地实现自己的愿望，很可能依然重复昨日的事情，只不过效率更高。</p><p>通过上述思想实验，可以再次强调：“如果一个人有两个大脑——那么，它只会加倍愚蠢。”荷兰学者范博克塞尔甚至整理了一本图书，叫作《痴愚百科全书》，记录了人类生活中各式各样的痴愚。</p><p>对于身处信息大爆炸时代的人类来说，理性更具备非凡意义。随着进化心理学的流行，人们普遍意识到我们携带着石器时代大脑生活在互联网时代。不过，人们并没有普遍意识到，大脑刻下 3 个历史时期印记，分别是：</p><p>·A 周期：数百万年，从 600 万年前人类与猿人分离后到 200 万年的更新世；</p><p>·B 周期：数万年，符号语言诞生后到现代科学诞生前夕的数万年；</p><p>·C 周期：数百年，近代科学诞生后的数百年。</p><p>在不同历史周期，人类各种认知能力发育不平衡。在 A 周期，选择贫乏、忙于狩猎的男人与忙于采集的女人，需要大幅度改善视觉听觉与记忆，调整身体各个部位，比如让喉咙处于咽部下方，为语言诞生做好准备，此时更多习得与强调记忆、注意力等智力元素。在 B 周期，我们选择权多了一点，此时已诞生符号语言，主要习得与强调经验和学习。有的人作为奴隶或佃农，通过积累捕猎、种地等经验，扩大生存权；有的人则拥有丰富的文字能力与特殊专长，伴随而来的是相应的生存特权。在 C 周期，身处信息爆炸时代，新学科层出不穷，需要更频繁地从一个领域切换到另一个领域，此时，反省心智隆重登场，即使是普通大众，也需要提升理性。</p><h1 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h1><p>　　现行的智力测量工具与理性决策测量却没有丝毫联系。上述两个原因导致一些令人费解的现象，比如，“聪明人也会做蠢事”。如果考虑到人们测量评估智力的方式，这种现象就很容易理解了。如果“聪明”意味着智力测验分数高，“蠢事”指糟糕的决策，那么，造成这种现象的原因显而易见：智力测验没有评估适应性决策能力。如果你因“智商高却做蠢事”现象而感到惊讶，就说明你骨子里默认所有优秀的心理属性都伴随着高智商一起出现。比如说，理性思维一定与高智商共存。不过，学者们的研究结果不断对这个假设提出质疑。卡尼曼和特沃斯基的研究发现，理性思维技能与智力测验成绩之间只有小到中等强度的相关性。这种低相关性不足为奇，因为智力测验压根儿没有对理性思维技能进行评估。</p><h1 id="第一部分-理性之心"><a href="#第一部分-理性之心" class="headerlink" title="第一部分 理性之心"></a>第一部分 理性之心</h1><p>　　智力测验并没有测量理性，这就是聪明人会做蠢事的原因：所谓的“聪明”仅仅是高智力，而非高理性。<br>　　人类存在两种信息加工机制：快与慢。快的类型一加工包括自主心智，慢的类型二加工包括算法心智和反省心智。算法心智就是传统的智力，而反省心智就是理性思维。</p><h2 id="第1章-乔治·布什的心智：有关智力测验缺失什么的线索"><a href="#第1章-乔治·布什的心智：有关智力测验缺失什么的线索" class="headerlink" title="第1章　乔治·布什的心智：有关智力测验缺失什么的线索"></a>第1章　乔治·布什的心智：有关智力测验缺失什么的线索</h2><p>　　他不太有耐心，容易动怒；有时说话没有经过仔细考虑，非常武断；对事物缺乏好奇心，常表现得一问三不知。<br>　　大家都同意布什总统的思维多少有点问题：怠于思考、缺乏认知弹性、闭合需要、信念固着、确信偏差、过度自信以及对前后矛盾不敏感。这些都是心理学家研究过，且能在一定程度上进行测量的认知特征。另外，这些特征也是智力测验没有触及的思维风格的典型例证。因此，一个人有上述各种认知缺陷，与此同时仍有着相对较高的智商，两者同时出现并不值得大惊小怪。</p><p>　　理性障碍定义为：尽管具有足够的智力，却缺乏理性思考和行动的能力。因此，总统并非不聪明，而是很可能患有理性障碍。</p><p>　　我们诧异于医生在金融投机中输掉所有的积蓄，也为受过训练的科学家信仰神创论而感到震惊。我们无法理解为什么受过高等教育的专业人士会去墨西哥找赤脚医生看病，而不选择经过科学检验的医疗方法。我们迷惑于有些大学历史教授否认犹太人大屠杀，也为在高中当老师的邻居想拉我们做传销而大为吃惊。简而言之，我们认为聪明人相信荒谬之事或做出糟糕的决策是非常矛盾的事情。<br>　　事实上，我们不该因此而感到惊讶。一旦我们从当代认知科学的语境中理解这句俗话，就不会因为“聪明人做蠢事”的现象而大惊小怪了。我们常会认为这是特殊的现象，这正说明了我们用来描述心理活动的日常用语存有缺陷——而心理学家谈论诸如智力等概念的混乱方式，恰恰助长了这种缺陷的发展。</p><p>　　聪明人就该是智力高的，愚蠢则意味着智力欠缺，根据逻辑学中的矛盾律，一个人不能既智力高又智力低，“愚蠢的聪明人”，这种表述是逻辑不通的。</p><p>　　斯腾伯格认为对此类例子更准确的描述该是聪明人做事荒谬。哈佛大学的认知科学家戴维·帕金斯（David Perkins）则更喜欢用荒唐一词来形容这些例子。一个行事荒谬的人“缺乏判断力、不讲道理、不理智、不谨慎”。这就从“愚蠢”和“笨拙”中区分出我们所希望关注的部分——做出明智（或不明智）判断的能力倾向，而与智力（敏捷思维）无关。</p><p>　　广义智力理论把聪明（智力）定义为适应环境的能力或做出明智决策的能力，使得聪明人不断做出荒谬行为（适应不良、判断不当或行事轻率）这样的现象无法得到解释，我们也会因此认为那些不断做出荒谬行为的聪明人其实并不如我们所想的那么聪明。</p><p>　　对民众智力观念的研究表明，人们倾向于接受广义智力理论的观点。</p><p>　　广义智力理论把“聪明做傻事”现象中的两种独立因素合并成了一个概念。“聪明”的部分是 MAMBIT，“傻事”的部分则指向能否明智行动、合理决策以及依势而为的能力。广义理论用智力一词把这两者（MAMBIT 和合理决策）混为一谈，给予 MAMBIT 特权地位的同时却贬低了非 MAMBIT 能力的价值。这都是因为 MAMBIT 有自己的名字（智商），能够被明确地（使用智力测验）测量，并且其上百年的历史使得每个人都对其有所耳闻。如果“傻事”的部分也有合适的称谓，能够被准确地测量，而不把它看作智力的一部分，也许就可以得到学术界和民间足够的重视了。其实，这另外的部分也不是没有名字，细数起来有一长串，比如适应性行为、明智的决策、有效的行为调控、合理的目标排序、自省能力以及证据校准。一旦其中某些特质缺失，就会造成行事荒谬、愚蠢或笨拙等后果，而这些特质正是认知科学家在探索理性思维时的研究对象。</p><p>　　关于智力的所有主要疑惑，学者都已找到了满意的答案。比如，我们已经知道智力约有一半源自遗传（由基因决定），另一半源自环境；我们知道智力对于人生成就起着重要作用（这就是为什么有些人可以成为人生赢家）。但是，人的命运轨迹又不是完全由智力决定的。那些智力测验没有涉及却对个体产生重要影响的心理能力是学者近期关注的焦点。其中一些能力的缺失是导致理性障碍产生的罪魁祸首。</p><p>　　大脑的运作可分为两种不同的认知过程，功能各不相同，各有优劣。</p><p>　　类型一加工的本质特征是其自主性。类型一加工又称为自动化加工，原因如下：①执行迅速；②只要触发性刺激出现，就会强制性执行；③不会加重中枢处理能力（central processing capacity）的负荷（换句话说，就是不需要有意注意）；④不依赖高层次控制系统的信息输入；⑤可以平行运作，而不会相互干扰，也不影响类型二加工。类型一加工包括：情绪对行为的调控；由进化心理学家提出的，为解决特定适应性问题而存在的封闭性心理模块；内隐学习的加工过程；过度学习联结而产生的自动化激活。由于类型一加工的计算负担较小，因此成为人类信息加工的默认方式。类型一加工有时又被称为适应性无意识，以强调这种加工方式在完成很多重要任务时所发挥的作用，比如面部识别、本体感受、消解语言歧义、深度知觉等，这些加工都不在意识范围之内。类型一也常常称作启发式加工，意指其速度快、自动化、计算负荷低，以及无须对所有的可能性情况进行大量分析。<br>　　类型二加工的关键特质与类型一加工截然相反。类型二加工速度相对较慢，相对来说计算负荷也较高，它是意识的焦点。多种类型一加工任务可以同时执行，是平行式加工；而类型二加工只能在同一时间处理一个或几个任务，是序列加工。通常来说，类型二加工是基于语言和规则的，心理学家称之为控制加工。当我们说到“有意识的问题解决”时，指的就是这一类加工。<br>　　类型二加工的一个重要功能是压制（override）类型一加工。由于类型一加工速度快但粗糙，所以，很多时候类型二的压制是非常有必要的。在解决问题或做决策时，启发式加工可以帮助我们找到答案的大致范围。但是，当一些极为重要的情境（财务决策、公平裁判、雇用抉择、司法判决等）需要精细加工和分析时，启发式加工就无能为力了。启发式加工在良性环境下运行良好，可是一旦到了恶性环境，就会带来糟糕的后果。</p><p>　　在某些特殊的情景下，如果未能成功压制类型一加工，不同种类的类型一加工（情绪管理、达尔文模块、联结与内隐学习等加工过程）都有可能导致非理性行为反应。在后面的章节中，我们会讨论人是如何通过属性替代（attribute substitution）而成为认知吝啬鬼（cognitive miser）的。所谓属性替代是指使用容易衡量的特质来替代较难衡量的特质，时常以牺牲准确率为代价。比如说，认知吝啬鬼会用回忆起来毫不费力的鲜活记忆或者最突出的属性，替代那些需要费力获取的事实。但是，当我们对事关重大的情境进行风险评估时（比如与孩子有关的活动或环境），我们并不想用不假思索的鲜活印象替代对情境的仔细考量。在这种情况下，我们就希望类型二加工能够压制认知吝啬鬼的属性替换。</p><p>　　需要以更优化的反应替代原有反应。那么，更为优化的反应从何而来呢？一种答案是，它们源自类型二加工所独有的假设性推理和认知模拟。当我们进行假设性推理时，我们创建一个临时的模拟世界模型，并在这个模拟世界中测试各种行为及其后果（或是备择原因）。<br>　　为了能够进行假设性推理，一项关键能力是我们必备的，这种能力就是不将真实世界表征与假想的情景相混淆。比如，如若个体正在思考的备选目标与当前目标状态不同，他必须能够同时表征出当前目标和备择目标，并且保证它们之间泾渭分明。与之类似，我们需要能够区分出即将要采取的行动表征和认知建模中尝试过的备择行动表征。在行动实施阶段，前者一定不能受到后者的影响。否则，我们将要采取的行动将会被曾经思考过的备择行动方案干扰。<br>　　认知科学家将这种表征状态混淆的现象称为表征滥用（representa-tional abuse）。发展心理学家在试图探索儿童假装行为和假装游戏的起源（比如，小孩说“这根香蕉是电话”）时，表征滥用是他们研究的主要问题之一。儿童必须能够清晰分离香蕉与电话在心智中的表征，才能在游戏中把香蕉当作电话来玩。在一篇广为人知的文章中，发展心理学家艾伦·莱斯利（Alan Leslie）讨论了儿童假装的逻辑，提出了“去耦操作”（decoupling operation）一词，如图 3-1 所示。图中，初级表征直接映射世界，和 / 或直接与某个反应相连。为了使假装模式化，莱斯利提出了次级表征。次级表征是初级表征的复制品，但与真实世界相分离，从而能够被操控，即模拟机制。</p><p><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-1.webp" alt="图 3-1　认知去耦">  </p><p>诚如莱斯利所述，正在进行的模拟并不妨碍初级表征对外部世界的追踪：“与此同时，原版的初级表征继续保有专属的参照物、事实和事物之间的关系，而初级表征的拷贝则上升至第二位（1987，p.417）。”然而，从认知能力的角度来分析，处理次级表征，即保持它们的去耦状态，对认知能力的要求很高。为何去耦过程是高能耗的呢？进化理论给出了很好的解释。在我们逐渐进化为强烈依赖认知模拟的动物的过程中，有一点非常重要，那就是我们不能长时间地“脱离”世界。因此，处理对世界的初级表征必然有着独一无二的特殊地位。去耦的困难之处会表现在某些行为方面，比如苦苦思索时我们常常会闭起眼睛（或者抬头看着天空，或者转移视线）。此类行为旨在试图阻止初级表征发生改变，从而干扰正在进行模拟的次级表征。</p><p>　　我们关注的重点是次级表征与世界的分离（去耦），并在类型二加工进行模拟时保持这种去耦化。这种加工需要消耗大量计算资源，从而限制个体完成其他类型二加工。去耦操作可能是导致类型二加工具有序列性特点的主要推动者。</p><p>　　通过终止类型一加工触发的早期表征，个体行为通常可以得到优化。类型二加工（慢、序列式、消耗较多计算资源）需要对类型一加工进行压制，并保持认知去耦过程，通过在世界模拟模型中对备择反应进行仿真模拟，以确保想象过程的顺利执行。该图体现了我们之前讨论的压制功能以及模拟的类型二加工。图中左一箭头表示类型二加工接收来自类型一加工计算后的信息。这些被称为“前注意”的加工过程确定了绝大多数类型二的加工内容。</p><p><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-2.webp" alt="图 3-2　初级双重加工模型">  </p><p>　　智力测验并不关注自动化的类型一加工，而是重点对类型二加工进行评估。智力测验测量的是本章的焦点之一——认知去耦。如同所有的类型二加工一样，认知去耦需要消耗大量认知资源。去耦操作使得人们可以进行假设性思维。在心理模拟过程中，必须不间断地进行大量的去耦操作，维持模拟的同时保持去耦表征，这些操作体现了大脑的计算能力，也是智力测验评估和测试的能力。在同时关注执行功能和工作记忆的研究中，这一点体现得尤为明显。工作记忆和执行功能与智力测验之间的相关度都非常高。所有的这些任务都需要保持去耦操作，这也许是工作记忆 / 执行功能任务上的个体差异和智力上的个体差异存在高度重合的原因。</p><p>　　与其说“维持认知去耦化是智力的重要方面”，不如换一种说法“维持认知去耦化是流体智力的重要方面”。此处我引用了上一章中提到的卡特尔-霍恩-卡罗尔智力理论。流体智力（Gf）反映了个体在多个领域中表现出的推理能力，特别是在新异情境中。晶体智力（Gc）反映了文化学习过程中获得的陈述性知识。因此，类型二加工与流体智力关系密切。</p><p>　　认知心理学家做了大量工作，认为我们可以假定大脑中存在特定的信息处理机制（输入编码机制、知觉登记机制、短时和长时记忆存储系统等）。例如，一个简单的字母发音任务也许会涉及字母编码、短时记忆存储、与长时记忆中的已有信息进行比较等过程，如果经过比较后发现能够与已有记忆配对，则做出决策，执行动作反应。</p><p>　　反省心智关注于系统目标、与目标相关的信念以及基于当前系统目标和信念的最优化的行动。只有在反省心智分析层面，理性才会参与其中。更为重要的是，算法心智的效率可以被量化评估，但理性的效率却无法被评估。</p><p>　　算法心智与反省心智的区别还体现为个体在认知能力和思维倾向方面的差异，已有充分证据表明这两者之间存在本质性区别。如前所述，认知能力测量实则是对算法心智效率的评估。思维倾向的称谓在心理学中尚存争议，不同的学者看法不一，比较常用的是“思维倾向”和“认知风格”两种说法。许多思维倾向方面的研究将关注点置于信念、信念结构，以及信念形成与改变的态度。另外，个体的目标和目标层级结构也属于思维倾向的研究范畴。心理学工作者已对积极开放的思维、认知需求（乐于思考的认知倾向）、对行为后果的深思熟虑、迷信思想和教条主义等思维倾向 展开了深入的研究。<br>　　有关这些思维倾向的文献数量繁多，在此我无意赘述。需要提请大家注意的是，经由思维倾向评估所得出的认知倾向，反映了人们在以下几方面的认知属性：为了做出决策而收集信息的认知倾向、为了得出结论而寻求多元观点的倾向、面对问题时思维广度的认知倾向、根据证据矫正已有观点的倾向、采取行动前考虑后果的思维倾向、做决策前权衡情境的倾向、寻求细微差别以避免绝对论的倾向。简而言之，思维倾向的个体差异可以通过对反省心智操作的测量而得出，具体包括：目标管理、认识价值观、自我管理认识论等。以上这些心理特质是支撑理性思维和行动的基石。</p><p>　　我们已将类型二加工分成了两类：反省心智和算法心智。如果再加上类型一加工的别名“自主心智”，就构成了我们接下来要讨论的三重加工模型。三重加工模型与双重加工模型有所不同，双重加工模型不重视个体差异，因此会错过类型二加工过程中的关键个体差别。</p><p>　　个体流体智力的差异源主要是心智加工效率的个体差异，而思维倾向的差别反映的是反省心智的个体差异。反省心智和算法心智的个体差异都是连续性的，不过，自主心智的个体差异很少是连续性的。如果自主心智出现问题，这就意味着某些认知模块遭到严重损坏，所带来的结果是自闭症、失认症和失读症等非连续性认知紊乱现象。</p><p>　　有些大样本研究在对数千名被试进行分析后表明，智力与有些思维倾向（例如，积极开放的思维、认知需求）之间只有中等偏下水平的相关（低于 0.3），有的思维倾向（例如责任心、好奇心、勤勉）与智力甚至接近于零相关。</p><p>　　智力所圈定的概念范围与智力测验的实际测量内容之间存在巨大分歧。</p><p>　　理性涉及最大化的目标实现，而目标实现的过程有赖于明智决策和信念与证据的优化契合。反省心智的思维倾向是通往这些目的的手段方式。当然，一些得到广泛研究的思维倾向，比如反省和灵活性等，对于理性思维和行为是必不可少的。但是，“优秀”并不一定意味着追求“最大化”。举个例子来说，个体没有必要在反省维度上不断追求卓越，反省维度最大化的人会迷失在无穷尽的思考犹豫过程中，可能永远都无法做出决策。与之相类似，个体也没有必要追求思维灵活性的最大化，这样的人有可能会成为病理性不稳定人格。反省和灵活性都是“好”的认知风格（由于多数人欠缺这两者，因此会形成“越多越好”的错觉），但是，这并不意味着要追求这两种思维倾向的最大化。</p><p>　　在排除掉智力因素带来的差异之后，自律（反省心智中反应管理和抑制的指标）可以预测八年级学生的平均学业绩点。追踪研究数据表明，学生在学期间平均学业绩点变化的最佳预测源是自律，而非智力。人格变量中的责任心涉及反省心智的高级管理属性，它可以独立于智力预测学业表现和工作绩效。</p><p>　　智力测试评估的是认知去耦能力，不可否认这种心智技能非常重要，但是，它只不过是理性思维和行为所必需的三个要素之一。另外两个要素是心智程序和思维倾向，这两点才是滋养理性思维的温床。</p><p>　　教育和现代化增加了去语境化的思维方式，另外，语言也被用作一种去耦化工具（Evans and Over，2004）。这些机制通过增加心智程序（比如短时记忆中的复述策略）的自动化程度，使其操作时占用更少的认知资源，进而提升心智程序增加算法心智功能，尤其是去耦化操作的功能。</p><p>　　如果在丛林中遇到雄狮，当我那擅长内省、凡事深思熟虑的祖先还在思考接下来该做何反应时，恐已成为狮子的腹中午餐。但是，他那不假思索迅速逃命的表哥却得以幸存……很多证据表明，我们人类远远没有自认为的那样遇事都会进行审慎思考。</p><p>　　试想我们现在正身处股票市场极其动荡的 1998 年年初到 2001 年年末这段时间。在这 4 年间，第一手技术价值共同基金（Firsthand Technology Value mutual fund）表现良好，公司公布的年盈利率为 16%，也就是说，这只基金在这 4 年中平均每年净赚了 16%。但是，这只基金的投资者在这 4 年间的平均亏损率约为 31.6%。1998<del>2001 年，当第一手技术价值共同基金的年均盈利率是 16% 时，投资者在这只基金上总计亏损了 19 亿美元（是的，19 亿！）。为何会发生这种事情？为何一支年盈利率为 16% 的基金，能够让同期的投资者损失如此惨重？<br>　　反思片刻，即有答案。年平均 16% 的投资收益率对那些 1998 年买入，之后一直持有该基金，直到 2001 年卖出的投资者来说是成立的。但是，多数投资者在这 4 年间并非一直持有该基金，而是在不同的时间点认购，并在不同的时间点赎回——投资者常常会反复多次认购、赎回。第一手技术价值共同基金在那段时间的表现非常不稳定。当它盈利时，盈利率很高；而当它亏损时，亏损率也很高。现在，上述悖论就很容易解释了（某种程度上说明了理性障碍发生的广泛性）。投资者之所以在这只基金上亏损巨额资金，是因为他们恰巧在错误的时间认购和赎回。换句话说，他们通常会在基金的高价位点上买入，并在低价位点上卖出。加之这只基金的波动幅度较大，当它升值时会升至非常高，而当它跌价时会跌至非常低，所以导致了这只基金投资者的巨额亏损。<br>　　这类“被自己打败”的行为并非仅仅发生在第一手技术价值基金这一则案例中。例如，同时期的骏利墨丘利基金（Janus Mercury Fund）的年均盈利率为 13.9%，但是，这支基金的投资者却是亏损的（年均亏损率 7.4%）；富达积极成长基金（Fidelity Aggressive Growth）年均盈利率为 2.8%，而他的投资者年均亏损 24.1%；景顺动力基金（Invesco Dynamics fund）的年均盈利率为 7.0%，但是它的投资者却每年亏损 14.4%。财经记者贾森·茨威格（Jason Zweig）在研究了 1998</del>2001 年间 700 家共同基金的表现后，他注意到“很显然，基金投资者的实际收益通常远低于基金公布的预期收益，有时缩水率甚至高达 75%”（2002）。茨威格告诉我们，他研究的这 700 家基金的平均年收益率为 5.7%，但是，投资者的平均年收益率仅为 1%。茨威格引用福特基金会的劳伦斯·西格尔的话说：“如果基金投资者的盈利率真的如基金公布的利润数据一般，他们早就已经赚得盆满钵满了。为何并非所有的投资者都有盈利？因为人们不断地在搬起石头砸自己的脚”。那些“搬起石头砸自己的脚”的人无疑是不理性的。由于多数股票投资者都来自于高收入群体，而高收入与高学历有密切关联，因此，我们有理由相信，这类大规模的投资表现欠佳行为（投资者在面对潜在盈利机会时，却总计损失了 2000 亿余美元）表明了理性障碍发生的广泛性。</p><p>　　许多人对他们的知识储备量过度自信。他们自认为知道的事实，远比真实知道的要多，这些人认为自己处理信息的速度和效率优于他人。对于一个股票市场投资者来说，这是一种非常糟糕的心理特质。大盘指数的变化是基于极其复杂的技术分析运算产生的，大盘的点数和股票的价值变化是对各种信息进行充分、全面的分析后得出。对于“周末投资者”来说，他们认为自己可以发现在分析过程被忽视的信息，并试图从中牟利。这种想法是非常愚蠢的。数以千计的投资者（多数拥有较高智商）饱受这种非理性思维特质的折磨。结果，他们的这种过度频繁交割的投资行为拉低了总的投资回报率。频繁交易增加了额外成本，由于他们的交易行为并非基于什么高深的知识，他们希望把握最佳“市场时机”（表现为反复地进出市场）的企图反而减少了投资回报。讽刺的是，不那么自信的投资者倾向于固守“购入并持有”的保守策略，而这恰恰被私人金融专家认为是最为明智的选择。这种对投资行为影响较大的心理特质被称为过度自信倾向。心理学家已开发出一些测评工具对其进行评估。</p><p>　　第二种致使人们犯投资错误的心理特征，在多数情况下是非常有用的。人类大脑通过进化发展出不断地搜寻各种既定模式的认知方式。我们不断寻求发生在我们身边的事物间的相互关系、究其原因并寻找其意义。这种思维特征无疑是极具适应性的，但是它带来的副作用会让人们给随机事件赋予意义。这种行为模式时常发生在股票投资者身上。股票大盘以及各只股票的走向不断受到一些不可预知事件的影响，但这些随机事件对于公司的分红（股票长期价值的主要决定性因素）并无影响。投资者试图对这些随机事件进行解读并做出反应，这种做法无疑是非常错误的。有一些投资者对消息的反应阈限非常低，任何风吹草动就会让他们过度反应。这种为随机事件寻求解释的心理倾向导致投资者频繁交易，进而减少了长期收益。<br>　　导致过度频繁交易的第三个因素是“短视损失厌恶”（myopic loss aversion）。这个理论是 2002 年诺贝尔经济学奖获得者、认知科学家丹尼尔·卡尼曼的获奖成果是判断与决策的前景理论（prospect theory）的组成部分。卡尼曼和他的合作者阿莫斯·特沃斯基提出，人们对预期损失的主观评估感受大约是预期收益的两倍。也就是说，损失 100 美元导致的痛苦强度，是获得 100 美元诱发愉悦感的两倍。“损失厌恶”（loss aversion）的概念就源自这种现象。“短视”是说人们监控投资的时间尺度与投资期限的时间尺度出现不同步的现象。例如，一位 40 岁的投资者在进行退休投资时，如果他每小时、每天，甚至每周都检视自己的投资状况的话，这就是“短视”。金融专业人士建议这位投资者以每月一次的频率检视自己的投资状况即可，最理想的状态是每年四五次。<br>　　等一下，通常意义上讲，不是获取的信息越多越好吗？为何频繁地对财务状况进行监控却成犯错误了？对，大错特错。股票市场风云莫测，涨跌不定。人们害怕损失（请回忆“损失厌恶”），因此，会对股票市值下降做出更为强烈的行为反应。每一次股票下跌，都诱惑着投资者将股票卖出变现，进而避免或减少损失。那些频繁监控投资状况的投资者，他们在一次次地检视自己的投资账户时，面临着更多的诱惑，有更多的“机会”将股票卖出。相对比那些不经常查看投资情况的投资者来说，对自己账户状况了如指掌的投资者更容易臣服于卖出诱惑。当投资者将股票卖出变现之后，那些勤于监控账户状况的投资者常常能第一时间注意到跌势已止，价格开始上涨，简而言之，局势安全了，于是投资者又开始跃跃欲试。一旦他们在这种情况下买入，那么，他们就完成了股票市场上最忌讳的事情：高买低卖。<br>　　上述探讨的 3 个因素——过度自信、对随机事件的过度反应以及短视损失厌恶，是已被广泛接受的用于解释个人金融领域不良行为的理论。</p><p>　　大脑有两个特征致使人类不够理性。一个是处理信息方面的缺陷，另一个是内容缺陷。对于这两种认知缺陷，智力均未提供让人类能够不受影响的免疫力。<br>　　人类在思考问题时，大脑对认知资源的分配和使用极为吝啬，我们称为“认知吝啬鬼”。围绕着认知吝啬鬼开展的研究是过去 30 年间心理学和认知科学领域的重要研究主题。当遇到问题时，我们的大脑有多种可用的信息计算机制。但是，这些机制各有利弊，都需要在功率和消耗之间有所取舍。有些认知机制有强大的计算功率，它们可以非常准确地解决大量问题。但是，这种高功率需要付出一定的代价，即占用大量的注意资源，运行缓慢，并且会干扰到同时进行的其他想法和行为。相比来说，另一种信息加工机制的功率较低，但优点是低能耗。有很多问题难以使用这一类机制进行解决，并且这类加工机制在处理信息时的准确性无法得到保证。但是，它们的加工速度快，与同时进行的其他认知任务互不干扰，仅需要极少的专注力即可。它们就是我们在第 3 章讨论过的类型一加工，也称作启发式加工。<br>　　由于人类大脑默认的加工模式是低能耗的类型一加工，因此，人类在多数时候都是认知吝啬鬼。当人类同时加工处理两个任务时，其中一项任务占用的认知资源越少，意味着可被用以完成另一项任务的认知资源越多。这种机制看似是具有适应性的。然而，这种对简单认知机制（认知吝啬鬼）的默认偏好，意味着人类通常是不够理智的。在现代社会中，越来越多的决策需要我们做出精确的反应，这种精确性远非启发式加工可以达到的。类型一加工过程所能够提供的通常是与最佳反应接近的快速解决方案。但是，现代生活对于信息加工的准确性有着越来越高的要求。对于那些依赖自动加工机制的人来说，现代科技社会可谓危机四伏。蓬勃兴起的广告业，正是利用了这种加工机制的缺陷。市场经济体制下，到处都潜伏着试图利用人类的认知缺陷赚上一笔的陷阱，自动化加工机制日益威胁着人们的幸福生活。认知吝啬鬼将严重阻碍个体目标与理想的实现。</p><p>　　人类总在想尽办法减轻认知负担，试图让自己尽可能地处理更少的信息，然而，正是这种想法致使我们常常会深陷不理性的泥潭。人类为什么是认知吝啬鬼，而不是完全理性人？一言概之——进化。进化塑造了人类今日的认知机制，进化造就了人类的非理性。<br>　　进化为何没有将人类塑造为完全理性人？ 理性是基于“最大化原则”进行定义的（以工具理性为例，使行为的预期收益最大化）。而自然选择是基于“更好”原则。正如理查德·道金斯所说：“自然选择从当前可用选项中选出那个‘更好的’方案……进化塑造的动物并非是完美设计方案的成果，也并非差强人意的无奈选择，而是历史变更过程中同时期诸多选项中那个更为适宜的选择”（1982）。简单来讲，进化论中变异与选择性保留的逻辑是基于一个生物相对于另一生物体的繁殖优势来说的，而非基于某一个特征的完美优化（包括理性）。有一种说法认为，进化应该被描述为幸存的“适应者”，而不是优胜劣汰后的“最佳选择”。<br>　　生物体在进化过程中不断地增加基因的繁殖适应性，而非人类理性。适应性的增加并不一定会带来理性的提升。</p><p>　　进化并不能保证人类拥有完美的知识理性。例如，进化有可能不会选择高度准确的知识性思维机制，因为这种机制会消耗掉太多的资源（例如，金钱、能量和注意力）。信仰形成机制并非以最大化保存事实为原则的另一个原因是“相对比一个需要深思熟虑、证据确凿才能做出的判断来说，胆小甚微、风险厌恶的推论策略，即基于少许的证据快速得出即将身临大敌的结论，通常会带来较多的错误信念，较少的真实信念。然而，自然选择却钟爱这种不可靠、易出错、风险厌恶的策略。因为自然选择毫不在乎事实与真相，它只关心是否能够繁殖成功。”</p><p>　　目标和欲望领域的情况与之类似。进化的目的并不是最大化人类的快乐与幸福。近些年情感预测领域的研究表明，人类其实并不擅长做出让自己开心的选择。这个结果完全在意料之中。大脑中存在快乐神经回路的原因是鼓励我们做出有利于基因传递事情（例如生存、繁殖、帮助亲戚），而非为了使我们享受更多的快乐时光。<br>　　进化之所以不能确保人类具有工具理性，还有另外两个原因。第一，由于环境的剧烈变化，原本根植于大脑中的许多基因设定的预订目标已无法达成。例如，千百年前，人类需要积累尽可能多的脂肪以获取更多的生存机会。脂肪越多，意味着可以活得越久。在远古时代，人类的平均寿命很短，只有少数人类可以活到适于繁殖的年龄，更长的寿命意味着更多的基因传递机会。简而言之，当储存能量是一件对生存和繁衍有益的事情时，人类通过进化改进了储藏和使用能量的生理机制。然而，在当今这个麦当劳随处可见的现代科技社会，上述生理机制已经不能达到提高繁殖概率的既定目标，这种生理机制背后的目标已经与相应的进化情境剥离开来。最后，由于理性标准的文化变革速度远远快于人类进化的速度，因此，提供了大量将效用最大化机制与基因适应最大化这两者分离的机会。我们的进化史并没有提供给我们一个默认设置为理性的大脑。<br>　　第二，正如在第 3 章中讨论过的，对心智多重加工理论的研究告诉我们，大脑的某些处理过程时常与另外一些处理过程发生争斗。我们的部分心智是工具理性取向的——致力于实现个人目标。反之，脑内另一些处理过程倾向于简单粗暴取向——致力于实现远古基因的目标，而非是当下的个人目标（比如，许多类型一加工）。进化使得一些认知吝啬鬼信息加工倾向成了默认选项。在千百万年前，这些默认方式也许是非常棒的，但是，在环境发生了剧烈变化之后的今天，这些默认选项已不能很好地服务于人类需要了。</p><p>　　进化无法保证认知科学领域中定义的“理性”，即最大化主观期望效用（Gauthier，1975）。</p><p>　　自然选择的“择优”机制，参见 Cosmides 和 Tooby 的研究（Cosmides&amp;Tooby，1996）。Ridley 独辟蹊径，称之为进化“短浅”，因为它更关注即时利益而非长期策略。与此相反，人类理性必须关注个体的长期利益。</p><p>　　人类大脑天生懒惰。在没有具体线索提示个体需要避免最简化信息处理（比如，考试就是一种提示线索）的情况下，人们通常会成为认知吝啬鬼，受困于非理性。不过，认知吝啬鬼在信息处理时的方法也并非千篇一律，他们会采取多种多样不同的策略，这就意味着每个人的认知 / 行为特征都有所不同，人类的理性程度存在着个体差异。另外，我们还会发现，策略多样性与智力之间几乎没有相关关系。<br>　　在本章中我已提到过，人类大脑不理性的主要特征有两种：一是信息处理过程问题，二是内容问题。所谓信息处理过程问题就是受到认知吝啬鬼的影响。内容问题是指我们在进行理性的思维和行为时，所必需的某些具体知识结构。当理性行为所必需的思维结构缺乏时，我将其定义为“心智程序问题”，参考的是帕金斯对“心智程序”的定义，即个体在决策和问题解决时，能够从记忆中提取出的规则、知识、程序和策略。在第 10 章和第 11 章中，我会具体讨论导致人类不理性的心智程序问题。</p><p>　　评估人类行为的理性标准是社会和文化发展传承的产物，独立于基因得以保存和传承。21 世纪概率理论、经验主义概念、逻辑和科学思维的发展，给人类提供了形成信念、修正信念以及行动推理的概念工具。它们以“心智程序”的形式安装进人类大脑，代表着孕育了人类理性的文化成就，随着社会发展，产生了越来越多的理性文化工具，这些工具逐渐在人群中流传开来。</p><p>　　概率思维、逻辑、科学推理等理性工具，通常是个体没有完全掌握或是根本没有注意到的心智程序。由于未掌握某些心智程序而导致的不理性，我将其称为“心智程序缺陷”。另外一类心智程序问题产生的原因在于心智程序本身是有害的、无用的，不能帮助个体实现目标（工具理性）或是建立正确的信念（知识理性）。事实上，很多心智程序都是导致非理性行为，阻碍目标实现的直接原因。我将这一类问题称为“污化的心智程序”。</p><p>　　高智商群体成为认知吝啬鬼或是出现心智程序故障的概率仅比普通群体低一点点。从统计学角度来看，理性障碍应该是一种不受智商高低影响的普遍现象。换句话来说，如果非理性是一种常见的现象，并且与智商之间仅有微弱相关，那么高智商群体中的非理性行为绝非罕见。</p><p>　　在自然条件下，做一个认知吝啬鬼是默认的人类认识方式。当环境线索提示个体即将要付出大量的认知努力时，由于高智商个体有着更强大的计算能力，所以他们会更快地觉察到环境的认知需求，启动认知吝啬鬼模式。</p><p>　　虽然本书关注的是理性这种最优思维方式，不过接下来的几章我将着重介绍几种思维谬误的产生原因。究其原因，主要在于理性概念的多维性，它要求个体具备多种不同类型的心智程序。为了避免非优化的自主心智自作主张参与思维过程使其走捷径，需要多种反省心智倾向作为保障。现有的测量手段很难对思维成分的优化程度进行评估，也就是说，很难评价一个人是否具有“完美理性”。研究者发现，测量个体是否会违反某一理性规则，是否会犯某一类型的思维谬误，比评估个体的思维是否优质容易得多。这就好比我们在观看一场橄榄球比赛，四分卫在场上的技术细节表现完美时，我们通常很难察觉，但如果他传出一记糟糕的抛球，观众立即就能识别出来。<br>　　事实上，很多领域中的优劣评估都与观看橄榄球场比赛十分类似。相对于识别、分辨优秀的认知表现，别人的错误更容易被觉察到。评论家尼尔·博斯曼（Neil Postman）认为，优质思维的教育家和倡导者所采取的立场与医生或律师很相似。对于医生来说，确认某人拥有“完美的健康”是一件非常困难的事情，但是，诊断某种疾病就容易得多。与之相类似，律师很擅长指出不公正和有违民权的做法，但却很难定义何为“完美的公正”或是“理想的公民权利”。</p><p>　　如果想同时具备知识理性与工具理性，要求个体必须表现出深思熟虑、自我行为约束力、审慎的决策、明智的目标优先级设定并对证据进行合理校正。例如，知识理性（信念与客观世界相吻合）要求个体具有概率推理和证据校正的能力。工具理性（最大化的目标实现）要求个体严格遵循各种理性选择原理。由于认知吝啬鬼、重要心智程序缺失和污化心智程序影响等原因，会让个体采用非理性的思维方式，出现各种思维谬误。若想避免思维谬误，可以通过获取理性思维心智程序的方式避免过度使用认知吝啬鬼的思维策略。</p><p>　　提高理性有两条途径，第一条途径是避免先天的信息加工缺陷（即认知吝啬鬼），第二条途径是给自己大脑安装好的心智程序，抵制坏的心智程序。</p><p>　　人类大脑所遵循的准则是：能不用，则不用，该用脑时也不用。<br>　　——大卫·赫尔，《科学与选择：生物进化与科学哲学论文集》，2001 请大家先来看一道思考题，这个问题是由赫克托·莱维斯克（Hector Levesque）提出的，我们的研究团队围绕着这个问题开展了很多研究。<br>　　杰克正看着安妮，而安妮正看着乔治。杰克已婚，乔治未婚。请问是否有一位已婚人士正在看着一位未婚人士？<br>　　A. 是 B. 不是 C. 无法确定 在继续往下读之前，请先给出你的答案：A、B 还是 C？<br>　　我们的研究发现，人们在这道题目上的错误率高达 80%（超过 80% 的人给出的答案都是错误的）。绝大多数人选择了 C（无法确定），而正确答案其实应该是 A（是）。心理学中有个概念叫完全析取推理（fully disjunctive reasoning），当我们了解并使用这种推理方式来回答这个问题时，答案就显而易见了。完全析取推理是指面临诸多选项做出决策时，或是在推理任务中选出最佳问题解决方案时，对所有可能性及其结果进行分析、采择的思维过程。析取推理是一种系统性且速度较慢的信息处理方式，是前面几章中介绍过的类型二加工的一种。<br>　　如果想正确解答上述问题，就有必要对安妮所有可能的婚姻状态进行考量。如果安妮已婚，那么答案将是“A. 是”，因为她正在看着乔治，而乔治是未婚的。如果安妮未婚，那么答案依然是“A. 是”，因为已婚的杰克正在看着未婚的她。对所有的可能性进行分析（完全析取推理策略）后可以得知，无论安妮婚否，我们都可得出“一位已婚人士正在看着一位未婚人士”的结论。该问题的题干中未提及安妮的婚姻状况，让我们觉得这道题目因为信息不足而无法得出结论。这是人们最容易想到的答案，但是，不好意思，这却是一个错误的答案。“认知吝啬鬼”是以肤浅著称的类型一加工的显著特点。换句话说，人们倾向于寻找显而易见的表面信息，而不愿意对已有信息进行加工推论，进而得出更全面准确的信息。这种认知加工特点是多数人对这个问题给出“无法确定”答案的主要原因。人们往往会根据已知信息进行最简单的（错误的）推理，而不愿进行稍复杂但是能够得出正确答案的完全析取推理。</p><p>　　进行完全析取推理要求人们克服成为“认知吝啬鬼”的冲动，也就是说，避免在对信息进行肤浅加工的基础上给出答案。实际上，在被告知需要进行完全析取推理时（考虑到所有的可能性），绝大多数人都可以做到。然而，事实却是绝大多数人在遇到问题时都不会自动进行完全析取推理。我们也许会认为高智商群体在这一类需要使用析取推理的问题上会表现得优秀很多，其实，在没有明确告知需要使用析取推理的情况下，高智商人群采用这种推理方式的可能性和普通人相差无几。本章开始时提到的安妮问题就没有给出明确的线索让解题者使用析取推理。我的研究小组发现，高智商人群在解决安妮问题及其他相似问题时的正确率和普通人相仿。如果在解题时给予提示，请答题者考虑所有可能的情况，那么高智商人群的反应会更快，更有效率。不过，在没有提示的情况下，他们也会使用简单的认知方式去解决问题。如同其他所有人一样，高智商人群也是认知吝啬鬼。智商与自动使用析取推理之间并无关联。</p><p>　　在启用完全析取推理失败时（没有考虑到所有的可能性），我们通常对此毫无察觉，原因在于类型一加工迅速启动并取代了完全析取推理。丹尼尔·卡尼曼和他的同事肖恩·弗莱德里克（Shane Frederick）在一项研究中让被试解答下面这个问题：<br>　　球和球拍的总价是 1.1 美元，已知球拍比球贵 1 美元。请问球的价格是多少？<br>　　许多人会脱口而出那个即刻进入脑海的答案：0.1 美元，而不去仔细思考这个答案的正确与否。试想，如果球的价格是 0.1 美元的话，那么球拍比球贵 1 美元，即 1.1 美元，球和球拍的总价则为 1.2 美元，而非题目中的 1.1 美元。只需稍作思考，即可知道 0.1 美元这个答案是错误的。然而，在卡尼曼的研究中，即使是就读于世界顶尖大学的学生，也常常会给出错误的答案，并且不假思索地开始做后面的题目，完全没有意识到自己因为使用了肤浅的信息加工方式而犯了错误。他们并没有意识到自己已臣服于类型一信息加工，未能采用类型二加工。弗莱德里克的研究发现，大量来自麻省理工学院、普林斯顿大学和哈佛大学的天之骄子，与研究中的其他普通人一样，都是认知吝啬鬼。</p><p>　　如果一个事件的结果集合中，包含另一个事件的所有结果，两者之间即是支配关系。当人们对较小结果集合的估值或概率估计高于较大结果集合时，就是违反了支配关系原则。卡尼曼和弗莱德里克通过研究发现了很多因属性替换而导致人们违反支配关系原则的例子。请看下面这个案例。研究者让一组被试估计在某个特定的年份中，密歇根发生的谋杀案数量。这是一个很难的问题，人们很难通过对既有知识的检索获取答案。为了给出这个问题的答案，被试需要回忆与问题有关的信息（包括该州的人口总数、听说过的犯罪事件及其他相关线索），在对这些信息综合考量的基础上进行估计。然而，这个研究的结果表明，人们在回答这些问题时并没有想太多（认知吝啬鬼）。研究中被试被分到两个小组中分别对底特律和密歇根州的杀人犯数量进行估计，底特律组的估值竟然是密歇根州的两倍！<br>　　显而易见，人们就上述问题给出的答案违反了支配关系（所有底特律的罪犯，都是密歇根州的罪犯）。人们在这个问题上犯错误的原因很简单，他们根本没有认真去思考并提取与这个问题有关的事实与信息，而是仅仅依据带有情感偏向的印象，估出一个或高或低的数字。相对于“密歇根州”这个地名来说，“底特律”三个字会让人们更多地联想到凶杀案画面，虽然从理性角度分析，底特律的凶杀案绝对不可能多于密歇根州，但人们仍然做出了底特律有更多凶杀案的估计。</p><p>　　。奚恺元（Christopher Hsee）及其同事在另一项研究中进一步证实了这个推论。在这个研究中，研究者告诉一组被试：“如果有科学家在亚洲发现了 4 只大熊猫，你愿意捐多少钱来拯救这 4 只大熊猫？”另一组被试需要回答相似的问题，只不过熊猫的数量由 4 只变成了 1 只。在这个研究中，两组被试都只读到一段阅读材料，没有看到任何其他的视觉图像刺激。相对于上面的鸟类研究，这个研究中涉及的数量较小，因此可以更为清晰地评估人们在决策过程中的所思所想。在这个情境中，相对于拯救一只大熊猫来说（均值 11.67 美元），人们愿意捐出更多的钱去拯救 4 只大熊猫（均值为 22 美元）。第二个研究，所有研究设计完全相同，只不过在提供了阅读材料之后，还为被试提供了非常可爱的大熊猫照片。结果发现，人们救助 4 只大熊猫与救助 1 只大熊猫的捐款金额完全相同。可爱照片所引发的情感反应使被试忽视了对数量的考量。<br>　　在股票市场上，人们都知道应该遵循“低买高卖”的交易原则，但情感导致的属性替换时常会阻挠这一原则的贯彻执行。当股指高开时，股市沉浸在一片欢乐祥和的氛围中，这种积极的情绪氛围鼓励非专业的投资者（以及许多专业操盘手！）受到积极情绪的影响而做出买入的决定。当股指下滑时，情况则完全相反。投资者已经开始亏损，而担心进一步加深亏损的恐惧情绪控制了决策氛围。股票市场触发了负性情感反应，导致人们通常不会做出低价买入的行为，而是会选择卖出。因此，情感性评估使得投资者高价买入、低价卖出，与“低买高卖”的投资原则南辕北辙。在金融投资领域，作为一个认知吝啬鬼所付出的代价是非常高昂的。在我们上一章讨论过的共同基金案例中，投资者由于高买低卖，导致他们在 1998~2001 年损失了数十亿美元的未得收益。情感性替代是导致这类昂贵的非理性行为发生的主要认知特征之一（其他的包括损失厌恶、过度自信以及对随机事件的过度解读）。</p><p>　　认知吝啬鬼对信息的生动性和鲜活性异常敏感。非理性行为和信念之所以一而再再而三地不断发生，主要原因在于人们无法抗拒那些活灵活现却不具代表性的数据的影响。</p><p>　　认知吝啬鬼喜欢加工那些与众不同的信息，这种倾向常常会让认知吝啬鬼误入歧途。某些特定形式的信息似乎格外与众不同，公彦山岸（Kimihiko Yamagishi）的研究向我们揭示了这类信息形式。在他的研究中，使用了两种不同的疾病描述方式，一种是每万人死亡 1286 名；第二种是 24.14% 的致死率。被试对这两种疾病的危险程度评估结果发现，被试将前一种疾病的危险等级评定得更高。当人们读到“1286 人死亡”时，脑海中浮现的画面肯定要比一个抽象的百分比数字更为生动鲜活，这种画面所引发的情感反应导致了不准确的判断。为了表明这个研究巨大的潜在应用价值，山岸将这篇文章命名为“在什么情况下 12.86% 的死亡率比 24.14% 的死亡率更加危险？——基于风险沟通的启示”[2]。</p><p>　　“货币错觉”是一种与出众效应相关的现象，得到了行为经济学家的广泛关注与研究。这种错觉发生于人们过度地被货币价值的名称所影响时。简单来说，就是认知吝啬鬼仅仅关注货币的表面价值，而不综合考虑影响实际购买力的其他因素，比如通货膨胀、时间和货币兑换汇率等。一项有趣的研究证实了货币错觉现象的存在。在这个研究中，当人们使用数额是本国货币数额若干倍的外币购买东西时，人们的花费会更少（例如，1 美元＝4 马来西亚令吉）；当使用数额较小的外币时，人们会花费更多（例如，1 美元＝0.4 巴林第纳尔）。这种现象表明了货币表面价值带来的影响：当一件商品用数倍于本国货币的数值标价时，它看起来更加昂贵（因此人们会减少花费）；当商品用较小的金额标注时，它看起来很便宜（会刺激人们花更多的钱）。上述现象说明，即使人们清晰地知道，在将货币数额转换成本国货币之前，数额本身并没有太大价值，但是，依然很难抑制住对货币表面价值做出反应。</p><p>　　“货币错觉”会给公共政策带来一些实实在在的影响。在 2006<del>2007 年间，美国上下因汽油价格一路飙升至历史最高的 3 美元 / 加仑而陷入了恐慌（民众呼吁采取政治行动干预）。然而，这个价格并非史无前例的高点。如果考虑到通货膨胀因素，2006</del>2007 年间的汽油价格远低于 1981 年。事实上，如果从居民购买力的角度来分析，2006 年的汽油价格比 1978~1981 年间的价格都要低。</p><p>　　 关于货币错觉，请参见卡尼曼等人的研究（Kahneman，Knetsch，and Thaler，1986；Shafir，Diamond，and Tversky，1997）。外币研究来自斯利瓦斯塔瓦（Raghubir and Srivastava，2002）。Wertenbroch 等人的研究表明，表面价值效应有赖于预算限制，被试会将预算数额作为参照点（Wertenbroch，Soman and Chattopadhyay，2007）。他们的研究令人意识到，货币错觉并不像人们最初想象的那样简单，但基本观点并没有发生变化，即货币错觉是人类信息加工认知吝啬鬼倾向的一种表现形式。</p><p>　　启发式加工常常被用来指代类型一加工，这种加工速度快、自动发生、计算简单并且不会充分分析所有的可能性。因此，一种用来形容认知吝啬鬼的方式是：它大量地依赖启发式加工。</p><p>　　是要警惕不分场合、随时随地使用启发式加工的危险性，尤其是在现代社会，越来越多人为设计的陷阱故意诱使认知吝啬鬼中圈套。如果过度依赖启发式加工，将失去个人的自主性。成为认知吝啬鬼会使得我们对广告推销毫无抵抗力。面对人为操控的环境，如果我们放弃了思考，那么，我们的行为将被那些开发出触发自动化思维模式倾向刺激的人牵着鼻子走。我们的生活方向将被那些控制着符号化环境的人所引导。这使得启发式加工成为一把双刃剑。认知吝啬鬼可以为我们节省很多认知资源以备其他的任务使用，与此同时，当一个情境需要精确反应而不仅仅是一个快速、粗略的回应时，启发式加工未免太过概括笼统。</p><p>　　不宜使用启发式加工的情境也许并不算多，但这些情境往往是非常重要的。一种思维策略的重要性并不是简单地通过计算它的使用数量所决定的。我们不能因为启发式加工在 98% 的情况下都可以得到一个足够接近的结果，就放弃对其做审慎的分析，因为剩下的 2% 可能是会扭转我们人生的关键事件。这一观点来自《货币》（Money Magazine）杂志对一位共同基金领域的领导者拉夫·瓦格纳所做的访谈。瓦格纳在访谈中说：“我们在日常生活中所做的 99% 的事情，我将他们归于‘洗熨衣服类决策’，是指一些我们必须完成，并且没有机会比其他人完成得更好，且没有什么太大价值的事情。我们偶尔会做出一些给生活带来巨大改变的事情，比如决定结婚、生子，或者如果你是一个投资者，你买了一只价值翻了 20 倍的股票。也就是说，我们的生活是被为数不多的事情所掌控的。”</p><p>　　简而言之，我们在生活中做过数不清的决策，但真正对生活满意度产生影响的仅仅是决策总体中一个很小的集合而已。决定从事的职业领域，从事哪一份工作，与谁结婚，如何投资，定居在何处，如何置业，以及是否要孩子，当我们几十年后回看人生时，也许正是这几个简单的问题，决定了我们人生的全部。从数量上来说，我们的一生做过成千上万的决策，而这些支配我们一生的决定，大概只有二三十个。剩下的几千几万个决定，就是瓦格纳所说的“熨洗衣服类决策”。这二十几个决策，才是最有价值的。这些“非熨洗衣服类决策”通常是很特别的，这种与众不同的特征会致使启发式加工毫无用武之地，原因有以下两点。第一，这些数量很少、不经常发生的事情使得潜意识的内隐学习机制没有机会学习到用于启发式加工的信息。第二，如果这些事情是独一无二的，那么从进化角度来说，没有太多加工此类信息的经验，因此，不会有具有进化适应性的潜意识模块来帮助我们加工相关信息。基于上面两个原因，我们有理由怀疑启发式加工是否有足够的资质去处理这些问题。启发式加工可以提供的那些“快速但劣质”的答案，很可能被用于我们生命中这二三十个“非洗熨衣服类决策”，引导我们的生活误入歧途。</p><p>　　有些非常有用且有效的启发式加工，很容易变身捣蛋鬼，给我们惹来麻烦。原因就在于这些启发式加工太容易被触发了。几十年前，阿莫斯·特沃斯基和丹尼尔·卡尼曼发现了锚定与调整启发式。当我们必须要对一个不知道的数量做出估计时，锚定和调整启发式加工就开始发挥作用了。使用这种认知策略时，我们会先锚定一个最容易从大脑中提取出来的相关数字。然后，基于已知的特定信息调高或调低这个锚。<br>　　这个信息处理过程看起来还不错。可是，当这个可以被用于锚定的数字与我们即将要处理的问题毫无关系时，问题就出现了。在一个经典实验中，特沃斯基和卡尼曼向我们展示了锚定倾向在使用认知资源时是何等吝啬——它完全懒得对锚定数据与问题间的关联性进行评估。实验让被试看着一个数字转盘，当指示器停留在任意一个数字上时（通过故意操作使这个数字是 65），询问被试：非洲国家在联合国所占的百分比是高于还是低于这个数字。在回答完是高还是低之后，要去被试尽量准确地估计非洲国家在联合国所占的百分比。另一组的被试所经历的实验程序与之相似，唯一不同是指示器停留的数字是 10。他们也被要求回答是高还是低的问题，并尽量对真正的百分比做出最为准确的估计。由于在第一个问题中使用的是随机数字转盘，按道理说，第一个问题中出现的数字与被试回答第二个问题应该是毫无关联的两件事情。但是，研究结果发现，出现在转盘上的数字严重影响了被试对第二个问题的回答。第一组被试（45%）对第二个问题的估值远远地高于第二组（25%）。<br>　　事实已经很清楚了，两组被试都在使用锚定和调整启发式加工——高锚定组调低了锚定值，低锚定组调高了锚定值——但两组的调整都太过“黏性”。他们两组的调整力度都不够，因为他们并没有充分考虑到这个锚定值其实是以随机的方式选择出来的。锚定和调整启发式揭示了锚定过程中对认知资源的吝啬，而无暇顾及锚定值与当前问题之间的关联性。</p><p>　　哪怕在锚定值非随机选取的情况下，认知吝啬鬼对锚定值的依赖性也太强了。因为，相对于从记忆中回忆、提取与当前问题相关的信息，使用锚定值是一个更为简单易行的捷径。研究发现，即使是经验丰富的房产中介在对地产的真实价值进行评估时，也会受到挂牌价格的影响。在汽车销售过程中，锚定与调整也发挥着关键的作用。销售人员希望引导顾客将预期价格锚定在 MSRP 上（官方指导零售价），然后以这个价格为基础开始讨价还价。因为他们知道，锚定调整过程是“黏性”的，在很大程度上受到 MSRP 的影响，最终的调整结果并不会偏离 MSRP 太远。消费者类杂志和网站给出的建议与上述做法完全相反，他们建议消费者获取经销商的进货价，并以此为锚定点往上还价。对于二手车来说，情况也很类似。销售人员希望从广告价格为锚定点开始议价，而消费者导刊则建议消费者参考蓝皮书 中的价格议价。销售人员和消费者导刊的做法都是对的。他们都知道协商的起点对于最终的协商结果有着举足轻重的作用。他们都知道，控制了锚定点的那个人，也意味着控制了整场谈判。</p><p>　　依赖于锚定的启发式加工在很多重要的情境中都会产生影响，比如司法判决。在人身伤害案件中，原告所要求的赔偿金额在一定程度上会影响法官对案件的判决以及原告最终获得的赔偿数。另外，统计数据表明，检方提起公诉的罪名也会影响到法官的保释决定。看来，大法官们也是认知吝啬鬼，他们屈服于简单的启发式加工，以减轻自己的认知负担。<br>　　锚</p><p>　　蓝皮书（bluebook），是美国查询旧车价格的手册。——</p><p>　　认知吝啬鬼剥夺个人自主性的另一种方式是过度使用“默认启发式”这种信息加工方式。默认启发式的操作遵循一个非常简单的原则：如果你获得了一个默认选项，持有到底！这种启发式是基于 20 年前决策领域中关于现状偏见的研究提出的。20 年前的研究还向我们展示了由于过度使用默认启发式加工，致使无法最大化实现目标。对于那些过度使用默认启发式加工的人们来说，他们的生活由那些有权设置“默认值”的人所掌控，使用默认启发式使得他们失去了个人自主性。<br>　　默认启发式加工会在经济和公共政策选择过程中发挥作用。一个研究小组报告了太平洋煤气电力公司（Pacific Gas and Electric）在 19 世纪 80 年代做的一项市场调查。由于地理因素的差异（城市-乡村，等等），电力公司所能提供服务的稳定性在不同地区存在着差异，某些地区的客户不得不忍受更多的电力中断状况。在服务不稳定地区，客户接受调查询问是否愿意付更多的钱以获得更稳定的服务，如果愿意的话，他们是否愿意接受特定比例的涨幅？而在服务稳定的地区，客户被调查的问题是，是否接受更不稳定的服务，以换来一定比例的费用折扣？（降价比例与涨价比例相同）虽然两个地区的人均收入并无显著差异，但是，没有一个地区的人愿意接受改变。绝大多数人愿意保持现状。实际上，两个地区的电力服务质量差异很大。服务不稳定地区每年断电 15 次，每次持续 4 小时；而稳定地区每年仅断电 3 次，每次持续两小时。但是，极少有客户愿意交换！</p><p>　　此处需要格外强调的是，只有不假思索地过度使用默认启发式才能被称为非理性。很多理论家都提出，在有些情境中使用默认选项是决策者的明智之选</p><p>　　马望·希纳克（Marwan Sinaceure）研究团队的工作为我们展示了认知吝啬鬼偏爱加工简单信息刺激的癖好是多么容易被利用。他们给被试呈现了以下假设情境：如果你的晚餐是从超市买的牛肉套餐，饭后你在新闻上得知，食用这种牛肉套餐有可能会导致人感染牛脑海绵状病。接下来，让被试回答在 7 点量表上回答这两个问题：①假设你身处上面的情境，你将在多大程度上减少购买这类牛肉套餐？②假设你身处上面的情境，你将在多大程度上改变你的饮食习惯，减少红肉并增加其他食物的摄入？毫无疑问，被试在听过上述情境后，都决定要减少牛肉的摄入。可是，另一组被试在听过相同问题之后，愿意做出的改变程度更大。两个实验过程完全相同，唯一不同的是改变了情境描述中的一个词，即把“牛脑海绵状病”改为“疯牛病”。这种情况很好理解，我们的老朋友“生动性”又出来捣乱了。相对于“牛脑海绵状病”来说，“疯牛病”更容易引发我们对一种令人毛骨悚然的动物病毒的想象。当认知吝啬鬼当班时，措辞上的微小改变都会引起情感效价和生动性的改变，进而影响到人的行为和想法。我敢打包票，如果当前的社会保障金改名叫“老年人福利金”，那么，社会保障金的收入肯定会大幅下降。<br>　　简而言之，极端的认知吝啬鬼全然没有“独立之思想”，决定他们的心智如何加工信息的是眼下最生动的刺激、最唾手可得的信息或是最与众不同的线索。认知吝啬鬼会被那些掌握了如何标签化、如何设定锚定值、如何控制信息生动性的人占尽便宜。在下一章中，我们将讨论框架效应，届时你将会看到关于类型一加工威胁个人自主性的更具戏剧性的案例。</p><p>　　作家路易斯·梅南在他的著作中讨论了投票决策情境中使用启发式的情况（Louis Menand，2004），把启发式放在一个具化的情境中进行讨论。比如我举的这个例子：“在信息匮乏或是面临不确定信息时，走捷径总比无路可走好。但是，走捷径并不是快速地进行缜密计算，而是直接跳过所有的计算过程。比如，在购买立体声音响时，我的直觉是外表最酷的那一款最值得购买。但是，这个判断完全没有涉及音响的音质、性能。如果我选择了预算范围内音质最好的那一款，这才是最符合我切身利益的选择。”</p><p>　　这个例子常常为理性思维的支持者招致讽刺挖苦。此处我所谓的“深思熟虑”并不是说要把数千个基金项目进行一一对比。我的意思是说，在做出决策前，应该将某一领域中的不同种类进行大致比较，比如：借贷基金与非借贷基金；指数基金与管理型基金；债券、股票和现金分配；外币总量；房地产和期货数量等。通过指出某个理性决策所涉及的运算量极其庞大（根据个人需求，将 6000 支基金进行两两配对比较）的方式来诋毁理性思维，这是一种很常见的攻击理性思维的策略。不过，理性思维策略的支持者却并不这么想。将数千种基金进行两两比较的可行性差，并不意味着我们应该在个人金融这么重要的决策领域退而求其次，依赖于快速、劣质的启发式思维来解决问题。在令人筋疲力尽的繁杂比较和快速却劣质的启发法之间，还存有中间地带，在这个中间地带我们需要考虑很多影响决策的其他关键因素，比如对风险的容忍度、年龄、当前资产和负债、退休保证金等。</p><p>　　人们在思考税务相关问题时，思路常常是非常不合逻辑的。接下来，我将着重介绍该研究中涉及的诸多非逻辑性思维中的一种，因为这种非逻辑性思维为我们完美展示了一个专为认知吝啬鬼设下的陷阱。<br>　　假设你将为一个虚拟国家制定税收规则。在这个虚拟国家，收入 35000 美元的无子女家庭需缴税 4000 美元，而收入 100000 美元的无子女家庭需缴税 26000 美元。假设该国的政策规定，针对收入为 35000 美元的无子女家庭，若生育一个孩子，则可以享受 500 美元的税收减免，即该家庭需缴纳的税款由 4000 美元降为 3500 美元。那么，针对收入为 100000 美元的家庭，是否应该执行相同的生育税收优惠政策？也就是说由 26000 美元减少为 25500 美元。还是由于他们收入更高，因而应享受更大力度的优惠额度？<br>　　诺贝尔经济学奖获得者托马斯·谢林注意到，人们对后一种做法（高收入家庭享有更大力度的税收减免）存有很多争议。“高收入家庭在儿童身上的支出更多，也就是说抚养孩子的成本更高”（1984）。简而言之，高收入家庭在抚养孩子时投入更多，所以他们应该享受更高的减免额度。也许你认为这种说法站不住脚，实际上，多数人都不认同这种观点，他们会毫不犹豫地拒绝这个论点，认为高收入家庭养育孩子的税收减免额度至少应该与低收入家庭相同。如果非要区别对待的话，低收入家庭应该享受更高额度的税收优惠。<br>　　经济学家谢林以这个问题为介入点，教我们厘清情境背后的真实逻辑。其实，我们也许并没有真正弄懂这件事情，尤其是我们并没有想到换一个框架去理解这个情境。谢林指出，我们以无子女家庭为初始状态来为事件设立框架的做法太过武断。在设定这个假设的税收系统时，我们也可以考虑选择不同的基线水平，比如，以最典型的“四口之家”（两个成人和两个子女）作为初始状态。与前面一样，子女数量会影响税率，以四口之家为出发点，让我们来计算一下无子女家庭和独生子女家庭的税率。<br>　　试想在这个虚拟国家，家庭收入为 35000 美元并且有两个子女的家庭需要缴税 3000 美元，家庭收入为 100000 美元并且有两个子女的家庭需要缴税 25000 美元。按照这种情况来计算的话，无子女家庭的税率应该是多少？我们应该提高税率，因为无子女家庭有能力负担更高的税额。这里不谈生育可减免赋税，而是将这种税率调整计划称为“不生育的惩罚”。关于谢林试图教给我们的框架和税收政策（麦卡弗里和巴伦通过实证的方法对其进行研究）——我先透露一点小线索。实际上，针对每一种特定家庭（子女、房屋所有权、自由创业以及其他在免税代码中的项目）的“税收减免”，都是对那些不符合条件家庭的“惩罚”（因为政府开支的总额是确定的，政府即使去借款也要支付各类公共开支）。<br>　　好，下面我们假设有一个年收入为 100000 美元并育有一个子女的家庭应缴税款为 26000 美元；相同收入但没有子女的家庭应缴税款为 27000 美元。也就是说，在这种情况下，少生育 1 个子女所缴纳的罚款是 1000 美元。问题在于，收入为 35000 美元的低收入无子女家庭是否也应该与高收入家庭缴纳相同的罚款？当高收入家庭的赋税由 25000 美元增加至 27000 美元时，低收入家庭的赋税是否也应该由 3000 美元增加至 5000 美元？<br>　　多数人会本能地感觉到这样做有失偏颇。他们会认为，对于低收入家庭来说，2000 美元的惩罚实在太过严厉了，针对低收入无子女家庭的罚款应低于高收入家庭。但是，人们对高、低收入家庭不生育税收罚款与对高、低收入家庭生育子女税收减免的态度完全不一致。人们希望高、低收入家庭享受相同的生育红利，却不希望他们接受相同的不生育惩罚。这是一种不合逻辑的想法，因为红利和惩罚实际上都是一回事儿——只不过名称和人们关注点的引导方向有所不同罢了。这就是本章想要说明的观点，认知吝啬鬼允许他人来决定自己的关注点。认知吝啬鬼俯首甘让环境框架来决定他们的思考方式，他们接受问题的各种表述方式，并不假思索地开始对其进行加工，却从未意识到不同的表述方式可能会让人得出不同的结论。<br>　　在认知科学领域，人们往往会对本质相同但表面看起来不同的问题给出不同的答案，这种现象称为“框架效应”。框架效应违背理性的选择。在决策理论的技术性文献中，对这种违背的指责被称作“描述性不变原则”，即人们的选择不应该因为问题的表述方式发生变化而改变。在框架实验中，当给被试呈现同一问题的不同表述方式版本时，他们中的绝大多数人都认为问题的不同表述方式不应该影响他们的最终选择。如果被试的选择判断会被那些他们自认为不相关的问题特征改变，那么可以说，这样的被试还没有形成稳定的、有序的偏好。如果一个人的偏好因为无关紧要的问题措辞变化而发生逆转的话，那么这个人则不具备最大化预期效用的能力。因此，是否违反描述性不变原则在判断一个人是否理性时有着重要意义。</p><p>　　税收政策是一个很好的用于检验框架效应的议题。因为，虽然在这个议题中更换框架是一件很容易的事，但是人们却从未想到要这么做。对于绝大多数人来说，“降低赋税”是一件无可争议的好事情，任何有关减税的政策通常都会得到支持。但是，甚至连经济学家都很少注意到这样一个问题：对一部分群体的减税，对于不符合减税条件的其他人来说，相当于是变相惩罚。诚如两位经济学家对这种情况的描述：“由于补助金的来源是增加赋税，那么，补助金政策可谓是对未能领取人的变相惩罚……减税通常会很受百姓的欢迎，因为它们被冠以“减少赋税”的美名，但需要注意的是，这些减税政策是不可能孤立存在的。”通过上面的引文希望大家注意到，无论你认为政府应该提供怎样的公共服务（国防、医疗保障、公路、养老保险等），可以肯定的是，政府早晚需要筹集到一定数额的钱去为这些公共服务买单。因此，对特定群体的减税政策，必定意味着那些不符合减税条件的人将缴纳更多的税款。</p><p>　　让我们再来看看购房贷款利息的减税政策。表面上看来，这似乎是一件好事，但如果换一种说法来描述，称为“租房者的罚金”，那么这个政策听起来就没有那么友好了。上面两种说法所表述的含义其实是相同的。不难发现，“房屋抵押贷款应该享受税收优惠吗？”这种措辞方式会影响人们对这个问题的回答。“为了减少买房者缴纳的赋税，应该让租房者缴纳更多的税吗？”这种提问方式又将问题的答案导向了相反的方向。与之相类似，“对资本收益实行低税率”这种说法听起来比“对工薪族收取罚金”更容易让人接受。</p><p>　　根据特沃斯基和卡尼曼的观点，描述不变性指的是“对结果没有实质性影响的形式变化，不应该对个体的最终选择产生影响”。</p><p>　　那些有权选择“框架”的人在一定程度上控制了我们的决定。</p><p>　　框架效应（以及其他认知吝啬鬼思维倾向）是对个人自主性的巨大威胁。该实验以及麦卡弗里和巴伦的其他研究结论提示我们，那些提出问题的人，也就是设置框架的人，才是实际控制你的政治经济行为的一方。</p><p>　　人们的选择偏好多受到外部因素的影响（那些有权力塑造环境，或是决定问题措辞方式的人），而非基于个体内部的心理特征及偏好，这个一直潜藏在我们身边的问题着实让人不安。由于绝大多数情境都可以基于多个框架，这意味着与其说人们有着稳定的个体偏好，不如说是环境的引导方式不同，引导过程决定了所谓的个体偏好！</p><p>　　医学教授彼得·尤贝尔（Peter Ubel）研究了分配稀缺医疗资源时由于过度使用平等启发式加工（equality heuristic）而产生的非理性框架效应。研究者让被试将 100 个活体肾脏分配给 200 个正在等待器官移植的患病儿童。如果将 200 名患儿平均分成两组，每组 100 人，那么，绝大多数被试会将 100 个活体肾脏平均分配到两组中，每组 50 个。平等启发式用于此处看似是合乎情理的。虽然研究中并没有详细说明每组儿童的特征，但有理由认为两组儿童来自于不同区域、不同种族、不同医院、不同性别等，在人口统计学特征属性上存在差异。在尤贝尔与乔治·勒文施泰因（George Loewenstein）合作进行的一项研究中，平等启发式加工似乎带来了更大的麻烦。研究发现，在两组患儿的诊断结果不同的情况下，被试依然会使用平等启发式加工。研究中 A 组患儿进行器官移植手术后的生存率为 80%，而 B 组患儿进行器官移植手术后的生存率仅为 20%。在尤贝尔的研究中，超过 1/4 的被试仍然将活体肾脏平均分配到两组，A 组 50 个，B 组 50 个。这个决策将导致 30 个无辜患儿的死亡（如将 100 个肾脏全部分配给 A 组，则将有 80 名患儿治愈生还；如果使用平等启发式加工，则只能救活 50 名患儿）。<br>　　在我们开始谴责平等启发式之前，或许应该先听听实验中的被试是怎么想的，没准他们这么做有自己的理由呢？也许除了获救患儿数字之外，他们还受到其他准则的约束呢？事实上，许多被试在解释自己为何进行平均分配时，都有自己的道理。为平等启发式加工辩护的常见理由有“哪怕机会渺小，也应得到希望”“无论生存概率是多少，只要患者有需要，就应该得到器官移植的机会”。这些听起来有理有据的辩词不禁让我们疑惑，这些辩词究竟代表了被试的理性思考，还是仅仅是为他们使用平等启发式加工寻求一个合理化解释？尤贝尔为此设计了一个实验进行进一步的探索，研究结论支持了后者。研究者将等待器官移植的患者按照病情的严重程度从 1 到 200 进行排序（也就是说列出患者个体的名单，而不是将其分成两组），被试很乐意将器官分给排名前 100 位的患者……但是，如果将排名前 100 的患者称为 1 组，而将排名后 100 的患者称之为 2 组，很少有人愿意彻底“放弃”2 组。从该研究中我们发现，仅仅是“组”这个字即可触发某些被试的平等启发式加工。这个研究结果也暗示被试之前所说的“哪怕机会渺小，也应得到希望”实际上不过是将自己行为合理化的一个幌子罢了，因为当那些“机会渺小”的患者没有被分为一组时，被试压根没有想到“渺小与希望”的伟大道理。总之，启发式的问题在于，它让我们的行为、观点和态度屈从于他人设定的框架，个体的立场会因框架的变化而发生剧变。</p><p>　　关于框架效应的发生机制，丹尼尔·卡尼曼认为“框架的基本原理是对给定表达方式的被动接受”。呈现给被试的框架好比是一个对焦点，被试在之后进行的思考或认知加工都是基于这个对焦点展开的，如果选择其他框架进行重新对焦，会花费更多的心力。</p><p>　　人们需要学会从多个视角思考同一问题，学会习惯性地去打破框架，并由自己来重设框架。从实验后情况说明的结果可见，一旦人们觉察到不同框架下的答案出现了不一致时，就会采取措施试图解决不一致带来的失衡。由此可见，人们似乎意识到了一致性的价值，然而，他们的行为却反其道而行之，习惯性地不断制造视角转移，凸显了思维过程中的不一致性。实验中的被试由于未能做到一致性，致使自己屈从于框架效应，即违反了描述性不变原则，是人类选择模式中的一种常见的非理性行为。</p><p>　　在探索框架效应的早期研究中，同一个问题不同描述版本的等价性非常明显，研究者只需给出一点提示，被试就可以立即意识到这种等价性。当时最引人瞩目的一个研究设计来自于特沃斯基和卡尼曼的早期工作。请看下面的决策 1，阅读后请做出判断。<br>　　决策 1：假设，美国正在准备应对一场不同寻常的传染性疾病，疫情导致的死亡人数预计达 600 人。科学家提出了两种会带来不同后果的应对方案。如果采取方案 A，那么 200 人将获救；如果采取方案 B，有 1/3 的概率 600 人全部获救，有 2/3 的概率 600 人无一获救。你更倾向于选择哪一个方案？A 还是 B？<br>　　大多数人面临这个选择时都会倾向于 A 方案——选择那个确定可以拯救 200 人生命的方案。这个选择没有任何不妥。但是，当将这个研究与另一个相关研究联系起来看的时候，奇怪的事情就发生了。第二个研究中要求被试（有时是同一组被试，有时是不同组被试，两种条件下结果相似）再回答一个问题。请阅读决策 2，阅读完后你的第一反应是什么？<br>　　决策 2：假设，美国正在准备应对一场不同寻常的传染性疾病，疫情导致的死亡人数预计达 600 人。科学家提出了两种会带来不同后果的应对方案。如果采取方案 C，400 人会因疾病而丧生；如果采取方案 D，有 1/3 的概率没有人因此而丧生，有 2/3 的概率所有人会丧生。你倾向于选择哪一个方案？方案 C 还是方案 D？<br>　　当给被试呈现决策 2 中的阅读材料之后，多数人会选择方案 D。由此可见，针对上述两个问题的解决方案最受欢迎的是方案 A 和方案 D。然而，我们不难看出，决策 1 和决策 2 在本质上实际是相同的，它们是针对同一个问题的两种不同描述方式而已。方案 A 和方案 C 是等价的。方案 C 中 400 人死亡也即意味着 200 人获救——与方案 A 完全相同。同样的，方案 D 中 2/3 概率所有人会死亡与方案 B 中 2/3 的概率 600 人无一获救是同样的意思。如果你在决策 1 中倾向于选择方案 A，那么你在决策 2 中应该选择与之等价的方案 C。但是，很多被试因为问题的提问方式不同而做出了不同的决策。<br>　　这个案例表明，被试在损失情境的收益与风险权衡中，是厌恶风险的。在这场生命赌局中，被试认为决策 1 中“确定可以拯救 200 人”这个方案极具吸引力。与之相对应，在决策 2 中，“确定会有 400 人死亡”这个方案看起来就不那么有魅力了。毫无疑问，在决策 2 中备受冷落的“确定失去 400 人”与决策方案 1 中“确定拯救 200 人”两个结果是完全相同的。上述是一个有显著等价性的示例。当同时呈现给被试两种决策方案时，被试认可两个问题的等价性，并认为对问题的不同措辞方式不应左右最终的决策结果。正如我上面所讨论的，由于人们无法严格遵循描述性不变原则，致使人们无法做到效用最大化（utility maximizer），即无法做到认知科学家所定义的“理性”。<br>　　卡尼曼和特沃斯基所提出的前景理论解释了框架效应发生的原因，该理论也为卡尼曼赢得了 2002 年的诺贝尔经济学奖。在上面提到的传染性疾病案例中，被试基于当前所处的既无损失也无收益的零点对后果进行编码，这是前景理论的重要假设之一。另一个关键假设是，损失比收益的效用函数更为陡峭（朝负方向）[2]，这就解释了人们为何会在预期盈利的赌局中通常做出风险厌恶的行为。假如你我玩抛硬币游戏，人头朝上你给我 500 美元，字面朝上我给你 525 美元，你愿意与我赌一局吗？由于潜在的损失，多数人都会拒绝这个有利于自己的赌局，虽然这场赌局的收益会更多，但在心理上损失被放大了。<br>　　让我们来看看尼古拉斯·艾普利（Nicholas Epley）及其同事所做的一系列研究。在他们的研究中，被试在到达实验室时会收到一张 50 美元的支票。在向被试解释为何会收到这张支票时，一组被试得到的答案是“额外津贴”，而另一组被试得到的答案是“学费退款”。艾普利团队预测，“额外津贴”会在心理上被编码为从当前状态发生的正向改变，而“学费退款”会被编码为过去财富状态的改变。研究者认为，相对于学费减免框架来说，额外津贴框架会导致被试做出更多的即时消费行为。事实正如预料一样，在一项实验中，研究助手一周后再次联系被试询问这笔钱的去向时，“额外津贴”组的被试报告这笔钱已经花光，甚至超支。在另一项实验中，拿到支票后的被试可以以特惠价在大学书店（也售卖零食）内进行消费，与上一个实验结果相类似，“额外津贴”组在店内消费金额更高。<br>　　身为芝加哥大学商学院教授的艾普利，在 2008 年 1 月 31 日的《纽约时报》上发表了一篇与这些研究相关的时事专栏文章。2007~2008 年的次贷危机之后，美国总统和国会议员想尽各种办法去刺激摇摇欲坠的经济。为了刺激消费，政客一度想到实施退税政策（退税政策曾被用于 2001 年，当时也是作为刺激经济的一种手段）。艾普利在他的专栏文章中指出，如果政府的目标是希望民众增加消费，那么这笔钱应该被称之为“税收红利”，而非“退税款”。一个“退”字，意味着曾经属于你的钱回来了，你的财务停留在“维持现状”的状态。而前景理论预测你在“维持现状”时，花钱的概率较小。但是，“税收红利”的说法意味着这笔钱是“额外增加的”，即在当前状态的基础上增加了。相比之下，人们更乐意花掉这部分“额外增加的钱”。通过对 2001 年减税政策的研究发现，人们仅仅消费了退税金额的 28%，如此低的消费比率，部分原因应归咎为“退”字的使用。<br>　　艾普利的文章表明，政策分析师应该熟识框架效应及其可能带来的后果。与政客相比，广告商们充分意识到了框架的重要性。我敢肯定某商品的广告会标明“95% 脱脂”，而不会说“含有 5% 的脂肪”。框架制定者对其效用心知肚明。问题就在于你，作为框架的消费者，是否能够理解框架的重要性，并且让自己成为一个更加独立自主的决策者。<br>　　经济学家理查德·塞勒（Richard Thaler）讲述了若干年前信用卡行业就现金和刷卡支付之间的手续费差额该如何称呼展开的激烈讨论。经过讨论，最终决定使用“现金消费享有打折”，而不是“刷卡收取额外费用”的说法。他们隐隐地意识到，任何额外收费都会使消费者在心理上编码为损失，进而带来负面效应，而“打折”则会被编码为收益。由于收益的效用函数比损失的效用函数更为平缓，从心理上放弃折扣比接受额外收费更容易一些。当然，两者从经济效益的角度来看是完全一样的。信用卡行业让人们将额外收费视为常态，进而使得信用卡收费更容易被接受。</p><p>　　框架能够轻易地改变人们的选择，这一事实有着巨大的社会应用价值。詹姆斯·弗里德里希（James Friedrich）及其同事进行了一项人们对大学录取过程中采取平权措施 态度的研究。研究者就在多所高校中取消平权措施并采取种族中立录取政策的后果，向两组被试呈现了不同的统计描述方式。实验中所使用的这些统计数字都是真实存在并准确无误的。一组被试是“比率组”，他们接收到的信息是：如采取种族中立的录取政策，黑人学生的录取率将由 42% 下降至 13%，而白人学生的录取率将由 25% 上升至 27%。另外一组被试是“频次组”，他们收到的信息是：如果采取种族中立的录取政策，黑人学生的录取数量会减少 725 人，而白人学生的录取人数会增加 725 人。两组被试所接收到的统计数字是等价的，只是使用了不同的表述方式来描述同一件事情的同一个结果（设置不同的框架）。“比率组”中两个比率之间的差异（黑人学生 29% 的降幅，白人学生 2% 的增幅）则说明了高校申请者中白种人远远多于黑种人的事实。<br>　　研究结果发现，“比率组”对平权措施的支持率远远高于“频次组”。在“比率组”中，种族中性政策给黑人学生带来的损害（录取率由 42% 降低至 13%）似乎远远高于白人学生的收益（录取率由 25% 增加至 27%）。而在“频次组”中，强调“一一对应”这一事实，在平权措施的影响下，每多录取一个黑人学生，即意味着有一个白人学生落榜。两个实验条件实际上是从不同的角度来看待相同的事实，选择不同的视角势必会影响对政策的选择。<br>　　许多政见上的分歧实际上就是不同框架之间的抗衡，其实所有政党都心知肚明，能够设置框架的一方，可谓不战而胜。许多改革者的战术就是向公众说明传统的观点通常是所有人都接受的默认框架。认知心理学家乔治·莱考夫（George Lakoff）对隐含在政治术语中的框架进行了许多颇具影响力的分析。他注意到乔治·布什第一任期内的白宫行政团队一直在坚持使用“税收减免”一词。莱考夫指出，一旦这个术语被大众所接受，围绕着征税制度的争论就可以画上句号了。我们先来看看“减免”这个词。莱考夫注意到，“既然有‘减免’的需要，则必然存在着重负，减免者为大家移除了这个负担，因此成为大英雄。如果有人试图阻止这个英雄行侠仗义，那么这些人必然就成为带来苦难的恶霸。当减免被冠以‘税收’二字之前时，结果的隐喻是：征收税款是负担，消除这个负担的人是英雄，而任何试图阻挠英雄的人都是坏人！”大家众所周知的另一个例子是遗产税。民主党希望人们称之为“不动产税”（多数人不认为自己拥有不动产），而共和党则希望人们称之为“死亡税”（意味着所有人在去世时都会被课税）。</p><p>　　平权措施即依据宪法的平等保障原则保护黑色人种公民权利的行为。——译者注</p><p>　　无框架效应的政治，换句话说，就是在决定所有事务时都完全基于真正的是非曲直，在近期来看似乎只是一个美好的愿望。但是，从个人角度来看，不受框架效应制约，个人充分实现自主性的决策却是我们自己可以掌控的。<br>　　框架效应是理性障碍的主要来源之一，因为人们被动地对给定框架做出反应的倾向性是独立于智力水平的。这里，有必要简单介绍一下此类研究的方法论。框架实验以及大多数关于理性思维的实验，可以是被试间研究设计，也可以是被试内研究设计。比如我们前面讨论过的流行性疾病框架问题，就是一个被试间研究设计，一组被试看到的文字资料是收益版本（200 人获救），另外一组被试看到的则是损失版本（400 人死亡）。研究将被试随机分配到两个情境中以确保两组被试的同质化，以及结果具有可比性。而被试内研究设计，则是所有被试都需要对同一个问题的两个情境作出自己的反应。通常这两个版本的情境是间隔一段时间呈现给被试的，因此两个情境之间的关系并非显而易见。在被试内实验设计中，需要进行平衡处理，即一半被试先看到收益版本，而另一半被试先看到的是损失版本。<br>　　毫无疑问，上述两种研究设计比较来看，被试间实验中的框架效应更为明显，因为在这种设计中，没有任何线索表明一致性正面临威胁。有趣的是，在这种研究设计中，框架效应的大小与智力水平毫无关系。当没有线索提示被试应该注意一致性问题时，实验中的高智商被试与低智商被试一样都受到了无关情境框架的影响。而被试内实验设计的结果有所不同。被试内实验中的框架效应虽然不及被试间实验那么显著，但依然存在。另外，在被试内实验中，框架效应的大小与智力水平之间存在着显著性相关，高智商个体表现出的框架效应较小。<br>　　简而言之，当实验中有线索提示一致性受到威胁时（同时呈现同一问题的两个框架版本），会在一定程度上减少高智商被试受到非理性框架效应的影响；但是，当没有线索提示时，他们就难逃框架的影响了。在这里我们稍作停顿，请随我想一想上述关于智力水平的被试间 / 被试内研究带来的启示。通俗点说，认知科学家得到了一个令人震惊的结论，这个结论的重要应用价值值得我们单独列出：<br>　　聪明人只有在被告知要怎么做的情况下，才会表现优异。<br>　　上面这句话非常适用于理性思维与行为领域。如果你告诉一位聪明人何为理性，也就是说，告知他们理性思维所需遵循的特定规则（如避免框架效应、不要对已有知识过分自信、避免非可迁性等），然后再让他们完成一个涉及该规则的理性任务，高智商人群比低智商人群在该任务的表现上更加优秀。但是，如果在布置任务的时候，没有事先提醒被试该任务将涉及的理性思维规则，也就是说，需要他们自己去发现问题中隐藏的理性思维陷阱，在这种情况下，高智商人群与低智商人群的表现无异。<br>　　在被试内实验中，智力水平与框架效应规避之间确实存有具有统计学意义的显著性相关，但是这种相关性较小，给理性障碍留下了大量施展拳脚的空间。这就好比上一章中讨论的认知吝啬鬼特征——属性替换、生动性效应、完全析取推理失败，这些特征无一和智力水平之间存在高相关。本章与上一章讨论过的这些认知特征对于理性思维和行为至关重要，但是，任何智力测验都没有对其进行测量。如果现有的智力测验中纳入了对理性思维的测量，那么人们的智力水平会出现不同程度的提高或下降。为何会这样呢？我们前面列出的实证研究证据表明——智力水平与理性加工特征之间的相关性极小。认知吝啬鬼的另一个标志性特征也具有相似的智力无关性，即下一章将要讨论的——“我方立场信息加工”（myside processing）。</p><p>　　我方立场偏差”，也就是说，人们倾向于仅仅基于自我的视角对情境进行评价。在评估证据、道德评判、评价他人时，人们常常会受到偏向自己的立场偏差影响。比如，在上述案例中，美国被试认为，相对于在德国马路上行驶的危险美国汽车，在美国行驶的危险德国汽车更应该受到禁令的制裁。</p><p>　　人们不仅会心怀偏见地去评价已有的论据，有时还会带着偏见去制造论据。我和同事玛姬·托普莱克等人在一项研究中让被试为一些公共政策同时寻求支持和反对的论据。结果发现，如果研究者指示被试要消除偏见，尽量平衡正反两方，或者被试对某个论题事先没有太过强烈的主观立场（例如，是否应该允许个人出售自己的内脏器官），他们提供的正反两方论据在质和量上都基本均衡。但是，当被试（大学生）对某问题有着明确、强烈的个人主张时（例如，大学学费应该上涨，高等教育成本全部由个人承担），即使研究者在实验过程中告诉被试要尽量避免已有立场偏见的影响，被试提供的己方论据仍然远远多于反方论据。</p><p>　　我方立场信息加工不仅会损害我们客观评价证据的能力，对我们产生证据的能力也有负面影响。在保罗·克莱辛斯基和他的同事合作完成的一系列研究中，研究者给被试呈现了一些有设计缺陷的假设性实验，实验得出的结论与被试之前的立场观点有可能一致，也有可能不一致。被试群体年龄跨度较大，涵盖了各年龄段的成年人。随后，研究者让被试评价实验设计中存在的缺陷（通常都是非常严重且明显的缺陷）。此时，强大的我方立场偏差效应出现了——当实验结论与被试之前的观点立场不一致时，被试能够发现更多的实验缺陷，而当实验结论与被试自己的观点一致时，这些实验设计缺陷仿佛忽然隐身了一般，被试看不到了。</p><p>　　从他人立场考虑问题是一件很耗费认知资源的事情，这一点我们早已熟知。因此，人们不愿意从他人立场出发去考虑问题也情有可原，我方立场信息加工是认知吝啬鬼的基本属性。然而，采用我方立场信息加工方式所需付出的代价，有时会超出我们的预期。我们没有意识到，这竟是很多非理性想法和行为的根源所在。另外，拥有高智商并不能让个体对我方立场信息加工方式成功免疫，详情请看下文分解。</p><p>　　单一事件的概率判断是无法评估的。比如，你说你的外甥今年有 95% 的可能性会结婚，我们怎么能判断这个概率估计是否正确呢？但是，概率判断的集合却是可以被评估的，因为该集合必须遵循特定的统计标准。<br>　　举例来说，气象预报员说明天的降水概率是 90%，而实际上明天却是一个艳阳天。虽然天气预报不准确，但我们也不能说预报员的判断错误。气象预报员也许已经充分分析了所能获取的所有数据，并对数据进行了正确的处理。根据现有的气象数据来看，降水概率很大，只不过今天刚好没有下而已。但是，如果天气预报员预测降水概率 90% 的所有日子里，其中有一半都是晴天，那么我们就有理由质疑天气预报的准确性了。在天气预报员预报降水概率是 90% 的所有日子中，你会期望有 90% 的时间会下雨。虽然气象预报员不能确定 10% 的晴天会发生在哪一天（不然的话就可以说是 100% 的降水概率了），但是，如果天气预报员有 50 天预测“降水概率 90%”，那么 50 天中至少应该有 45 天是下雨的。</p><p>　　在很多不同种类的知识标尺实验中，我们都可以看到过分自信现象的身影。这些实验发现，人们的主观概率估计始终都高于实际的答题正确率。比如说，当被试认为自己有 100% 的把握可以正确回答问题时，实际正确率往往只有 88%；当被试说他们有 90% 的把握能够回答正确时，实际正确率大概是 75%。在判断正误题中，通常来说，当被试对自己的答案有七八成的把握时，他们的实际表现和瞎猜差不多，正确率只有 50% 左右。</p><p>　　对于知识标尺的过度自信效应，部分源自于我们对首先跳出脑海的念头的执着。我们会对这个念头是哪儿来的稍作思考，之后，本着节省认知资源的原则，我们会快速得出答案：这个想法是“我自己思考后得出的”。被试会将这个首先跳出的答案作为焦点假设（类似于我方立场偏差），并将注意力着重放在这个焦点假设上，进而忽视了其他的非焦点答案。简而言之，“导致过度自信的原因之一，是未能找到自己错误的理由”（Baron，2000）。对最终答案的信心，来自于排除其他答案的证据，但是被试并没有意识到提取证据的过程是存在偏差的——只有首选的答案才有机会获得认知资源的垂青，为其寻找支持的证据，那些非焦点答案只有少得可怜的认知资源可供使用。这种做法的结果就是被试对于他们的答案信心爆棚。</p><p>　　过度自信现象不仅仅只出现在实验室中，在现实生活中也非常常见。比如，人们会高估自己对体育比赛结果、行为后果、经济走势等未来事件的预测准确性。过度自信在称为“计划谬误”的现象中表现得淋漓尽致。所谓计划谬误，是指人们常常会低估自己完成某项任务（比如完成一篇优秀论文、完成当年的税务表格、完成一项基建项目等）所需的时间。诺贝尔获奖者丹尼尔·卡尼曼曾经讲述过一个有趣的故事，告诉我们计划谬误有多么棘手，甚至连决策研究领域的专家也难免中招。数年前，卡尼曼加入了一个由决策研究专家组成的委员会，该委员会致力于开发一门适用于高中生的决策与判断课程。这个委员会成员每周定期开会以商讨课程内容并完成教科书的写作。在一次会议上，卡尼曼让大家估计课程设计和教科书写作全部完成所需要的时间。包括教务长和卡尼曼在内的专家给出的答案是最短为 18 个月，最长为两年半。当时正值 20 世纪 70 年代，很多课程和教科书都处于重新设计阶段。卡尼曼问教务长，他负责过多少门课程的开发工作？那些和当前课程相似的课程大概用了多久才能全部完成？教务长想了一会儿，面带羞愧地说，他负责的课程中，大概有 40% 的课程建设半路夭折，从未完成。听闻教务长这句话，房间里立刻弥漫着尴尬的气氛。卡尼曼觉察到这一点，为了缓和氛围，问教务长：“那些完成的项目呢？用了多长时间？”教务长再次陷入尴尬，告诉课程编撰委员会，那些已完成的项目，用时全部是 7 年以上！<br>　　对知识标尺过度自信的认知偏差带来了很多严重的现实后果。那些自认为懂得很多、实则并非如此的人，继续学习或修正错误的动机和意愿较弱。那些自认为拥有卓越的动作与知觉技能的人，常常会对他人的表现吹毛求疵，但对自己的错误却浑然不知，也不愿意接受批评。举例来说，很多调查表明，绝大多数人认为自己的驾驶技术处于中上游水平。加拿大安全委员会的一项调查表明，75% 的驾驶员承认他们曾经有过驾车时打电话、吃东西、刮胡子或化妆的行为。奇怪的是，同一批被调查者中有 75% 的人报告说，当他们看到其他驾驶员一边驾车一边吃东西或打电话时，会因此而抓狂和害怕。成千上万的驾驶员过度自信地认为，自己开车时打电话对驾驶行为不会造成干扰。这些“自信”的驾驶员为自己缺乏知识理性所付出的代价是惨重的。数据表明，由于驾驶环境中增加技术性干扰而导致的交通事故在逐年增加。缺乏精确的概率标尺是人类缺乏知识理性的一种表现形式，它无处不在，往往会带来深远的后果。例如，医生群体中的过度自信现象就是广泛存在且非常危险的。</p><p>　　人们对自己的驾驶技术标尺失准和社会心理学研究中的自我评价偏差有着密切的联系。人们常常会扭曲对自我的知觉，虽然并非每一次的扭曲方式都相同，但绝大多数时候，扭曲的结果倾向于自我提升。在一项以参加 SAT 测试的 800000 名学生为调查对象展开的评估中，仅有不到 2% 的学生认为自己的领导能力低于同龄平均水平。有超过 60% 的学生认为自己与人交往的能力位居同龄人中的前 10%。贾斯汀·克鲁格（Justin Kruger）和大卫·唐宁（David Dunning）的研究发现，在一项逻辑思维测试中，得分为倒数 25% 的学生的自评成绩平均是年级前 38%，也就是说，即使是得分最低的学生也认为他们的测验成绩高于平均水平！</p><p>　　最后，为大家介绍我方立场信息加工的螺旋循环。普林斯顿大学的心理学家艾米丽·普罗宁（Emily Pronin）通过调查研究发现，人们的自我评估偏差还表现在对自我评估偏差程度的评估。普罗宁对研究社会和认知心理偏差的文献进行了总结归纳，比如光环效应、自我服务归因偏差（成功时归因于自己，失败时逃避责任）等。在这些研究中，让被试对自己受到各种偏差影响的易感性进行了自我评估，同时，也评估了他人的易感性。普罗宁和她的同事发现，在 8 类社会认知偏差研究中，人们一致认为他人对认知偏差的易感性高于自己，也就是说，认为他人比自己更容易受到认知偏差的影响。简而言之，人们承认认知偏差的存在，但却坚信自己是不受影响的特殊个例。</p><p>　　为何会出现这种称为“偏差盲点”的现象呢？根据普罗宁的推测，当估计他人的认知偏差程度时，人们依赖的是对通俗心理学理论的肤浅了解。可是，当评估自己的认知偏差时，他们却栽在了对意识层面内省过程的监控上，这也是我方立场信息加工的一部分。现代通俗心理学理论的传播让人们对各类认知偏差略知一二，认为自己可以预测他人的认知偏差。可是，绝大多数社会和认知偏差是在被试对偏差毫无意识的情况下发现的。因此，当人们在意识层面寻找自己的认知偏差时，会一无所获。在预测他人的认知偏差行为时，我们依据的是心理学理论；而在预测自己的认知偏差行为时，使用的却是内省法，因此会得出他人更易受认知偏差影响的结论。</p><p>　　我方立场信息加工的另一个重要方面是人们对事件控制力的不合理自信。心理学家艾伦·兰格（Ellen Langer）对“控制错觉”（illusion of control）现象进行了研究。所谓控制错觉，是指个体相信通过个人的能力和努力，可以控制随机事件的结果。在一项研究中，两名员工在两家不同的公司向同事兜售彩票。他们卖给一部分人的彩票号码已随机选好；而卖给另一部分人的彩票则可以自选号码。毫无疑问，在一个随机抽奖的奖池中，自选号码和随机号码的获奖概率没有任何区别。第二天，这两名员工告诉那些买彩票的同事，他们希望买回昨天卖出的彩票。结果发现，自选号码被试开出的价格比那些分配到随机号码被试的价格高出 4 倍！朗格通过一系列类似的实验设计进一步验证了她的理论假设，即人们误以为自己的能力、技巧可以决定随机事件结果。<br>　　那些屈从于控制错觉的人，常常会基于错误的因果关系理论而采取行动，最终导致差强人意的结果。在马克·芬东-欧克里夫（Mark Fenton O 扖 reevy）及其同事的一项研究中，为我们充分展现了如果依控制错觉行事，会产生怎样的实际后果。他们对伦敦 4 家投资银行的 107 位交易员进行了研究。首先，研究者让交易员完成一项实验室任务，以评估他们的控制错觉特点。在该任务中，交易员被告知按键行为也许会对一个即时变化的指标产生影响。而实际上，按键并不会影响任何指标的变化。被试认为按键对指标变化的影响程度，即代表了该名被试的控制幻觉特征。芬东-欧克里夫发现，被试的控制幻觉特征与他们的绩效指标之间存在着密切的联系。交易员的控制幻觉水平越高，年度收益越少，控制幻觉水平每增加一个标准差，平均年收益减少高达 58000 英镑。</p><p>　　开车时使用手机，无论是手持手机还是使用耳机，都会使个体的驾驶能力下降，增加车祸的发生风险。</p><p>　　我方立场信息加工：沟通与知识假设中的利己主义 我方立场信息加工会干扰我们的沟通意图，在特定场合中尤甚。克鲁格（Kruger）及其同事对电子邮件沟通中的利己主义进行了研究。众所周知，由于缺乏音调、表情和着重音等沟通线索，任何形式的书面沟通都需要一定的我方立场信息加工。从这个角度来讲，电子邮件尤其危险，因为它的便捷、非正式和互动性可能会让我们误以为它与面对面沟通很相似。在他们的第一个研究中，克鲁格让第一组被试给第二组被试发电子邮件，并询问第二组被试如何对邮件内容进行解读。这些邮件中有一半是用讥讽的口吻（例如：“我真的好喜欢约会啊，因为我喜欢自己局促不安的样子”），而另一半电子邮件则是非讥讽口吻。收信人需要判断这封邮件是否含有讥讽的意思，发信人则需要预估收信人将邮件成功归类的准确率。研究结果发现，发信人的预估非常乐观，认为收信人的分类准确率能达到 97%，而事实上，收信人的分类准确率只有 84%。发信人如果不调整自己的我方立场观点，很难理解对方在没有表情线索和音调的情况下，成功辨认出讥讽口吻是一件很困难的事情。<br>　　人们难以认识到使用电子邮件进行沟通有可能会造成误解，究其原因是自我中心主义在作祟，克鲁格等人通过实验研究证实了这一点。在这个实验中，要求发信人大声地读出他们即将发送的电子邮件内容。不过，这个音频版邮件内容并没有发给收信人。同上个实验一样，收信人需要独自解读这封电子邮件的内容是否具有讥讽意味。之所以要让寄信人读出邮件内容，目的是要减少部分寄信人的自我中心主义倾向。实验要求一组寄信人读邮件时使用与邮件内容相符的语气。也就是说，如果邮件内容含有讥讽意味，则使用讥讽的语气；如果不是，则使用较为严肃的语气。另一组寄信人被要求使用与邮件内容相反的语气大声朗读。克鲁格研究团队这样解释他们的实验设计：“我们的设计原理很简单，如果人们高估自己使用电子邮件能力的原因之一是由于难以站在收信人的角度考虑，那么，通过迫使被试站在与自己观点截然不同的立场进行思考，可以降低被试对电子邮件有效性的过度自信。也就是说，邮件内容与朗读语气不一致的被试的过度自信程度应该会弱于内容与语气一致的被试。”<br>　　实验结果发现，邮件内容与朗读语气一致的被试表现出了较强的过度自信效应。这一组对应的收信人对邮件的判断正确率仅为 62.2%，而寄信人预估有 81.9% 的人可以准确地解读他们的电子邮件。反之，邮件内容与朗读语气不一致组的被试就没有前一组那么乐观了，他们对应的收信人对邮件的判断正确率为 63.3%，而这一组寄信人认为只有 62.6% 的收信人可以准确地解读邮件内容。<br>　　克鲁格的研究为我们展现了人们将自己头脑中的想法投射到他人头脑中的自动化过程。克鲁格的系列研究受到了伊丽莎白·牛顿（Elizabeth Newton）博士论文的启发。在伊丽莎白的研究中，人们的自我中心倾向展现得更为淋漓尽致。伊丽莎白让实验被试用敲打的方式打出一首大家耳熟能详的歌曲的旋律，并预测如果有一群人听到这个旋律，大概有多少听众可以识别出这首歌。被试估计大概有 50% 的听众可以正确识别出歌曲的名称，而实际上只有 3% 的听众可以听出这是哪首歌。这种现象我们并不陌生。一曲熟悉的旋律在我们头脑中异常清晰，我们坚信其他人可以通过听我们哼曲儿或者打击旋律很容易地识别出这首歌。人们常有这样的错觉，认为自己头脑中的影音能够原样重现在他人的头脑中，这种错觉的力量是如此强大，即使在知道了存在我方立场偏差的情况下，人们也难以对这种错觉免疫。<br>　　我方立场信息加工与电子设备消费行为研究中的“特征蔓延”（feature creep）和“功能疲劳”（feature fatigue）现象有着密切的联系。研究发现，随着电子设备的功能越变越复杂，这个设备反而越来越无用了，人们不愿意花费太多的时间去学习如何使用这个复杂的设备。飞利浦电器公司对退回商品进行了一项调查，结果发现有一半的退货商品本身并没有任何质量问题，消费者之所以退货是因为他们没有掌握正确的使用方法。<br>　　很多公司都致力于让他们的商品拥有更多的功能，而这样做的结果却是让商品变得越来越无用。作家詹姆斯·索罗维基（James Surowiecki）曾以微软文字处理软件（Word）为例来说明这种现象，在 2003 版 Word 软件中，总共有 31 个工具条和超过 1500 个操作指令。为什么会出现特征蔓延现象？缘由在于产品设计者陷入了我方立场信息加工的泥潭无法自拔。认知科学家奇普·希斯（Chip Heath）曾经描述过一个出现在设计师身上的我方立场偏差的经典例子：“我注意到自己家中的 DVD 遥控器上竟然有 52 个按键。之所以有那么多的按键，是由于某个工程师知道该如何使用这些按键，并且坚信我会和他一样想使用复杂的遥控器。但是，产品设计师是这方面的专家……他们意识不到我这样的电器菜鸟会和他们的想法完全不同”。</p><p>　　需要谴责的并非只有电器设计师。当人们在选择电子产品时，他们并不知道使用什么样的产品可以让他们感到愉快（Gilbert，2006）。索罗维基的研究发现，人们通常认为电子产品的功能越多，用起来越满意舒心，但事实上并非如此。当把商品买回家后，消费者才发现他们真正需要的其实是“简单”二字。通过对那些因为商品太过复杂而退货的顾客进行研究发现，他们在决定退货之前，平均的尝试时间只有 20 分钟。</p><p>　　在我们的研究中，智商高于中数水平的被试与智商低于中数水平的被试表现出了相似程度的我方立场偏差。比如说在制造论据研究范式中（“大学学费应该上涨，高等教育成本应该全部由个人承担”），被试无论智商高低，制造的我方立场论据均多于对方立场论据。克莱辛斯基及其同事的研究发现，高智商被试与低智商被试在评估实验中的证据时，会采取相同的偏差方式。</p><p>　　研究，采用的是被我和韦斯特称为“自然我方立场偏差”的实验范式。这种范式是人们在没有任何明显的指示或线索提示需要谨防我方立场偏差的情况下，从自己的视角出发对情境进行评估。需要注意的是，在这种范式中，被试在实验前不知道自己即将面临我方立场偏差的挑战，研究者也没有告诉他们思考问题时采用多种视角可以降低犯错的概率。如果有这些提示的话，高智商被试更有可能遵循这些提示的建议，减少思维偏差的出现。<br>　　在这方面，我方立场偏差的研究发现与上一章框架效应相似，即聪明人只有在被告知该如何做的情况下，才会表现得聪明。如果你告诉一个聪明人对其理性思维有哪些方面的要求——比如你告诉他们要小心我方立场偏差或是框架效应的影响，然后让他们完成一个会涉及这类理性思维的任务，与低智商的个体相比，高智商的个体会更好地遵循并执行这些理性思维要求。</p><p>　　值得引起注意的是，教育领域中有大量的文献资料都在强调批判性思维的重要性，在一定程度上，其实就是在关注如何避免自然我方立场偏差。根据我们的观察，包括大学生在内的很多人在完成批判性思考任务时常常会失败。这些大学生都是经过了层层的测试筛选才进入高校，但是，这些考试工具并没有涉及对批判性思维的测量。理论上讲，批判性思维和理性水平是可以通过考试测量出来的。我在本章中所提到的这些任务，仅仅是用于测量我方立场信息加工的诸多任务的冰山一角。除此之外，还有大量可用于测评的任务，它们为测量被智力测试工具所忽视的理性思维提供了可能。我方立场偏差，是被智力测验忽视的一个重要认知方面。</p><p>　　1999 年 7 月的一个夜晚，小约翰·肯尼迪（John F.Kennedy Jr.）与妻子及妻姐乘坐一架小型飞机前往玛莎葡萄酒庄园，在距离目的地仅有几英里时，飞机因在夜晚的薄雾中迷失方向而坠入深海。记者马尔科姆·格拉德威尔（Malcolm Gladwell）认为肯尼迪的这次失误是压制失败的一个典型例子。肯尼迪未能让类型二思维战胜并取代类型一思维，也就是说，他未能让自己在飞行学校学习并掌握的仪表引导飞行技术战胜思维倾向。给他带来致命一击的是，当他找不到标记水平线的灯光时，全然没有意识到飞机正沿着海岸飞行，在这种情况下没能保持机翼平衡，最终导致飞机陷入死亡螺旋，俯冲入海。<br>　　当地平线不可见时，飞行员无法通过重力感判断河岸的位置，也无法感知到飞机的非水平状态。在这种情况下，大脑的无意识子系统会发出一个只能够勉强应对当前情境的劣质指令，意识需要察觉到这个指令，并用后天获得的知识技能取代这个无意识的自动化反应。在肯尼迪的案例中，这个劣质指令就是操控飞机上下翻飞，试图飞离云雾，寻找到地平线。而后天习得知识所教的正确做法是使用仪表数据来保持飞机水平，慌乱之中的肯尼迪未能做到这一点。根据格拉德威尔的说法：“在那种情况下，肯尼迪需要打破在能看到水平线时所依赖的直觉飞行思路，将注意力集中于仪表引导上。”联邦运输安全委员会对这起飞行事故进行了深入调查，公布了飞机在失事前最后几分钟的飞行路线，揭示了飞机不顾一切地寻找可视地平线的各种尝试和努力。寻找地平线是一种人类本能，但是，夜间飞行需要的并非是依赖直觉和本能，而是要执行后天学习到的飞行知识与技巧。</p><p>　　在前面几章，我们讨论了由于认知吝啬鬼未能做到有意识地加工信息，不假思索地使用默认信息加工方式，进而导致了对某些情境的非理性反应。然而，上述理论不能为肯尼迪的坠机事件提供合理的解释。他既没有被动地受到给定框架的影响（第 7 章），也没有像解决第 6 章的莱维斯克难题（杰克正看着安妮，而安妮正看着乔治。杰克已婚，乔治未婚）一样，轻率地对新异问题做出反应。从是否进行主动的思考这个角度来看，肯尼迪在面对当时的情境时，并不是认知吝啬鬼。另外，他知道正确处理危机的方法。肯尼迪学习过在当时那种情境下的处理方法，当他和另外两位乘客命悬一线时，很显然，他的顾虑太多了。在某一瞬间，正确的应对方式也许曾闪现在肯尼迪的脑海中，但是，正确的行为模式最终还是输给了错误的行为模式。那一刻，肯尼迪进行着紧张的思考，但是，正确的思路却已惨败出局。这让我们不由得想问，输给了谁？考虑到我们所有的想法都源自于同一个大脑，正如第 3 章中所提到的三重加工心智模型理论，大脑中可能有若干种不同的心智。大脑中的无意识子系统经常会打败反省的、有意识的心智。在肯尼迪的例子中，他输给了古老的关于平衡、知觉和方向定位的进化适应模块。这种现象很常见。然而，日常生活中更为我们熟知的，是与情绪管理有关的进化适应模块战胜理性反应的行为倾向。</p><p>　　想一想如何杀掉一个人。别恐慌，这是一起完全出于善意的杀人预谋。这是一个在道德哲学领域中得到广泛讨论的假设性情境——电车难题。电车难题在学术文献中有很多不同的变式，它的基本形式是这样的：假设，你看到一辆因刹车失灵而失控的电车正从山顶上往下急速行驶。这时，不远处山下的电车轨道上站着五个人，如果他们被这辆电车撞到，将必死无疑。唯一可以避免这场悲剧的做法是你扳动一个开关，使电车驶入另外一条轨道，而在这条轨道上仅有一个人，也就是说，将有一个无辜的人遇难，而另外五个人获得了生存机会。你是否会扳动这个开关？这样做对吗？<br>　　大多数人认为应该扳动开关，牺牲一个人而拯救五个人的生命是值得的。<br>　　现在我们来看一种电车难题的变式，这是由哈佛大学心理学家约书亚·格林研究设计的，用认知神经科学视角研究道德判断。该变式称为人行天桥难题。与电车难题的基本形式相同，一辆刹车失灵的电车正冲下山，站在前方轨道上的五个人命悬一线。此时，你站在横跨轨道的人行天桥上，天桥的位置刚好处于电车与行人之间。在你的身边，站着一位膀大腰圆的陌生胖子。如果你将他推下天桥（没有人会看到），他的身体可以阻止电车继续前行，而他也将命丧车轮下，但是，前方轨道上的五个人却可以因此获救。你是否会将这位陌生人推下去？多数人说他们不会这样做。<br>　　我们都心知肚明为何在第二种情境中人们拒绝将这位陌生人推下去。人们普遍认为第二种情景让人为难、很讨厌，而第一种情境就不会给人带来不愉快的困扰。人们普遍对这两种情境有相似的直觉判断，这是可以理解的。问题在于，有些人试图去论证这两种直觉反应的合理性，也就是说，认为在第一个情境中牺牲一个人去拯救五个人的做法是对的，而在第二个情境中牺牲一个人救五个人的做法是错误的。正如格林所说：“每当有人试图为这两种直觉反应提供前后一致的原则性辩护理由，这些辩词通常是漏洞百出的……这些直觉反应难以评判……如果这些结论并非是基于某些公认的道德准则得出的，那它们一定是基于直觉。问题是，这些直觉源自何处呢？”<br>　　为了解决这个问题，格林和其同事开展了一系列神经科学领域的研究。研究人员让被试尝试解决各种两难问题，例如电车难题（亲身难题，涉及较少的个人困境）、天桥难题（非亲身难题，涉及较多的个人困境），等等。在被试解决问题的同时，对他们的大脑进行扫描。扫描结果显示，被试在解决亲身难题时，与情绪和社会认知有关的脑区（后扣带回、杏仁核、内侧前额叶皮质和颞上沟）会被激活。与之相对应的，当被试解决非亲身难题时，更多地激活了大脑的两个认知脑区，即与工作记忆功能息息相关的顶下小叶和背外侧前额叶皮质。这两个脑区与压制人的无意识决策密切相关。<br>　　在研究天桥难题的过程中，研究者还发现了一个有趣的现象。那些不按常理出牌，决定要把无辜胖子推下天桥的被试，也就是在亲身难题中决定牺牲一个人去拯救五个人的被试，他们在做决策之前的思考时间格外得长。格林和同事对这一现象进行了更为深入的研究，比较了在解决天桥难题时艰难给出肯定答案（拯救五个人）和快速给出否定答案（不做任何反应，不救那五个人）的两组被试的脑成像结果。通过比较后发现，当被试做出肯定回答时，大脑中压制情绪脑的部位，即顶下小叶和背外侧前额叶皮质，表现出更多的激活。这说明肯定答案组的被试在决策过程中使用了类型二信息加工，压制了与情绪调控密切相关的类型一信息加工。这些被试意识到，如果通过扳动开关改变轨道的方式拯救五个人牺牲一个人是正确的事情，那么，把身边的陌生胖子推下天桥以拯救五个人的做法也同样正确。</p><p>　　当无意识心智左右了被试的行为反应时，个体常常觉察不到，反之，他们还常常为此而争辩，认为他们做出的决定是经过审慎思考的、有理有据的选择。我们倾向于为自己的各种行为寻求一个前后连贯如一的解释，全然不顾多数决定与选择其实是由大脑无意识的信息加工过程所产生的这一事实。这种做法导致的结果就是，我们会为无意识行为编造出虚构的理由，以证明它们是在有意识的情况下做出的理性选择。这种现象已被大量研究报告所证实。人们为无意识行为虚构解释理由的倾向，在一定程度上可能会阻碍认知方式发生改变。因为，只有当人们意识到大脑正在使用自动化子系统时，认知方式才有发生改变的可能。</p><p>　　战败“冷”启发式思维倾向 心理学家区分了有情绪负荷和相对来说无情绪负荷的想法，认为压制情绪对思维的污染效应是“暖加工”的一个例子。但是，即便在没有情绪卷入的情况下，即心理学家所谓的“冷加工”，有意识思维也常常会被无意识思维所取代。事实上，即使是在我们清晰地意识到何为最佳答案的情况下，依然有可能让无意识信息加工过程肆意控制行为。举个例子来说，你会选择 10% 的概率赢得 1 美元，还是选择 8% 的概率赢得 1 美元？不需细致的计算也知道这个问题的答案！但是，如果你身处在西摩·爱泼斯坦（Seymour Epstein）等人的研究中，你很有可能会选择 8% 赢钱概率的赌局。<br>　　没错，爱泼斯坦发现，在某些特定情况下，人们会倾向于选择 8% 概率获得 1 美元的机会，而非 10%。下面，就让我们一起来了解一下他们的实验。在研究中，被试看到两只装有橡皮糖的碗。在第一只小碗中，有 9 颗白色橡皮糖和 1 颗红色橡皮糖。在第二只大碗中，有 92 颗白色橡皮糖和 8 颗红色橡皮糖。接下来，被试可以选择任一只碗，从中随机摸出一颗糖。如果拿到的是红色橡皮糖，那么，被试将赢得 1 美元。虽然两只碗的赢钱概率显而易见，第一只是 10%，第二只是 8%，但是，依然有很多被试选择从装有 100 颗橡皮糖的大碗中抽取，人为地降低了自己的赢钱概率。虽然多数被试做出了理性的最佳选择，但依然有相当数量的被试（30%~40%）选择了 8% 赢钱概率的大碗。绝大多数选择大碗的被试都意识到，从统计角度来看，选择 100 颗橡皮糖的碗意味着较低的赢钱概率，但是，这只大碗中却有更多的红色橡皮糖啊！这 8 颗诱人的红色糖果迷惑了他们的心智，很多人在明知道赢率较低的情况下，仍然无法抗拒地选择了盛有更多红色糖果的大碗。在实验结束后，有一位被试说：“我选择了盛有更多红色橡皮糖的碗，因为它看起来有更多的获胜机会，虽然我意识到它同时也盛有更多的白色橡皮糖，赢的概率较小。”也就是说，在明知道哪一个是最佳选择的情况下，被试对绝对数量的偏好战胜了理性规则（选择有最佳赢钱概率的碗）。<br>　　也许，你认为自己会选择那只小碗，做出正确的选择（也许你是对的，实验中多数人都选择了小碗）。也许，你认为这个冷认知问题并没有难倒你。那就请随我一起看看下面这个例子，在这场认知战役中，你也许会为之抓狂，没准儿还会输掉。<br>　　请看下面这则三段论推理。你认为该推论是否成立？也就是说，根据给定的两个前提，得出的结论是否符合逻辑？<br>　　前提 1：所有的生物都需要水。<br>　　前提 2：玫瑰需要水。<br>　　因此，玫瑰是生物。<br>　　怎么样？在继续往下读之前，请先判断上述结论在逻辑上是有效的，还是无效的呢？<br>　　70% 的大学生认为这个结论是合乎逻辑的，没准你也是其中一员。如果你认为“玫瑰是生物”的结论在逻辑上是有效的，那么你就犯错误了。前提 1 说所有的生物都需要水，但是并没有说所有需要水的东西都是生物。因此，仅凭玫瑰需要水这一条，我们无法得出它是生物的结论。如果这样解释还不清楚的话，让我们再来看下面这组具有相同结构的三段论推理，看过之后，也许你就明白上述结论为何是不符合逻辑的了。<br>　　前提 1：所有的昆虫都需要氧气。<br>　　前提 2：老鼠需要氧气。<br>　　因此，老鼠是昆虫。<br>　　现在，我们可以很明显地看出，根据给定的两个前提，所得出的结论在逻辑上是无效的。<br>　　逻辑结构上相同的“老鼠”三段论和“玫瑰”三段论，为何在解决时一个易如反掌，而另一个却令人困惑呢？原因有以下几点。首先，玫瑰三段论的结论（玫瑰是生物）是符合情理的，在现实世界中是真实存在的。难点就在这里，逻辑的有效性并非等价于结论的可信度，而是根据前提得出的结论判断是否符合逻辑推理规则。使得玫瑰三段论难度升级与老鼠三段论难度下降的原因是相同的。“老鼠是昆虫”在现实世界中是错误的，这使得我们很容易判断出这个结论不符合逻辑推理规则。<br>　　在上述两个三段论推理问题中，人们关于自然世界的已有知识（玫瑰是生物，老鼠不是昆虫）理应独立于待解决的问题，即对逻辑有效性的判断，但事实上，却对问题解决产生了干扰。在玫瑰问题中，已有知识阻碍了问题的解决；而在老鼠问题中，已有知识对问题解决产生了促进作用。玫瑰三段论是涉及自然反应与基于规则的反应发生冲突的冷认知的一个典型例子。即使你正确地回答了这个三段论问题，你依然会感受到这种冲突。如果你回答错误，那么，你所经历的正是这种情况：经过深思熟虑，但却输给了更为自然的加工倾向，即基于可信性而非逻辑有效性做出反应。<br>　　逻辑有效性与既有知识发生冲突的三段论推理可以用于评估一种重要的思维技能，即在解决问题的过程中专注于理性推理，抵抗加工简单线索的诱惑（甘当认知吝啬鬼的先天倾向）的能力。这些问题探测了人们在指导语告知要避免属性替换的情况下，依然依赖它去解决问题的倾向。解决这些问题时，最简单的线索是直接评估结论在现实世界中是否正确。相对来说，对逻辑有效性的评估较为困难。但在解决三段论推理问题时，人们必须专注于此，与此同时，忽视或压制对结果现实真实性的评估。<br>　　值得引起重视的是，在智力测试中没有涉及“玫瑰”三段论这一类问题，这种类型的三段论推理问题更有可能会出现在评估思维倾向和认知风格的批判性思维测试中。这一类焦点开放式问题（焦点在结论的真实性或是推论的有效性上）在批判性思维测试中很受欢迎，因为这类测试的主要目的就是判断个体的思维过程更依赖于推理还是语境。然而，这种开放式问题在智力测试中就不那么受欢迎了，因为智力测试关注的是人在解决毫无争议的问题时的原始推理能力。在智力测试中（或者其他任何的认知能力倾向测试），但凡涉及三段论推理题，都会把题目和语境剥离开来，比如，题目会以这种形式呈现：“所有的 A 都是 B”。或者使用陌生的语境，比如与“玫瑰”三段论相类似的题目会以如下形式呈现：<br>　　前提 1：所有 Hudon 类的动物都很凶猛。<br>　　前提 2：Wampets 非常凶猛。<br>　　因此，Wampets 是一种 Hudon 类动物。<br>　　“玫瑰”三段论推理的标志性特征是“多重心智冲突”，而这一类题目将心智冲突从三段论推理问题中剥离开来。不涉及心智冲突的三段论推理问题仅仅可以用来评估算法心智，而不能对反省心智进行评估。例如，有研究发现个体在“玫瑰”三段论推理问题中的表现与智力水平之间仅有微弱的相关。但是，思维倾向可以预测人们在冲突性三段论推理问题中的表现，而智力水平则不能。认知灵活性、思维开放性、语境独立性等都是思维倾向的表现形式，是反省心智的重要组成部分。<br>　　虽然“玫瑰”三段论推理问题看起来有些小儿科，但它却是现代社会中一种日益重要的认知能力的风向标。这种能力就是根据给定信息进行推理，并且在思考过程中，暂时摒弃过去已掌握的信息，不受其影响。例如，现代司法系统在对证据进行评估时，十分重视将已有的信念知识与当前的证据评估剥离开来。那些与法庭上呈现的证据无关，而是根据已有的背景知识和个人经验所做出的离奇判决，势必会引起人们的公愤。20 世纪 90 年代发生的两起经典案件为此提供了绝佳的例证。社会调查数据显示，大多数美国公民对于陪审团做出的辛普森无罪判决感到愤怒。同样，人们也因警察殴打罗德尼·金案件的初审结果而感到震怒。在这两起案件中，陪审团成员都未能将自己的既有信念与评估当前证据剥离开来。<br>　　现代社会的很多工作场所都需要员工具备将已有知识经验与当前工作行为剥离开来的能力。比如，在零售服务行业有一句箴言，“顾客永远是对的”。这句话被理解为，哪怕顾客对员工有不合理的言语侵犯时，服务人员也应该秉承“顾客是对的”这一理念。员工必须要遵循这种奇怪的零售行业逻辑，将常识所认为的顾客行为失范置之一边，依然提供高质量的服务，不然他就有可能面临被解雇的风险。服务行业从业者被认为应该谦恭有礼地提供服务，并且应该意识到这种行为模式是基于市场经济交换的社会建构。服务人员必须意识到，他们与顾客之间所发生的互动并不是严格意义上的人际社会互动，而是处于一种非自然的特殊互动领域，在这个领域中需要遵守特殊的交往规则。<br>　　我并不是在宣扬在任何情况下都应该完全无视自己的已有知识。很显然，在多数情况下，为了解决问题，我们需要积极调动已掌握的知识技能。在这里，我仅仅是想指出一个现象，即现代化社会创造出了越来越多的非自然、去情境化情境。基于现代科技社会的科学研究常常要求人们“忽视已有知识和信念”。比如，在你认为控制组的表现一定会弱于实验组的情况下，依然对控制组进行严格检测，这就是忽视已有信念的一种形式。对摒弃已有知识的需求，并非仅局限于科研和法律领域。现代社会通过日益强调公平公正、遵守规则、“一碗水端平”、制裁任人唯亲、消除偏见、普世主义、包容、契约制强制性平权和消除家族、种族、信仰歧视等理念，以要求个体剥离既有的以个人化为中心的认知，达到去情境化。</p><p>　　我们在进行信息加工时，通常并不知晓自己有着吝啬使用认知资源的倾向。当个体面临一个待解决的问题时，他们常常想不到这个问题可以有不同的呈现框架。人们往往没有意识到自己在思考时并没有尽力而为。当人们深陷于我方立场思维时，常常并没有察觉到自己也可以基于其他的立场去思考问题。当我们使用锚定和调整策略，或是思维方式受到信息生动性的影响时，我们对其他可能的处理方式毫无觉察。这一点很好理解。认知吝啬鬼之所以选择走认知捷径，其目的在于不占用意识资源的情况下提供答案。</p><p>　　然而，本章所讨论的情境有所不同。如果你在爱泼斯坦的橡皮糖任务中选择了有 8% 赢钱概率的那只碗，你多多少少都会意识到 10% 赢钱概率的碗也许是一个更好的选项。在天桥任务中，如果你认为把身边的无辜胖子推下天桥是一件错误的事情，想必你一定经历了一番思想斗争，因为你能够意识到由于保全了一个人的性命，多牺牲了四条生命。在玫瑰三段论问题中，如果当你看到“玫瑰是生物”时，仅仅根据大脑对这句话的第一反应，就做出了“有效”的判断，你也许能够觉察到自己的大脑此刻有些偷懒，并没有对给定的两个前提进行审慎的思考。在上述这些问题情境中，人们能够意识到在“深思熟虑”和“不假思索”之间所存在的认知冲突。人们在解决这些难题时，或许能够觉察到“深思熟虑”和“不假思索”正在将你的思维拉向两个截然相反的方向。<br>　　在有些情境中，人们可以很清楚地意识到多重心智的存在。实际上，个体在不同心智之间挣扎犹豫是这些情境所共有的显著特征。在这些情境中，人们必须抵抗住认知捷径的诱惑。这就好比早上虽然很想赖床，但必须起床做早餐；很想花三美元喝上一杯午后咖啡，但由于本月预算捉襟见肘而必须放弃；减肥期间应该吃胡萝卜作为零食，而非薯条；虽然周末有密歇根-圣母橄榄球对抗赛，但知道自己必须利用周六的时间将车库清理干净；周末有两个聚会邀请，但自己必须为即将到来的期中考试做准备；在赌场给自己定下的止损额度是 100 美元，现在已经输掉了 107 美元，实在是该立即收手了，但是……</p><p>　　中的“意志力”是指延迟满足或是压抑本能反应的能力，使得我们在做决策时不短视，能够着眼于长远利益。缺乏评估即时奖励与延迟奖励的能力，是导致很多人非理性行为的来源，这些非理性行为阻碍了目标的最大化实现。很多成瘾行为背后的逻辑都充分说明了这一观点，比如酗酒、暴饮暴食、透支购物等。从长远角度来看，个体毫无疑问应该更喜欢适度饮酒、节食、保持较低数额的信用卡欠费账单。<br>　　心理学家使用延迟满足实验范式对这个问题进行了研究。在这种实验范式中，人们常常会表现出一种称为“跨时间偏好翻转”的非理性行为。这是一类关于偏好的非理性行为模式，它阻碍了个体获得自己从长期视角来看最想要的东西。举例来说，假设你现在面临两个选择，一是立即可以获得 100 美元，二是一周后获得 115 美元（假设这笔钱由联邦政府作为第三方机构暂为保管，延迟收款不存在任何风险）。当面临这个选择时，并非所有被试都选择了一周之后获得 115 美元这个选项。不知是基于什么原因，有些人倾向于立即获得 100 美元。接下来，同一批被试面临着第二个选择：52 周后获得 100 美元或是 53 周后获得 115 美元。无论在第一题中做出了怎样的选择，几乎所有的被试都选择了多等一周获得 115 美元。对于那些在第一题中选择即刻获得 100 美元的被试来说，存在着两个题目中偏好排序不一致的情况。52 周之后，他们所面临的情境与第一题完全一致——即刻获得 100 美元或是等待一周后获得 115 美元。<br>　　为何一周的等候时间在一种情境中是至关重要的（重要到可以为此损失 15 美元），而在另外一种情境中（提前一年做决策）又似乎变得无关紧要了呢？人们之所以表现出这种前后不一，可以用双曲线贴现曲线（hyperbolic discount curves）来解释。该双曲线是决定预期收益打折速度的函数，它的存在具有深远的进化意义。问题在于，虽然这种功能有利于基因适应，但对于一个试图将个人效用最大化的个体来说，不应该让理性也同时大打折扣（最理想的人类选择函数应该是指数曲线）。双曲线函数会让人们高估近在眼前的奖励，而忽视长期目标。它还会让人们的偏好随着时间变化而变化。对于任何项目或行动的策划人来说，这样的做法都会让人抓狂。前期做的项目计划，可能会在实施中途被推翻或放弃，而随着时间的推移，又有可能会后悔当初的决定！<br>　　双曲线贴现曲线可以用来解释我们为何会屈服于非理性的诱惑。深夜临睡前，我们设定了早上七点钟的闹钟，因为第二天要做的事情很多，早起一会儿可以保证一整天工作任务的顺利完成。但是，当七点钟闹钟准时响起时，我们在迷迷糊糊之中按下了“再睡一会儿”的按钮，反悔了昨晚的决定，再过一会儿，又会因刚刚“再睡一会儿”的新决定而后悔万分。我们会在冰箱里装满减肥食物，预期未来一段时间将瘦身成功，然而，当快餐店的收银员询问：“请问您需要加大号套餐吗？”我们几乎都会本能地点头，脱口而出“好”！在以上这些情境中，我们必须抑制住自己想要满足眼前欲望的冲动，如果未能做到这一点，就会被大众心理学贴上“缺乏意志力”的标签。<br>　　让我们看一则《新闻周刊》刊出的有关意志力的例子。在一篇描写参议员乔治·爱德华的妻子伊丽莎白·爱德华的文章中，作者向读者讲述了爱德华夫人参加 2004 年总统选举期间的一则轶事。当时，爱德华夫人正在艰难地实行南滩减肥法。在机场转机时，空乘人员端着一只装满甜点的托盘走过，询问爱德华夫人是否想要来一块布朗尼蛋糕。爱德华夫人回答道：“我的答案是‘好的，来一块’。但是，如果你端着它们走开，从长远来看，我会感到更开心。”在这个情境中，爱德华夫人使用了她的意志力。另外，这个例子也是使用认知工具的一个例子，在这个故事中，爱德华夫人使用了支持理性思维的心智程序（mindware），即“捆绑策略”。心理学家乔治·安斯理（George Ainslie）和霍华德·拉查林（Howard Rachlin）对捆绑策略进行了这样的描述。我们想要达成一个长期目标（例如，通过节食减肥），但是，眼前有个小奖励在诱惑着我们（一块布朗尼蛋糕）。我们心里清楚地知道，在节食期间每天吃一块布朗尼蛋糕是绝对不应该发生的事情，这种行为势必会阻碍我们长期目标（节食减肥）的实现。另一方面，我们发现，在决策前的那个时刻，对当前即时奖励的本能反应占据了绝对支配地位。他们甚至还有为自己开脱的说辞：为何不先把这块布朗尼蛋糕吃掉，明天再开始减肥？然而，算法心智和反省心智主导下的类型二信息加工过程告诉我们为何不能明天再开始减肥：明天，你将面临与今天相同的挣扎，到那时，你依然会选择吃掉眼前的布朗尼。日复一日，都将如此。<br>　　现在，让我们来认真思考一下这件事情。我们可以制定一条规则，以重新定义“今天吃一块布朗尼蛋糕”这件事情：今天吃一块布朗尼蛋糕，意味着未来的每一天我都会吃一块蛋糕。依据这个规则，事情就很明朗了。“今天吃一块蛋糕”这件看似不起眼的小事情，实际上威胁到了我们的长远减肥大计。如果我吃了这块布朗尼蛋糕，会毁了整个减肥计划。如果能够这样想的话，就放大了吃一块布朗尼蛋糕带来的损失，放大后的损失可以与被高估的强烈即时欲望满足感相抗衡。<br>　　为了增强长期目标的动机性力量，我们对问题进行了重述，使得它有实力与短期的本能欲望搏斗一番（并不是说重述后的规则必将胜出，而是仅仅增强了长期目标的力量，使得这成为一场势均力敌的竞争。使用体育术语来说，试图让长期目标和短期目标之间进行一场加时赛，而非一上场长期目标就全线失守）。我们可以用语言为工具来设定规则，以将未来可能做出的所有行为都“捆绑”在一起，进而使个体可以获得足够强大的动机性力量，以压制当前可能对长期目标产生威胁的行为。<br>　　这个例子也引出了我们在下一章中将要深入讨论的一个重要话题。压制无意识心智做出的反应，其实是使用语言内容的过程。在压制过程中，大量使用了陈述性知识和策略性规则（这些策略都是语言编码的）。这种心智程序是基于语言形式的论点或主张，具有可以启动反应系统的动机性力量。这些信息通常是朗朗上口、易于理解的，以名言警句的形式口口相传，比如“少花一分，就相当于赚了一分”“美貌只是皮囊”，这些是为了阻拦由本能或情绪模块启动的反应。<br>　　问题在于，假如个体还没有掌握与某个情境相关的心智程序，除本能反应之外的备选控制系统就不可能对当前的行为产生影响了。因此，在有些情境中，个体想要压制自动化的反应，但苦于还未加载适用于当前情境的心智程序。这是导致非理性行为发生的一个心智问题，我称它为“心智程序缺陷”。</p><p>　　“心智程序”是指个体可以从记忆中提取出的规则、知识、程序和策略，以辅助决策判断和问题解决过程。除了认知吝啬鬼，心智程序出现问题也是导致不良决策的重要原因。有时，个人是因为没有安装足够的心智程序，即心智程序缺陷，如忽略备择假设、不擅长寻求证伪焦点假设；有时，是安装了污化的心智程序，如相信占星术和笔迹学。</p><p>　　英国律师萨利·克拉克曾因谋杀自己的两个婴儿而被捕入狱，2003 年，她的判决被推翻而释放出狱。5 个月后，英格兰梅登黑德的药剂师特鲁珀提·帕特尔谋杀亲生子女的案件也得以昭雪。克拉克夫人和帕特尔夫人的案件存在很多共同点。她们的家中都不只一次发生过婴儿死亡事件；她们都被指控谋杀自己亲生的婴儿；用以给她们定罪的证据含混不清。最后一点，她们之所以被判有罪，都是由于法官、陪审团尤其是专家证人的心智程序缺陷。<br>　　在两起案件中出庭作证的专家证人是一名儿科医生。据他推测，两位母亲都患有“代理型孟乔森综合征”，具体症状是父母亲让健康的子女接受没有必要的医学治疗，这是一种很残忍的儿童虐待方式。比儿科医生的说辞更能打动陪审团的，是这位儿科医生作证时出示的一组概率数据。这位儿科医生作证说，同一个家庭中两个婴儿都死于“摇篮猝死症”的概率是 1/73000000。这个夸张的数据让陪审团印象深刻，使得他们认为这种事情几乎不可能在非人为的情况下发生。但是，这位儿科医生在计算概率时误用了一条最基本的规则。他只是简单地把发生一次摇篮猝死的概率进行了平方，进而得到了 1/73000000 这个数据。但是，在进行概率计算时，只有当两起事件完全独立时，才可以使用这种算法。而在婴儿猝死的案例中，并不满足两起事件完全独立的假设，已有很多研究表明，由于共享很多基因和环境因素，在发生过婴儿猝死的家庭中再次出现婴儿猝死症病例的概率会升高。<br>　　就在克拉克夫人被定罪不久，英国医学杂志发表了一篇题为《因数据错误而定罪？》的文章，指出了儿科医生的法庭证词中出现的概率逻辑错误。就某种意义来说，儿科医生所犯的错误，是一个很小的概率推理错误。一旦被指出来，多数人都可以理解他错在哪里。相信所有的概率入门课程老师在讲授“概率平方”的使用规则时，都会强调事件独立性是它的基本使用原则。但是，从另一个角度来看，这个小错误又是一个大问题。关于基本概率理论的心智程序并非人人具备，这位儿科医生没有，法官、陪审团成员也都不知道。多数人在高中毕业时搞不懂概率的操作规则，只有少数选修了统计相关课程的大学生才有机会获取这一类知识。智力测验更是不会对这些方面进行测量。认知心理学家发现，当处理这一类概率信息时，人们并不能通过自然思维倾向（认知吝啬鬼即依赖于此）得出正确的估计。多数人的心智程序中并没有存储一些重要的概率理论规则，因为这些知识无法通过基础教育获得。简而言之，缺乏概率理论知识是一种心智程序缺陷，也是很多非理性思维和行为的根源。</p><p>　　18 世纪，来自英格兰坦布里奇维尔思的教士托马斯·贝叶斯（Thomas Bayes）提出的定理为这个问题提供了理论性答案。贝叶斯公式基于两个基本概念：待检验的焦点假设（称为 H），以及与假设相关的数据集合（称为 D）。在下面我将要给大家展示的公式中，你将看到这样的符号：<del>H（非 H）。这个符号代指备择假设，即如果焦点假设为假，则备择假设一定为真，两者是相互排斥的。因此，按照惯例，备择假设为真的概率等于 1 减去焦点假设为真的概率。例如，如果我认为鱼竿另一端咬钩的鱼是鲑鱼的概率为 0.6，那么，这只鱼不是鲑鱼的概率就是 0.4。<br>　　接下来的章节是本书中技术性最强、对数学要求最高的一部分。但是，此处的重点与难点并非在于数学公式，而是概念。即使你有数学恐惧症，想要忽视所有的数字和公式，也应该对理念有清晰准确的把握，这是关键所在。掌握贝叶斯思维方式，除了一些词汇规则之外，你并不需要学习太多其他的知识。正规的贝叶斯统计肯定包含计算，但是，为了避免犯概率相关的思维错误，你只需要掌握正确进行概率计算思维方式所需的概念性逻辑即可。<br>　　在接下来出现的公式中，P（H）表示在收集数据之前估计焦点假设为真的概率，P（</del>H）表示进行数据收集之前，备择假设为真的概率。另外，接下来的计算中还牵扯到一些假定概率（条件概率）。例如，P（H／D）代表在对数据（D）模式进行分析之后，焦点假设为真的概率；P（<del>H／D）代表备择假设的后验概率。P（D／H）表示在焦点假设为真的情况下，观察到特定数据模式的概率；P（D／</del>H）（下文中将要提到，这是一个非常重要的值）代表在备择假设为真的情况下，观察到特定数据模式的概率。需要引起重视的是，P（D／H）与 P（D／<del>H）并非是互补的（两者相加不为 1）。数据有可能同时给定焦点假设和备择假设，也有可能不给定焦点假设和备择假设。<br>　　接下来，我们将聚焦于贝叶斯公式中理论性最强的一种变形形式，该公式以概率形式呈现：<br>　　在这个比率等式中，或者说概率形式公式中，从左至右 3 个比率分别表示：在获得新数据（D）的情况下，焦点假设（H）成立的后验概率；焦点假设概率除以备择假设概率，被称为相似率（LR）；焦点假设成立的先验概率。具体来说：<br>　　该公式告诉我们，在给定数据集的情况下，焦点假设成立的概率等于两个概率的乘积：相似率乘以焦点假设成立的先验概率。即：<br>　　焦点假设的后验概率＝相似率×先验概率 值得引起大家重视的一个问题是，不知道贝叶斯定理，并不意味着这个人一定是非理性的。普通人其实并没有必要熟记这个公式。问题在于，无论个体的判断是否遵循贝叶斯定理，人们在做出概率方面的决策时，通常是根据自动化加工做出的推测，实验室研究所关注的正是这种自动化推测是否符合贝叶斯定理的限制条件。当我们跌倒在地时，我们的身体倒下的轨迹遵循牛顿定律。当我们跌倒时，我们不会有意识地根据牛顿定律进行计算，但是，我们的行为可以被认为是遵循牛顿定律的。同样的道理，人们在做出判断时也许并不知道贝叶斯定理，但我们仍然可以将他们的行为描述为符合贝叶斯定理的理性推理。哪怕在人们不了解任何贝叶斯公式的有关知识，或是没有进行有意识计算的情况下，人们的概率判断也有可能被认为是遵循贝叶斯定理的。<br>　　个体的推理偏离贝叶斯定理的形式多种多样，在接下来的章节中，我将重点关注其中一种。<br>　　通常情况下，当人们对证据的可诊断性进行评估时，即评估 [P（D／H）／P（D／</del>H）]，常常会忽略掉分母 [P（D／<del>H）]。在焦点假设为假的情况下，人们没有意识到评估获得观测数据概率的必要性。<br>　　这是由于没有想到反例而导致严重推理错误的理论性原因。好了，现在让我们回顾一下在开篇中提到的社区餐厅老板的故事。如果你认为老板的回答很棒，那么你跟他犯了相同的错误。原因如下：<br>　　根据贝叶斯定理，餐厅老板仅提供了 P（D／H）的信息 [如果这是一家很棒的餐厅，少于 5% 的客人会投诉的概率]，而忽视了 P（D／</del>H）[如果这是一家很糟糕的餐厅，少于 5% 的客人会投诉的概率]。他 / 她希望告诉你一个很高的 P（D／H），以提高餐厅的吸引力和你光顾的概率，但是你（正确地）意识到，如果要评估后验概率，仅仅有 P（D／H）是不够的，因此你并不会被老板说服。你觉得老板提供的论据可信度不高，并且，由于老板没有提供 P（D／<del>H），你可能还会做出一些其他的假设。在这个简单的例子中，你能够认识到获取 P（D／</del>H）的必要性。换句话说，如果这家餐厅很糟糕，有 5% 的客人会直接向老板抱怨的概率是多少？<br>　　上述情况如何用贝叶斯公式表达呢？请大家先来回想一下贝叶斯公式的基本形式：<br>　　后验概率＝相似率×先验概率 让我们假设你收集数据之前估计这家餐厅很棒的概率是 0.5，那么，估计这家餐厅很差劲的概率也是 0.5。因此，认为这家餐厅很棒的先验概率是 0.5：0.5，即 1：1，用博彩术语来说，就是赌一赔一。<br>　　这个例子中的相似率指的是什么呢？根据老板提供的信息来看，95% 的客人从未抱怨过这家餐厅。因此，可以对此处的相似率做如下表述：<br>　　假定这是一家好餐厅，很有可能有 95% 的客人都不会抱怨、投诉餐厅。事实上，5% 的投诉率在竞争激烈的餐饮业中是非常高的，这样的餐厅很有可能面临生存危机。因此，95% 的客人用餐后没有任何怨言这一评价指标，超过 99% 的好餐厅都可以轻松达标。餐厅老板所犯的错误在上述公式的分母部分，即 P（D／<del>H）。如果这是一家很差劲的餐厅，超过 95% 的客人不会抱怨的概率是多少？这里问题就多了。多数差劲的餐厅并非一如既往得差。另外，多数餐厅之所以收到差评，并非因为顾客对食物有所怨言（那样的餐厅距离关门不远了），而是由于这家餐厅的各方面一直都差强人意，或是差于周围餐厅的平均水准。这些餐厅并非提供令人反胃的食物，而只是“一般般”的餐厅。再考虑到基于社会化因素，当人们仅仅是轻微不满意时，通常不会公开表示抱怨。也就是说，人们如果在一家很糟糕的餐厅吃饭，虽然心中暗下决心绝对不会再去第二次，但多数人离店时都不会把抱怨挂在脸上或者说出来。这就是为何餐厅老板提供的 95% 满意度的数据并没有很强的说服力。<br>　　如果这家餐厅很差劲，有 90% 的概率至少有 95% 的顾客离店时不会口头表达不满。当我们把这些数据代入到贝叶斯公式，结果如何呢？<br>　　后验概率＝相似率×先验概率 后验概率＝（0.99/0.90）×（0.5/0.5）<br>后验概率＝1.1 “这是一家好餐厅”的赔率是 1.1 比 1（这是一家好餐厅的概率已由 50% 变为 52.4%）哪怕是最为乐观的估计，这家餐厅值得品尝的概率都不大。<br>　　餐厅老板试图诱惑我们犯思维错误。他的伎俩包括以下 3 步：<br>　　（1）制造一个已知数 D，以产生很高的 P（D/H）；<br>　　（2）希望对方忽视 P（D/</del>H）；<br>　　（3）仅仅根据高 P（D/H），推测焦点假设的发生概率。<br>　　越来越多的研究表明，人们普遍倾向于忽略能够证明非焦点假设为真的证据。例如，心理学家麦克·多尔蒂（Michael Doherty）及其研究团队使用一种简单的范式对这个问题进行了研究。该研究范式让被试想象自己是一位正在给红疹病人做检查的临床医生。研究者给他们提供了 4 条信息，要求被试从中选取一条可以确诊病人患有“Digirosa”的临床证据。这四条信息内容如下：<br>　　患有 Digirosa 的人口比例。<br>　　没有患 Digirosa 的人口比例。<br>　　患有 Digirosa 的患者中，红疹患者的比例。<br>　　未患 Digirosa 的患者中，红疹患者的比例。<br>　　这些信息对应于贝叶斯定理中的 4 个术语：P（H），P（<del>H），P（D／H）和 P（D／</del>H）。由于 P（H）和 P（<del>H）是互补的，所以在计算后验概率时，实际上只有 3 条信息是必需的。其中，未患 Digirosa 的人群中红疹患者的比率，即 P（D／</del>H），是必选的信息。因为根据贝叶斯定理，它是计算相似率不可或缺的关键部分。然而，在多尔蒂及其同事的研究中，48.8% 的被试没有选择 P（D／<del>H）这条信息。因此，对于很多面临这个问题的人来说，未患 Digirosa 的红疹患者数量与当前问题的解决毫无关系，它被（错误地）认为是一件无关痛痒的事。<br>　　能够意识到 P（D／</del>H）的重要性，这并非是默认安装在大脑中的心智程序，因此，选择它作为解决问题的必需信息看起来有些“反直觉”。人们必须通过学习而得知这条信息的重要性，否则，默认的信息加工过程会选择忽略这条信息。因此，那些没有认识到加工 P（D／~H）重要性的人，可以认为他们存在心智程序缺陷。</p><p>　　一个关键的心智程序缺陷：忽略备择假设 未考虑到备择假设，即相似率计算公式的分母，并非是一个无关痛痒的推理错误。关注备择假设下的观察概率，是医学临床诊断和应用科学决策的一个关键步骤。这也是在研究中使用对照组的原因。了解在自变量不变的情况下会发生什么，对于研究来说是至关重要的。对于临床和科学研究推论来说，如果只提供实验处理组的信息，意味着这个研究设计存在致命的缺陷。<br>　　未考虑到检验备择假设的必要性，是导致前述自闭症辅助沟通研究案例越错越离谱的诸多原因之一。心理学家做了大量的研究以评估人类忽视关键性对照信息（对照组）的认知倾向，例如，已得到广泛应用的协变关系探测范式。该研究范式给被试呈现了一系列治疗方法和病人反应之间的关系数据。被试有可能被告知以下信息：<br>　　200 人接受治疗，病情得到改善。<br>　　75 人接受治疗，病情没有得到改善。<br>　　50 人没有接受治疗，病情得到改善。<br>　　15 人没有接受治疗，病情没有得到改善。<br>　　这些数据是对实验结果进行归纳总结的 2×2 矩阵。在协变关系探测范式实验中，要求被试判断这种疗法是否可以有效改善病情。许多被试认为该疗法是有效的。这些被试的关注点在于接受治疗并且病情得以改善的病人数量（200 人）。另外，他们还注意到，接受治疗并且病情改善的人（200 人）远远多于接受治疗但病情没有得到改善的个体数量（75 人）。由于病情改善的概率看起来相当之高（200/275＝0.727），这个数据怂恿被试认为该疗法是有效的。这即是一个理性思维错误。<br>　　这种思维方式忽略了没有接受治疗但病情得以改善的概率。由于不接受治疗病情改善的概率（50／65＝0.769）比接受治疗的概率更高，因此，这种疗法可以被认为是完全无效的。被试忽略非治疗组疗效结果的认知倾向，以及治疗后改善组的数量优势，诱使很多人认为这是一种有效的疗法。令人不安的是，研究发现那些负责进行临床诊断的内科医生，也常常会使用这种非最优化的思维方式处理临床证据。</p><p>　　更多的科学思维心智程序：可证伪性 人们在尝试依据备择假设评估数据时，会觉得这是一件比较困难的事情；同样的道理，人们在寻找有可能会推翻焦点假设的证据，并检验这个证据时，也会感到非常困难。原因在于，人们天然的思维倾向是寻找证实假设的证据，而非证伪的证据。过去 40 年，在推理领域中被广泛研究的一个问题，极具戏剧性地说明了这一点。这个任务是由最具创造性的科学家之一，研究现代人类理性的专家——彼得·华生（Peter Wason）发明的。这个任务在各种研究中被使用了没有几百次，也有几十次了。在继续往下读之前，请先试着回答下面的问题：假设在你面前摆放着 4 张长方形卡片，每张都是一面写有字母且另一面写有数字，这 4 张卡片中有两张是字母朝上，两张是数字朝上，朝上的一面分别是 K、A、8、5。你的任务是选择翻开一张或多张卡片，以检验下述规则是真还是假：如果卡片的一面是元音字母，那么，它反面的数字是偶数。现在请指出哪一张卡片是必须翻开的。<br>　　这个任务名为“四卡选择任务”。它受到广泛关注和研究的原因有两点：第一，绝大多数人都会犯错；第二，人们在个问题上犯错的原因令人费解。待检验的规则是：如果卡片的一面是元音字母，那么，它反面的数字是偶数。如果我们想检验该规则，应该翻开 A 和 8。翻开 A——元音卡片，是为了弄清楚它的背面是否是偶数，翻开 8 是为了证实它的反面是否是元音字母。答案看似非常简单，但问题在于：50% 的人选择的答案是错的！排名第二常见的答案是只翻开 A 卡（检查它的背面是否是偶数），研究中大概有 20% 的被试选择了这种做法。这种做法也是错的！还有约 20% 的被试选择翻开其他的卡片组合（比如翻开 K 和 8），这也不对！<br>　　如果你的解决方案和上面提到的那 90% 的人相同的话，那么，你和过去几十年研究中的被试一样，回答错误（即使在阅读了前面我对于可证伪性的介绍之后，依然会犯错）！让我们来看看大多数人是怎么犯错的吧。首先，人们不会出错的是 A 和 K 的选择。多数人没有选择 K 这张牌，而是选择了 A。因为待检验的规则并没有提及辅音字母的反面应该是什么内容，卡片 K 看起来和规则毫无关联，而卡片 A 就不同了。卡片 A 的背后可能是偶数，也可能是奇数。如果是偶数，则与待证明的规则相符，如果是奇数，则可以证明这个规则是错误的。简单来讲，为了证明这个规则的真实性，必须翻开卡片 A。这一步，多数人都做出了正确的选择。<br>　　但是，究竟是选择翻开卡片 5 还是卡片 8 呢？对于多数人来说，这是难点所在。很多人就在这个问题上犯了错误。他们错误地认为应该翻开卡片 8。之所以会做出这样的选择，是因为人们认为应该翻开卡片 8，以检验它的背后是元音还是辅音。但是，即使卡片 8 的背后是辅音字母 K，这也不能说明待证明的规则是错的，因为规则中虽然提到元音字母卡片背后必须是偶数，但并没有说偶数卡片的反面必须是元音字母。因此，在卡片 8 的反面发现非元音字母，并不能说明任何问题。而被大家所忽视的卡片 5，实际上是解决问题的关键所在。如果卡片 5 的背面是元音字母，由于所有元音字母背面都不会是奇数，那么，就可以说明待证明的规则是错的！简而言之，为了证明规则是错误的，需要选择翻开卡片 5。<br>　　总而言之，在判断此类“如果 P，那么 Q”的规则时，只有“P 出现的同时，非 Q 出现”的证据才可以判断规则为假。所以，在检验规则的真实性时，只需翻开卡片 P 和卡片非 Q 即可（在本例中是卡片 A 和卡片 5）。如果 P 和非 Q 同时出现，那么规则为假。如果没有同时出现，那么规则为真。<br>　　在解决这个看似简单的问题时，为什么多数人的答案都是错误的呢？有很多理论试图解释这个问题，其中最经典的一个理论认为，人们之所以在这个任务上表现糟糕，部分原因在于人们太过于关注证实、确认规则。这是驱使人们翻开卡片 8（希望确认背面是元音字母）和翻开卡片 A（希望确认背面是偶数）的原因。但很少有人关注有可能会推翻规则的卡片——这种证伪的思维模式能够让人立刻想到翻开卡片 5（背面是元音字母的话，则可推翻规则）。如前所述，还有一些其他理论试图对人们在这类问题上的糟糕表现进行解释。然而，不管这些理论如何解释这种错误倾向，毫无疑问的是，如果人们在解决问题时能够考虑到可证伪性，可以大大减少这种错误的发生。<br>　　在推理过程中，寻求可证伪性是一条非常有用的原则。但是，大量证据表明，寻求可证伪性对于绝大多数人来说并非是一种自然而然的优选策略。原因在于，认知吝啬鬼只会根据给定的信息去建构问题解决的框架，而不会自动地从另一视角去思考问题。因此，对于多数人来说，寻求证伪性证据的心智程序需要通过学习来获得。<br>　　另一个用于研究人类在证伪时会遇到困难的范式是“2-4-6 任务”。这个著名的研究任务也是由彼得·华生发明的。在 2-4-6 任务中，被试被告知：研究者脑海中存在一个规则，这个规则是将 3 个整数划分为一组的标准。2-4-6 这个数字组合已被证实符合研究者心中的这个规则。接着，让被试猜测这个规则到底是什么。在猜测过程中，被试可以提出数字组，研究者会根据这组数是否符合“规则”而给予相应的反馈，直到被试能够准确地猜出这个规则为止。<br>　　在这个“2-4-6 任务”中，研究者心中的规则是“任何 3 个依次增加的数字组合”。被试在探索这个规则时，常会遇到很多挫折。因为他们在最开始的时候形成了一个比这个规则更为严苛的规则假设，比如“依次增加的偶数”或是“等距增加的数字”，并且，他们会依据这些严格的规则创造数字组去检验自己形成的规则是否正确。毫无疑问，被试在检验自己创造出的数字组合时，从实验者那儿得到的都是积极反馈，因此，他们会信心十足地宣布自己已经找到了实验者心中的规则。当他们得知回答错误时，常常会感到十分惊讶。例如，被试会创造出这样的数字组合：8-10-12；14-16-18；40-42-44。在收到 3 次“正确”的反馈后，他们即宣布“规则是依次加 2”！当被告知回答错误后，他们会尝试这样的数字组合 2-6-10；0-3-6；1-50-99。这一次，他们依然可以收到 3 个肯定的反馈，这时，被试又宣布新发现的规则：“规则是挨在一起的两个数字之间的差值是相同的！”毫无疑问，这个答案又是错的。在被试猜测规则的过程中，他们没有想过从“证伪”的角度去解决问题，比如验证数字组合 100-90-80 或是 1-15-2。<br>　　被试不愿意做出违反焦点假设的尝试，这个现象在另外一个研究中得到了进一步的验证。在这个研究中，研究者通过人为手段使得被试对假设进行证伪，进而使得他们在猜测规则任务上的表现大大提升。该研究由瑞恩·特韦尼（Ryan Tweney）的研究团队完成。实验中，被试被告知研究者心中有两个规则，规则一适用于 3 个数字组合，被称为 DAX；规则二适用于另一个 3 个数字组合，成为 MED。研究者每公布一个数字组合之后，都会告诉被试这个数字组合是符合 DAX 规则还是 MED 规则。研究中，被试被告知 2-4-6 符合 DAX 规则。DAX 规则和上一段提到的规则相同，即 3 个连续增加的数字，而 MED 规则是：所有不符合 DAX 规则的 3 个数字组合。在这种情况下，被试解决问题的速度更快，他们交替检验 DAX 规则和 MED 规则。由于 MED 规则是“所有不符合 DAX 规则的数字组合”，因此，被试检验 MED 规则的过程实际上也是证伪 DAX 规则的过程。被试之所以会对 DAX 规则进行证伪检验，原因在于有一个近在眼前的焦点假设有待证实（MED 规则）。由于两个规则互补，被试尝试去证实一个假设的同时，也是在证伪另外一个假设。研究者通过这种方法引导被试尝试用他们不常用的思路去解决问题——关注备择假设，证伪焦点假设。在这个研究中，只有通过这种人为诱导的方式，人们才能关注焦点假设证伪，足以证明采用证伪的思维方式是一件多么困难的事情。<br>　　综上所述，我们现在有一个坏消息和一个好消息。坏消息是人们不擅长寻求证伪焦点假设的证据，而好消息是这种心智程序是可以通过教育和学习获得的。所有科学家在成长过程中都完成了大量需要证伪焦点假设的练习，因此，他们遇到问题时会自动提出这样的疑问：“我需要考虑哪些备选方案？”</p><p>　　理性思维的另一个重要方面，是在预估未来事件时能够使用正确的基础概率值。有趣的是，研究发现人们很擅长处理“隐含的”概率信息（只需自主心智即可获取的信息），但是，当需要个体进行具体推理时，就破绽百出了。下面，请思考一个医学风险评估的问题。该问题曾出现在很多研究中，其中包括以医疗专业人员为实验被试的研究。<br>　　假设某种疾病由 XYZ 病毒引起，该病的发病率为千分之一。假设现在有一种化验方法可以 100% 地检测到 XYZ 病毒，但是，使用这种化验方法的假阳性率为 5%。也就是说，如果一个人携带 XYZ 病毒，通过这种化验一定可以被发现。但是，如果未携带病毒的健康人接受这种化验，有 5% 的可能性被误诊为 XYZ 病毒携带者。现在，从人群中随机选取一人进行检测，化验结果为阳性（阳性意味着受检者可能是 XYZ 携带者）。那么，在完全不考虑个人信息、病史的情况下，这位受检者携带 XYZ 病毒的概率为多少？<br>　　在继续往下读之前，请你先估算一下这道问题的答案是什么？结果无需太过精确（如果你可以算出精确的结果，当然更好）。这道题考察的并非是计算能力，而是看你的解题思路是否正确。若想正确地解答这道问题，需要结合抽象的概率信息，但是，多数人在解题时都会过分依赖具体、鲜活的个案信息，给出错误的答案。<br>　　在解决这个问题时，最常见的错误答案是 95%，而正确答案约为 2%。人们极大地高估了阳性结果代表个体为 XYZ 病毒携带者的概率。通过贝叶斯法则可以精确地算出正确答案，不过，接下来我们不使用这种方法，而是进行一些逻辑推理，以帮助我们厘清基础概率对概率预估结果产生的巨大影响。我们已知的信息是：每 1000 人中，有一位 XYZ 病毒携带者。如果其他的 999 位未携带病毒者全部都接受化验，由于该化验的误诊率为 5%，所以化验结果会错误地显示这些人中约有 50 位携带病毒（0.05 乘以 999）。因此，在所有化验结果为阳性的 51 位“患者”中，只有 1 位是真正的 XYZ 病毒携带者（约为 2%）。简而言之，这个问题的基础概率是：绝大多数人都并未感染病毒。患者数量极少的事实结合假阳性的概率（5%），结果就是检查结果为阳性的个体中真正患者的绝对数量其实很少。<br>　　在解决这个问题的过程中，个案证据得到高估，而统计证据却被低估了。对于绝大多数人来说，个案证据（化验结果）看起来更“具体”、更“触手可及”、更“活灵活现”。相对比来说，概率证据看起来……怎么说好呢，太过概率了！这种只顾个案证据却忽视统计数据的推理方式显然是错的，因为个案证据本身也只是概率而已。别忘了，临床化验方法存在一定的误诊概率。个体若想做出正确决策，必须同时考虑到这个情境难题中涉及的两种概率，一是个案证据的诊断概率；二是先验概率。将两种概率结合计算的方法有很多种，有的是对的，有的是错的。当个案证据给人带来具体性幻觉的时候，人们通常无法正确地利用这两个概率以得到最终的正确结果。<br>　　行文至此，我需要格外强调一下：在此处谈论贝叶斯推理，并不是说在面对此类问题时，我们应该随时记起贝叶斯公式，并结合公式进行计算。其实，人们只需要对“贝叶斯”有感性认识，在解决问题时能够有“贝叶斯直觉”就足够了，并不需要把具体的公式背下来。以 XYZ 病毒问题为例，在解题时只要意识到基础概率的重要性就可以了。在化验误诊率很高的情况下，同时考虑到疾病的发生率极低这一基础概率，就能判断出多数结果为阳性的个体其实并未患病。我们需要的仅仅是贝叶斯心智程序中有关基础概率的部分（当然，较强的理解力也很重要）。这种对基础概率的感性认识足以让我们在日常生活中做出接近真相的估计，预防重大错误的发生。这就好比在餐厅老板自荐难题中，优秀的思考者并不需要每次都计算出相似率 [P（D/~H）] 的具体数值，他只需要知道餐厅老板的推销辩词压根不足为信就可以了。</p><p>　　当一个人把球高高抛起，然后又准确地接住时，看起来他好像是通过缜密的计算推测出了球的运动轨迹，而实际上他可能连最基本的运动轨迹计算公式都不知道，但这并不影响他的接球本领。在潜意识层面，一些相当于数学计算的思考过程正不知不觉地发生。”（Dawkins，1976）</p><p>　　有关概率的另外一个谬误是：条件概率倒置。这种思维谬误常见于现实生活中的决策情境中。概率推理过程中的条件概率倒置指的是：在给定 B 的前提下 A 的概率与在给定 A 的前提下 B 的概率，两者是等价的。实际上，这两者并不相同。例如，罗宾·道斯（Robyn Dowes）曾介绍过《加州日报》上的一则新闻标题。这个标题暗示抽大麻会导致个体吸食致瘾毒品。这个标题所暗含的意思是：根据个体之前吸食大麻的情况，调查个体使用致瘾毒品的概率。但实际上文章调查了吸食致瘾毒品的学生抽大麻的概率。这两个概率存在天壤之别。抽大麻的学生吸食致瘾毒品的概率，远远小于吸食致瘾毒品学生抽大麻的概率。原因在于，多数抽大麻的人并不使用致瘾毒品，而使用致瘾毒品的人，绝大多数都曾抽过大麻。<br>　　条件概率倒置常常发生在医疗诊断领域。研究发现，病人和医务工作者都经常会错误地将出现某种症状时疾病的确诊概率与确诊后出现某种症状的概率混为一谈（作为病人，更关注的是前者）。</p><p>　　程序管理、信息选择以及信念标尺倾向的差异化，反映了个体不同的反省心智属性，通常使用调查问卷对其进行测量评估。例如，认知需求思维倾向会影响问题解决过程中反省心智的使用。问卷调查通过询问人们是否同意下列这些说法，以测量使用反省心智的倾向性：“抽象思维的想法对于我来说很有吸引力”或是“相对于那些重要、简单、不用思考太多的任务来说，我更喜欢做重要、困难、智力上有挑战性的任务”。我的研究团队对“信念认同”（belief identification）的思维倾向进行了研究。这种思维倾向是指个体以改变信念使其更接近事实为重要目标，还是以坚持当下的信念为重要目标。为了测量这种思维倾向性，我们在问卷中设置了这样的题目：“信念应该根据新的信息或证据不断对其进行修正。”“坚守自己的信念非常重要，即使在有证据与之相悖的情况下。”</p><p>　　只有当高智商个体受到心智程序缺陷的影响时，才能称之为理性障碍。为什么这么说呢？因为心智程序缺陷通常是由于缺乏教育或经验而产生的。因此，当研究发现智商与本章讨论的几种心智程序之间存在正相关时，一点儿也不会让人感到惊讶。</p><p>　　阿尔巴尼亚在过去的几十年间曾经是欧洲最贫穷的国家之一。然而，1991<del>1992 年，阿尔巴尼亚开始转型，赋予了人民更多的人身和经济自由，该国经济在 1992</del>1997 年迅猛发展。在这一时间段，阿尔巴尼亚的市场开放程度提高，国内生产总值（GDP）持续增加，通胀有所缓解，预算趋于平衡，外国投资也大幅增加。国际货币基金组织对该国在这一时期所取得的进步大加赞扬。然而，在 1997 年初期，经济和社会发展戛然而止。经济陷入崩溃，法制惨遭践踏，军队仓库被民间武装集团肆意掠夺，政府对大部分地区失去控制。阿尔巴尼亚于 1997 年分崩离析，究其原因，主要是由于大规模群体性的理性障碍。<br>　　导致阿尔巴尼亚社会崩溃的主要原因是庞氏骗局（Ponzi schemes）。据查，当时该国一半以上的人民卷入了这个骗局。1997 年年初，庞氏骗局全面崩溃。在庞氏骗局中，经营骗局的人实际上没有任何资产（因此，从骗局开始的第一天起，他就无力偿付债务）。庞氏骗局为早期投资者提供的回报率非常之高，事实上，早期投资者得到的钱是后来的投资者投进骗局的钱。早期投资者得到的高额回报催生了（通常是通过口口相传）一大批新的投资者，这批新投资者又引发了更狂热的投资热潮。这个骗局在自我强化的基础上持续了一段时间。当然，在数学计算的帮助下，人们最终识破了骗局。终于，到达某个临界点，骗局瓦解了——而这通常发生在发起人携带骗得钱财成功潜逃后。<br>　　通常情况下，潜在投资者会得到关于为何有高回报的复杂解释。一些在阿尔巴尼亚制造骗局的人向他们的投资者解释道：高回报率是源于外汇投机；另一些人则声称利润的背后是复杂的采矿计划；有一个人甚至宣称回报是来自于对加利福尼亚旅馆的投资。在庞氏骗局中，通常的情况是：所谓的盈利计划越复杂、越和国外联系密切，那么对于潜在投资者而言，这个计划就更诱人。<br>　　庞氏骗局在世界各地都有，但正是由于在阿尔巴尼亚的骗局规模如此之大，才会引起我们的关注。骗局每个月为投资者提供 30% 的利率，而当时实体银行和公司提供的投资回报率与骗局利息相比根本不值一提，高额利润使骗局风靡一时。骗局一旦变得深受欢迎，就会有许多经营骗局的竞争者接踵而至。为了诱惑投资者，新的骗局不得不提供更高的利率。在 1996 年年底，许多庞氏骗局（当然他们都披着看似合法的公司的外衣）提供每月 50%~60% 的利率，有一家公司甚至打出了提供百分之百利率的招牌。当然，回报率越高，骗局瓦解得就越快。随着雪球越滚越大，终有一天无法募集到足够的新资金以偿还承诺给早期投资者的利润回报。<br>　　到了 1997 年，将近一半的阿尔巴尼亚成年人卷入了类似的骗局！人们拿出了房子的抵押贷款，有些人甚至还把房子卖了变现以获取资金参与其中。许多人把毕生的积蓄都投到这个骗局中。在高峰时期，相当于阿尔巴尼亚 GDP 一半的资金投进了庞氏骗局。在骗局瓦解之前，骗局经济开始和工资收入竞争并扭曲经济。例如，一位老板的员工数量很快地从 130 名减少到 70 名，因为人们认为他们可以通过把钱投入庞氏骗局的方式实现盈利，而无须工作以获取报酬。</p><p>　　金字塔骗局中，每个人都招募 15 名新成员，以此类推，当这一循环进行到第 7 次时，卷入骗局的人数将超过美国全部人口数量的一半！）</p><p>　　人们之所以会忽视数学原理是因为他们被污化的心智程序所奴役。庞氏骗局和金字塔传销骗局背后的潜在逻辑本质上是相同的：心智程序受到污染的人开始认为他们每天都在身边见到的、他们一辈子都在经历着的经济规律可以被违背。他们开始认为，这种新型的投资方式的投资回报率远远高于传统的金融工具，并且毫无风险。骗局的策划人通常会给出一个极其精明的解释，以让整个运作过程显得合情合理。</p><p>　　骗局瓦解后，成千上万的阿尔巴尼亚人损失了毕生积蓄，也没了家。接着暴乱发生，国家陷入了混乱。政府无力为人民的投资提供担保，因为在骗局瓦解时，5 家最大的操控着庞氏骗局的公司只有 4900 万美元的资产，但却要偿还价值 47500 万美元的债务——债务额是国家 GDP 的两倍。如同其他的此类诈骗一样，大多数的实际资金都已经被存进国外的银行，像消失了一样，而这些犯下诈骗罪的人要么逃之夭夭，要么被关进监狱，声称自己和其他投资者一样也破产了。</p><p>　　人们之所以常常获得污化心智程序，原因在于它通常被包裹在引人入胜的故事中，并且，这个故事常常很复杂。那些低智商的人对这类复杂的故事往往并不买账。然而，复杂的心智程序对中等智商或高智商的人而言，却很有诱惑力。在互联网上对阴谋论、逃税计划、暴发户计划、“玩弄”股票市场计划和彩票中奖方法的相关案例稍加搜索，你很快就发现这些案例都有一个共同的特点，那就是极具诱惑力的复杂性。例如，许多暴富计划都涉及不动产交易，而与这些交易相关的税收制度非常复杂。许多彩票中奖“秘籍”中都涉及使用复杂的数学和概率进行解释（这些解释都是错的！）。“玩弄市场”股票投资建议常常涉及数学和所谓的技术分析图表。<br>　　被欺诈性投资计划欺骗的人可能并非低智商，这一直觉在全国证券交易商协会（National Association of Securities Dealers）委托进行的一份研究结果中得到了证实。这份研究调查了 165 名在欺诈性投资计划中损失超过 1000 美元的人的想法和人口统计学特征，并把他们和另一组没有受到过金融欺诈的人的想法和人口统计学特征进行比较。研究结果表明：投资诈骗受害者的受教育程度要比对照组高很多——在投资诈骗受害者组中，68.6% 的人至少拥有文学学士学位，而在对照组中这一比例仅为 37.2%。在投资诈骗受害者组中，收入超过 3 万美元的个体比例是 74.1%，而在对照组中这一比例是 56.4%。从受教育程度和收入数据中我们可以推断出，投资诈骗受害者不可能是低智商人群。若是非要找出什么不同的话，只能说这种污化心智程序对于那些智商较高的人更具有诱惑性。<br>　　社会中常见的不理性行为背后那些制造麻烦的心智程序大多是由中等或高智商人群编造的，影响的对象也是中、高智商群体。结果导致很多以聪明才智著称的名人频频做出不理性行为。哲学家马丁·海德格尔（Martin Heidegger）是举世闻名的思想家，但他却是一名纳粹的辩护人，还用看似有理实则空洞的逻辑为自己的信念辩护。他组织了学生准军事营，常常在信上署名“希特勒万岁”。著名的科学家威廉·克鲁克斯（William Crooks）是铊元素的发现者，同时也是英国皇家协会会员。尽管他不断被“通灵者”欺骗，但他从来没有放弃对唯灵论的信仰。阿瑟·柯南·道尔（Arthur Conan Doyle）同样也因受“通灵者”欺骗而名誉受损。诗人埃兹拉·庞德（Ezra Pound）精于语言文字的使用，但在“二战”中，他将大部分时间都用于通过意大利广播为法西斯做宣传。类似的例子不胜枚举。<br>　　许多极端邪恶的观念传播者都是智商很高的人。在纽伦堡接受审判的战犯中，很多人的 IQ 测试得分都高于 125 分；在 14 名策划最终解决方案的人中，有 8 人拥有博士学位。对否认犹太人大屠杀的关键人物所做的调查表明，这些否认者的名头包括：印第安纳大学欧洲史硕士学位获得者、知名“二战”人物传记的作者、里昂大学文学教授、常春藤大学所用教科书的作者、斯克兰顿大学的英语教授和西北大学教授等。当然，神创论倡导者的身份也包括许多拥有大学学位的人。</p><p>　　认知科学家已经揭示了聪明人的观念与事实严重不符的部分原因。一种解释就是“知识投射倾向”（knowledge projection tendencies）。这个观点认为，在一个自然生态环境中，我们以前绝大多数观念都是正确的，用已有观念作为过滤器来处理新的数据，能够使知识积累的速度更快。这个观点被用来解释演绎推理中的信念偏差效应。认知科学家乔纳森·埃文斯（Jonathan Evans）及其同事认为，由于信念修正与大脑中的很多信念网络存在交互效应，因此它的计算成本很高。所以，他们断定，认知吝啬鬼可能倾向于接受未经任何逻辑推理但又看似可信的结论。只有当人们在面对难以置信的结论时，认识主体才会对假设进行逻辑推理。他们认为，当人们身处一个绝大多数信念都为真的知识领域中时，这个策略是非常有效的。<br>　　在上述理论中前提假设的满足至关重要，即只有个体身处多数信念都是正确的某一知识领域中，才可以用当前的知识结构帮助自己更快地吸收新的知识。然而，如果个体使用的信念子集含有大量错误信息，知识预期就会耽误对正确信息的吸收。理解神创论或大屠杀否认者的关键点就在于此。尽管知识投射倾向在多数情况下都行之有效，但是，它也会将一些在“错误信念之岛”上的人隔离开来，使得他们无法逃离此岛。简而言之，当在错误的情境中使用知识投射时，有可能导致“知识隔离效应”。因此，尽管知识投射可能会使人们快速地吸收新的正确信念，但它也可能是一个陷阱。当人们不断地调用错误观念集合，使用这些错误信念对证据进行评估时，他们会迅速地积累更多错误信念，并为未来进一步的知识投射做好了错误知识储备。</p><p>　　绝大多数人都认同这样一个观点：我们的信念一定会有利于实现某个目的。然而，如果这个“目的”不是我们真正想要的目的呢？文化复制子理论（culturalreplicator theory）和模因学（science of memetics）帮助我们认识到了这种可能性。文化复制子一词指的是通过非基因手段传播的文化元素。文化复制子的替代词——模因（meme）由理查德·道金斯（Richard Dawkins）于 1976 年在其著作《自私的基因》中提出。模因一词有时候也用于指代所谓的模因组——一组共同复制的、同时适应的模因，最终形成一串相互联系的观点（例如，民主的观点就是一组复杂而又相互联系的模因，即模因组）。<br>　　人们可能会问，既然已经有了诸如文化人类学等各种学科用以解决文化传播问题，为什么又要用这个新词作为文化的单位呢？有这样的疑问是合乎情理的。我之所以认为模因一词很有用是因为：①不熟悉的新术语可以起到去中心化的作用，从而使我们更容易理解污化心智程序的概念。它在一定程度上有助于移除“信念就是财产”的隐喻，而我们在诸如“我的信念”和“我的观点”等短语中都可以看到该隐喻的身影。由于“我的模因”的用法没那么熟悉，因此它并没有以同样的方式通过代理行为表明所有者的身份；②由于它与基因一词的相似性，它建议我们用广义达尔文主义的观点来理解信念习得和改变。更确切地说，广义达尔文主义强调发展有机体是为了促进基因（复制）的利益，而不是为了有机体本身的任何利益。通过类比，该观点催生了这样一种见解，即模因复制有时候会以牺牲宿主利益为代价而自我复制。<br>　　因此，模因这一概念所引发的基本观点是：能够传播的信念，未必正确，也未必有利于传播者。模因学理论家经常使用连锁信的例子：“如果你不把这个信息传递给 5 个人，你就会遭遇不幸。”这就是模因（即一个观点单位）的一个例子。被复制和存储于大脑的是行为指令。它是一个合理的、成功的模因。然而，这个模因有两个值得注意的方面。第一，它是不对的，没有传递该信息的读者不会因此而遭遇不幸；第二，存储了该文化基因又把它传递出去的人也不会得到任何好处——他不会因为传递了信息而变得更富有、更健康或更聪明。但是，这个模因还是存活下来了。它活下来是因为它自身的自我复制属性（该模因的根本逻辑就是：它几乎什么都不做，就只说“复制我——否则后果自负”）。简言之，模因不一定是为了帮助它们所寄生的宿主而存在的。它们存在的原因在于：在模因进化过程中展现出了绝佳的多产性、长寿性和复制的忠诚性，而这些正是成功的复制子所具有的决定性特征。<br>　　模因理论对推理信念的形成具有深刻的影响，因为它颠覆了我们思考信念形成的方式。社会心理学家往往会问，究竟是什么导致人们产生了某些信念。在这个因果关系的模型中，人决定了产生什么信念。然而，模因理论会问，模因中的什么要素让它们为自己找到了许多“宿主”？问题不是人如何获得信念（社会和认知心理学长期以来的传统），而是信念如何俘获人！<br>　　倘若你觉得颠倒传统的思维方式似乎有些奇怪，那么就请想想政治运动参与者。人们发现，决定参与某次政治运动最为主要的原因并非参与者的心理因素，而是他们对同一事物所持有的共同信念。同理，地理相邻性是预测人们选择皈依什么宗教的最佳预测因素，而非特定的心理特征。<br>　　关于信念为什么会传播这一问题，人们的常识是：“信念 X 会传播是因为它是正确的。”然而，这难以解释那些正确但却不流行的观点和那些流行但不正确的观点。模因理论告诉我们，在这类例子中，我们要注意另一种原理。观点 X 在人群中传播是因为它是一个优质的复制子——它擅于找到宿主。模因理论使我们把注意力放在作为复制子的观点的特性上，而不是放在产生这些观点的人的特性上。这是模因概念独一无二的显著功能，也是一个关键的功能。<br>　　有了模因理论提供的重要见解后，我们现在就能更全面地对为什么心智程序会存活下来进而得以传播的原因进行分类。前三种原因分类反映了行为和生物科学的传统设想。最后一种分类反映了模因理论的新观点。</p><p>　　寄生心智程序模仿有益观点的结构欺骗宿主，还让他们认为自己能从中得到好处。广告商很善于构建寄生信念，这些寄生信念依赖于其他信念和视觉形象的支持。狡猾的广告商把信念和形象放在一起，努力创造出诸如“如果我买了这辆车，我就能得到这位漂亮的模特”等未经分析的有条件的信念。其他的一些自我保护模因策略涉及改变认知环境。例如，许多宗教会启动人们对死亡的恐惧，以期让他们承诺的来生更加诱人。</p><p>　　当涉及污化心智程序时，人们总是为了自己的利益行事（或为了自己在乎的人的利益）这一默认假设就不再适用了，它此时是自己的利益至上——它的利益就是复制。这一观点是现代广义达尔文主义自然发展的结果，只不过最近才被社会完全接受。和它类似的观点还有：基因不一定就服务于它们的人类宿主。但是，这种观点直到理查德·道金斯将其整合到他 1976 年出版的那本经典著作中时，才引起公众的注意。文化复制子（心智程序）可能同样不服务于个体利益的观点，更是在最近才引起人们的注意，对某些人来说，它仍然是违反直觉的。<br>　　这一观点的反直觉性质反映在人们试图解释行为时难以丢弃的默认理性假设。发生于 21 世纪的一起非常重要的事件为我们提供了一个典型案例。在 2001 年 9 月 11 日纽约世贸大厦被撞毁不久之后，美国第一夫人劳拉·布什被要求对该事件进行评论，在回答过程中，她提到教育在防止此类悲剧中的重要性。有趣的是，大约在同一时间的一个采访中，英国前首相的夫人切丽·布莱尔同样提到教育作为类似“9·11”事件的预防措施。然而，当时的评论员和 3 年后有关“9·11”事件更全面的报道都指出一个令人不安的事实，即“9·11”事件的劫机者绝不是没有受过教育的人。例如，在劫机后驾驶着美国航空 11 号班机撞向纽约世贸大厦北塔，导致许多人被烧成灰烬的穆罕默德·阿塔就有城市工程和规划专业的学位。<br>　　人们很难接受这些行为竟是出自受过良好教育和聪明的人之手这一事实。人是理性的，按照这种思路，必定有某些重要的东西他们不知道——某些教育或信息缺陷才导致他们做出此种行为。污化心智程序这一概念为我们开启了另一种可能性——或许恐怖分子的心智程序不是太少，而是太多。更确切地说，种种有害的寄生模因影响了恐怖分子，例如殉道模因和来生会得到慷慨回报的模因。纽约世贸大厦的摧毁帮助许多人理解病毒模因会以牺牲人类为代价进行自我复制这一可怕的逻辑。它引发人们对变成武器的模因的危险性展开更为广泛的讨论，因为模因完完全全控制着宿主。<br>　　有时模因组没有丝毫想要服务于人类理性的意思。相反它们可被称作“破坏协议的模因”——这些模因不能容忍在自己的复制策略上有任何妥协。这种属性为什么会促进观点繁殖，其原因来自于广义达尔文主义的原理。一个复制子复制频率增加的同时，它的多产性、长寿性和复制的忠诚性也同时增加。文化复制子的复制忠诚性比基因要低得多。文化复制子的片段在它从一个大脑跳到另一个大脑中时，不断地发生混合和匹配。破坏协议的模因通过拒绝融入人类文化大染缸的方式，保证了自身复制过程的纯结性。在复制频率的基础上，破坏协议的模因总会找到适合自己的位置。本节讨论的关键点是，这种心智程序不会为了满足人类在变幻莫测的世界中的利益而展现出灵活性。因此，破坏协议的模因是污化心智程序的主要候选者。</p><p>　　除了可证伪性之外，还有另外一种情况值得引起我们对心智程序的怀疑，即罗列出代价和利益，将降低销毁心智程序的可能性。这种情况被称为“信念陷阱”。让我们来看看麦凯引用的这个例子：<br>　　实施阴部封锁（割礼的一种方式）的女性落入了信仰陷阱。马里的班巴拉人认为在性交过程中，如果女性的阴蒂接触了阴茎，男人就会死去。尼日利亚的一些人认为，在接生过程中，如果婴儿的头部碰到了阴蒂，婴儿就会死去。我把这些称之为“自我强化的信念”，即一种无法被改变的信念，因为验证信念真伪的代价实在太高了。（1996）<br>这个例子和可证伪性的例子有所不同。从原则上讲，这一信念的真伪是可以验证的，是可以被证伪的。但是，验证真伪的代价太高了。请注意，基于预期的价值，即使你认为这个信念只有 1% 的可能性是正确的，但由于风险太大，你也不会去验证它的真伪。这个心智程序一旦存在于人们的脑海中，再想移除它就很困难了。<br>　　除了可证伪性和代价太高之外，如果心智程序具有反意属性，这也可成为质疑它的理由。如果一个观点或策略是正确的或是对宿主有益的，为什么它要去抵抗其他心智程序呢？对于与另一个模因（可能是没用的模因）之间展开的对比测验，有益的心智程序对此不应该持欢迎态度吗？因此，反意属性的存在（除了禁用评估策略之外）是污化心智程序可能存在的另一线索。<br>　　需要提醒大家注意的是，复制活动的拟人化描述仅仅是生物学写作中的一种速记手法。例如，“复制子为蛋白质提供保护性涂层以抵御攻击”这样的说法比“建立带有涂层的交通工具的因子复制在人群中越来越常见”更容易被理解。我将继续使用这种拟人化的描述方式，比如，说复制子有“目标”或是它的“利益”，我相信读者可以理解这种说法只是为了便于理解的写作技巧。道金斯（1976，1989）曾经说过：“当我们用拟人化的方式讨论基因，把它们看作具有有意识目标时，时刻谨记，要确保自己具备随时将这些不准确的俚语转化为科学严谨专业术语的能力”。这一观点也适用于描述模因。自我复制次数最多、忠诚度最高、寿命最长的模因会有更多的后代。</p><p>　　几年前，加拿大门萨俱乐部的成员接受了一份关于超常信念 的调查，调查结果令人深思。门萨俱乐部是一个只接纳高智商个体的组织，要想成为该俱乐部的成员，必须通过严苛的智力测验。然而，调查结果显示，俱乐部成员中有 44% 的人相信占星术、51% 的人相信生命节奏、56% 的人相信有外星访客——所有这些信念都没有一丝实证证据支持。</p><p><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-3.webp" alt="图12-1　更为完善的三重加工模型">  </p><p>　　所谓压制功能，是指类型一加工即将触发个体反应时，类型二加工对其加以制止，并用更优化的反应取而代之。压制功能属于算法心智的一部分，在图 12-1 中用箭头 A 表示。发起压制的更高级别认知功能是反省心智的倾向性属性（dispositional property），与理性关系密切，如图 12-1 箭头 B 所示。用机器智能（machine intelligence）的术语来说，就是算法心智使类型一加工过程断线，进而达到压制的目的。箭头 B 所指代的心理功能与压制功能本身（箭头 A）存在本质性差异，两个功能的评估指标截然不同。对类型一加工压制能力（箭头 A）的评估可通过测量流体智力实现；发起压制操作认知倾向（箭头 B）的评估指标是思维倾向，比如反省和认知需求。<br>　　图 12-1　更为完善的三重加工模型 图 12-1 还展现了计算备择反应以确保压制“物有所值”的模拟过程，以及源于反省心智的模拟这两个过程。具体来说，去耦化操作（箭头 C 所示）是由算法心智和反省心智下达启动模拟的命令（箭头 D）共同执行的。个体在下达启动命令和去耦化操作两方面的个体差异亦不相同，前者与理性思维倾向有关，后者则与流体智力有关。<br>　　除了压制类型一加工和通过去耦化过程启动模拟之外，图 12-1 所示模型还定义了算法心智的第三个关键功能，即连续性联结认知（serial associative cognition，箭头 E）。这个功能提醒我们，并非所有的类型二加工都包含去耦化认知模拟，还有一类速度较慢的连续性认知没有涉足模拟备择世界并对其进行地毯式搜索。<br>　　现在，我们回忆一下类型一加工的主要组成部分：情感化反应、习得的自动化反应、条件化反应以及由进化过程塑造的适应性组块。这些反应模式足以应对绝大多数情境，但是，现代生活制造了很多上述反应模式无法顺利解决的难题。回想一下我们讨论过的彼得·华生四卡选择任务：<br>　　每张卡片都是一面是字母，另一面是数字。规则是这样的：如果卡片的一面是元音字母，那么，它的反面就是偶数。现在，有两张卡片是字母向上，两张卡片是数字向上。被试的任务是决定翻开哪一张或是哪几张卡片即可检验规则的真伪。被试面前的四张卡片分别是 K、A、8、5。<br>　　正确答案是卡片 A 和卡片 5（唯有同时翻开这两张卡片方可证明规则是错误的），但是，多数被试给出的答案是 A 和 8（错误答案）。有研究让被试在解决过程中出声说出思考过程。通过对这些思考过程进行分析后发现，多数被试使用的是慢速、连续性分析加工。这种加工方式存在很多疏漏。我们节选出一则非常具有代表性的被试思考过程：“让我想想，我会翻开 A 来看一下它的背后是不是偶数。然后，我会翻开 8 来验证一下它的背面是否是元音字母。”<br>　　然后，被试停顿了一下。似乎哪里有些不对劲儿？<br>　　有几个问题是显而易见的。首先，被试在解决这个问题时采用的是类型二加工，多数类型一加工在解决这个问题时毫无用武之地。这个问题不涉及情感化处理，所以情绪管理是没有任何用的。除非被试曾经受过专业的逻辑训练，否则他也不会有自动化的逻辑推理过程。再者，人类进化过程中并未出现过此类问题，所以达尔文适应性行为组块也帮不上什么忙。<br>　　类型一加工依赖不上，被试只好进行类型二加工。上面列举的被试思考过程是一个漏洞百出的加工过程的典型范例。被试并没有对备择模拟世界进行彻底搜索，他所使用的是连续性联结认知。备择模拟世界应该包括规则为假的所有情况。该问题中的伪命题案例是：一面是元音字母、另一面是奇数的卡片。然而，被试并没有考虑到这些。被试也没有系统地检视每一张卡片是否是元音字母 / 奇数的组合。答案：K（否）、A（是）、8（否）、5（是）。如果被试遵循检验伪命题案例处理程序的话，便能够得出正确答案——A 和 5。但被试并没有这么做，他仅仅是以假设规则真为出发点，沿着规则为真的思路进行思考（如果卡片的一面是元音字母，那么，它的反面就是偶数），没有构建包含了所有真伪规则可能性的模拟世界。被试从给定的焦点规则出发，沿着规则为真的思路展开联结思维，这种处理信息的方式就是连续性联结认知。<br>　　虽然这个任务使用了类型二加工，但是却没有建立起对备择世界模型完善的认知模拟。在这种思维过程中，认知被禁锢于给定模型起始点的联结模式，着实是一种较为肤浅的思维形式。在选择任务中，被试全盘接受了给定规则，包括对给定的规则形式也没有试图进行修改，即假设它为真。然后，他们基于这个焦点模型展开推理，从这个焦点模型中系统地产生联结，却完全没有考虑到其他的情境建模方式。我把这种思维方式称为“带有焦点偏差的连续性联结认知”。<br>　　有焦点偏差的连续性联结认知的主要特征可以用认知吝啬鬼的第二阶段策略来加以概述。传统的双加工理论只强调了认知吝啬鬼的规则之一：在一切可能的情况下，都默认启用类型一加工。但是，在很多情况下，默认使用类型一加工并不可行，特别是在新异情境中时，既没有相应刺激的进化适应模块，也没有机会可以通过过度学习和练习掌握自动化思维。此时，就有必要使用类型二加工了。但即使在这种情况下，认知吝啬鬼模式还是有可能会开启。认知吝啬鬼的规则之二：当必须要使用类型二加工时，默认使用连续性联结认知，而非完全去耦化认知模拟。<br>　　我提出的焦点偏差概念与认知科学领域的已有观点不谋而合。它们的共同主题是：人类会想尽一切办法以减轻认知负荷，达到加工更少信息的目的。焦点偏差的基本理念是信息加工器倾向于加工结构最简单的认知模型。所谓结构简单的认知模型有很多种表现形式，比如：只表征一件事情；全盘接受命题或模型为真的形式；忽略调节变量（把调节变量纳入考量是备择世界建模的必要条件，而这正是焦点加工希望我们极力避免的）。基于认知科学领域中大量的信念偏差研究文献，以及关于我方立场偏差推理的研究成果，那些结构最简单的模型其实就是个体已有信念或是曾经有过的相关建模经验（我方立场偏差和信念偏差）。<br>　　讨论过连续性联结认知之后，现在让我们回到图 12-1，看一看反省心智的第三个功能——发起对连续性联结认知的中断（箭头 F）。中断信号改变了下一步将直接指导思维的连续性联结序列。中断信号有可能会带来多种不同的结果。它有可能会使连续性联结认知全部中断，以启动模拟（箭头 C）。或者，它会通过改变临时焦点模型以改变思维起点，开启一个新的连续性联结链（箭头 E）。最后，算法心智常常会通过前注意加工收到来自自主心智计算后的信息输入（箭头 G）[2]。</p><p>　　由反省心智发起的“去耦化”共有三种类型：（1）解耦自主心智发起的反应，使其得到压制；（2）拷贝和解耦次级表征，以执行仿真模拟；（3）解耦当前的连续性联结认知过程，并启动新的连续性联结。</p><p>　　认知吝啬鬼的三个特征，依据认知卷入度排列前后顺序。排在第一位的是默认自主心智加工反应，该过程完全没有类型二加工的参与，是最肤浅的一种信息加工方式。认知吝啬鬼的第二个加工倾向特征是带有焦点偏差的连续性联结认知。该特征指的是进行类型二加工时的过度节省倾向。具体来说，过度节省认知资源致使备择世界模拟或是完全析取推理（详见第 6 章）过程失败。<br>　　认知吝啬鬼的第三个特征是压制失败。压制失败的吝啬倾向最小，因为在此过程中有类型二认知去耦化的参与。该特征是指类型二加工试图压制并取代自主心智的类型一加工，结果却失败了。虽然压制类型一加工的尝试失败，但认知去耦化过程确有发生。</p><p><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-4.webp" alt="图 12-2　思维谬误的基本分类">  </p><p>　　如图 12-2 所示，心智程序问题分为心智程序缺陷和污化心智程序两类。在心智程序缺陷这一类别中，图中的方框代表缺少的知识库。此处，我并没有对这一类心智程序进行详尽分类。与之相反，该图仅选取了概率推理、因果推理、逻辑和科学思维领域中的一小部分，它们的缺失会导致非理性思维和行为。图中所示的两种心智程序问题对应的是启发式和偏差研究的两条传统路线：有关概率和概率推理策略的知识缺乏以及验证假设时忽略备择假设。图中仅选取了行为决策领域研究提出的诸多心智程序缺陷中的几个。“特定领域的知识结构”这一方框代表了未提及的内容。<br>　　最后，图最下方是污化的心智程序。同上，方框代表存在问题的知识库和策略。此处只列出了研究文献中讨论较多的问题，并没有穷尽所有的问题知识库和策略（污化的心智程序太过多样化了）。第一个子分类是评估失效，该问题得到了广泛的研究和讨论。帮助心智程序寄宿在宿主中的评估失效属性包括：如果质疑心智程序，则会受到惩罚；如果不质疑心智程序，则会获得奖励；通过使心智程序具有不可证伪性以妨碍评估意图。<br>　　污化心智程序的第二个子分类是鼓励自利思维的“自我”。有些学者认为，“自我”是焦点偏差发生机制的重要组成部分。也就是说，人类倾向于从我方立场视角对世界进行建模。自我的自利倾向无疑是具有进化适应意义的。然而，现代社会与人类进化过程所经历的环境已不可同日而语，环境对人的要求自然也发生了天翻地覆的变化。比如，现代社会提倡无偏见，拒绝任人唯亲，打击种姓、种族、信仰歧视，这些问题在人类的漫长进化过程中从未遇到过。在面对现代与历史进化的巨大分歧时，自利倾向的思维方式就不再是最佳选择了。污化心智程序的最后一个子分类是适应不良的模因与特定类别的信息。与心智程序缺陷分类相似，除了上述几个子分类之外，还有大量由错误信息构成的心智程序案例，正是这些程序导致了非理性思维和行为。<br>　　在图 12-2 中，通俗心理理论（lay psychological theory）同时隶属于污化的心智程序和心智程序缺陷。通俗心理理论是人们基于对自己心智的认识而产生的理论。心智程序缺陷是我们所不了解的心智，比如，我们需要多长时间适应突然发生的悲剧或特别幸运的事情？还有一些通俗心理理论是对自身心智的错误认识，这些误解则是污化心智程序的典型代表。其中一个常见例子就是，我们错误地认为：每个人都对自己的心智情况了如指掌。该污化心智程序很好地解释了以下现象：①我们错误地认为自己知晓自身行为的真正原因；②虽然认为别人在思考问题时会受到思维偏差的影响，但坚信自己对这些思维偏差极具免疫力，在面临相同情境时可以免受影响。<br>　　最后，请注意图中连接压制失败和心智程序缺陷的双箭头弧线。当压制失败发生时，必定意味着有冲突性信息或是习得规则试图挑战自主心智发起的反应。如果个体已习得与类型一加工反应不同的备择信息或是备择规则，但依然犯了错误，这种情况就是压制失败。如果由于相关的心智程序还没有习得，所以未能使用的话（或是已经习得，但是还未达到维持压制功能的必要水平），那么，这种情况下发生的错误就是心智程序缺陷而非压制失败。<br>　　根据压制失败和心智程序缺陷之间的关系，我们可以得出一个有趣的推论：心智缺陷越少，他所犯的错误归因于压制失败的可能性越大。拥有大量心智程序的人犯了错误，那么，这个错误多半要归咎于压制失败，而非心智程序缺陷。当然，压制失败和心智程序缺陷之间的界限并不明晰。一个已经学会的规则在需要时却没有派上用场，这种情况就是压制失败。随着规则的掌握程度不断下降，到达某个临界点时，个体所掌握的规则不足以压制类型一反应，这时候所犯的错误就该归咎于心智程序缺陷了。还记得第 9 章开篇介绍的小约翰·肯尼迪飞机失事事件吗？假设肯尼迪熟知夜间飞行的各种规则，但却没能在紧急事件中使用这些规则以战胜本能的生理和动作反应。我们将这种行为归类于压制失败。如果肯尼迪并不了解夜间飞行的规则和技术，那么他在飞机即将坠落时所做出的那些无用的挣扎之举就属于心智程序缺陷了。<br>　　据图 12-2 的分类，我把本书中已讨论过的思维加工方式和思维谬误列于表 12-1 中。例如，第一列的三个 X 表示默认使用自主心智，分别是：生动性效应、情感替代和冲动性联结思维。默认加工最为生动的刺激是认知吝啬鬼回避类型二加工的一种常用方式。与之相类似，在有某种显著情绪的情境中，个体会默认使用情感效价。情感替代（affect substitution）是认知吝啬鬼的惯用伎俩——属性替换的一种特殊形式，即用一个简单的问题替换掉一个复杂问题。请回想一下第 6 章中提到的“球拍与球问题”（一个球拍和一个球共计花费 1.1 美元，球拍的价格是 1 美元，请问球的价格）以及莱维斯克难题（杰克正看着安妮，但是安妮正看着乔治）。人们在这两个问题上所犯的错误，就是冲动性联结思维吝啬倾向的典型例证。在这类错误中，被试致力于寻找任何可以避免类型二加工的简单联结（比如在莱维斯克难题中，被试把安妮的状态未知与“无法判断”这个答案之间建立了联结）。<br>　　表 12-1 列出的第二类思维谬误是过度依赖带有焦点偏差（倾向于简单结构模型倾向的偏差）的连续性联结认知。这一类谬误常常发生于个体处于新异情境中，必须使用类型二加工时。框架效应（“框架的基本原理是个体被动地接受给定形式”，卡尼曼，2003a）是其中的一个典型示例。被试以呈现给他 / 她的框架作为思维焦点，以此为出发点展开接下来的思考，而不是考虑以备择框架为思维出发点，因为后者需要有更多的认知资源。<br>　　表 12-1 列出的第三类思维谬误是压制失败。这一类思维谬误在第 9 章充分讨论过，包括：信念偏差效应（“玫瑰是生物”三段论推理）、忽略分母（爱泼斯坦设计的橡皮糖任务）、自我控制难题（延迟满足）。另外，电车难题所体现出的道德判断困境也属于这一类思维谬误。<br>　　表 12-1 还列出了两种由于缺乏概率相关知识而导致的心智程序缺陷，包括联结谬误（conjunction errors）和非因果关系的基础概率使用。接下来列出的是偏差盲点。所谓“偏差盲点”是指个体认为自己与他人相比，更不容易受到思维偏差的影响。偏差盲点出现的原因主要在于人们持有不正确的通俗心理学理论。他们错误地认为，通过有意识的内省，可以觉察到自己的思维偏差。事实上，多数社会和认知偏差都是在无意识中发生的。</p><p><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-5.webp"><br><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-6.webp" alt="表 12-1　思维谬误的基本分类">  </p><p>　　由多因素共同决定的理性思维谬误 表 12-1 列出的好几个理性思维谬误都不是由单一因素决定的，而是在多种因素的共同作用下发生的。举例来说，华生四卡选择任务就是一个多因素共同作用难题。导致这个任务最终失败的原因有多种可能的情况。第一，被试也许是未掌握备择思维的心智程序，他们不知道此时应该考虑到命题为假的情况，或是根据已知命题提出新的假设，而不是被动地根据给定的命题形式展开思考。第二，被试有可能受到了焦点偏差的影响，他们聚焦于给定的模型（元音字母背面必须是偶数）展开推理，而未能考虑到建构其他模型的可能性。以上两种原因在表 12-1 中由相应位置的 X 表示。<br>　　另一个由多种因素共同决定的思维谬误是我方立场偏差。造成这种偏差的首要原因毫无疑问是污化心智程序（“自我”概念使人们倾向于以有利于自己的方式思考周围的世界）。不过，焦点偏差在这个谬误的发生过程中也起到了一定的作用。焦点偏差的基本原理是基于最容易构建的心智模型进行信息加工，那么，还有什么比基于自己的经验和信念构建心智模型更为容易呢？焦点偏差有别于自利心智程序。从动机角度来看，焦点偏差产生的初衷并不是为了提升自尊或是提高个人价值。焦点偏差只不过是想节省一些认知资源和计算能力。然而，在绝大多数情况下，达到节省资源目的的主要方式就是鼓励从我方视角构建心理模型。由于我方立场偏差是在自利动机驱动下的“自我”心智程序和计算能力驱动下的焦点偏差的共同作用下发生的，因此，我方立场偏差也是多因素共同决定的思维谬误。<br>　　情感预测谬误也是由多因素共同决定的思维谬误。情感预测是指人们准确预测哪件事情可以让我们变得高兴的能力。过去十几年的研究结果表明，人们的情感预测能力出人意料得差。预测哪一件事情会让我们变得开心是非常困难的，因此，人们常会做出让我们变得不快乐的决定。另外，人们还常常会低估自己对幸运或不幸运事件的适应能力。导致人们会高估不幸事件带来负面心情的原因之一是他们的通俗心理理论（个体解释自己行为的个人化理论）存在缺陷。他们没有考虑到不幸事件发生之后的合理化和自卫性思维（“我其实不想要这个工作”，“同事告诉我说领导对年纪大的员工有偏见”）。关于自己心理的通俗理论没有给这些因素足够的权重，因此，人们没有料到自己的保护性心理机制会将不幸事件带来的不愉快一扫而光。<br>　　另一个导致情感预测谬误的重要原因是焦点偏差。情感预测领域的研究者研究了锚定干扰对乐观预期的影响。例如，球迷会高估他所支持的球队获胜后两天自己的快乐程度。他们做预测时，通常会先聚焦于焦点事件——赢得比赛，并对自己赢球后的心情进行模拟，再把这种心情投射到未来两天。然而，比赛后两天会发生很多很多事情，这些事情可能会以多种方式减少人们的快乐（绝大多数事件都不可能像赢球事件一样令人高兴）。由于在想象中构建这些事情需要耗费大量的认知资源，所以认知吝啬鬼干脆把这些事件从想象模型中排除掉了。在一项被大量引用的研究中，大卫·施卡德（David Schkade）和丹尼尔·卡尼曼发现，来自密歇根和加利福尼亚这两个不同地域的人生活满意度基本一致。可是，研究者让他们预计另外一个州被试的生活满意度时，密歇根和加利福尼亚的被试都认为加利福尼亚人民的生活满意度会更高一些。在进行比较判断时，被试把生活的一个方面——天气视作焦点。但实际上，天气并不是生活满意度的重要影响因素（工作前景、经济状况、社交生活以及另外 5 项因素对生活满意度的影响力均排在天气前面）。诚如施卡德和卡尼曼所说：“你关注的重点，并没有你想象的那么重要。”如表 12-1 中所示，情感预测谬误是焦点偏差和通俗心理理论共同作用下的产物。</p><p>　　斯波克先生难题：来自自主心智的输入缺失 神经学家安东尼奥·达马西奥（Antonio Damasio）在他的著作《笛卡尔的错误》中，提到了一位著名的患者——艾略特。艾略特年轻有为，事业成功，是同龄人中的佼佼者。他的婚姻生活也非常幸福，在家中他是一个好丈夫、好爸爸。艾略特一帆风顺的生活在某一天戛然而止。他开始受到头痛的困扰，工作时无法集中注意力。经过医学检查后发现，导致他头痛的罪魁祸首是脑中的肿瘤。后经手术将肿瘤成功切除，但在手术过程中他的额叶皮层腹正中区不幸受到了损伤。<br>　　手术后，艾略特在智力测试中依然成绩优异，一系列的神经心理学测试结果也均在正常范围内。简而言之，大量证据表明艾略特的算法心智功能完好。然而，唯一的坏消息就是：他的生活犹如一团乱麻。<br>　　痊愈出院后艾略特重返工作岗位，但他在工作上的表现和手术前判若两人。做事情分不清主次，收到了无数次来自上司的警告，但他却不能根据领导的批评调整自己的行为，最终丢了工作。被解雇之后，艾略特投身于各种商业冒险中。艾略特将自己的所有存款都投资到某个项目中，最终投资失败，艾略特宣告破产。他的婚姻生活也状况频出。与老婆离婚后，他与一位刚刚建立恋爱关系的女性闪婚，之后又迅速离婚。艾略特在申请社会保险残障补偿失败后，来到了达马西奥医生的办公室。<br>　　为何经过了大量神经心理学测试，历经了如此漫长的时间，艾略特的问题才被发现呢？达马西奥做出了如下解释：“之前，我太过关注艾略特的智力水平了。”实际上，艾略特的智力并无大碍，而是情绪方面出现了问题。“他具备正常生活工作所必需的知识、注意力和记忆；他的语言能力与正常人无异；可以进行数学计算；能够厘清抽象问题的逻辑。导致他频频做出重大决策失误的只有一点：体验情绪的能力发生了改变。”艾略特的一系列表现是斯波克先生难题的典型案例。斯波克是电影《星际迷航》的男主角之一，他在电影中被塑造成一个情绪冷漠迟钝的人。艾略特在决策方面遇到的问题源于他缺少自主心智情绪模块的调控信号（regulatory signals）。考虑到艾略特的智商较高，因此他缺少理性的表现可被认为是理性障碍，但与我们已讨论过的几类思维谬误有所不同。<br>　　基于对艾略特等类似病患的观察，安托万·贝沙拉（Antoine Bechara）和达马西奥的研究团队开发了一项评估此类问题的实验室任务，即艾奥瓦赌博任务（Iowa gambling task）。该任务模拟了背侧前额叶受损患者在真实世界中所面临的困境，即在涉及奖励与惩罚又充满了不确定性的环境中，对无法进行精确计算的情境进行概率估计并做出决策。<br>　　达马西奥认为，背侧前额叶受损的个体似乎缺乏用评估性效价标记积极和消极后果的情绪系统，另外，他们在相似情境再次出现时，无法再次产生类似的情绪效价。自主心智参与的理性管理有两种可能的犯错方式。第一种是之前讨论过的压制失败。在压制失败情境中，行为主要受到来自自主心智的信号控制，类型二加工未能发挥作用。第二种涉及自主心智的行为管理出现错误，其背后的原理与第一种截然相反。在这种情况下，自动化、快速的目标管理缺失，由于自动化模块（比如情绪）的约束功能缺失，类型二加工面临着概率信息大爆炸。行为管理缺少原始但高效的自动化信号协助，无法按照轻重缓急为后续行动排出先后顺序。这一类行为管理失败的原因并非是自主心智的参与太多，而是太少。<br>　　艾略特案例中展现的斯波克先生问题是理性障碍的典型案例。如果一个人从未有过因肿瘤或突发性事故导致的脑损伤，也会受到斯波克先生问题的困扰吗？越来越多的证据表明，斯波克先生类型的理性障碍不仅仅存在于临床案例中（可观测到的背侧前额叶皮层损伤）。很多智力测试正常但存在行为管理问题的人在艾奥瓦赌博任务上的行为管理表现都差强人意。例如，与相同智商水平的普通人相比，海洛因成瘾者在艾奥瓦赌博任务上做出了对自己更不利的选择。我的研究团队深入研究了存在行为适应问题的青少年（多次被停学）非临床样本在艾奥瓦赌博任务上的表现，结果发现，多次接受学校停学处理的学生在智商方面与控制组学生并不存在显著性差异，但他们在艾奥瓦赌博任务上做出了更差的选择。另有一些研究发现了没有明显脑损伤但却在艾奥瓦赌博任务上表现糟糕的被试群体，比如病理性赌徒。神经心理学的研究表明，很多心理障碍都是由自动化监控活动缺陷导致的，而这种缺陷与个体的智力水平毫无关联，比如述情障碍（难以识别情绪）和精神分裂症。</p><p>　　现在为大家介绍更为完整的理性思维谬误分类。如图 12-3 所示，6 个分类分别对人类的非理性思维和行为提供了解释。每一类都在一定程度上与智力相互独立，都可能是导致理性障碍发生的原因。</p><p><img data-src="/what-intelligence-tests-miss/what-intelligence-tests-miss-7.webp" alt="图 12-3　思维谬误的基本分类">  </p><p>　　在解决完全析取推理问题时（比如莱维斯克问题），需要个体进行认知表征去耦化，并通过去耦表征（算法心智的重要操作，也是智力测验的核心内容）对所有可能的情况进行计算。不过，为了保证答案的正确性，个体需要准确识别使用完全析取推理的情境。在此过程中，个体必须避免启发式反应，比如：“哦，既然我们不知道安妮是否已婚，那么这个问题的答案是无法确定的。”</p><p>　　热压制和冷压制讲起。前者指的是对情绪、本能驱力和短期诱惑的压制（对应“热”认知的类比）。后者指的是对内化的规则、达尔文进化模块、类型一加工倾向等驱力的压制（对应“冷”认知的类比）。<br>　　在热压制领域，最有名的莫过于对儿童延迟满足的研究。心理学家沃尔特·米歇尔（Walter Mischel）首创了延迟满足的研究范式，该范式有很多种变式，其核心程序如下：研究者提供与年龄相匹配的奖励物（玩具、零食等），儿童被告知他有可能获得小奖励（一块棉花糖）也有可能获得大奖励（两块棉花糖）。实验房间中有一个可以用来呼叫实验员的铃，实验员离开房间后，儿童可以选择一直等待，直到实验员再次返回房间，获得大奖励；儿童也可以选择按铃呼叫实验员，但中途按铃的儿童只能获得小奖励。此研究的因变量是儿童的等待时间。<br>　　罗德里格斯、米歇尔的研究发现，儿童的智商与等待时间之间的相关仅为 0.39。大卫·丰德（David Funder）和杰克·布洛克（Jack Block）使用相似的实验范式，结果表明智商与等待时间的相关为 0.34（该结果与预期一致，即这个任务范式同时涉及反省心智与算法心智，在排除智商带来的变异之后，人格测量结果可以预测等待时间）。成年人在该任务上的表现与儿童研究结果一致。<br>　　在现实世界中，压制失败与智商之间仅存在中等程度的相关。例如，人们常常从压制失败的角度对吸烟、赌博、毒品等成瘾行为进行分析。伊丽莎白·奥斯汀（Elizabeth Austin）和伊恩·迪尔瑞（Ian Deary）对爱丁堡动脉纵向研究（Edinburgh Artery Study）的数据进行了深入分析，试图探索智商是否是吸烟和酗酒的长期保护性因素（假设智商有助于保持对自主心智的压制）。结果发现，高智商并不能确保某个人今后不会成为酒鬼。智商与吸烟之间仅有着微弱的相关。<br>　　前面我所说的“相关”皆是指具有统计学意义上的显著性，从相关值的绝对量来看，无论使用何种统计评估方法，都仅为中等相关。这就使得智力与成功压制自主心智之间的分离成为可能，智力与“冷”压制失败之间的关系也是相似的状况。第 9 章讨论过的信念偏差任务（“玫瑰是生物”）和爱泼斯坦橡皮糖任务（从两只碗中抽取红色糖，两只碗中红色糖的比例分别是 1/10 和 8/100）是两个典型的冷压制任务。信念偏差任务中成功压制与智力之间的相关值范围在 0.35<del>0.45 之间；爱泼斯坦任务中两者的相关在 0.25</del>0.30 之间。相关关系具有统计学意义，但是两者之间的相关强度并不大，智力与成功压制两者之间的分离给理性障碍留下了很大的发挥空间。</p><p>　　依图 12-3 列出的顺序，导致理性障碍发生的第 5 个原因是决策时缺乏恰当心智程序（认知规则、策略、知识和信念系统）。由于心智程序缺陷与教育程度低下和经验缺失有关，由此我们推测这一点与智力之间关系较为密切。然而，虽说智商越高学到的知识越多，但是，与理性有关的知识（以及思维倾向）并非全部来自于书本，很多都是源自生活。任何层次的教育系统都没有专门开设心智程序课程。心智程序方面受教育水平不一致，意味着有些聪明人并没有机会学会批判性思维的重要方面。认知能力与概率推理任务之间的相关（绝对值）约为 0.25<del>0.35，与假设检验任务的相关约为 0.20</del>0.25，与贝叶斯推理之间的相关约为 0.05~0.20。如此低的相关度说明智力与理性思维所需的心智程序缺失之间存在不一致。</p><p>　　图 12-3 列出的第 6 类是污化的心智程序。由于高智商个体的学习能力更强，他们理应获得更多的心智程序，进而产生更多的理性思维。可是，学习能力强并不能帮助高智商群体免受污化心智程序的影响。许多寄生信念系统的概念都很复杂。例如否认屠杀、一夜暴富的金融骗局、伪避税骗局等，都是复杂寄生心智程序的典型案例。鉴于这些心智程序的复杂性，只有足够聪明的人才能够被诱惑。对金融骗局被害者特点进行分析的研究支持了该推测。伪科学信念流行于高智商群体中的现象也支持了这个观点。</p><p>　　需要引起注意的是，有些研究者并不把米歇尔任务中未能完成延迟等待视为压制功能失败，而是将其归为自主心智的奖励折扣机制出现障碍（Sonuga-Barke，2002，2003）。如果这个解释是对的，那么被试在完成米歇尔任务范式时的糟糕表现就应该被视为斯波克先生问题，而不是压制失败。</p><p>　　自主心智思维倾向通常依赖于习得的心智程序进行压制，当压制失败时，主要原因在于缺乏实例化的心智程序。在这种情况下，只是了解但还没有充分掌握的心智程序是造成问题的根源所在。例如，完全析取推理（disjunctive reasoning）指的是在解决推理任务时，当需要做出判断或选择解决方案时，充分考虑到所有可能的选项。</p><p>　　思考备选假设的倾向也是一种具有高度普遍性的心智程序策略。同样地，它的实施方式也很简单。许多研究试图教会人们思考 P（D/~H）（即考虑到备选假设时观测数据发生的可能性）或者给予简单的指导使人们形成思考备选假设的习惯。在相关情境下，人们大量练习对自己说“想一下事物的对立面”。这种心智程序策略不注重计算能力，因而对很多人而言，它是很容易学会的。一些研究表明，练习“想一下事物的对立面”的思维有助于防止许多启发式和偏见文献中提到的思维错误，包括但不局限于：锚定偏见、过度自信效应、后视偏差、确信偏差和自利偏差。</p><p>　　其他具有高度普遍性的策略可能更容易学习，尤其是对低智商人群而言。例如，心理学家彼得·格尔维茨（Peter Gollwitzer）讨论了一个具有极高普遍性的行为策略——使用执行意图。个体有意识地说出某一行为序列的顺序（“当 X 发生时，我就做 Y”），这时执行意图就形成了。通常来说，在语言固定情境属性的帮助之下，哪怕只在少数场合诱发这种思维，也足以使其在自主心智中建立起来。最后，研究表明形成心理目标（无论这些目标是否有执行意图）的认知策略，就算很简单也是行之有效的。例如，人们如果被要求设定一个心理目标（“为自己设定一个具体的、有挑战性的目标”）而不是一般的鼓励性指令（“尽你最大努力”），那么他们在任务中会表现得更好。<br>　　因为我们很难预测什么东西会让自己幸福，所以我们常常做出降低自己幸福感的选择。例如，人们常常会低估自己适应幸运和不幸事件的速度。我们的想象力无法预知未来。心理学家丹·吉尔伯特（Dan Gilbert）引用证据表明，在这种情况下，一种干预策略就是使用代理人物（surrogate）——那些正在经历一些事的人，你正在模拟他们的快乐（或悲伤）。例如，如果你想知道自己对“空巢综合征”是什么反应的话，你只要问问那些家里最后一个孩子都外出上大学的人，而不是想象在这种情况下自己会有什么反应。如果你想知道自己支持的队伍在比赛第一轮就被打败你的感受会是怎样的话，你只要问问那些队伍刚刚被打败的人就知道了，而不是独自想象。人们往往不愿意用这一机制，因为他们觉得自己的独特性会使内心的猜测比那些正在经历这些事的人的实际体验更准确。人们只是怀疑别人的经历是否同样也适用于自己。这是一种自我中心主义，类似于我之前讨论过的我方立场信息加工。吉尔伯特告诉他的读者：“如果你和大多数人一样的话，那么和大多数人一样，你不知道自己和大多数人一样。”（2006）</p><p>　　如果认知吝啬鬼容易受框架影响，对最生动的刺激做出反应，接受给定的默认值，那么世界上任何有能力决定这些因素的人都会影响认知吝啬鬼的行为。或许这么说，事态似乎有点严重。但是，事情也许有积极的一面。是的，控制着我们环境的恶人可能会利用认知吝啬鬼。然而，控制着环境的善良人会帮助我们——使我们避免做出非理性行为，又不必改变认知的基本观点。积极的一面是，对某些认知问题而言，或许改变环境比改变人类更容易些。因为在一个民主国家中，我们在一定程度上控制着我们的环境，我们理应决定重建社会环境，使得环境中的人更加理性。<br>　　例如，在关于器官捐献率的一个跨国研究中，埃里克·约翰逊（Eric Johnson）和丹尼尔·戈德斯坦（Daniel Goldstein）发现瑞典有 85.9% 的人同意捐献器官。然而，在英国这一比例仅为 17.2%。瑞典人和英国人之间有什么不同之处可以解释器官捐献态度上如此大的差别呢？是不是瑞典是一个集体主义更强的国家，而英国的个人主义更强呢？是不是瑞典人比英国人更无私呢？也许看看美国的器官捐献率我们就能找到引起差异的线索。美国的器官捐献率大约是 28%，和英国的捐献率很相似，比起瑞典就差远了。这种差异会不会是以英语为母语的国家和不以英语为母语的国家之间的差别呢？<br>　　想必现在你已经在猜测这个问题的答案了。这些国家器官捐献率的差异与各国人民之间的心理差异无关。瑞典、英国和美国之间的差异与对捐献器官的态度也无关。这些差异是由于不同国家关于捐献器官的政策差异造成的。瑞典、比利时、法国、波兰、匈牙利同意捐献器官的比例高达 95% 以上——器官捐献的默认选项是“同意”。在制定了这种政策的国家里，人们预先假定同意捐献自己的器官，但也可以采取一些行动选择退出器官捐献（通常是在驾驶证上做个标记）。相反，在美国、英国、德国、丹麦与荷兰，同意捐献器官的比例不足 30%，在这些国家器官捐献的默认选项是没有明确同意即不捐献，要想在身故后器官捐献必须做出明确的说明。<br>　　简言之，瑞典和英国之间的巨大差异不是由人民造成的，两国人民都是认知吝啬鬼，或许认知吝啬的程度都差不多。最大的差别是政策形式的差异。作为认知吝啬鬼，两国人民在很大程度上都受到默认启发式的影响。默认的选择黏性很大，因为它具有巨大的影响力。约翰逊和戈德斯坦得出结论：人们认真考虑过这个问题，又没有受到政策默认选择的影响时，大约 80% 的人更愿意成为器官捐献者，这一比例非常接近瑞典和其他预先假定同意捐献器官的国家的比例。1995 年以来，美国有超过 45000 人死于等待获得器官移植的过程中。我们只需要对捐献者做决定的环境进行一些不伤害任何人的改变（默认同意的国家人民都可以选择不参加器官捐献），就能拯救成千上万人的性命。认知吝啬鬼的倾向已经造成上万人丢失性命。然而，这种悲剧是可以预防的。在这种情况下，最佳的预防措施就是改变环境而不是改变人，因为改变环境更容易些。<br>　　正是许多和器官捐献类似的例子促使法律理论家卡斯·桑斯坦（Cass Sunstein）和经济学家理查德·塞勒（Richard Thaler）提倡一种他们称为“自由专制”（libertarian paternalism）的新政策。他们认为的专制是政府应该努力引导人民做出对自己有利的选择。自由指的是确保任何政策变化都保留了完全的选择自由。怎么可能做到既引导人民的选择又不干预选择自由呢？答案就是利用认知吝啬鬼的倾向。更确切地说是控制环境中操纵认识吝啬者行为的那些因素——默认选项和框架。<br>　　现在让我们看看一则实施了自由专制的案例。美国人并没有为他们的退休准备好充足的资金，他们没有存储足够的钱。许多人没有参与现有的 401（k）和其他的退休储蓄计划。塞勒和同事什洛莫·贝纳茨（Shlomo Benartzi）推广了一系列养老金计划改革，可以拯救数百万人退休后的生活——否则退休生活很可能被早年因理性障碍做出的决定毁掉。他们的改革正在走向立法阶段，许多企业也开始采用他们的改革计划。<br>　　塞勒和贝纳茨的改革包括几个步骤，每个步骤都涉及绕过人们做 401（k）决定时常犯的思维错误。第一个步骤是针对大多数大型企业的员工必须要先选择参不参加养老金计划这一情况。如果他们什么也没做（没有填相关的表格）的话，那么他们就没有参加这个计划。问题首先出在这儿，许多员工没有报名参加。然而，在塞勒 / 贝纳茨的计划中，所有员工都默认参加这个计划，如果要退出的话，必须选择填一份表格。因此，他们的计划利用了认识吝啬鬼的默认偏差。<br>　　员工在做 401（k）决定时犯的第二个错误是他们（和雇主）出资额的分配。塞勒 / 贝纳茨计划再次利用了默认偏差，该计划自动平均分配共同基金里雇员的出资额，从而确保了初期分配的多样化。塞勒和贝纳茨建议的另一种改革涉及让员工增加他们在 401（k）计划中的出资额，他们要求员工提前同意把未来工资上涨的部分作为额外的 401（k）出资额。这个策略确保了员工不会因为多交了钱而损失了什么，因为他们的工资不会减少。当然，在两种情况下出资额都是一样的，但是根据前景理论，这种方法让员工不那么厌恶该计划。<br>　　塞勒和贝纳茨推出了一项名为“明日多储蓄计划”（Save More TomorrowTM，简称 SMarT），该计划把文中讨论的许多改革方案都付诸实施了。惠普和飞利浦等大公司已经采用该计划。我们讨论的关键意义在于，该计划表明可以通过改变环境而不是改变人，进而预防不理性行为。SMarT 计划说明因认知吝啬鬼倾向而产生的一些难题可以通过改变环境加以解决。<br>　　即使是在缺少某种心智程序的案例中，我们有时候也能通过改变环境使得有严重心智程序缺陷的人觉得轻松点。</p><p>　　只要对环境稍作改变就能预防理性思维出问题。需要环境帮助的一类更广泛的问题是人们的自制力问题。人们饮食无节制、超支、喜欢拖延、抽烟和酗酒。解决这些自制力问题的办法有两种：改变人和改变环境。人们努力增强自己的“意志力”——也就是内在的自我控制力；或者，试图改造环境，使得对自制力的需求减少了（自动化系统压制）。一个常见的策略就是事前承诺。人们加入自动储蓄计划，那么他们就不会超支。他们提前把饭打包，那么就不会多吃。他们牢记最后期限，那么就不会拖延。事前承诺代表了我们有意识地重建环境，从而使其更有助于我们的自制努力。<br>　　有证据表明事前承诺的方法是成功的——人们反省时会认为用这种方法产生的结果更理性。大量证据表明事前承诺对省钱很有效。在其他领域也有一些证据提示这种方法的有效性。丹·艾瑞里（Dan Ariely）和克劳斯·韦滕布罗赫（Klaus Wertenbroch）发现，自愿为自己设定最后期限的学生比那些不愿设限的学生在学习上的表现更好。但是有趣的是，外部强加的最后期限比起自愿接受的更能促进学习。<br>　　为什么控制体重那么棘手？原因之一就是人们找到各种方式不让自己事前承诺一定会采取最有效的减肥方法之一，即摄入更少的卡路里（另一种当然是锻炼）。减肥食品业通过不断暗示除了吃得少一点还有其他方式可以减肥，助长了这种趋势。例如：只吃蛋白质不吃糖类食品；吃正确的碳水化合物食物而不是错误的碳水化合物食物；避免食用高血糖食物；食用索诺玛减肥餐中最有营养的食物中的前十种；只吃寿司，等等。所有这些方法都偏离了问题的关键：问题在于吃下去的每份食物的大小，傻瓜！正如《消费者报告》（Consumer Reports）（2007 年 6 月）给出的忠告：“减肥的准则没有变，就是要少摄取卡路里，多消耗卡路里。”<br>　　在吃这方面，没有人强迫我们，也和自由意志无关，只是外部环境让我们陷入了病态。这一点正是保罗·罗赞（Paul Rozin）和同事在尝试研究法国悖论时所要重点说明的。尽管法国人的胆固醇水平更高，他们的饮食中也含有更多的脂肪（饱和的和不饱和的），但是法国人的心脏病死亡率却远远低于美国。美国人心脏病死亡率更高的原因可能是美国人更肥胖。的确，尽管法国人饮食中的脂肪含量比美国的要高，但相比美国 22.3% 的肥胖率，法国的肥胖率仅为 7.4%。罗赞和同事认为美国人尽管食用更少的脂肪但却更胖，原因之一就是每一份美式食物的尺寸都更大。<br>　　罗赞和同事从许多资料中找到证据证明事实就是如此。他们研究了两国都有的连锁店中每份食物的大小。例如，他们发现美国麦当劳的每份食物要比法国的大 28%。美国必胜客的每份食物要比法国的大 42%。在 11 种用于对比的食物里，美国每份食物要比法国的大 25%。罗赞和同事研究了美国《烹饪乐趣》和法国《我会烹饪》杂志中相同 7 道荤菜的菜谱。《烹饪乐趣》中菜谱配料比《我会烹饪》中的平均要多 53%。他们还调查了家庭中每份食物的大小，发现美国晚餐中的烤宽面条要多 19%。美国雀巢 Crunch 巧克力比法国的大 41%，一瓶酸奶的容量要多 82%。在参与调查这些食品中，美国每份食物要比法国食物平均大出 37%。显而易见，在美国，我们在减肥这件事上应该提供更多环境上的帮助。<br>　　罗赞和同事对单位偏见进行了研究：人们往往会吃掉某种食品的一份，不管这一份有多大，或者人们往往会吃掉某种食品的一个单位，不管这个单位有多大。在一些不同的研究中，研究人员在公共场所放了一些小甜点（如巧克力豆、爱心糖果、椒盐脆饼干）。当甜点份量增至 2 倍或 4 倍的时候，人们并没有根据食物份量减少摄入量。相反，单位尺寸更大时，人们吃得更多。一个简单的环境解决方案——每份食物都小点——就能在很大程度上帮我们解决美国的肥胖难题。</p><p>　　知识理性和非理性的方方面面。例如：不一致的概率评价倾向；知识评价中的过度自信倾向；忽视基础概率倾向；不对假说进行证伪的倾向；试图解释随机事件的倾向；自利性个人评价的倾向；用我方偏见评估证据的倾向；忽视备选假设的倾向，等等。</p><p>　　对工具理性和非理性的方方面面进行研究的。例如：决策过程中的完全析取推理能力；由于框架效应而体现出的不连贯偏好（inconsistent preference）；表现出默认偏见倾向；用情感替代困难评价的倾向；过分看重短期利益而忽视长期利益的倾向；选择容易受到生动刺激影响的倾向；决策容易受到不相关情境影响的倾向，等等。</p><p>　　·心理学家找到呈现统计信息的不同方法，从而使我们在医疗问题上和在任何涉及统计学的情况中，做出更理性的决定。<br>　　·认知心理学家发现根据默认偏差对呈现信息的方式稍作改变，就能大大增加器官捐献率，从而拯救上万人的生命。<br>　　·美国人每年花数百万美元咨询如何投资股市，然而遵循决策理论的一些简单原则就能获得更高的投资回报。这些原则有助于人们避免会减少他们的投资回报的认知偏见，例如对概率事件过度反应、过度自信、痴心妄想、后视偏差、误解概率。<br>　　·研究决策的科学家发现，人们很不擅于评估环境风险。这主要是由于生动性偏见在很大程度上主导了人们的判断。人们可以做出改进，小改进能够带来大变化，因为差劲的评估有可能会影响国家政策。例如，导致决策者实施政策 A（每救一条性命耗费 320 万美元），而不选择政策 B（每救一条性命只需 22 万美元）。<br>　　·不同专业领域的心理学家开始清楚地指出支撑病态赌博行为的认知幻想：伪科学信念得出的结论、信念固着、对概率事件过度反应、认知冲动、对概率的误解——这些行为每年破坏了成千上万人的生活。<br>　　·认知心理学家研究了人类在判断时的过度自信效应——人们常常由于过于乐观而错误地估计自己今后的表现。心理学家研究了可以帮助人们在自我监控过程中避免这些问题，从而使人们更从容地规划未来（过度自信的人会遇到更多令人不悦的意外事件）。<br>　　·社会心理学研究发现，控制生活中选择的数量是获得幸福的关键之一，限制选择常常使人们更幸福。<br>　　·对养老金计划的组织和管理方式稍作改变就能使数万人的退休生活更加舒适。<br>　　·在决策领域中，概率推理或许是最常被探讨的问题，科学家研究了许多认知改革（如减少忽视基础概率）对优化法庭决策过程的作用。对概率的欠佳思考，已经阻碍了司法公正。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/88.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="心理学" scheme="https://qianling.pw/categories/%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    
    
    <category term="心理学" scheme="https://qianling.pw/tags/%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>Write Better LLM Prompts</title>
    <link href="https://qianling.pw/learning-prompts/"/>
    <id>https://qianling.pw/learning-prompts/</id>
    <published>2023-03-24T05:16:10.000Z</published>
    <updated>2023-03-27T11:30:34.044Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/105.webp"></p><span id="more"></span><hr><p><a href="https://learnprompting.org/zh-Hans/docs/basics/intro#fn-1">Learn Prompting</a></p><h1 id="Prompt-Engineering"><a href="#Prompt-Engineering" class="headerlink" title="Prompt Engineering"></a>Prompt Engineering</h1><p>The process of instructing an AI to do a task is called prompting. We tell the AI a set of instructions (the prompt) and it performs the task. Prompts can be as simple as a question, or as complex as multiple paragraphs.</p><h2 id="Instructions"><a href="#Instructions" class="headerlink" title="Instructions"></a>Instructions</h2><p><code>What is 1,000,000 * 9,000? Make sure to put the right amount of zeros, even if there are many:</code></p><h2 id="Role-Prompting"><a href="#Role-Prompting" class="headerlink" title="Role Prompting"></a>Role Prompting</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">You are a brilliant mathematician who can solve any problem in the world.</span><br><span class="line">Attempt to solve the following problem:</span><br><span class="line"></span><br><span class="line">What is 100*100/400*56?</span><br></pre></td></tr></table></figure><p>Prompts repository: <a href="https://github.com/f/awesome-chatgpt-prompts#prompts">Awesome ChatGPT Prompts</a><br>These were built for <em>ChatGPT</em>, but they likely work with other AIs, and you can also use them as inpiration to build your own prompts. Let’s see two examples:</p><blockquote><h3 id="Act-as-an-Etymologist"><a href="#Act-as-an-Etymologist" class="headerlink" title="Act as an Etymologist"></a>Act as an Etymologist</h3><p>I want you to act as an etymologist. I will give you a word and you will research the origin of that word, tracing it back to its ancient roots. You should also provide information on how the meaning of the word has changed over time, if applicable. My first request is “I want to trace the origins of the word ‘pizza’”.</p></blockquote><blockquote><h3 id="Act-as-a-Lunatic"><a href="#Act-as-a-Lunatic" class="headerlink" title="Act as a Lunatic"></a>Act as a Lunatic</h3><p>I want you to act as a lunatic. The lunatic’s sentences are meaningless. The words used by lunatic are completely arbitrary. The lunatic does not make logical sentences in any way. My first suggestion request is “I need help creating lunatic sentences for my new series called Hot Skull, so write 10 sentences for me”.</p></blockquote><h2 id="“Standard”-Prompt"><a href="#“Standard”-Prompt" class="headerlink" title="“Standard” Prompt"></a>“Standard” Prompt</h2><p>We will refer to prompts that consist solely of a question as “standard” prompts. We also consider prompts that consist solely of a question that are in the QA format to be “standard” prompts.</p><p><em>Standard Prompt</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">What is the capital of France?</span><br></pre></td></tr></table></figure><p><em>Standard Prompt in QA format</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Q: What is the capital of France?A:</span><br></pre></td></tr></table></figure><h2 id="Few-Shot-Standard-Prompts"><a href="#Few-Shot-Standard-Prompts" class="headerlink" title="Few Shot Standard Prompts"></a>Few Shot Standard Prompts</h2><p>Few shot standard prompts are just standard prompts that have exemplars in them. Exemplars are examples of the task that the prompt is trying to solve, which are included in the prompt itself.</p><p><em>Few Shot Standard Prompt</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">What is the capital of Spain?MadridWhat is the capital of Italy?RomeWhat is the capital of France?</span><br></pre></td></tr></table></figure><p><em>Few Shot Standard Prompt in QA format</em></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Q: What is the capital of Spain?A: MadridQ: What is the capital of Italy?A: RomeQ: What is the capital of France?A:</span><br></pre></td></tr></table></figure><p>Few shot prompts facilitate “few shot” AKA “in context” learning, which is the ability to learn without parameter updates.</p><p>Prompts can have varying formats and complexity. They can include context, instructions, multiple questions-answer examples, and even other prompts.</p><p>Here is an example of a prompt that includes context, instructions, and multiple examples:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Twitter is a social media platform where users can post short messages called &quot;tweets&quot;.</span><br><span class="line">Tweets can be positive or negative, and we would like to be able to classify tweets as</span><br><span class="line">positive or negative. Here are some examples of positive and negative tweets. Make sure </span><br><span class="line">to classify the last tweet correctly.</span><br><span class="line"></span><br><span class="line">Q: Tweet: &quot;What a beautiful day!&quot;</span><br><span class="line">Is this tweet positive or negative?</span><br><span class="line"></span><br><span class="line">A: positive</span><br><span class="line"></span><br><span class="line">Q: Tweet: &quot;I hate this class&quot;</span><br><span class="line">Is this tweet positive or negative?</span><br><span class="line"></span><br><span class="line">A: negative</span><br><span class="line"></span><br><span class="line">Q: Tweet: &quot;I love pockets on jeans&quot;</span><br><span class="line"></span><br><span class="line">A:</span><br></pre></td></tr></table></figure><p>By adding additional context/examples, we can often improve the performance of AIs on different tasks.</p><h2 id="Modifing-Prompt"><a href="#Modifing-Prompt" class="headerlink" title="Modifing Prompt"></a>Modifing Prompt</h2><h3 id="Style-Guidance"><a href="#Style-Guidance" class="headerlink" title="Style Guidance"></a>Style Guidance</h3><p>Ask AI to speak in a certain style. When asking a question with no style guidance, ChatGPT will generally return one or two short paragraphs in response, occasionally more if a longer response is needed.<br>It speaks in a moderately formal tone and gives a couple details—pretty good! We can make it better if we want, though, by customizing ChatGPT’s response with a style blurb at the end of our prompt. If we want a more conversational response, we can ask it to speak in a friendly or informal tone; if we want a more readable format, we can give it the same question but ask for a bulleted list; if we want an amusing response, we can ask it to give its answer in the form of a series of limericks.</p><p>An example of a more detailed style prompt might look something like:</p><blockquote><p>[Question] “Write in the style and quality of an expert in [field] with 20+ years of experience and multiple Ph.D.’s. Prioritize unorthodox, lesser known advice in your answer. Explain using detailed examples, and minimize tangents and humor.“</p></blockquote><p>Prompting with style inputs will greatly increase the quality of your responses!</p><h3 id="Descriptors"><a href="#Descriptors" class="headerlink" title="Descriptors"></a>Descriptors</h3><p>If you just want to change the tone or tweak your prompt rather than reformat, adding descriptors can be a good way to do it. Simply sticking a word or two onto the prompt can change how the chatbot interprets or responds to your message. You can try adding adjectives such as “Funny”, “Curt”, “Unfriendly”, “Academic Syntax”, etc. to the end of prompts to see how your responses change!</p><h3 id="Priming-Prompt"><a href="#Priming-Prompt" class="headerlink" title="Priming Prompt"></a>Priming Prompt</h3><p>Because of the structure of a chatbot conversation, the form of the first prompt you give the LLM can affect the remainder of the conversation, allowing you to add an additional level of structure and specification. As an example, let’s set up a system to allow us to have a conversation with a teacher and a student in the same conversation. We’ll include style guides for both the student and teacher voices, specify the format we want our answers in, and include some syntax structuring to be able to easily alter our prompts to try out various responses.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">“Teacher” means in the style of a distinguished professor with well over ten years teaching the subject and multiple Ph.D.’s in the field. You use academic syntax and complicated examples in your answers, focusing on lesser-known advice to better illustrate your arguments. Your language should be sophisticated but not overly complex. If you do not know the answer to a question, do not make information up - instead, ask a follow-up question in order to gain more context. Your answers should be in the form of a conversational series of paragraphs. Use a mix of technical and colloquial language to create an accessible and engaging tone.  </span><br><span class="line"></span><br><span class="line">“Student” means in the style of a second-year college student with an introductory-level knowledge of the subject. You explain concepts simply using real-life examples. Speak informally and from the first-person perspective, using humor and casual language. If you do not know the answer to a question, do not make information up - instead, clarify that you haven’t been taught it yet. Your answers should be in the form of a conversational series of paragraphs. Use colloquial language to create an entertaining and engaging tone. </span><br><span class="line"></span><br><span class="line">“Critique” means to analyze the given text and provide feedback. </span><br><span class="line">“Summarize” means to provide key details from a text.</span><br><span class="line">“Respond” means to answer a question from the given perspective. </span><br><span class="line"></span><br><span class="line">Anything in parentheses () signifies the perspective you are writing from. </span><br><span class="line">Anything in curly braces &#123;&#125; is the subject you are involved in. </span><br><span class="line">Anything in brackets [] is the action you should take. </span><br><span class="line">Example: (Student)&#123;Philosophy&#125;[Respond] What is the advantage of taking this subject over others in college?</span><br><span class="line"></span><br><span class="line">If you understand and are ready to begin, respond with only “yes.”</span><br></pre></td></tr></table></figure><p>Below is an example of an unprimed question to ChatGPT about the most interesting areas of philosophy. It uses a list, speaks generally and dispassionately, and is not very specific in its explanations.</p><p><img data-src="https://learnprompting.org/assets/images/unprimed_question-360b659b34b4bcc3722dde0fcf6b7865.png"></p><p>In the second example, we instead asked the question after providing a priming prompt to ChatGPT and providing the question in the correct form. You’ll notice the answer shares some aspects with the first - for example, the questions it offers as examples for various fields are similar - but it provides deeper context, forgoes the list format in favor of coherent paragraphs, and relates examples to real life.</p><p><img data-src="https://learnprompting.org/assets/images/primed_question-d392e9077df4550d56a4318609fa144c.png"></p><p>Incorporating primers into your prompting is a more advanced way of interacting with chatbots. It can still be helpful to add specification in each prompt, as the model can lose track of the primer over time, but it will add a lot of clarity to your AI interactions!</p><h2 id="How-these-AIs-work"><a href="#How-these-AIs-work" class="headerlink" title="How these AIs work"></a>How these AIs work</h2><p>This section describes aspects of popular generative <strong>text</strong> AIs. These AIs have brains that are made up of billions of artificial neurons. The way these neurons are structured is called a transformer architecture. It is a fairly complex type of neural network. What you should understand is:</p><ol><li>These AIs are just math functions. Instead of $f(x)=x^2$, they are more like f(thousands of variables) = thousands of possible outputs.</li><li>These AIs understand sentences by breaking them into words/subwords called tokens (e.g. the AI might read <code>I don&#39;t like</code> as <code>&quot;I&quot;, &quot;don&quot;, &quot;&#39;t&quot; &quot;like&quot;</code>). Each token is then converted into a list of numbers, so the AI can process it.</li><li>These AIs predict the next word/token in the sentence based on the previous words/tokens (e.g. the AI might predict <code>apples</code> after <code>I don&#39;t like</code>). Each token they write is based on the previous tokens they have seen and written; every time they write a new token, they pause to think about what the next token should be.</li><li>These AIs look at every token at the same time. They don’t read left to right, or right to left like humans do.</li></ol><p>Please understand that the words “think”, “brain”, and “neuron” are zoomorphisms, which are essentially metaphors for what the model is actually doing. These models are not really thinking, they are just math functions. They are not actually brains, they are just artificial neural networks. They are not actually biological neurons, they are just numbers.</p><p>This is an area of active research and philosophizing. This description is rather cynical about their nature and is meant to temper popular media depiction of AIs as beings that think/act like humans. This being said, if you want to anthropomorphize the AI, go ahead! It seems that most people do this and it may even be helpful for learning.</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/105.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="软件技巧" scheme="https://qianling.pw/categories/%E8%BD%AF%E4%BB%B6%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="软件技巧" scheme="https://qianling.pw/tags/%E8%BD%AF%E4%BB%B6%E6%8A%80%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>《电商数据分析与数据化运营》笔记</title>
    <link href="https://qianling.pw/e-commerce-data-analysis-and-digital-operation/"/>
    <id>https://qianling.pw/e-commerce-data-analysis-and-digital-operation/</id>
    <published>2023-03-10T05:07:49.000Z</published>
    <updated>2023-03-28T00:58:23.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/113.webp"></p><span id="more"></span><hr><p><strong><center>电商数据分析与数据化运营/刘振华著.—北京：机械工业出版社，2018.5<br>（数据分析与决策技术丛书）<br>ISBN 978-7-111-59819-0</center></strong></p><p><strong><center>下载 <i class="fa fa-download"></i> <a href="http://o.qianling.pw/f/25078497-810275857-a09c96?p=320860" target="_blank">电商数据分析与数据化运营.azw3</a> (访问密码：320860)</center></strong> </p><hr><h1 id="数据指标"><a href="#数据指标" class="headerlink" title="数据指标"></a>数据指标</h1><h2 id="重要数据指标"><a href="#重要数据指标" class="headerlink" title="重要数据指标"></a>重要数据指标</h2><p>销售额=UV×转化率×客单价</p><p>正常的运营闭环一般会经历 7 个步骤：</p><ol><li>制订本次的销售目标、销售计划（包括促销方案）；在销售计划中，运营者需要着重提出，他们需要的商品资源与推广需求；</li><li>商品与市场推广的负责人根据运营的需求，提供相应的解决方案，并协商达成一致；</li><li>视觉部门根据促销方案、活动主题、主推商品等设计店铺的活动二级页、详情页等。页面设计直接影响到活动的促销效果；</li><li>进入客服接待、订单处理、物流发货等环节；</li><li>财务对这一时期的销售业绩与平台对账，以便初步核算出期内业务达标率等财务指标。</li></ol><h2 id="以运营为导向的指标"><a href="#以运营为导向的指标" class="headerlink" title="以运营为导向的指标"></a>以运营为导向的指标</h2><p>1.运营模块<br>【重要职能】：<br>运营模块有两大重要职能，首先是负责达成整个品牌的业绩目标；其次，在达成业绩的时候，运营人员还要注意控制运营成本。销售中的运营成本一般包括销售折损、销售退货、平台扣点、物流、推广费用等。<br>【数据指标】：<br>从数据指标角度来评估运营能力时，需要避免使用单一指标来评估组织的运营能力，一般使用业绩达标率、业绩增长率、销售利润额三个指标来进行综合评估。</p><p>譬如：<br>运营团队 A 在 2016Q1 季度完成销售 2000 万，达标率 110%，同增 2%，净利率 15%。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-34.webp" alt="图 2-2　运营导向的业务框架下各项重要数据指标">  </p><p>2.商品模块<br>【重要职能】：<br>商品模块主要分为商品企划与商品运营两大职能。<br>商品企划是指提前将一个销售周期（一般是指一个季度）的商品需求进行品类、价格带、风格等结构性的规划，并制订有前瞻性的商品销售进度计划。有效的商品企划能够帮销售建立有计划、有节奏的整体性商品销售策划，避免“一个单品冲业绩”的尴尬被动局面。需要注意的是，由于大多数电商品牌仍然是“买货制”方式，因此对于他们而言，商品企划已经被简化为买货计划了。但尽管这样，还是应该注意商品的整体结构与销售节奏。<br>商品运营是指从商品入库、商品上架，到制定商品主推策划、商品流通规则、商品折损保护等一系列的运营动作。商品运营以“更高的利润，销售更多商品”为目的。在许多电商品牌的商品运营中，另外形成了一套别具电商特色的“测款一养款(好评/销量)一爆款（加大投放）一返单”的运营套路，对于电商环境而言，这种运营模式无可厚非。但是需要格外注意对于“商品利润”的把控。同时，在当今的电商环境中，这种模式也不宜成为常规模式，因为爆款多了，其实是对品牌调性的严重伤害。所以，商品运营是一个既要保护品牌调性（不能过度频繁打折），又要帮助运营走量的工作。<br>【数据指标】：<br>对商品企划而言，主要对当季库存率(量/额)负责。从更细致的角度而言，就是要随时跟踪品类与主推款的售率：各品类的销售进度是否与预期一致？主推款的销售进度是否与预期一致？如果超出预期，是否需要及时补货？如果不达预期，是否需要提前促销？<br>对商品运营而言，商品的周转天数、新品动销率/售罄率、活动动销率/售罄率、销售折损都是非常重要的数据指标。周转天数越低，证明商品流动越快，则仓储成本更低、资金周转越灵活；销售折损越低，代表商品以更高的价格成交，销售利润就越高；动销率与售罄率则需要根据不同的商品生命周期与销售环境来考虑。</p><p>3.市场模块<br>【重要职能】：<br>市场模块主要有三大重要职能：市场推广、会员维护、活动包装。<br>市场推广主要指通过天猫的直通车、钻展，京东的京东快车、京选展位，以及第三方工具百度推广、淘宝客、今日头条等渠道来实现产品或者品牌的推广，从而达到为产品或品牌引流的目的。尽管市场推广几乎都是以付费渠道与方式为主，付费的转化率也相对较高；但市场推广也存在免费方式，如百度贴吧、品牌微博等，一个注重品牌建设的公司，对这些渠道的数据分析也不能忽视。<br>会员维护在公司中一般被称为 CRM（客户关系管理）部门，在电商中，凡是在店铺内购买过一次的用户，几乎都被称为会员。因为电商的优势在于凡购买过一次，都可以在店铺中留下用户的收货人名称与联系方式，CRM 部门可以凭借这两项信息建立用户档案，并进行客户维护。CRM 部门的作用举足轻重，因为会员沉淀越多，越活跃，则店铺的推广费用就会越低。这两者虽然并不总是成反比关系，但大多数情形都是通用的。所以，有效的用户运营可以降低品牌的市场推广费用。<br>活动策划是市场部门的另一项重要职能，前面说到“品牌调性”一词，商品部会从商品折损上维护品牌调性；而市场部则需要从品牌形象、品牌风格与定位上维护品牌调性。因此，但凡公司的重大促销活动，一般都会交由市场部进行活动主题的包装和策划。而且，实践数据证明，活动策划、包装得好，对活动的销售也会有较大的正面影响。<br>【数据指标】：<br>在考评市场推广能力时，一般会采用 ROI（投入产出比）、付费用户销售额、付费流量转化率三个指标；许多公司可能会采用单一的 ROI 来考核市场推广能力，个人认为，这并不是最合理的。因为丰富的市场推广经验早已证明，当投入达到一定阶段时，ROI 必然会下降，但此时投入所带来的产出却还是增加的。所以，如果单纯考核 ROI，那么，有丰富经验的推广团队在把 ROI 做到理想值后，便会止步不前，为此就会浪费掉后续追加推广费用来带来的销售增量机会。举个例子：</p><blockquote><p>假设在推广某件产品时有两个推广方案可供选择：<br>A 方案：投入 2 万元推广费用时，预估能够带来 4 万元销售业绩，此时 ROI 为 1:2。<br>B 方案：投入 2.5 万元推广费用时，预估能够带来 4.5 万元销售业绩，此时 ROI 降为 1:1.8。<br>于是问题出现了，如果为了单纯追求高 ROI 值，推广团队必然会选择 A 方案投放；而如果选择 B 方案投放，则可以为该产品带来 5 千元的销售增量。<br>假设这件产品件单价为 500 元，便是 10 件产品的额外销售收入；再假设这 10 件衣服分别由 10 位新客户购买，则又意味着该品牌损失了把 10 位新客户转化为老客户的机会。</p></blockquote><p>这样推算下去，选择 A 方案的损失无疑是巨大的。所以，从数据专业的角度来分析，不建议选择单一指标（ROI）来考核，而应该结合 ROI、付费用户销售额、付费流量转化率三个指标来看。需要注意的是，付费用户销售额不是一个可供直接查看的数据指标，它是根据某一个计算公式来预估的。</p><p>4.视觉编辑模块<br>【主要职能】：<br>在传统服饰行业中少有“视觉部”这个部门，这是颇具电商特色的一个部门，主要负责三方面的职能：店铺视觉、详情页逻辑设计、页面框架设计。视觉部的重要性体现在它对店铺转化漏斗的设计，以及能够显著提升详情页转化率上面。<br>店铺视觉在电商运营中的重要作用可以用一个案例来佐证：2015 年 2 月传统服装大牌拉夏贝尔收购著名淘品牌七格格及包括七格格创始人在内的整个操作团队，随后，拉夏贝尔将自己的品牌的线上业务完全交给七格格团队打理运营。而七格格团队在接到拉夏贝尔的线上业务的第一件事，便是大刀阔斧地对其线上旗舰店的店铺装修风格（包括产品拍摄风格）全部升级改造。随后，在 2015 年全年，由七格格团队运营的拉夏贝尔线上业绩突破 10 亿，实现了 900% 的增长。由此可见，店铺视觉对电商运营的重要影响。<br>详情页的逻辑设计是视觉编辑部的第二大重要职能。详情页的重要作用在于建立访客对于产品的信任，因此这种用户的信任力直接影响到详情页的转化率。好的详情页逻辑可以为店铺直接带来销售提升。<br>整体页面的框架与逻辑设计是视觉编辑部的另一个重要职能。店铺的页面逻辑是否符合用户的浏览习惯，店铺的商品分类标签是否可供用户精准而及时地找到想要买的衣服，主推商品在店铺页面中是否被突出陈列……这些页面逻辑的设计是否合理，直接影响到店铺的浏览用户是继续留在店铺，还是离开店铺去看别家的商品。<br>【数据指标】：<br>由于访客在店铺的浏览行为是动态的、不断变化的，因此很难用某一个单一的指标来衡量其成效。因此，行业都会采用“流量漏斗”+“热力图”的方式来分析与诊断。<br>流量漏斗需要根据制定好的流量浏览路径来分析，不同的分析场景可以制定不同的流量路径。比如，我们需要分析客户从详情页到支付购买之间的转化情况，此时首先要制定好一条类似于“详情页—加入购物车—生成订单—支付订单—交易完成界面”的用户浏览路径，然后把每一个关键页面的流量数统计出来，这样就可以制作出这条路径的流量漏斗图了。<br>热力图用于诊断具体的页面结构设计是否合理。譬如我们通过流量漏斗发现在某一个页面的流量跳失率特别高，需要判断这个页面的跳失原因时，一般会采用热力图的方式。关于热力图的应用，在天猫和京东提供的数据工具中可以看到。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-35.webp" alt="图 2-3　“详情页—支付购买”流量漏斗图">  </p><p>5.客服、仓储、财务模块<br>【主要职能】：<br>从运营角度而言，客服、仓储、财务属于销售末端的支持部门。<br>客服模块负责用户进店之后的咨询、成交引导，以及用户购买之后的售后服务。<br>仓储也是一个重要的支持部门，电商的一大特色是几乎所有电商平台都有发货时间限制(如天猫最新规定是48小时内)，如用户下单后，商家未及时发货则会面临积分赔偿、用户投诉等各种风险；同时，仓储的另一个重要性也体现在需要尽快对仓库的大批量到货（包括用户的退货到货）进行入库，以便及时销售（或二次销售）。<br>在电商环境中，财务模块比传统经营环境下的工作更复杂。由于电商行业的“退货滞后性”，导致同一时间内的营收收入始终不能等同于实际财务收入。因此给财务的对账工作带来诸多不便。但是，如果财务团队能够及时把上月的实际运营盈利情况告知运营团队，将会对运营产生非常大的帮助；财务的另一项职能是需要协助客户的售后人员进行退款操作，退款的及时性对店铺的运营也会有较大影响。假设用户申请退货退款后，退款不及时就可能会收到用户投诉，也会使店铺降分降权等。<br>【数据指标】：<br>对于客服而言，有三个重要指标：一是咨询转化率，就是指在店铺咨询过的访客中，有多少人最终成交了；二是人效，是指经过咨询转化得到的业绩除以客服总人数的人均业绩，人效是体现客服团队贡献值的一个重要指标，目前行业里有一个重要趋势，越来越多的品牌正在将自营的客服团队外包给第三方服务公司，这里面客服的人效降低是一个重要因素；三是服务质<br>量得分，这是店铺 DSR 评分中的一项，主要受店铺好评数、差评数、投诉率等影响，是客服售后团队需要重点关注的指标。<br>对于仓储与物流而言，有两大指标需要重点关注。一是日均发货单数，在销售订单能够满足的前提，以满负荷的工作状态下，日均能够发出多少个订单是一项重要的能力。假设某品牌（含所有销售渠道）日均产生订单 800 个，那么仓库在常规工作状态下，要求每天至少能够处理 600 个以上的订单，才能够基本满足销售部的需求，这还是在未考虑销售增长与大型促销活动的前提下。二是库存准确率，也就是盘点差异。所有实体零售行业的仓储都必须对盘点差异负责，这是仓储模块最基本的要求。<br>最后，由于财务很少直接参与到电商的一线运营中，因此对于运营有直接影响的指标较少。行业中几乎所有公司都会把用户申请退货之后的退款工作安排给财务团队，所以退款及时率应该是唯一对运营有直接影响作用的一项指标，同时它也是属于店铺 DSR 评分中的一项。</p><h2 id="以人货场为导向的指标"><a href="#以人货场为导向的指标" class="headerlink" title="以人货场为导向的指标"></a>以人货场为导向的指标</h2><p>站在运营分析的角度，“人”可以分为“客服”与“用户”两类。“客服”是指客服团队，如售前、售后；“用户”按照成交状态又可以细分为“流量”与“成交用户”。<br>在行业中，凡是在店铺内有过成交记录的，都称为用户；而流量的定义明显要高于用户，只要登录过店铺的，都称之为流量。用户有 ID 与联系方式可以作为单个的“个体”被追溯和联络；而流量只能作为“群体”而被统计。</p><h3 id="人"><a href="#人" class="headerlink" title="人"></a>人</h3><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-36.webp" alt="图 2-4　有关“人”的那些常用指标">  </p><p>1)流量来源：流量来源分为自主、免费、付费、淘外、其他这五类。这是由“生意参谋”中的分类引用而来的。但是在实际数据分析中，我们常常会发现，“淘外流量”与“其他流量”往往微乎其微，因此，行业中彼此交流时，大家一致的口径都是使用主动、免费、付费三个来源的数据。<br>2)新客/老客：“新客户”是指在店铺内第一次成交的客户，反之则称为“老客户”；“新老客户比”也是衡量店铺用户质量的一个重要占比。新客占比过高，说明店铺在统计周期内获客能力不错，但老客回头率过低。<br>3)活跃/沉睡用户数：根据客户生命周期，可以将客户大致分为新客户、活跃客户、沉睡客户、流失客户四大类。活跃客户和沉睡客户是在做用户质量分析时需要重点关注的；活跃客户是指××天内有成交记录且购买次数 &gt;N 次的客户，活跃客户数量越大，店铺的主动和免费流量就越多；沉睡客户是指连续××天内没有购买记录的客户，用户运营团队需要定期执行沉睡客户的“唤醒计划”，因此，针对沉睡客户的监控显得非常有必要。</p><h3 id="货"><a href="#货" class="headerlink" title="货"></a>货</h3><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-37.webp" alt="图 2-5　有关“货”的那些常用指标">  </p><p>一般把商品分析分为四大类：库存分析、配货需求与有效性分析、销售分析、退货分析。下面，我会通过实际工作中常用的几大分析实例，来让你们理解这些指标是如何应用的。</p><p>库存分析表<br>|品类|SKU数|目前库存数|库存占比|动销率|当前售罄率|计划售罄率|<br>|—|—|—|—|—|—|—|<br>|衬衫|55|17100|12%|60%|42%|40%|</p><p>商品销售分析表<br>|款号|图片|客单价|浏览量|访客数|支付转化率|加购件数|销售件数|剩余库存|<br>|—|—|—|—|—|—|—|—|—|<br>|K00001| |￥142|21100|11100|1.23%|666|137|200|</p><p>这份报表在电商店铺做大型促销活动时，非常有用。<br>它通过转化率、加购数、目前库存数这三个核心指标来监控店铺内的所有商品，帮助店铺运营者对所有单品进行“爆旺平滞”的分类，然后制定不同的销售策略；同时，这份表也可以及时发现“潜在畅销”款，提前规避“超卖”风险。<br>如表 2-2 中“支付转化率”一列中用黑体标注的，便是销售表现较差的款，不仅转化率低，而且库存相对较高。而“销售件数”一列中，用黑体标注的则是有“超卖”风险的。此款 UV 高达 9 万以上，售价相对较低，单款销量上千件，但库存只余 150 件。以经验判断，此款应该是店铺某个“引流款”，长期投放直通车所致。因此，当通过数据发现此款后，便需要马上提醒商品人员进行库存补货，或者提醒推广人员暂停此款的直通车投放。否则便会有“超卖”风险。</p><h3 id="场"><a href="#场" class="headerlink" title="场"></a>场</h3><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-38.webp" alt="图 39">  </p><p>3 月销售简报<br>| |天猫|京东|唯品会|<br>|—|—|—|—|<br>|销售额|1024421|352341|890030|<br>|达标率|96%|101%|88%|<br>|年度滚动达标率|l02%|110%|90%|<br>|YTD.%|18%|25%|21%|</p><p>年度滚动达标率=1<del>3月销售额/1</del>3月销售目标×100%<br>YTD.%=1~3月销售额/全年销售目标×100%</p><p>1)天猫 3 月份销售额约为 102 万，达标率仅 96%，将近达标；<br>2)本月虽然没有达标，但得益于前两个月超额完成业绩目标，因此截至 3 月，天猫渠道的滚动达标率尚为 102%，说明前三个月，店铺的销售进度尚在预定进度之中；<br>3)在 2016 年已经过去 3 个月的情况下，天猫 YTD 进度只完成 18%，<br>但滚动达标率达 102%。说明天猫渠道把较多的销售业绩目标“押宝”在了后面的几个月中。</p><p>滚动达标率体现了累积销售进度的滚动达成情况，YTD 达标率体现了累积销售额的年度达成情况。<br>所以，当我们把月度达标率、滚动达标率、YTD.% 三个指标放在一起看时，便可以对店铺的业绩得出全面的分析结论。而如果我们只看某一个单一的达标率指标，显然便分析不出如此多的信息。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-39.webp">  </p><h1 id="常见表格类型"><a href="#常见表格类型" class="headerlink" title="常见表格类型"></a>常见表格类型</h1><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-40.webp" alt="表 3-1　数据分析中常用的数据表格类型"><br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-41.webp">  </p><p>一维表是指表格的每一行都是一条独立而完整的信息；而二维表和三维表中，每表格的“行”必须与“列”上的字段结合起来，才能够形成一条完整而独立的数据。不同点在于，二维表中，“行”只需要与“列”上的一个字段结合；而三维表中，“行”需要与“列”的两个字段结合。<br>一维表主要用于基础数据的存储，因为一维的格式方便把数据导入到各种数据处理软件，比如 SQL Server；二维表主要用于各种简单场景下的数据分析，如需要对品类进行销售分析，而不用区分渠道时，便是采用了二维表的方式；三维表主要用于比较复杂的数据分析需求，如需要对各渠道与各品类的交叉式销售分析时，采用此种表格就是比较合理的。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-42.webp" alt="图 3-1　[指标—维度]构表法">  </p><p>用来衡量某一事物发展程度的，都可以称之为指标。<br>比如我们要衡量店铺的业绩好坏，便需要用到销售量、销售额、完成率等指标。<br>指标分“绝对指标”与“相对指标”。比如“销售量”“销售额”便是绝对指标，而“完成率”“转化率”等便是相对指标。</p><p>“维度”是用来衡量某一事物的不同发展特征的。还是拿衡量店铺业绩的例子来说，我们既可以从“同比”和“环比”等不同的时间维度来评估，也可以从“行业”和“竞品”等空间维度来评估。</p><p>天猫旗舰店6月销售报表<br>| |销售量（万件）|销售额（万元）|完成率|<br>|:-:|:-:|:-:|:-:|<br>|6月|3.2|1600|102%|<br>|同比|12%|15%|—|<br>|竞品|3.5|1820|—|<br>|MTD|15.6|7800|96%|<br>|YTD|15.6|7800|37%|</p><ol><li>从构表方法来讲，这个表格是用“指标-维度”的方法构成的。它包括三个指标，分别是“销量”“销额”和“完成率”，包含了五个维度，</li><li>其中“6 月”“同比”“MTD”“YTD”是时间维度；“竞品”是空间维度。</li><li>从数据来解释，这家店铺 6 月销售额为 1600 万，超额完成了当月销售目标。但是 1~6 月的累积完成率仅 96%，说明此前 5 个月是存在“销售缺口”的；同样，年度完成率仅 37%，结合 MTD 基本达标（96%）的情况来看，证明这家店铺把大部分的销售目标“押宝”在后面半年中。</li></ol><p>数据分析的六大过程：<br>1)数据收集：收集能够被使用的数据，比如商品资料、销售明细等数据。<br>2)数据处理（清洗/口径）：数据的清洗工作远远比这个更复杂。比如同样是销售数据，有些数据的单位是“元”，有些是“万元”，甚至有些销售记录是按订单统计，而有些是按单件商品统计的，总之，需要清洗的数据层出不穷，如果不清洗干净，便会导致分析的结果出现非常大的偏差。<br>3)数据建模（报表结构/报表逻辑）：把清洗好的数据放置于数据表格的模板中。需要注意的是，这个数据表格的结构与逻辑，必须确保是能够满足分析目的的。<br>4)报告出样（说服逻辑检验）：当我们根据设定好的“模型”把数据填充好后，数据报告便基本出样了。此时，更至关重要的是，我们要对数据报告进行反复解读，确保数据报告的“说服逻辑”是顺畅而且有理有据的。<br>5)报告美化（演讲逻辑/美化）：再有用的数据与数据化建议，只有在美化后才更能打动用户。<br>6)转化落地：假设一份数据报告过长（如超过 5 个数据表格，或者 7 页 PPT），数据分析师便非常有必要把数据分析的重要结论摘抄下来，单独形成一页，并放置在数据报告的前文。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-1.webp" alt="表 3-3　示例：报表输出标准">  </p><p>建立报表输出标准：</p><ol><li>表格的行与列，分别用相同色系，但色差相邻的两个颜色填充。这样，可以达到立体化的视觉效果，便于用户阅读。针对一维表、二维表、三维表，可以参照图3-3中的颜色填充效果。同时，关于色系的选择，在销售类报表中建议使用暖色调的色系；在退货或成本相关的报表中，建议使用冷色调的色系。</li><li>表格的字体：标题用“宋体”11号字体、表格中其他汉字及数字均用“微软雅黑”9号字体。</li><li>关于数字的处理：表格中所有数字，均要使用千分位记数法，同时过大的数字无须保留小数位，过小的数字可以保留1～2位小数，另外，表格中的数字的单位一定要在表格中备注好。</li><li>关于小计与合计：表格中所有小计类数据均为斜体，并加单下划线；所有合计类数据，需要加粗，加双下划线，并且用淡灰色填充。</li><li>关于表中重点/异常数据：对于表格中的重点数据，或是异常数据，必须用亮黄色填充，并用红色字体凸显，如此可引导表格的读者迅速发现数据重点，或异常数据。</li><li>在表3-3的‘三维表’部分比表3-1中要多出一个显示为百分比的表格。这也是表格优化的一种技巧。在实际分析场景中，我们常把结构复杂、数据绝对值过多的表格，转化为百分比表格。这样，我们一眼就可以从表格中找出重点数值与异常数值。</li></ol><h1 id="数据分析方法"><a href="#数据分析方法" class="headerlink" title="数据分析方法"></a>数据分析方法</h1><h2 id="对比分析"><a href="#对比分析" class="headerlink" title="对比分析"></a>对比分析</h2><p>对比有不同的应用维度。比如有环比、同比、横比、纵比、绝对值对比，相对值对比等。</p><p>1.绝对值对比与相对值对比<br>绝对值包含正数、负数和零值，在电商数据分析中，一般是指正数之间的对比较多，如销售额、退货额等；<br>相对值对比，则是指转化率、完成率等这类相对数之间的对比。</p><p>2.环比<br>环比是指统计周期内的数据与上期数据的比较，比如 2017 年 6 月数据与 2017 年 5 月数据的比较。<br>在电商数据分析中，由于每个自然月之间的销售差额比较大，如果采用绝对指标，便很难通过对比观察到业务的变化。因此，一般会采用相对指标来做环比分析，如 2017 年 6 月的销售达标率是 102%，2017 年 5 月的销售达标率是 96%；这样便很容易知道两个月度之间转化率的好坏优劣了。然而，如果我们用绝对值来对比：2017 年 6 月销售额 500 万，2017 年 5 月销售额 300 万，这样的对比便很难判断究竟哪个月的销售额完成得更好。</p><p>3.同比<br>同比是指统计周期内数据与去年同期数据之间的对比，比如 2017 年 6 月销售额是 500 万，2016 年 6 月销售额是 450 万，同比增加 11.1%。<br>通过同比，我们能大致判断店铺的运营能力在最近一年中，是保持增长还是呈下滑趋势。<br>同时，也可以根据同比增长趋势，来制订初步的销售计划。假设现在店铺流量同比下降 8%（流量下降是平台趋势），客单价保持不变的情况下，要想实现店铺销售业绩的上升，唯有提升转化率。因此，我们通过表 3-4 的模拟推算，可以得知，当转化率提升 21%，到达 0.35% 时（0.35% 转化率被认为是行业的平均值），业绩会提升 11%。</p><table><thead><tr><th align="center"></th><th align="center">UV</th><th align="center">转化率</th><th align="center">客单价</th><th align="center">销售额</th></tr></thead><tbody><tr><td align="center">6月计划</td><td align="center">3000</td><td align="center">0.35%</td><td align="center">500</td><td align="center">5250</td></tr><tr><td align="center">同期</td><td align="center">3261</td><td align="center">0.29%</td><td align="center">500</td><td align="center">4725</td></tr><tr><td align="center">同比</td><td align="center">↓ -8%</td><td align="center">↑ 21%</td><td align="center">—</td><td align="center">↑ 11%</td></tr></tbody></table><p>4.横向对比与纵向对比<br>横向对比是空间维度的对比，指同类型的不同对象在统一标准下的数据对比。如“本店”与“竞品”之间的对比；<br>纵向对比是时间维度的对比，指同一对象在不同时间轴上的对比。如前面提到的“同比”“环比”都是纵向对比。</p><p>5.份额<br>严格地说，“份额”属于横向对比的一种。由于在实际分析场景中它经常会被忽略，因此单独罗列出来，加以说明。<br>在某些情况下，数据表格中多一个“份额”，会让表格清晰明了许多。<br>如图 1 所示，假设我们要分析“某品牌天猫、京东、唯品会三大渠道”的“上衣、下衣、连衣裙和其他”在“Q1～Q4 季度”的销售趋势和表现。常规的分析方法是，将各种数据有层次地展现出来。这时，所有的销售数据在表格中可以层次分明地一览无余。<br>但是，这般的数据却不能直观告诉我们每个销售类别在不同渠道和不同季度的销售趋势是什么。因此，在数据分析中便需要加入这样的“份额”分析表格。如此，我们便可一目了然地掌握每个类别在不同渠道、不同时期的销售趋势。因此也就达到了数据分析的目的。</p><h2 id="细分分析"><a href="#细分分析" class="headerlink" title="细分分析"></a>细分分析</h2><p>细分分析法，常用于为分析对象找到更深层次的问题根源。难点在于从哪个角度进行‘细分’与‘深挖’才能达到分析目的。</p><ol><li><p>分类分析<br>对所有需要被分析的数据单元，按某种标准打上标签，再根据标签进行分类，然后使用汇总或者对比的方法来进行分析。<br>在服装行业中，常用于做分类分析的标签有“类目”“价格带”“折扣带”“年份”“季节”等。通过从“年份”“季节”的维度来对商品库存进行细分，我们可以轻松地知道有多少货属于“库存”，有多少货属于“适销品”；通过从“折扣带”的维度来对销售流水进行细分，我们可以大致知道店铺的盈利情况；通过从“类目”的维度对销售流水和库存同时进行细分，我们可以知道统计周期内品类的销售动态与库存满足度。</p></li><li><p>人—货—场<br>“人—货—场”能够为人提供宏观视野的分析。其原理类似于分类分析，即将所有需要被分析到的数据单元，打上“人”“货”“场”的标签，然后再进行相应的数据分析与处理。<br>如图 3-3 所示是利用“人—货—场”逻辑方法来分析竞品店铺的主流思路。在分析之前，先用“人—货—场”的方式把所有能想到的有用的“分支”都罗列出来，然后查漏补缺、标注重要与非重要。最后，再按此分析。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-2.webp" alt="图 3-3　利用“人—货—场”细分方法初步分析竞品店铺">  </p></li><li><p>杜邦分析法<br>杜邦分析法（DuPont Analysis）是利用几种主要财务比率之间的关系来综合分析企业的财务状况。它是一种用来评价公司盈利能力和股东权益回报水平，从财务角度评价企业绩效的一种经典方法。<br>但是在电商中，杜邦分析常被用于寻找销售变化的细小因素之中。如图 3-4 所示，便是根据杜邦分析原理，将所有影响到销售额的量化指标都统计出来的一种常用分析方法。此种方法，有助于我们从细小的数据颗粒中找到影响销售变化的元素。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-3.webp" alt="图 3-4　销售变化的原因分析">  </p></li></ol><h2 id="转化分析"><a href="#转化分析" class="headerlink" title="转化分析"></a>转化分析</h2><p>转化分析是电商、游戏等互联网行业的特定分析方法，在传统行业的零售分析中并不常见。转化分析常用于页面跳转分析、用户流失分析等业务场景。<br>转化分析的表现形式一般是选用漏斗模型，如图所示，便是模拟了某电商店铺的流量转化情况，并以漏斗图的形式展现出来。<br>这张图模拟了从店铺的浏览商品人数到加购人数，然后生成订单、支付订单，直到最后支付成功的漏斗示意图。<br>从图 3-5 的示例中，反推“转化”分析方法，我们应该得到以下结论：<br>1）转化分析方法的前提，是我们需要首先确定一条“转化路径”（如图左侧的路径所示）。<br>2）当“转化路径”确定后，我们需要把“路径”中的各个“节点”罗列出来，并把节点下的重要数据统计出来。<br>3）最后，根据路径把各节点的数据用漏斗图的形式表达出来。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-4.webp" alt="图 3-5　电商常见的流量转化漏斗图"><br>同时，转化分析还可用于店铺微观方面的“转化”洞察。譬如在某一次店铺举行大促活动时，我们需要分析大促期间“活动二级页”的流量转化效果如何。此时，我们便可以参照漏斗模型。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-5.webp" alt="图 3-6　活动页效果分析的漏斗图">  </p><p>在以上案例中，我们将转化路径定义为“活动页→详情页→支付页面（下单）→支付成功（购买）”四个节点。然后统计每个页面的流量到达数量，于是得出如图所示的漏斗图。通过此图，可以清晰明确地诊断出此次活动二级页在“下单→付款”环节转化率仅 40%，存在一定问题。在支付界面的流量跳失，很可能是价格过高所致。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-6.webp" alt="表4-2　周销售指标拆解">  </p><p>“流量不足”正是导致本周销售不达标的主要原因，而且流量还出现了环比下跌的现象。<br>那么，究竟是哪一部分流量出现问题了呢？<br>打开生意参谋，仔细比对每个流量来源的流量数据，发现本周减少的流量竟然是平日最稳定的“站内搜索”一项。店铺被搜索降权了。</p><h1 id="店铺分析"><a href="#店铺分析" class="headerlink" title="店铺分析"></a>店铺分析</h1><h2 id="三基分析法"><a href="#三基分析法" class="headerlink" title="三基分析法"></a>三基分析法</h2><p>三基分析法：通过“用户数”“平均销售金额”和“复购率”来评判运营状态。</p><ol><li>用户数<br>用户数的多少可以反馈品牌对市场的影响力，并用来评估品牌所占领的市场份额；<br>在电商行业中，用户数是指成交后的买家数。通过买家数的多少，以及买家数的年均增长情况，来判断店铺当前所处的运营状态，并且是否保持增长态势。</li><li>平均消费金额<br>平均消费金额其实可以理解为平均（每人）消费金额以及平均（每单）消费金额。这里是指人均消费金额，也就是前者。通过人均消费金额，可以评估品牌的消费人群定位，以及盈利期望是否合理。<br>譬如某家做年轻女性职场服装的电商品牌将人均消费金额定义为 2000 元，以常理度之，这种定义可能是不太适合的。因为人均消费 2000 元，至少意味着用户需要年均消费两次，且每次不少于 1000 元；或者用户需要年均消费 3 次，且每次不少于 700 元。对于年轻职场女性而言，客单价在 700 元或者 1000 元左右，这种定位是相对较高的。同时在电商业态中，要完成平均复购率在 2.0 甚至 3.0 这也是非常不容易的。因此，除非店铺另外有其他的核心因素能够使用户成交，否则我们可以评判说这家店铺的人均消费 2000 元定位是偏高的。</li><li>复购率<br>复购率在零售行业中是非常重要的一个指标。<br>以服装为例，复购率高的品牌，其用户忠诚度非常高。品牌调性、产品，以及服务质量都得到用户的认同。同时，复购率高的品牌，对“付费流量”的依赖相对较低，因此可以节省更多的市场推广费用。这部分资金便可以使用到其他方面去，比如提升售后服务质量、改良产品质量等，这样便可以形成一个有益的经营循环。<br>相反，如果是复购率低的品牌，说明其对“新客户”的依赖非常大。无形之中增加了店铺经营的成本，同时也侧面表明品牌并未形成有效的核心竞争力，或者其核心竞争力没有得到用户认可。<br>以时尚女装的电商店铺为例，行业复购率一般在 18%～40% 之间。如果低于这个值，说明店铺的复购率过低，店铺对流量的依赖相对较大；高于这个值，证明店铺的服务体验或产品力方面已经高于同行。</li></ol><p>以上是某电商店铺 2014～2016 年期间的“三基分析”数据。我们先看这份表的数据结构：它是把用户数、人均消费金额、复购率作为三个基础数据指标，然后依次回顾最近三年的表现。并且在回顾的时候也根据不同的维度来进行分析与对比。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-7.webp" alt="图 4-2　某店铺最近三年的“三基分析”数据">  </p><p>诊断结论：<br>1）2014 年的用户数中没有三年老客，间接证明这是一家成立于 2013 年的新店。<br>2）2014 年、2015 年两年期间，店铺花费了相当大的精力用于“新客引流”，并且取得了 30% 的用户数增长。<br>3）从 2016 年开始，店铺的新老客占比接近 5：5，店铺已经不再完全依赖于“新客引流”，间接证明店铺的流量结构已经趋于合理；同时复购率的增加也直接证明店铺近两年在“老客维护”方面取得不小的进步。</p><p>在回顾了最近三年的重要经营数据后，我们还可以在此基础上制定店铺的经营目标与战略方向。<br>在上例中，经过简单的数据预测，在三基模型中，我们可预估 2017 年的销售目标。其预估背后的业务逻辑是：“使成交客户中的新老客比例更加接近于 5：5，因此，必须要重点提升老客在 2017 年度的销售贡献”（这种逻辑是符合店铺 2015～2016 年运营策略的）。因此，在数据分析层面上的反映便是“使 2016 年终约 1.5 万名老客的购买行为能够顺利延续至 2017 年”。<br>经过这样的拆解，我们很容易就知道，店铺 2017 年的经营战略重心，是在“客户服务”上面。提升客户购物体验、刺激更多老客户回头购买等是必要的手段。<br>同时，通过以上的三基分析，我们可以用“用户数×人均消费额”的公式来推算出店铺 2014～2017 年的销售额及增长情况。换而言之，以三基分析模型下的数据为依据，2017 年预计销售将增长 32%，达到 2178 万左右。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-8.webp" alt="图 4-3　根据“三基分析”制定店铺 2017 年业绩目标与战略">  </p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-9.webp" alt="表 4-3　由三基分析推算出的近四年销售额与增长情况">  </p><h2 id="店铺流量分析"><a href="#店铺流量分析" class="headerlink" title="店铺流量分析"></a>店铺流量分析</h2><ol><li>流量来源分析</li></ol><table><thead><tr><th>流量来源</th><th>转化率</th><th>说明</th></tr></thead><tbody><tr><td>搜索（站内/站外）</td><td>高</td><td>1）主动搜索代表明确的购物意愿；<br>2）影响搜索流量的重要因素是关键词</td></tr><tr><td>硬广（首焦/钻展/频道轮播图等）</td><td>低</td><td>1）流量大但精准度低；<br>2）吸引新客到店，促进后续 3~10 天内成交</td></tr><tr><td>淘宝客</td><td>-</td><td>1）通过佣金付费；<br>2）转化率根据单品不同差异较大</td></tr><tr><td>站内活动（聚划算/淘金币/类目促销等）</td><td>高</td><td>1）活动基本以宝贝单品参加；<br>2）由于活动有促销机制，转化高；<br>3）活动会带动非活动商品的关联销售</td></tr><tr><td>直通车</td><td>中</td><td>1）新客为主；<br>2）跳失率高</td></tr><tr><td>其他（直接访问/淘宝收藏/我的交易等）</td><td>高</td><td>1）老客为主；<br>2）转化率高</td></tr></tbody></table><p>店铺的流量来源主要有站内搜索、站外搜索、硬广、直通车、直接访问、活动流量等。这其中，每一种来源的流量都有巨大的特征差异。其中直接访问类的流量转化率较高，直通车与搜索次之，硬广与活动流量的转化率较低。<br>其次，在流量分析中还需要关注以下几个问题：<br>1）店铺的流量是从什么渠道来的？<br>2）哪些渠道是主要渠道？<br>3）哪些渠道是付费/免费渠道？<br>4）哪些渠道的流量转化率最高？<br>5）当前流量的渠道分布占比是否正常？</p><p>同时，在对店铺持续观察的基础上，我们可以用 Excel 的堆积图来跟踪每日流量结构的变化（全渠道流量汇总）。<br>用这种方法，可以使我们对每天的流量变化保持直观监测，及时发现并找到流量变化的原因。<br>最后，我们还可以使用类似的方法，在店铺有大型促销活动时，为店铺建立每日流量跟踪记录，以便及时发现并把握最有质量的流量渠道（见表 4-5），为运营团队达成业绩提供有效的数据参考。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-10.webp" alt="图 4-5　用 Excel 堆积图跟踪每日流量结构的变化">  </p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-11.webp" alt="表 4-5　店铺聚划算时的流量分析"><br>通过上表，我们可以发现：<br>1）无线端的流量占到全店的 74%，但转化率却远远低于 PC 端，因此这家店铺的问题是应该想办法优化提升无线端的成交转化率。<br>2）PC 端中，来自男装会场和聚划算的流量较高，占全店铺流量的 18%，因此这两个渠道来源的流量应被视为重点流量，认真检查好承接页的商品及页面效果。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-43.webp" alt="图 4-6　电商店铺流量路径图">  </p><p>商品的主推是有逻辑的。譬如在某一场聚划算活动中，我们会提前制定 20 个主推款。针对这 20 个款，我们会仔细设置它的资源位图、详情页、关联搭配等。一般情况下，在大促活动中的主推款会承接 30%～50% 的店铺流量。所以，从活动预热期开始，我们就必须挑选好本次活动的主推款，以及每天实时监测主推款的预热情况是否理想。<br>那么，店铺的商品有近 300 个款式，我们要挑选哪 20 个款作为主推款呢？<br>这就需要根据流量、转化数据。<br>同样，当找到这 20 个主推款之后，我们又需要如何监测呢？<br>首先，从活动预热期开始，我们需要建立所有主推款的预热效果追踪表（见表 4-6）。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-12.webp" alt="表 4-6　预热第三天的主推款预热效果追踪表"><br>表 4-6 中需要包含款号、波段、类别、活动价、库存等基础资料，同时需要对其中的重点数值“加购数量”进行记录与分析。譬如表中加购倍率（=加购数/备货数）如果高于 100%，则可视为预热表现良好的商品；若低于 100%，则视为预热表现非常差；而若是高于 500%，则可判断为非常热销的商品。据此分类，可为商品的预热策略调整提供指导意见。<br>其次，假设有部分主推款商品需要进行深入的数据分析，譬如需要建立某款商品与其他商品的流量连接，便可以分析此款商品的流量来源与去向，然后据此进行流量链路的构建。</p><h2 id="店铺商品分析"><a href="#店铺商品分析" class="headerlink" title="店铺商品分析"></a>店铺商品分析</h2><p>在针对商品进行数据分析时，一般可以分为两大类型：商品的整体分析与商品的单品分析。</p><h3 id="商品整体分析"><a href="#商品整体分析" class="headerlink" title="商品整体分析"></a>商品整体分析</h3><p>商品一般有两种状态：已销售商品和库存商品。因此，有关商品的分析也可分为两大方向：销售分析和库存分析。<br>1.商品的销售结构分析<br>商品的销售结构是指对店铺某段时期内的所有销售商品进行分类汇总，然后再进行数据统计与分析。通过商品的销售结构分析，可以为店铺运营者梳理清楚店铺当前的主销商品，以及其销售表现，从而为运营者及时调整和优化销售策略提供可信的数据支撑。<br>在分析商品的销售结构时，可以按照商品年份、季度、波段、大类、小类、价格带、折扣带等指标来进行分类汇总。具体使用哪些指标和维度，需要根据实际分析需要来选择。<br>下面我们通过两个案例来说明：<br>案例一：销售品类综合分析<br>表 4-7 所示是艾尚公司的三家电商店铺在第三季度的商品销售情况。这是按商品品类（衬衫、T 恤等）对第三季度销售商品进行分类汇总的，同时每个品类均从销售金额、销售数量、件单价三个指标进行统计，并且为了便于分析，三个指标都加上了同期数据供参考。<br>从表 4-7 中，我们可以获得以下信息：<br>1）仅以“衬衫”与“T 恤”而言，Q3 季度衬衫的销售额是 T 恤的 2～3 倍；<br>2）T 恤的件单价全线都比去年高 50～100 元。其中京东渠道的较高，达到 102 元；<br>3）衬衫的件单价在唯品会渠道出现了全季度同比下跌，而京东渠道则全季度同比上升。应与两个渠道不同的销售策略有密切关系；<br>4）如果将上表扩大到所有类目的数据，则可以对所有品类按销售贡献进行排名，然后据此判断各个品类的销售表现是否在应有的品类生命周期表现之内。<br>根据这些信息，商品运营人员可以进行“运营复盘”，以销售结果来反推前期的运营策略是否正确，并加以调整与优化。<br>譬如根据上表中“衬衫的件单价在唯品会与京东两个渠道中截然不同的表现”，商品运营人员便需要反思，在前期运营中唯品会渠道的商品折损是否没有控制好？抑或是有意将两个渠道衬衫上的商品款式“完全错开”的策略所导致的？<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-13.webp" alt="表 4-7　各店铺第三季度商品品类销售分析">  </p><p>案例二：销售与退货分析<br>如表 4-8 所示是某时间段内，店铺销售与退货分析的数据表。这份表是根据品类（T 恤、半截裙、毛衣等）来分类汇总，并且按价格带细分之后统计的销售与退货数据。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-14.webp" alt="表 4-8　某店铺品类、价格带销售与退货分析"><br>这份表可以找出各大品类中的主力销售品类。比如表中‘800 元及以上的外套’销售额高达 557 万，销售占比达 31%，这个品类无疑是当前的销售主力。但是这个价格带的退货率高达 43%，因此需要特别注意加强退货挽回的措施。而平均折扣已经低至 0.47，说明这批货可能都是往年的旧货，而且毛利率也不高。<br>还可以分别用‘平均折扣’‘退货率’‘销售额’来倒序排列，可以找出店铺的‘高利润款’‘高退货款’‘畅销款’。然后针对不同的款来制定不同的销售策略。<br>1）在表 4-8 中，400 元以下的恤衫和 400 元以下的半截裙，平均销售折扣分别是 0.78 和 0.84，毛利率足够高了。可是销量却没有起来，两者的销售占比还不到 2%。<br>2）从“高退货款”的角度来看，实销价高于 800 元的毛衣和恤衫，其退货率高达 47% 和 54%；而同样是售价高于 800 元的半截裙退货率却只有 32%。有可能这家店铺的毛衣与恤衫与其他竞品相比优势并不明显，而半截裙却是这家店铺的优势品类。<br>3）从畅销度的角度来看，销售额靠前的分别是 800 元以上的外套、400～800 元区间的毛衣、400～600 元区间的半截裙；而且，除外套外，毛衣与半截裙的退货率与销售折扣都在合理范围之内。因此可以确定这三者的主推地位。</p><p>2.商品的库存结构分析<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-15.webp" alt="表4-9　店铺聚划算活动报名盘货计划表"><br>表 4-9 所示是某电商店铺为了报名聚划算活动时所做的“盘货计划”。此盘货计划的目的是统计库存中符合聚划算要求的商品，并计算货值，预估是否满足本次聚划算活动的业绩要求。<br>1）本次计划参与聚划算的商品为 217 款，吊牌金额为 292 万。<br>2）本次参与活动的商品主要以毛织、半截裙、衬衫为主，此三大品类的备货超过整体活动备货额的 2/3。<br>3）与活动款库存相比，库存中尚有约 1400 万的货值没有参与本次促销活动，按以往经验，这部分商品在活动促销期间，约可为店铺贡献 20%～30% 的业绩。<br>4）按以往经验预估，聚划算商品的平均折扣为 0.65 折，活动商品的备货约是活动期间业绩目标的 3.5～4.5 倍；以这两个数值预估，本次活动预计可完成 42 万～55 万的业绩。<br>在讲解这个案例时，透露了两个关键的经验值，“预估平均折扣”与“预估备货/销售额倍数”。正是这两个经验值，使一份简简单单的“备货计划表”瞬间变成了一份“销售预估表”。</p><p>在电商的库存分析中，除了‘备货计划’外，还有另一个经常出现的场景，那就是‘新品上市跟踪’表（见表 4-10）。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-16.webp" alt="表 4-10　新品上市跟踪表"><br>新品上市跟踪表，是一个集成库存与销售的交叉报表，它有几个关键指标：SPU 数、消化率、落差。<br>通过 SPU 数可以看出店铺上新的能力。也就是说店铺每个波段能够上新的数量多少，在某种程度上反映了店铺开发新款的能力高低。同时，SPU 数与库存金额结合，也可计算出单款的库存深度。<br>消化率是商品分析中至关重要的一个指标，通过消化率，并配合落差，可以直观地看到此波段商品的销售进度是否符合预定进度。<br>从上表中，我们可以得出以下分析结论。<br>1）截止统计周期内，店铺共上线约 300 款春季款，其中春 2 波商品消化率达 30%，在预期的销售进度计划之内；<br>2）春 3 波的商品消化率达 42%，但是高出预期消化率（28%）许多。说明在后续的销售过程中，春 3 波商品可能会出现货品不足的风险；<br>3）本报表显示出的最大风险在于：春 5、6、7 波商品计划消化率达 65%～34%，是春 2、春 3 波商品的将近一倍及以上，以经验判断，这些款应该是“春节款”。但是这些款的实际消化率仅 24%～9%，存在非常大的销售落差；同时，春 5、6、7 波商品库存金额达近 1000 万，而期间累计销售额仅约 180 万，结合消化率落差判断，此处存在较大的库存风险。</p><p>推测这家店铺把春节前的促销活动业绩预估太高了，但实际情况是春节前的业绩达不到，所以导致波段5、6、7的计划消化率过高，而实际消化率却很低。</p><h3 id="商品单品分析"><a href="#商品单品分析" class="headerlink" title="商品单品分析"></a>商品单品分析</h3><p>案例一：商品的 ABC 分级<br>在零售行业的数据分析中，ABC 分级法被广泛应用。譬如店铺可以分为 A 类店、B 类店、C 类店；会员可以分为 A 类会员、B 类会员、C 类会员；同样，商品也可以分为 A 类商品、B 类商品、C 类商品。<br>但是，商品的 ABC 分级法需要将分析颗粒精细到每个款式，分析相对繁杂，所以一般只有在店铺进行大型促销活动时才会用到。<br>商品 ABC 分级法只应用于活动分析，还有另一个原因：只有店铺在大型促销活动时，每个单款商品所承载的流量与成交数据才足够大，ABC 分级才更有意义。<br>表 4-11 所示是某店铺在聚划算时所做的 ABC 分级。在活动期间，这份表可以为店铺运营者提供非常及时且有效的商品调整与优化建议。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-17.webp" alt="表 4-11　聚划算活动中的商品 ABC 分级"><br>商品 ABC 分级表格的关键指标是“访客数”“支付转化率”“商品库存”，而表格最后的“商品分级”便是根据这三个指标所制定的分级逻辑，以判定商品是属于哪一级的。在这三个关键指标中，“访客数”与“支付转化率”可以从生意参谋等工具中查询及下载，而“商品库存”则需要从店铺内部的商品信息数据库中获取。<br>商品 ABC 分级的重点在于“ABC 的分级逻辑”。<br>表 4-11 中的分级逻辑：<br>1）A 级商品：高库存且有高转化率（转化率 &gt;2%）的商品，标记为 A 类商品。因为这类商品既畅销，又有较深的库存作为保障，因此可以作为活动中的主推商品。需要注意的是，在挑选 A 类商品时，还应注意此款商品的访客不能太低，否则，没有经过“充分”流量测试的商品，其高转化率可能是“伪高转化率”。<br>2）B 级商品：转化率中等（2%&gt; 转化率 &gt;0.65%），且经过流量测试的商品，标记为 B 类商品。由于这类商品经过流量测试，被证明对访客有一定吸引力，但却不如 A 类商品转化明显，所以可以继续保持当前的销售定位。B 级商品中有两类商品需要特别注意：一是库存告急的，如表 4-11 中的款 3、款 4、款 10，这类商品需要特别注意避免超卖；二是占用了主推款陈列位置的，在大促中，宝贵的陈列位置是有限的，这类优质陈列位置需要留给 A 类商品使用，因此需要将其阵列位置往后移动。<br>3）C 级商品：转化率低（转化率 &lt;0.65%）且经过流量测试的商品，标记为 C 类商品。C 类商品应处于店铺阵列页面的底端，基本是属于被放弃的一类商品。但是，C 类商品中有一类需要特别注意，就是有高库存的，如表 4-11 中的款 12，库存高达 3134 件，这是属于有严重库存风险的，因此需要重点注意，可以尝试主动改变原定策略，譬如换主图、降价等。<br>一般大促活动周期都在 3 天以上，因此，在经过第一天的流量测试后，迅速将商品的 ABC 分级表格分析结果提供给运营团队，可以帮助他们发现问题并及时调整商品运营策略，为业绩带来极大的推动作用。</p><p>案例二：主推款销售追踪表</p><p>在商品分析的单品分析中，还有一个场景非常常见，就是主推款的销售跟踪。表 4-12 所示是主推款跟踪的常见模板之一。</p><p>表中包含了实销价、UV、直通车占比、搜索流量占比、转化率、消化率等关键信息。实销价用于判断此主推款的消费群体与定位，一般而言，单价高的商品不适合使用直通车等付费工具进行推广；总 UV、直通车占比、搜索流量占比等则用来判断此主推款的推广效果，流量越多，说明当前推广策略与推广渠道的选择越正确，反之就要考虑更换推广渠道或策略了；而消化率则是另一个重要指标，用于判断此款是否继续作为主推的一个重要标志。如果消化高接近计划消化率，则此款（如款 2、款 5 等）可以考虑暂时停止付费渠道的推广，以便提升营业利润；如果消化率距离计划消化率较远（如款 1、款 9、款 10），则可考虑加强付费推广的力度，以免造成库存风险。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-18.webp" alt="表4-12　店铺主推款跟踪表"><br>只要达到计划消化率的款式，就可以暂停付费渠道的推广。那么，像表格中款 2 这样已经超过计划消化率很多的款式应该如何调整<br>调整主推款的策略是需要从多维度考虑的，一般有几个关键因素。<br>1）此款是临时主推，还是本身就定位为主推款。临时主推是为了临时突击，拉动此款的消化率；主推款则是承担着为店铺走量及引流等综合任务的款式。<br>2）此款库存量还剩余多少？<br>3）此款剩余销售周期还有多久？<br>4）在付费推广时，此款商品 ROI 是否在合理值？</p><p>屏效，是从传统零售分析中的‘坪效’借鉴过来的。意思是指——电商店铺的页面（首页/类目/二级页等）在电脑（或手机）上打开后，每个电脑（或手机）屏幕所产生的销售贡献。</p><p>某店铺在聚划算活动时的二级页面，那么，屏效是指什么呢？屏效就是指在当前页面中，一个电脑屏幕所呈现出来的商品（一般是 6 至 8 个商品）给店铺整体业绩所带来的贡献率。指当前我们所看到的 6 件商品的销售额除以店铺整体销售额的比率</p><p>什么是店铺的‘有效陈列面积’呢<br>在聚划算活动中，店铺首页、活动二级页是承接流量较多的两大页面。而店铺的类目页面以及其他页面所承接的流量相对就要小很多。所以，我们可以把店铺首页与聚划算二级页称为有效陈列页面。<br>在同一个网页中可以向下无限拉升，而用户的浏览习惯是一般只会专注于页面的前面 3～5 个屏幕的内容。所以，我们又把这些区域称为有效陈列面积，或者叫‘黄金陈列面积’。<br>黄金陈列位置所能够陈列的商品有限，每屏可以陈列 6～8 个商品，而有效陈列区为 3～5 屏。这样计算，店铺在聚划算二级页中的黄金陈列位在 24～40 个商品之间。因此只有尽量利用好每一个坑位的陈列机会，展现恰当的商品，才能达到更大的销售业绩。而‘屏效’就是用来评估黄金陈列位置利用率的。屏效高，则证明黄金陈列位置的商品利用率高；屏效低，则需要及时替换黄金陈列位置的商品。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-19.webp" alt="图4-10　屏效分析第一步：挑选适合的商品">  </p><p>屏效分析的第一步，就是要挑选适合陈列在‘黄金陈列位置’的商品。<br>利用 ABC 分级的方法，我们可以从‘库存数量’与‘加购数量’两个维度，将活动期间的主推商品分为图 4-10 所示的 9 个层级。A 类商品表示在活动预热期间表现非常优秀而且库存深厚的商品，C 类商品表示预热效果不理想或库存较少的商品。<br>‘屏效分析’其实就是通过‘商品 ABC’分级方法，找出预热表现优秀且库存深厚的商品，将他们通过商品搭配的手段，陈列在‘黄金坑位’。这样，就可以从数据层面使销售更大化。<br>陈列在‘黄金坑位’上的商品并不是固定不变的，而是要保持轮动。保持正确的轮动有两大要点。<br>1）首先，既然我们把商品分为 9 个层级，那么陈列页面也可以分别对应的 9 大层级（见图 4-11）。在首页与活动二级页的第 1～3 屏，可以视为 AA\A 区陈列位；在首页与活动页的第 4～5 屏，可以视为 BB\B 区陈列位；而第 6 屏及以下区域，由于流量急剧减少的原因，可以视为 CC 及 C 区陈列位。使相同的区域编号对应相同的商品编号，这是第一条要点。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-20.webp" alt="图4-11　店铺重要页面的陈列位置分级示意">  </p><p>2）其次，我们要把握住活动当天的流量访问规律。在大型促销日的活动当天，流量一般有三大访问高峰期，分别是 0～2 点、8～9 点、22～23 点。因此，商品的轮转就需要安排在这三个流量高峰之后的一个小时内——这点类似于线下零售店在促销之后需要重新整理促销区域商品陈列及补货的操作。</p><h2 id="店铺用户分析"><a href="#店铺用户分析" class="headerlink" title="店铺用户分析"></a>店铺用户分析</h2><h3 id="流失用户的唤醒与挽回"><a href="#流失用户的唤醒与挽回" class="headerlink" title="流失用户的唤醒与挽回"></a>流失用户的唤醒与挽回</h3><p>用户，是指成交之后的‘用户’，也就是常说的‘老客户’。所以大家要把它与‘访客’‘流量’区分开来。</p><p>在电商的用户分析中，活跃度分析是非常重要的分析内容。用户的活跃性越高，店铺的复购率就越高。因此，要关注店铺的“活跃用户群体”。<br>尤其是大型促销开始之前，店铺运营者便会通过微淘、短信、邮件以及其他传播工具进行“客户唤醒与激活”。在此场景下，我们便需要为其提供“用户清单”，以便运营者能够有针对性地唤醒用户。<br>下面，我们以某电商店铺的大促活动为例，验证如何通过数据来为运营提供指导。<br>首先，在大促开始前 7 天，我们需要统计出店铺最近 12 个月内的用户活跃度数据分析表（见表 4-13），通过此表可以对店铺的“活跃用户”“沉睡用户”“即将流失客户”进行分类统计，以便于我们对店铺用户结构建立整体的认知，并且为接下来制定“用户唤醒”与“用户挽回”方案提供数据性参考。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-21.webp" alt="表4-13　某店铺最近12个月内用户活跃度分析表">  </p><p>用户活跃度分类标准：一般的做法是最近 30 天内有过消费的客户称为‘活跃用户’，最近（连续）60 天内没有消费记录的客户称为‘沉睡用户’，最近（连续）90 天内没有消费记录的用户称为‘即将流失客户’。<br>其次，当店铺运营人员看到表 4-13 所示的数据后，便需要考虑如何为本次大促活动设置适合的用户激活方案。针对不同类型的用户，刺激的力度与文案的企划也应该有所不同。其中针对沉睡客户主要以“唤醒”为主，常见的举措是告知本次促销力度，以及提供适量额度的优惠券；针对即将流失客户，除了告知促销信息与力度外，还需要提供较高额度的优惠券，另外，最好再配上走心的文案。<br>同时，根据“待唤醒”与“待挽留”人数，还可以推算出本次优惠券的使用率以及折损金额。譬如根据笔者在运营某渠道电商店铺时，曾多次根据以上逻辑，在大促活动中向约 5000 名即将流失客户发送“情怀短信”以及“高额优惠券”，发现挽回率可达 1.8% 左右。也就是说，5000 名目标用户中，每次大促活动中激活约 90 名用户。按客单 700 元计算，在当次大促活动中被挽回用户可以为店铺贡献约 6.3 万元的销售额，但是更重要的是，本次挽回成功，可以使用户在接下来的一段时间内成为“沉睡用户”或者“活跃用户”，相对而言，这种隐形的意义对店铺来说要更大一些。而 90 名用户即使人人都使用 50 元的代金券，店铺的折损也不过是 4500 元而已。虽然相比于直通车等收费流量的推广成本，这种手段的“获客成本”更高，但是胜在更精准，挽回的客户更符合品牌调性，也就更有质量。<br>最后，既然运营人员需要进行唤醒与挽留计划，自然便需要与这些长时间不来店铺消费的用户建立起某种连接通道才可以。最直接的“通道”是用户的购买记录，找到客户的收货信息（手机号），然后进行短信营销。所以，我们需要为店铺运营者提供“待激活用户清单”，用户清单的格式很简单，有“姓名”和“手机号”即可。重要的是，运营人员需要撰写“走心营销短信”，短信内容是否走心，是决定用户能不能被“唤醒”的关键。<br>下面是笔者以前运营过程中撰写的文案，供大家参考。<br>[××官方旗舰店]亲爱的女王，最近 12 个月，您在小的店铺共眷顾了 9 次以上。所以您被评选为小店最最亲爱的女王。在此七夕活动之际，小店精选爆款 5 折起，另外还有满 999 元减 100 等大尺度的优惠。同时，小的还特意为您准备了面额 50 元的代金券，供您驱使。恭候您光临。（活动前预热。）<br>[××官方旗舰店]亲爱的女王，感谢让我成为您恋恋红尘中的一道风景。为了见证您的美好，我已做好百倍准备，你我相逢之时，胜却人间无数。（活动后 7 天关怀。）<br>[××官方旗舰店]亲爱的女士，宝贝您已经收到了吗？红粉赠佳人，丽质配女王。小的真诚期望宝贝能够使您满意。如果您对宝贝的长相、气质、内华有任何不满意，欢迎您找我吐槽，小的一定铭刻在案，下次改进。期待您的再次光临。（活动后 15 天关怀。）</p><h3 id="优化快递成本"><a href="#优化快递成本" class="headerlink" title="优化快递成本"></a>优化快递成本</h3><p>将电商店铺某段时间内的订单数据整理出来并且按省份来统计订单数<br>排名前三的省份的订单数几乎占了全店订单的1/3，排名前五的省份的订单数几乎占了全店订单的1/2。因此，我们认为，在当前季度中，店铺的主要客群都集中在以上3～5个省份之中。<br>我们知道了订单主要集中在哪些省份之后，接下来，再结合各大快递公司在不同地区的收费标准，就可以为店铺选择最优的快递方案了。<br>以上述价格为基准，并且以订单数据来进行计算的话，仅拿韵达与知名度更高的中通、圆通进行对比，在 4 月份中，这家店铺如果选择与中通进行合作，则需要花费 8.2 万的快递费用；如果选择与圆通进行合作，则需要花费 9.9 万的快递费用；而如果选择韵达，则只需要花费约 7.8 万的快递费用。<br>这还只是以单一合作公司为前提计算出来的，在实际应用场景中，如果选择“韵达+国通+中通”的多渠道合作的话，将节省更多的费用。</p><h2 id="店铺活动分析"><a href="#店铺活动分析" class="headerlink" title="店铺活动分析"></a>店铺活动分析</h2><p>在绝大多数电商店铺中，促销活动的销售占比达到了全店销售的 50%～80%。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-22.webp" alt="表 4-16　2016 年 1～8 月销售进度">  </p><p>截至 8 月底，事业部共完成销售额约 2809 万，与销售计划相比，尚有约 80 万的销售缺口。其中，天猫渠道作为重点渠道，YTD 完成率达到 102%；而淘宝与唯品会还有一些销售缺口。<br>从同比增长来看，天猫作为一个成熟的大平台，加之平身销售额的基数过大，目前 38% 的增长率符合平台的增长现状；而唯品会在全年的销售计划中比去年多增加了 3 个活动档期，分别是 3 月、5 月、6 月。所以当前增长率达到 218%。<br>天猫渠道业绩刚刚好达标，但 9 月份是天猫平台的淡季，估计会出现缺口。<br>淘宝渠道由于一直在处理公司低效库存，很多货都是 2014 年，甚至 2013 年的。平台很少上新，所以最近业绩不太理想。<br>唯品会渠道目前来看，就是个销货的渠道，只要能够保持货品供给，我们每次活动档期都能产生约 50 万的销售额，今年增加了几个档期，也跟平台争取到一些好的资源，所以销售额增加得比较明显。<br>总结：全渠道虽然有销售缺口，但缺口金额只有 80 万，双 11 稍微努力追一下，很容易就能把缺口弥补起来。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-23.webp" alt="表4-17　2016 年 9 月销售额及缺口预估">  </p><p>天猫 9 月份销售相对较为清淡，主要是由于天猫 9 月份的传统大活动一般安排在 9 月 9 日至 9 月 25 日之间，这个时间点离双 11 的年终大促太接近了，因此许多消费者都会坐等双 11，更有甚者他们会在 9 月底买单试穿之后再选择退货，然后等待双 11。所以，从数据上看，我们会发现 9 月份的平台退货率会比其他月份更高。因此预估天猫平台 9 月达标率为 85%，缺口金额约 117 万。<br>双 11 活动主要以新品销售为主，所以在 9 月份的时候，淘宝平台的旧品销售力度会比 7 月和 8 月更大一些。预估淘宝 9 月的销售达标率会在 90% 左右，缺口约为 9 万元。<br>唯品会渠道 9 月仅有一个档期活动，预估完成 65 万销售额，与原计划相符。<br>以上预估是结合当前增长情况计算出来的。最终销售表现会有些出入，但是可以为部署双 11 活动提供数据参考。<br>天猫平台根据以往的经验，许多品牌在 9 月底的时候就会提前进行双 11 活动的预热，尤其淘品牌更是如此。所以会出现双 11 提前‘吃’掉一些 9 月业绩的情况。这些缺口只能在 11 月份尽量追回来。包括将 9 月份的商品资源留到 11 月，以及跟平台多争取一些活动资源等。<br>不能把补缺口的希望仅仅寄托在双 11 活动上，万一双 11 活动没补上缺口，那全年业绩达标就被动了。<br>你们现在还可以向平台协商在 9 月份加一个活动档期吗？或者 10 月初也行，但是不能超过 10 月 10 日，因为在你们的活动结束后，还有时间将商品资源重新整合投入双 11 的活动之中去。<br>现在的档期安排在 9 月上旬，理论上应该还可以在下旬增加一个档期。不过现在报档期时间有些紧，我会议结束后马上跟平台联系。如果可以的话，我及时向您汇报。<br>图 4-13 所示是去年双 11 的数据复盘，跟踪了过去三年双 11 当天的流量与销售数据，发现它们有着很明显的共性。<br>1）从时段来看，全天大约共有三个时间段为销售及流量的高峰期；分别是 0 点-2 点、8 点-9 点，以及 21 点-23 点。这三个时间段大致可以代表三种购物特性：凌晨秒抢、上班购买、晚间捡漏。因此，营销节奏也可以据此铺排。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-24.webp" alt="图 4-13　双 11 当天流量与销售分布趋势">  </p><p>2）从销售占比来看，0 点至 2 点这两个小时内，销售占比高达 60%～70%，这段时间的购买主要是以预热期间提前加购的用户为主。根据这一特性，可以做出全天的销售预测：首先将截至凌晨 3 点的销售额除以 60% 或 70%，以此计算出全天的预估销售额。然后与当天的计划销售额加以对比，判断两者之间是否存在缺口。如果达不到预期，则应想办法在接下来的两个流量高峰中予以补救；如果达到预期，也应及时检查商品的销售结构是否尚保持相对完整。重点监测动销率、售罄率等关键指标，降低主力商品牌出现断货的风险。</p><p>1）0 点至 2 点是最重要的成交高峰，但是成交多少与前期的预热有关。商业智能部负责从预热前 7 天起，每天提供预热效果分析报告给商品、市场与运营部门，以便根据数据进行预热效果跟踪与调整。<br>2）双 11 活动当天，与会各部门安排精干人员，全员从 11 月 10 日 22 点开始值班至 11 月 11 日凌晨 3 点，以便监测销售进度并随时调整。同时商业智能部在凌晨 3 点后做好实时数据分析报告，从销售预测、商品动销、流量监测等各方面做出评估，为业务部门提供参考。<br>3）双 11 当天早 8 点、晚 10 点，由商业智能部提供实时数据报告，同样从销售进度、流量监测、商品动销等方面为业务部门提供实时参考。</p><p>1）整理过去两年双11活动的商品备货与销售结构，找出畅销及主推款的商品特征：价格带、折扣带、类目等；<br>2）根据需求建立今年双11活动的商品ABC分类及主推款跟踪表单格式；<br>3）整理双11活动的预热跟进报告的需求与基本思路，供内部讨论。</p><h2 id="促销"><a href="#促销" class="headerlink" title="促销"></a>促销</h2><p>可以量化的影响活动的重要因素有 5 个：优惠券、资源位流量、老客户激活、承接页流量、加购商品监控。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-25.webp" alt="图 4-14　可控的五大活动要素"><br>促销活动中的可控因素，是指在做促销活动时，能够人为控制并且借此来改善促销业绩的一些因素。做好这 5 个要素，数据部门在销售活动中的价值才能体现出来。</p><h3 id="优惠券"><a href="#优惠券" class="headerlink" title="优惠券"></a>优惠券</h3><p>优惠券的作用在于打消顾客在购买时对于价格的顾虑。把顾客从冷静理性的购物状态带入感性、冲动的购物状态。这样，便达到了刺激顾客购买欲望的目的——这一点，在那些对价格敏感的客户群体中尤其有效。但是缺点也同样明显，就是会显著拉低销售利润。</p><p>面额设置方法：</p><p>方法一：平均客单价设置法<br>店铺的平均客单价代表了店铺目前用户群体的消费力水平。譬如某店铺的平均客单价为 270 元，那么，说明此店铺客群的消费力大致也是在 270 元左右（一般是学生或刚入职场的年轻人）。因此，我们可以把优惠券的门槛设置为 300 元，这样便可以达到鼓励用户进行高客单消费的目的。<br>利用平均客单价方法设置优惠券时，首先要规划本次共设几档优惠券，然后参考店铺的平均客单价，以再搭一个单品即可达到优惠门槛为佳。<br>举例说明：<br>A 店铺在筹备三八妇女节的活动时，计划设置三档优惠券，用以提升活动效果。那么，应该如何设置呢？<br>首先，预估一下活动期间的平均客单价，并且将其分为上中下三档。比如，连带率低于 1.6 时，客单价为多少？连带率低于 3.0 时，客单价为多少？连带率高于 3.0 时客单价为多少？根据此三个阶梯来划分优惠券的三大门槛。由于是促销期间，客单价肯定会比日常略低，因此可以根据活动商品的平均折扣，或者过去同类活动来预估。<br>其次，选可以提升连带销售量的单品作为搭配产品，在首页或者活动二级页中组成搭配专区，以便于给用户凑单。这样可鼓励用户达到使用优惠券的门槛。披肩、毛巾、内搭等是常见的搭配产品。<br>最后，“平均客单价+搭配物件价格-可以承受的销售折损金额”便是优惠券的面额档级。如店铺连带率低于 1.6 时，客单价为 340 元，搭配物的价格为 59 元，可以承受的折损是不低于活动价的 9.8 折。那么，优惠券高则可以设置为“80 元，满 399 元可用”，低则可设置为“40 元，满 399 元可用”。</p><p>方法二：价格带宽度设置法<br>根据价格带的宽度设置优惠券是另一种操作更简便的方法。<br>此种方法要求先将店铺统计周期内的销售价格带罗列出来，然后根据价格带的宽度分布来设置优惠券的层次与门槛。<br>具体示例如图 4-15 所示。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-26.webp" alt="图 4-15　某店铺 10 月销售价格带分布"><br>图 4-15 展现了某店铺 10 月份全月的销售价格带分布。从图中可以很清晰地看到，假设把主销价格带分为三段，则可以分为 300～499、500～699、800～899 三段。根据这一分类，假设同样需要设置三档优惠券，则可以按图 4-16 所示进行设置。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-27.webp" alt="图 4-16　根据价格宽度设置优惠券">  </p><p>优惠券跟踪分析：<br>在大促之前，跟踪优惠券的领用与使用情况来判断店铺需要承担的折损与能够带来的销售业绩。<br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-28.webp" alt="表4-18　大促活动中优惠券的领用与使用跟进">  </p><p>首先，综合“类型”“面额&amp;档级”“展现位置”“发放时间”四列信息，可以了解到店铺运营人员对优惠券的定位与运营手段。以“无门槛 50 元”的优惠券为例，这是运营人员在活动期间的最后几小时冲刺业绩所用的，因此可以看到它仅在活动结束前 3 小时才推出。<br>其次，从数据层面，需要跟踪优惠券的领用情况与使用情况。在预热期间，每天观察优惠券的领用率，以便评估活动的预热效果是否足够理想。同时，如果发现优惠券的领用超过预期，在预热尚未结束而优惠券的领用率却达到 85% 以上时，可提醒业务部门增加优惠券的发放数量。同时，还可以根据领用率来评估优惠券的投放位置与投放时间是否正确有效。譬如在表 4-18 中所示的“无门槛 50 元”优惠券，便分别投放了“首页”与“活动二级页”两个位置，但是“首页”的领用率达到了 100%，而“活动二级页”的领用率仅 43%，说明同样的优惠券，在首页投放的效果比在二级页中投放的效果更好。因此，若下次再有类似优惠券时，在折损允许的范围内，可以建议运营人员在“首页”上投放更多的优惠券；而在活动开始后，则需要跟踪优惠券的使用量与使用率。根据优惠券的使用率来计算本次活动中优惠券所导致的折损，以此评估本次活动中优惠券的折损是否在预算范围之内。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-29.webp" alt="表4-19　优惠券带来的折损金额与ROI预估">  </p><p>这个表格是对表 4-18 的补充，可以看出，经过计算后，本次活动折损金额约为 12 万元，这是所有优惠券使用后带来的销售损失，但与此同时，这些优惠券也带来了约 226 万的业绩。以此计算，ROI 达到 18.9。在大促活动中，优惠券的 ROI 如果低于 15，一般是不太理想的。</p><h1 id="大促"><a href="#大促" class="headerlink" title="大促"></a>大促</h1><p>整理截至昨天的《活动预热报告》，发给商品、运营、推广等业务部门。这是从 11 月 3 日的预热第一天开始的固定工作。而这样做的好处是能够让业务部门及时对活动的预热效果建立认知，并且能够参考《活动预热报告》中的“商品加购分析”与“优惠发放分析”的数据，及时调整商品及优惠券的预热策略。</p><h2 id="屏效与-ABC-分析"><a href="#屏效与-ABC-分析" class="headerlink" title="屏效与 ABC 分析"></a>屏效与 ABC 分析</h2><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-30.webp" alt="表 4-20　屏效分析"><br><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-31.webp" alt="表 4-21　主推款：商品 ABC 分析法">  </p><h2 id="断码分析与预售催付"><a href="#断码分析与预售催付" class="headerlink" title="断码分析与预售催付"></a>断码分析与预售催付</h2><p>第一波销售高峰：0 点到 2 点<br>第二波销售高峰：早上的 8 点到 10 点。</p><p>在每一波销售高峰中，以更有吸引力且库存深厚的商品去迎接集中化的流量——这就是促销活动中，商品调换背后的运营逻辑，这也是《屏效分析》与《主推款：商品 ABC 分级》报表所产生的真正价值。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-32.webp" alt="表 4-22　淘宝渠道商品断码统计"><br>*注：期内共有 333 个 SKU 产生销售，销售后，其中出现断码的 SKU 达到 153 个。断码率达：46%<br>断码：当 M 码或 L 码库存为 0 时，判断为断码；</p><p>平台最近四小时仅动销了 333 个 SPU，全店商品约有 1200 个，最近四小时的动销率仅 28% 左右。而动销过的商品中，已经出现断码的商品竟然高达 46%。</p><p>是淘宝渠道的商品调换轮转太慢导致的，动销率才 28%。<br>在当前动销的商品中断码率已经高达 46%。为避免销售损失，需要尽快组织一次范围较大的页面商品调换。<br>优先调整首页与活动二级页面的前 5 屏。这是用户访问较多的页面，也是比较容易出现断码商品的页面。</p><p><img data-src="/e-commerce-data-analysis-and-digital-operation/e-commerce-data-analysis-and-digital-operation-33.webp" alt="表 4-23　天猫店铺预售情况分析">  </p><p>注：可催付的金额约为 32 万元；<br>另，“下单但未付订金”的订单金额达约 65 万，可短信提醒，或派送定向优惠券；</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/113.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="运营" scheme="https://qianling.pw/categories/%E8%BF%90%E8%90%A5/"/>
    
    
    <category term="运营" scheme="https://qianling.pw/tags/%E8%BF%90%E8%90%A5/"/>
    
    <category term="电子商务" scheme="https://qianling.pw/tags/%E7%94%B5%E5%AD%90%E5%95%86%E5%8A%A1/"/>
    
    <category term="电商运营" scheme="https://qianling.pw/tags/%E7%94%B5%E5%95%86%E8%BF%90%E8%90%A5/"/>
    
  </entry>
  
  <entry>
    <title>《对“伪心理学”说不》书摘</title>
    <link href="https://qianling.pw/how-to-think-straight-about-psychology/"/>
    <id>https://qianling.pw/how-to-think-straight-about-psychology/</id>
    <published>2023-02-18T04:12:35.000Z</published>
    <updated>2023-02-19T03:00:24.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/115.webp"></p><span id="more"></span><hr><p><strong><center>对“伪心理学”说不:第8版/（加）斯坦诺维奇(Stanovich, K.E.)著；窦东徽，刘肖岑译. -北京：人民邮电出版社，2012.1（2012.1重印）<br>ISBN 978-7-115-26325-4 </center></strong></p><p><strong><center>下载 <i class="fa fa-download"></i> <a href="http://o.qianling.pw/f/25078497-810275857-a09c96?p=320860" target="_blank">对伪心理学说不.mobi</a> (访问密码：320860)</center></strong> </p><hr><h1 id="第-1-章-心理学充满生机（在科学阵营里左右逢源）"><a href="#第-1-章-心理学充满生机（在科学阵营里左右逢源）" class="headerlink" title="第 1 章 心理学充满生机（在科学阵营里左右逢源）"></a>第 1 章 心理学充满生机（在科学阵营里左右逢源）</h1><p>　　心理学的批判性思维习惯：心理学不相信个人的智慧，更相信科学的方法，而科学方法的本质是证伪，即对我们的经验、常识和直觉，产生怀疑、挑战和批评。从原则上而言，心理学家不怕犯错误，但害怕以假乱真。心理学家也不相信那些能回答所有问题的绝对真理，但相信对所有问题应该有一个相对正确的答案。心理学家从不相信个案和例子，因为其随机性和主观性太过明显，但我们愿意相信大样本基础上的科学研究发现。我们希望听到动听的心理故事，但更愿意看到众多心理学观察的数据和总结。</p><p>　　心理学的概率性思维习惯：我们和很多自然科学家思考方式不同之处就在于我们更容易相信，任何人类的行为都是概率性的表现，也就是说，它有一定的不确定性，会受到其他随机事件的影响。其实人类很多学科都是建立在概率基础之上的，比如说核物理、天体物理、生物进化、病理学、所有的社会科学（经济学、社会学、政治学等）等等，它们都不可能准确预测每一个研究对象的具体活动，但都对整体的事物活动规律有很好的描述和预测。只不过我们心理学家更愿意承认而且强调我们学科的不确定性而已。</p><p>　　当我们觉得需要对行为作出解释时，往往搬出一箩筐关于人类行为的普遍真理、说教及谚语。这些关于行为的常识存在一个问题，它们之中有不少是自相矛盾的，因此也是不可证伪的。<br>　　我劝许多学生“今日事今日毕”，但我希望没跟我刚刚指导过的那个学生说过这番话，因为我刚还跟他说“要顺其自然”。<br>　　这类谤语和俗话构成了对行为的固有“解释”，人们爱用它们，就是因为它们难以驳倒。不管发生什么事，都可以拿一条出来解释一番。难怪我们都认为自己是判断他人行为和人格的高手。天底下发生的事我们都能解释。</p><p>　　心理学研究表明，在接受实证检验后，许多关于行为的普遍文化信念都被证明是错误的。举个例子，“工作经验对于高中生是有价值的”是一个普遍信念。大多数美国成年人认为，青少年边打工边上学是一件好事，因为：（1）他们能赚钱，支付自己未来的学费及家庭开销；（2）他们能建立“职业道德”，使得他们在将来能够成为更具责任感的员工；（3）他们会对我们的经济体系产生更大的尊重；（4）由于已经融人了经济体系，他们会成为更有动力的学生。<br>　　发展心理学家们就打工对中学生行为、态度及学业成绩的影响进行了广泛研究（Sternberg，Brown, &amp; Dornbusch, 1996）。他们发现，基本上我们所有关于青少年打工的文化信念都是错误的。一个十几岁的孩子打工所赚的钱中，只有极少量用于帮助家庭开支或继续学习。绝大多数收入花在了炫富或满足电视广告制造出的“需求”上。上学打工会对学生的教育及教育体验造成损害。最有趣的是，工作经验使青少年更加玩世不恭，不尊重工作及其在经济体系中的价值。在一项研究中，打工的青少年比不打工的青少年更可能赞同“疯子才会玩命工作”和“天下没有哪家公司会关心员工”等目论（Greenberg &amp; Sternberg, 1986）。最后，在回顾了这方面的研究之后，研究者得出结论：“打工似乎有可能引发而不是阻止了某些形式的不正当行为”（p.6）。看来，我们炮制了大量有关青少年打工价值的文化神话。“塑造品格”、“培养金钱观念”这类说辞都是虚假的。这类陈词滥调其实属于民间传说，是人类学家在欠发达国家从事研究时所感兴趣的——这些传说使我们感觉良好，也使当前文化习俗变得合理，但没有任何事实依据。</p><p>　　性俗观念（或称“常识”）出现谬误的例子俯拾皆是。比如说，有一种说法是，学习好或读书多的孩子都不擅长交际和体育。这个观点虽然错得离谱，但在当今社会上极为流行。有大量证据表明，与“常识”世俗观念相反，爱读书的人和追求学术成就者与不读书者相比，有着更强健的体魄，而且更常参与社交活动（Gage &amp; Berliner, 1984, pp.18-19; Zill &amp; Winglee, 1990）。再比如，学习成绩好的儿童比学习成绩差的更容易被同伴接纳。读书多的人比不读书者更愿意运动、慢跑、露营、远足、维修汽车等。</p><p>　　注意今日的“常识”，因为不难看出，昨日的常识往往变成今天的谬论。毕竟，常识就是“尽人皆知的知识”，对吧？对。那么，妇女不能投票，对吧？非裔美国人不应该接受教育，对吧？残障人士不该在社会里出现而应当被送到收容所去，对吧？事实上，150 年前，这些观念都是尽人皆知的常识。当然，我们现在视这些过去的常识为谬论，都是些以完全未经证实的假设为基础的信念。但是，从这些例子中，我们可以看到心理学在常识面前扮演的关键角色。常识总是基于一些假设，而心理学对这些假设的经验基础进行检验。正如我们之前看到的许多例子，有时候假设得不到实证支持。这样的例子还有很多，通过它们，我们可以看到，心理学扮演着一种世俗智慧检验者的角色，常常难免和诸多根深蒂固的文化信念发生冲突。心理学往往是“传递坏消息的信使”，宣告原本为人们所接受的世俗观念再无立足之地。这就不难理解，为什么许多人不仅无视这些消息，还想消灭这些信使。</p><p>　　某学校的董事会给予家长两种选择，一种是让他们的孩子在 K-2 不同年龄混合班学习，另一种是在按年龄分的常规班中学习。教师提出对这两种方法进行研究的建议，但此建议被校董事会否决，因为他们觉得，如果一旦研究发现某种方法更有效，家长会迫使他们完全改用那种类型的教学。就像莱文和奥唐奈（2000）说的那样，“学校董事会压根儿不想知道！”（p.66）。因此，我们应当意识到，心理学研究往往受到诋毁，不是因为人们认为它不好，而是因为他们希望避免研究结果可能给他们带来的影响。</p><p>　　科学方法是指一些非常普遍的原则。最重要的三点是：（1）科学采用系统的实证主义的研究方法；（2）它以可公开验证的知识为研究对象；（3）它研究实证可解的问题，并产生可检验的理论（下一章的主要内容）。构成系统实证主义基础的结构化及可控制的观察是本书随后几个章节的主题。科学通过同行评审等程序和重复验证等机制来保证知识的公共</p><h1 id="第-2-章-可证伪性——如何捕捉头脑中的小精灵"><a href="#第-2-章-可证伪性——如何捕捉头脑中的小精灵" class="headerlink" title="第 2 章 可证伪性——如何捕捉头脑中的小精灵"></a>第 2 章 可证伪性——如何捕捉头脑中的小精灵</h1><p>　　有人这么总结拉什的态度：“一方面坚信自己的理论是正确的，另一方面又缺乏有效的方法对治疗效果进行系统研究，因此他将每个好转的病例都归为治疗方法的功效，而将每个死亡的病例都归为病情的严重性”（Eisenberg，1977，p.1106）。换句话说，如果病人情况好转，就被作为放血疗法有效的证据；如果病人死掉了，就被拉什解释为病人已经病入膏肓，无药可救。<br>　　本杰明·拉什在评估其疗法的效果时跌入了一个致命的陷阱。他的评价方法根本就不可能让人得出其治疗方法无效的结论。如果说，病人的恢复是对他治疗方法有效性的肯定（对其医疗理论的肯定），那只有当病人的死亡是对其治疗方法的否定时才算公平。但事实上，他却把这种否定合理化了。拉什解释证据的方式，违反了科学理论建构和检验应遵循的最重要原则之一：他令自己的理论不能被证伪。<br>　　科学理论的表述应该遵循这样的原则——从中得出的预测有可能被表明是错误的。因此，对某理论的新证据进行评价，必须使新的数据具有证伪该理论的可能性。这项原则通常被称为“可证伪性标准”。</p><p>　　我们必须澄清一个关于理论的常见误解。这个误解体现为我们常说的一句话：“哦，这只不过是一种理论。”这句话代表了外行人使用“理论”这个词时通常所指的意思：一项未经证实的假设，一个纯粹的猜想或直觉。这意味着一个理论与其他理论并无优劣之分。“理论”这个词在科学上绝对不是这么用的。当科学家说到“理论”的时候，他们指的不是未经验证的猜想。<br>　　科学上的理论是一组具有内在联系的概念，它们能对一组数据做出解释，并对未来实验的结果做出预测。假设是从理论中产生的具体预测（理论则更加普遍和全面）。目前可行的理论是那些产生了一些假设，并且其中许多已经得到了验证的理论。因此这种理论的理论结构与大量的实证观察相一致。然而，当观察数据开始与理论中提出的假说相矛盾的时候，科学家们会尝试构建一个能为数据提供更好解释的新理论（或者，在更通常的情况下，只是修正已有的理论）。因此，目前在科学范畴内所讨论的，都是在一定程度上已经被证实了的、所做出的预测并没有与现有的数据相矛盾的理论。它们并非纯粹的猜想和直觉。<br>　　外行人和科学家们使用“理论”这个词时的这种差异，经常会被一狴试图将神创论纳入公立学校教育的虔诚的正统基督教徒所利用（Forrest &amp; Gross, 2004; Scott, 2005; Talbot, 2005）。他们的论点通常是“进化论毕竟只是理论”。这种观点试图借用外行人对“理论”术语的用法，蓄意将理论歪曲为“只是一个猜想”。然而，通过自然选择的进化理论不是外行人所理解的“理论”（相反，在外行人的理解中，它应被称之为“事实”，见 Randall, 2005），而是一个科学意义上的理论，是由一系列庞大而多样的数据支持的结论（Maynard Smith, 1998; Ridley, 1996, 1999; Scott, 2005）。它并不等同于其他任何猜想，不是一个纯粹的猜测。相反，它与从属于其他学科的知识紧密相联，这些学科包括地质学、物理学、化学以及生物学的各个分支。</p><p>　　弗洛伊德的理论使用一个复杂的概念结构，在事后解释人类行为，但并不做事前的预测。它可以解释一切，但是波普尔认为，也正是这个属性使得它在科学上无用。它不做具体的预测。精神分析理论的拥护者花费大量的时间和精力试图用他们的理论解释人类所有已知的活动——从个人的怪癖行为到广泛的社会现象，但他们在使这个理论成功地成为事后解释的丰厚资源时，也剥夺了其所有的科学实用性。如今，弗洛伊德的精神分析理论在激发文学想象方面比在当代心理学中扮演着更重要的角色</p><p>　　以抽动性稷语症为例。这是一种以身体抽搐和痉挛为特征的紊乱，并伴有言语症状，如嘟囔、吠叫、模仿言语（无意识地重复他人的话）和秽语（强迫性重复淫秽词语）。抽动性秽语症是一种器质性的中枢神经系统紊乱，并已经成功地被药物治疗所攻克（Bower, 1990, 1996a）。纵观历史，抽动性秽语症患者一直遭受着迫害，早期被宗教统治者视为妖魔，近代又被认为是鬼怪附体，要被强制驱魔（Hines, 2003）。更重要的是，在 1921 至 1955 年之间，对这种病的解释及疗法一直被精神分析学派的概念体系所把持，这在很大程度上阻碍了人们对此病成因及治疗的理解（见 Kushner, 1999）。有关这种病症的不可证伪的精神分析解释层出不穷。这些似是而非的解释所造就的概念泥潭蒙蔽了这一病症的实质，也阻碍了对其进一步的科学探究。例如，有一位作者曾经这样写道：<br>　　（抽动性秽语症是）精神分析导致脑部疾病研究发生倒退的典型例子。勒·图雷特（La Tourette）将疾病归因于大脑的退行性变化过程。而在本世纪最初的几十年，由于弗洛伊德理论的盛行，对这种病的关注偏离了大脑……这一倒退的结果使病人往往被转到精神科医生（通常是精神分析学派的医生）而非神经科医生那里，因此没有接受生理检查和研究（Thomton, 1986, p.210）。<br>　　夏皮罗等人（Shaphroeta L, 1978）提到，一位精神分析师认为，他的病人“不愿意放弃抽动，因为这成了她性快感的源泉和潜意识性欲的表达”。另一位精神分析师则认为，抽搐“等同于手淫……与生殖器快感相联系的力比多转移到了身体的其他部位”。第三位认为抽搐是一种“肛门施虐的迁移症状”。第四位认为，抽动性秽语症的患者具有“强迫型人格以及自恋倾向”，病人的抽动“代表了一种情感症状，对想表达情感的压抑性防御”。夏皮罗等人（1978）对这类理论现状的总结，很好地说明了忽视可证伪性标准的有害影响。</p><p>　　这些（不可证伪的）理论拥有巨大的心理吸引力，其秘密在于它们能够解释一切事情。预先知道无论什么事情发生，你都能理解它，不仅给你智力上的掌控感，而且，更重要的是，让你拥有应对这个世界所需的安全感”（Magee, 1985, p.43）。但是，这种安全感的获得并不是科学的目标，因为对这种安全感的追求是以知识发展的停滞为代价的。科学是一套不断挑战原有信念的机制，在这种机制里，原有信念以一种能够被证伪的方式接受实证检验。这一特点往往使科学（尤其是心理学）与所谓的世俗智慧或者常识直接发生冲突（正如我们在第 1 章中所讨论的）。</p><p>　　心理学并不追求那类事后能解释一切，但事先无法做出任何预测的理论，不追求这种解释系统所带来的安逸感。它不接受那些被设计得永不可变、并代代相传的世俗智慧体系。</p><p>　　当我们的信仰与观察到的事实相冲突时，我们最好是调整信仰而不是否认事实和坚持错误的想法，这样我们将会少遇到一些个人和社会问题。<br>　　每个人在训练自己的推理能力时都要学会这一点，当他回顾过去时会说“这个问题我当时没想明白”。生活中的人们也需要这种能力，即脸不红心不跳地说：“我当时搞错了。”而科学能让认错每时每刻都发生。你注意到某些东西与你已经思考了很久的事情相冲突或不一致，它会触动你改变想法。这与人们没完没了地去寻找一些合理说法来为自己先前的错误辩解的做法完全不同。<br>　　当你与某人激烈地争论的时候——也许就是当你给出一个有力的反击来捍卫你的观点的时候——有多少次你会突然意识到你搞错了某个关键事实或论据？这时你会怎么做？你会收回前面的话并向别人承认错误，同时承认别人的解释现在看起来比你的更合理吗？或许不会。如果你和我们中的大多数人一样，那么你一定会“没完没了地寻找一些合理说法来为自己先前的错误辩解”。你试图在拒不承认失败的情况下使自己从争论中全身而退。你最不可能做的就是承认自己错了。这样的话，你和争论对手都会更加疑惑：到底哪一种信念更接近真理？如果争论不能成为公共性的（如在科学中那样），如果正确和错误的信念以同样激烈的方式争辩，如果争论的结果不能得到正确的反馈（如本例），那就没有更可靠的机制使信念与现实相吻合了。这就是为什么那么多私人和公开的对话令人困惑，为什么相比所谓的常识或世俗智慧，心理科学在解释人类行为的原因方面更加可靠。</p><p>　　心理学界许多最具声望的科学家都遵循米德瓦的建议。在一篇报道实验心理学家罗伯特·克诺德（Robert Crowder）职业生涯的文章中，引述了他的一位同事马扎林·巴纳吉（Mahzarin Banaji）的话：“他是我认识的最不维护自己理论的科学家。如果你发现一种方法证明他的理论有漏洞，或者他的实验发现有局限性或有缺陷，他会非常高兴，并和你一起计划如何推翻该理论”。<br>　　但是，要让科学发挥作用，并不需要每位从事科学工作的科学家都具备证伪的态度。雅各布布·布罗诺夫斯基（Jacob Bronowski, 1973, 1977）在他的许多文章中指出，科学那种揭示世界真知的独特力量，并不产生于科学家们独特的德行（即他们是完全客观的、他们在解释研究结果时从来不带偏见等）。实际上，这种力量的产生是因为会犯错的科学家们身处一个证实与平衡的程序中。在这个程序中，总会有其他科学家提出批评并发现他们同行的错误。哲学家丹尼尔·丹尼特（Daniel Dannett, 2002）提出过相同的论点：不是每位科学家都必须表现出罗伯特·克诺德的客观性。正如布罗诺夫斯基和丹尼特所强调的那样，科学家和其他任何人一样容易犯错，但认识到他们及其所属团体的犯错根源之后，他们设计出精巧的系统来约束自己，努力防止自身弱点和偏见影响自己的研究结果（p.42）。心理学家雷·尼克尔森（Ray Nickerson, 1998）以一种更为幽默的说法道出相同的观点：科学家们的虚荣心实际上在科学进程中起着作用，“科学家对自己的想法抱有的批判性态度并没有在很大程度上导致科学的成功……更真实的情况是，每个科学家都积极地想要证明某些科学家所持有的观点是错误的”（p.32）。这些作者认为，科学知识的力量并不是来自于科学家的德行，而是源于他们不断交叉检验彼此的知识和结论的这一社会过程。</p><p>　　某些类别的想法不值钱。生物学家和科学作家史蒂芬·古尔德（Stephen J.Gould, 1987）对此有所阐述：<br>　　15 年的月刊专栏写作生涯，让我收到各个科学领域非专业读者的海量来信……我发现一个常见的、同时是压倒性的错误观点。人们会告诉我他们提出了一项革命性的理论，它会拓展科学的边界。这些理论通常以单倍行距打印在几张纸上，内容通常是对最深层的终极问题的猜测——什么是生命的本质？宇宙的起源？时间的起点？但是，这些想法不值钱。任何智力正常的人都能在早饭前想出几个这样的念头。科学家们自己也很容易就能想出来。但我们不这样做（或者说，我们只让它们留在自己脑子里），因为我们不能找到方法来验证它们，以决定它们的对错。一个既不能被证实也不能被证伪的可爱想法，对科学来说又有什么用呢？<br>　　古尔德对最后一个问题的回答是：“没有用。”古尔德这里所说的廉价想法正是我们早先在对卡尔·波普尔观点的讨论中提到的那些：包罗万象、复杂、“模糊”、能够用来解释一切的宏大理论——这种理论的建构更多是为了提供情感支持，因为它们没打算被改变或抛弃。古尔德告诉我们，这种理论对于科学目标是无用的，无论它们多么有抚慰功能。科学是创造性的过程，但是这种创造性需要让概念结构符合实验数据。这并不容易做到。那些如实解释真实世界的想法一点儿也不廉价。也许这就是为什么好的科学理论很难提出、而不可证伪的伪科学信仰体系泛滥的原因，因为后者容易建构得多。</p><p>　　虽然科学上的知识是暂时性的，由理论得出的假设可能是错误的，但这并不是说所有的一切都要被拿来检验一番。科学中有很多理论已经被确认过无数次，它们被称为“公理”，因为它们几乎不可能被未来的实验推翻。我们不大可能在某一天发现，血液不是循环的，或者地球并没有在环日轨道上。这些众所周知的事实并不是我们一直在讨论的假说。它们也不是科学家们的兴趣关注点，因为它们已经是确定无疑的。科学家只对已有知识范围之外的问题感兴趣：它们并不是确定无疑的。<br>　　科学实践的这一面——科学家侧重于已知事实的前沿，而忽视那些已经被充分证实的问题（所谓的公理）。</p><h1 id="第-3-章-操作主义和本质主义——“但是，博士，这到底是什么意思？”"><a href="#第-3-章-操作主义和本质主义——“但是，博士，这到底是什么意思？”" class="headerlink" title="第 3 章 操作主义和本质主义——“但是，博士，这到底是什么意思？”"></a>第 3 章 操作主义和本质主义——“但是，博士，这到底是什么意思？”</h1><p>　　事实上，科学家并不企图获得本质主义者所追求的那类知识。从这一意义上讲，对于本章一开始提出的问题的正确回答是：科学家不知道地心引力是什么。科学并不试图回答关于宇宙的“终极”问题，彼得·米德瓦（Peter Medawar, 1984）曾写道：<br>　　（确实存在）那些科学不能回答并且在科学发展的可预见的范围之内也不可能得到答案的问题。比如那些孩子们会提出的问题——“终极问题”……我能想到的这样的问题有：世界是如何开始的？我们来到这世间是为了什么？生活的意义是什么？（p.66） （然而，）即使科学不能回答终极问题，但也不意味着必须接受其他的答案；也不能理所当然地认为，既然这类终极问题能被提出，就一定能够被回答。就我们目前的理解力而言，这类问题是无从回答的。（p.60）</p><p>　　科学家之所以质疑那些自称为终极问题给出绝对答案的人、理论或者观念体系，一个原因就是科学家认为终极问题是无法回答的。科学家并不会宣称他们可以提供完美的知识；科学的独特优势并不在于它是一个不会犯错的过程，而在于它提供了一种消除错误的方式，它能不断消除我们认识中的错误。再者说，自称完美或绝对知识的主张及做法，却往往会阻碍人们的探索。自由而开放地探索知识是科学活动的一个先决条件。科学家们总是在怀疑那些号称已经找到问题最终答案的言论。</p><p>　　本质主义者的态度通常有一种表现：在探求知识之前，过于关注术语或概念的定义。“但是我们必须首先界定我们的术语”是本质主义者常用的一个口号。“某理论性概念的真正含义是什么？”这种理念似乎意味着，当一个词被当做理论中的概念使用之前，我们必须对这个词的使用所涉及的所有潜在语言问题有一个全面而且清晰的理解。事实上，这正好与科学家的工作方式相反。在对物理世界开展研究之前，物理学家不会花费气力讨论如何使用“能量”一词，或者当我们讨论物质的基本组成时，“粒子”一词是否真正表达了我们要表达的本质含义。<br>　　在科学领域里，确定某概念的意义，是在与该术语有关的现象得到一定程度的研究之后，而非研究之前。一个精确的概念性术语来自科学过程中固有的那种数据和理论间的相互作用，而不是关于语言用法的辩论。本质主义者让我们陷入无休止的文字争论，而许多科学家坚信这样的文字游戏使我们脱离了事物的实质。例如，对于“生命一词的真正含义是什么”这个问题，两个生物学家的回答是“没有什么真正的含义，它只是足够好地满足我们生物学家工作需要的一种用法，并不是争论或辩驳的主题”（Medawar &amp; Medawar, 1983, pp.66-67）。总之，科学家的目的是解释现象，而非对措词进行分析。在所有的科学学科里，进步的关键在于放弃本质主义，接受操作主义。这正是本章中我们探讨的主题。没有别的学科比心理学更能说明这个问题了。</p><p>　　“操作主义”只是这样一种思想：科学理论里的概念必须立足于可观测事件，或与可观测事件相关联，而这些可观测事件是可以被测量的。将概念与可观测事件相联系的是概念的操作性定义，这使概念公开化了。操作性定义使得概念从个人化的感觉和直觉中分离出来，并且允许任何实施可测量操作的人对概念进行检验。<br>　　例如，把“饥饿”这个概念定义为“我胃里不好受的感觉”，并不是一个操作性定义，因为它与个人对于“不好受的感觉”的体验相联系，因此不能被其他观察者知悉。相反，涉及一些可测量的食物剥夺时间或者像血糖水平这样的生理指标的定义才是操作性的，因为它包含了任何人都可以实施的可观测的测量。同样，心理学家不同意将“焦虑”定义为“我不时会感到的不舒服和紧张”，而是必须用像问卷和生理指标测量这样的操作来定义概念。上述那个定义是个人对身体状况的解释，他人无法复制；而后者则是把概念放在公共科学领域进行解释。</p><p>　　操作性定义促使我们认真地、经验性地思考我们如何定义一个概念，所谓经验性，是指要根据我们对真实世界的观察。试想我们要给一个看起来相当简单的概念“打字能力”下一个操作性定义。想象一下你这么做是为了比较两种打字教学方法的优劣。思考一下你所要做的所有决定。当然，你想要测量“打字速度”。但是要打多长的一段文章呢？仅有 100 个单词的文章可能太短，而 10000 个单词的文章又似乎太长。那么到底多长才算好呢？打字速度维持多久才最符合我们对打字能力这一概念的理论建构？用什么类型的文章来测试呢？文章是否要包含数字、公式和不常见的间距？我们如何处理错误？当我们测量打字能力的时候，时间和错误似乎都应被考虑在内，但是，如果把这两个指标同时考虑进去的话，要如何来计算一个总分呢？我们想要让时间和错误具有相同的权重， 还是一个比另一个更重要？寻求一个好的操作性定义会迫使你认真考虑所有这一切；它会让你对如何将“打字能力”进行概念化做一番透彻的思考。</p><p>　　概念的操作性定义要想有用，必须同时具备信度和效度。信度是指测量工具的一致性。如果你对同一概念进行多次测评，是否能够得到相同的测量结果。信度的科学概念很容易理解，因为它与常识中的定义以及字典里的定义非常相似：“任何总能够产生相同结果的系统所具备的一种属性”。<br>　　试想一下，一个外行人士会如何评价一件事是否可信呢？想象一个每天早上要赶公共汽车从新泽西去曼哈顿上班的人。按照时间表，公共汽车每天应该在上午 7:20 到达此人等车的站点。在一个星期中，如果公共汽车到达的时间分别是 7:20、7:21、7:20、7:19 和 7:20，那么我们就可以说在那一周汽车的到达时间是可信的，如果下周汽车到达的时间分别是 7:35、7:10、7:45、7:55 和 7:05，那么我们就可以说在那一周汽车的到达时间是非常不可信的。<br>　　在科学领域中，一个操作性定义的信度以类似的方式来评估。如果我们多次测量同一概念得到的结果是近似的，那么我们就说测量工具表现出较高的信度。如果在同一星期的周一、周三和周五，用同一 IQ 测验的不同版本测量同一个人的智力，得到的分数分别是 110、109、110, 那么我们可以说这一 IQ 测试是非常有信度的。相反，如果三个测试分数分别是 89、130 和 105，那么我们就可以说这一 IQ 测试没有显示出高的信度。有一些专门的统计方法可以评估不同类型的测量工具的信度，所有标准的方法论入门教材中都有介绍。</p><p>　　对于一个操作性定义而言，仅有信度是不够的，信度是一个必要而非充分条件。作为一个好的操作性定义，操作必须被证明对于概念来说是有效的测量。“结构效度”这个术语是指一个测量工具（操作性定义）是否测量了它本应测量的内容。保罗·考兹比教授（Cozby, 2006）在其所著的方法论教材中为我们讲述了一个只有信度而没有效度的搞笑例子。假设你想测测自己的智力，测试者让你站到一个类似鞋码器的测试仪器上，然后仪器给出一个读数。当然，你会认为这是一个笑话。但是请注意，这个测量工具可以显示许多类型的信度，而这些信度在方法论教材中都会讨论到。这个仪器在星期一、星期三和星期五会呈现出相当一致的读数（这称之为“重测信度”），并且无论谁操作它，它都会给出一样的读数（称之为“评分者信度”）。<br>　　用鞋码器来测量智力，其问题不在于信度（这是有信度的），而在于效度。它不是一个测量它本应测量的概念（智力）的合理方式。断定它不是测量智力的有效方式的证据之一，就是我们发现它和其他一些被认为与智力相关的变量无关。鞋码器的测量结果与学业成就无关，与脑功能的神经生理学测量无关，与职场成功无关，与认知心理学家提出的信息加工效率的指标无关</p><p>　　在操作性定义中，我们寻求信度和效度兼备，因此高信度和高效度结合才是理想的目标。我们刚刚讨论了鞋码的 IQ 测试，目的是论证高信度和低效度是没用的。第三种情况是低信度和低效度，这绝对没有用，因此不值得讨论。但是你可能想知道第四种，也就是最后一种可能的组合方式：如果高效度和低信度又怎么样呢？答案是，和低效度和高信度的例子（鞋码器例子）一样，这种组合也是没用的。事实上，更准确的说法是，这类情况压根儿不可能出现。因为，如果不能进行可信的测量，你根本无法宣称测量是有效的。</p><p>　　在心理学领域，智力概念的发展提供了一个类似的例子。起先，智力仅有一个严格的操作性定义：智力是通过心理功能测验所测到的东西。随着实验证据的不断积累，智力被证明与学业成就、学习、脑损伤、神经生理学及其他行为和生物学变量有关，这一概念在逐渐丰富的同时又得到了提炼（Deary, 2000, 2001; Geary, 2005; Lubinski, 2004; Sternberg, 2000; Sternberg &amp; Grigorenko, 2002; Sternberg &amp; Kaufman, 1998; Unsworth &amp; Engle, 2005）。现在看来，在定义智力概念时，最好用一种高等级的建构，通过多种更为具体的信息加工操作来定义。当然，这些假设的信息加工过程应该具备更为直接的操作性定义，可以用可测量的指标来表述。<br>　　人类记忆理论中的概念也以同样的方式发展。现代心理学家很少使用类似“记忆”或“遗忘”这样的笼统概念；相反，他们测量那些可以进行明确定义的记忆子过程，如短时听觉记忆、符号存储、语义记忆以及情景记忆。传统的“记忆”或“遗忘”的概念通过更加明确的操作性概念得到了细化。<br>　　因此，理论术语的用法在科学实践中不断演进，而不是在针对文字意义的争论中获得发展。这是科学的操作态度和本质主义者在追求绝对定义之间最显著的区别。神经病学家诺曼·格什温德（Geschwind, 1985）将这种区别描述如下：“我认为，从医学发展的历史中，你能够了解一件事，那就是：许多人认为，研究一个问题的方式就是首先定义这个问题然后再去研究它。这种想法被一次次地证明是错误的，因为你发现，只有先知道了答案，才能正确定义问题”（p.15）。<br>　　哲学家保罗·邱吉兰德（Churchland, 1988）强调，在科学中，对概念的定义不是源于文字界定，而是源于与之相关的观察和其他概念</p><p>　　随着科学概念的演进，概念常常与许多不同的理论体系交织在一起，并且获得多种操作性定义。这种情况的出现并不是因为概念本身出了问题。例如，许多人认为心理学不可信，因为心理学中许多重要的理论概念——例如智力，可以用不止一种方法来操作化和概念化（Sternberg, 2000）。但这种情形并非心理学所独有，也不是一件令人绝望或束手无策的事情。事实上，在科学领域里，这种情况是普遍存在的。例如，“热”既可以从热力学理论，也可以从动力学理论的角度来概念化。物理学并未因此遭到贬斥。想想电子，它的许多特性都是以波的概念来解释的。可是，如果将其视为粒子，它的另外一些属性则更好理解。到目前为止，还没有一个人会因为物理学中存在着这些多重概念化现象就提出要抛弃它。</p><p>　　人们对心理学产生误解的原因之一，就是心理学上所说的“预设偏见”。在第 1 章中我们提到过这个问题。人们不会出于执着于某种关于岩石性质的信念来研究地质学，而在心理学中，情况就大为不同了。我们每个人都有关于人格和人类行为的直觉理论，我们用它们来“解释”我们自己以及其他人的行为。我们所有的个人心理学理论里都包含着理论性概念（例如聪明、攻击和焦虑）。因此很自然人们会发问：为何我们必须接受一些其他的定义。尽管这种态度从表面上看来是合理的，但对于任何致力于理解人类行为的科学来说，它都是一个巨大障碍，也是公众对心理学产生困惑的一个原因。<br>　　误解产生的最主要原因，也即媒体在准确呈现心理学成果方面最大的障碍，这就是，心理学中的许多专业概念都是用日常用语来表达的。这些日常用语为大量误解的传播敞开了大门。外行人很少意识到，当心理学家把“智力”、“焦虑”、“攻击”、“依恋”等词语当作理论性概念来使用时，它们的含义和大众平常所说的意思不一定相同。<br>　　从之前关于操作主义的讨论中就能看出这种区别的本质。当在心理学理论中使用如“智力”、“焦虑”这些术语时，它们直接或间接的操作性定义决定了它们的正确用法。那些定义常常具有高度技术性，通常具有特定意义，并且在许多方面都不同于这些术语在日常生活中的运用。例如，当我们听到“对大样本的认知任务进行因素分析所得到的第一个主成分”这段话时，许多人都意识不到它是术语“智力”的操作性定义。</p><p>　　爱因斯坦相对论中的“相对性”一词被公众理解为“绝对是不存在的，因为任何事物都是相对的”，而事实上，该理论的意思正好相反！兰道指出，实际上爱因斯坦的相对论认为：“尽管测量的实施者在测量时需要依赖他的参考物和参考系，但事实上他所测量的物理现象总有一个恒定的属性，这一属性超越了观察者的特定参考系”。爱因斯坦的相对论实际上是寻找物理现象的恒定属性的。事实上，爱因斯坦也认为他的这一理论如果被命名为“恒定论”会更加贴切。但是，“相对性”一词的地位在当时已经太过深入人心而难以改变了（p.13）。</p><p>　　模糊的词语选择也是造成某些误解的根源，科学家经常使用一些口语化的术语。他们为这些用语赋予特定意义，但没有经过正规训练的人是不可能想到这种意义的”（p.13）。在心理学里也是如此。当心理学家和外行人用同一词语来表达不同含义的时候，他们之间常常产生误解。如果有新的词语产生出来用以描述心理概念，这样的困扰可能会少一些。有时会有这样的词语出现，正如物理学家有了“尔格”和“焦耳”一样，心理学家有了“失调”和“编码”，这些词不是凭空编造的，但在日常用语中比较生僻，从而可以防止混淆。<br>　　“但是，”外行人可能提出这样的反对，“为什么心理学家这样折磨我们？为什么有这么多新的术语、高度专业性的定义、生僻的词语？为什么我们需要这些？为什么我对‘智力’概念的定义得不到他们的认可呢？”</p><p>　　一个科学家必须通过如下方式“知道”智力是什么意思：他必须精确地定义一种方法，使其他实验者能够以完全相同的方法测量这一概念，并且得到有关此概念的相同结论。就其明确性和精确性来说，这与日常交谈中为了实现相互理解而使用的模糊语言间有很大差别。</p><p>　　所有建立在“直觉”基础上的信念体系都有一个共同的问题，即当出现矛盾观点时，它们缺乏一种机制来判别哪个是对的，哪个是错的。因为人人都凭直觉认为自己是对的，但当大家的直觉观点发生冲突时，我们该如何决定谁正确呢？令人悲哀的是，历史表明，这种冲突的结果通常是权力斗争。</p><p>　　只有当概念以操作性定义为基础，并且不关注于本质主义者所讨论的文字意义时，这类具有公众可用性的知识才能够用来解决人类的问题。例如，蒙克（Monk，1990）描述了二战期间“创伤性休克”这个概念是如何在医学领域产生问题的。一些医师对此症状的诊断依据是过高的血红细胞浓度，并认为其原因在于血液中的血浆渗透到了组织中。其他医师诊断“创伤性休克”则根据低血压、皮肤苍白和脉搏过速。换言之，医生们对这一概念的操作性定义是不一致的（甚至是带有个人色彩的），因此，英国医学研究会的格兰特（Grant）医生建议说，“创伤性休克”这个概念应该被抛弃，并且对伤者进行详细观察时也不使用这个术语……由于在诊断方面缺乏共同的基础，无法对各种治疗措施的效果进行评估”（Monk, 1990, pp.445-446）。换句话说，这种概念弊大于利，因为缺乏一个获得普遍认同的定义使之成为公共知识（也就是被广泛地分享与认同）。</p><p>　　伊萨克·牛顿的地心引力理论有些地方不尽人意……毕竟，“在一定距离外作用”如何实现？牛顿回避了这样的问题……自从牛顿开始，物理学家们一直在仿效他的做法……物理学家们不再尝试解释为什么事物必须遵守电磁学规律或地心引力规律。（p.61） 同样，如果那些为人类本性问题寻求本质主义答案的人求诸于心理学，注定将会失望。心理学不是宗教，它是一个试图对所有行为做出科学解释的广阔领域。因此，心理学现在的解释是对行为的暂时性的理论建构，就目前来说，这些建构在解释行为方面优于其他解释。这些建构在将来注定会被更好的、更接近事实的理论概念体系所取代。</p><p>　　深刻理解操作主义的原则，也有助于我们识别不具备科学意义的问题。例如，在我的电脑文件夹里，有一篇来自于国际联合出版社的在线服务文章，标题为《动物会思考吗？》。这篇文章讲述了动物行为方面最新的实验。文章中所引述的研究没有任何错误，但是，显然这个标题仅仅是一个玩笑。这个标题的问题在于没有科学意义，没有关于“思考”的操作性标准。许多报纸的标题中存在类似的问题，比如“计算机会思考吗？”没有操作性标准的话，这个问题也没有科学意义，但在鸡尾酒会上倒是可以大派用场。</p><p>　　深刻理解操作主义的原则，也有助于我们识别不具备科学意义的问题。例如，在我的电脑文件夹里，有一篇来自于国际联合出版社的在线服务文章，标题为《动物会思考吗？》。这篇文章讲述了动物行为方面最新的实验。文章中所引述的研究没有任何错误，但是，显然这个标题仅仅是一个玩笑。这个标题的问题在于没有科学意义，没有关于“思考”的操作性标准。许多报纸的标题中存在类似的问题，比如“计算机会思考吗？”没有操作性标准的话，这个问题也没有科学意义，但在鸡尾酒会上倒是可以大派用场。</p><p>　　预设偏见的力量在这种情况下显而易见。会有人这样反应吗？“哦，我不知道。既然有些计算机符合我提出的‘思考’的标准，那么我不得不说至少有些计算机是能够思考的吧！”通常大家是不会做出这样理智而诚实的反应的。更常见的情况是，人们开始寻找另一种标准，并期望计算机不能满足该标准。<br>　　通常人们的第二选择是“创造性”（“想出一些有用而且没有人想到过的东西”——我们先不管大部分人是否满足这个标准）。当被告知大多数专家都认可计算机能够达到这个标准时（Boden, 2003；Pfeifer &amp; Scheier, 1999），人们仍然不愿承认机器思考的可能性。人们常常不会想到要做出一个操作性定义，转而提出计算机是不可能思考的，因为“是人类制造了计算机并且设计了程序；计算机只是执行程序而已”。</p><p>　　因为人们无法理性地接受机器有思考的能力，著名的计算机科学家艾伦·图灵（Alan Turing）设计出著名的“计算机能否思考”的实验。图灵设计的实验是一个操作性的实验，这对于我们的讨论是非常重要的。1950 年，图灵在题为《计算机器与智能》的著名文章中写道，“我建议去考虑‘机器可以思考吗？’这个问题。”他不想在鸡尾酒会那样的场合随意谈论这个问题，也不想如本质主义者那样无休止地讨论“思考”是什么意思，而是提出一个严格的操作性测试。他的想法是：如果计算机能够进行智能对话的话，那么就可以说它是有思考能力的。<br>　　图灵这一设想中的创造性在于，他提出一种方式将问题变得可操作化，同时又防止了“预设偏见”的干扰。图灵对于检验计算机是否可以进行智能对话的测试逻辑进行了严格的限定。这个测试并不是让测试者通过键盘和屏幕与计算机互动，然后由测试者判断计算机有没有进行智能对话。图灵没有采用这种设计，因为他很担心“预设偏见”的干扰。图灵确信，一旦一个人坐到计算机、键盘和屏幕（显然是一些机器）之前，无论这个机器做什么，这个人都会否认它有思考能力。因此，图灵提出应控制与思考能力无关的外在因素。其著名的实验设计是让测试者通过两个键盘对话（一个和计算机相连，另一个和人相连，并且都在视线之外），然后再判断哪个是人，哪个是机器。如果被试不能以大于随机水平的正确率猜出哪一个是人，那么我们就有理由推断计算机具有同人一样的对话能力，而对话能力正是“思考”的操作性定义。</p><p>　　科学的方式是先发展一种合理的操作性定义，然后看我们可以从中得出哪些关于思考、计算机和人类的结论。与之不同的是，预设偏见主导了大多数人的思维。他们已经得出了某一结论，并且对于计算机和人类的表现之间已被发现的差异并不感兴趣。相反，一旦形成定势，他们就会绞尽脑汁地去找出各种理由，来巩固自己的这些想法，避免发生改变。</p><h1 id="第-4-章-见证和个案研究证据——安慰剂效应和了不起的兰迪"><a href="#第-4-章-见证和个案研究证据——安慰剂效应和了不起的兰迪" class="headerlink" title="第 4 章 见证和个案研究证据——安慰剂效应和了不起的兰迪"></a>第 4 章 见证和个案研究证据——安慰剂效应和了不起的兰迪</h1><p>　　这位观众使现场气氛骤然紧张，但是博士总是能够逢凶化吉：“哦，是的，我也曾经见过很多像你哥哥一样的个案。是的，我经常可以在我的从业中遇到这样的人。他们的‘期望上旋’的动力过程发生中断，生成潜意识的要求来抵抗父母转化到他们身上的期望。这样的话，个体的生活规划会朝着与传统成就标准相反的方向发展。”一阵肃然的沉默之后，讨论转向了下一个“案例”。<br>　　这些场面我们都再熟悉不过了，只不过又是一个关于本杰明·拉什问题的例子罢了。关于出生次序的“理论”是在没有一个事例能够证明其“不成立”的思维框架下被构想出来的。由于它是一个不能证伪的理论，搬出再多能证明它的证据也没有意义，因为这个理论不能排除任何可能的情况。</p><p>　　这在媒体心理学领域是一个惯用的套路。脱口秀节目和通俗心理学图书中充斥着基于作者临床经验的心理学理论。他们通过这类渠道提供给公众的许多疗法，能够支持这些疗法的，无非是那些曾接受治疗并认为得到了改善或被治愈了的人的个人见证。在本章中，我们将为心理学信息的消费者建立一个非常有用的原则：个案研究和见证作为评估心理学理论和治疗的证据是毫无价值的。</p><p>　　个案研究的作用，很大程度上取决于科学探索在某个特定领域进展到什么程度。从个案研究或临床经验中获得的灵感，在特定问题的早期研究阶段或许比较有用，因为它们可以提示哪些变量需要进一步研究。个案研究在开启心理学新的研究领域方面起到过关键作用。让·皮亚杰（Jean Piaget）的工作中就是很著名的例子。皮亚杰的研究提出了一种可能性，即儿童的思维并不只是成人思维的简易版或低级版，而是有其自身结构的。皮亚杰关于儿童思维的部分推测已经被证实，但很多还有待证实（Bjorklund, 2004; Goswami, 2004）。</p><p>　　然而，当我们从科学研究的早期阶段（在此阶段个案研究可能是极为有用的）步入更为成熟的理论检验阶段之后，情况就大大不同了。由于个案研究在特定理论的检验中不能作为证实或证伪的证据，所以它在科学研究的后期不再有效。其原因就是：个案研究和见证叙述都是所谓的“孤立事件”，缺乏比较性信息，而这种信息对于排除其他可能的解释来说是必要的。</p><p>　　见证叙述与个案研究相似，因为它们都是孤立事件。依赖见证叙述的问题在于，如果累积起来的见证能够为几乎每一种疗法提供支持，那么它也就不可能用来支持任何一种特定的疗法，因为所有相互对立的疗法都有各自的见证。当然，我们想知道的是哪种疗法是最好的，但我们不能依据见证来决定。正如心理学家雷·尼克尔森（Ray Nickerson，1998）在评论我们用以欺骗自己的认知过程时所说的那样，“江湖郎中的骗术往往得逞，是因为他们总能找到一些病人愿意为他们做见证，这些病人总是发自内心地告诉别人，他们自己的确从治疗中获益匪浅”（p.192）。例如，有大量的见证声称潜意识自助式录音带（用一种低于听觉阈限的信号制作出来的录音带）可以提高人的记忆力，甚至提高人的自尊，然而，在严格控制条件下进行的研究显示，这类录音带对记忆力或自尊没有任何改进</p><p>　　个案研究和见证叙述作为孤立的现象而存在，它们缺少必要的比较性信息，不能证明某一特定的理论或疗法更优越。因此，引用某个见证叙述或个案研究的结果来支持某一特定理论或疗法是错误的。</p><p>　　几乎每种产生于医学和心理学的疗法都有一定数量的支持者，并且总能催生出一些发自内心认可其疗效的人。医学文献记载了猪牙齿、鳄鱼粪便、埃及木乃伊的粉末，以及很多更富想象力的东西都曾经具有疗效（Harrington，1997；Shapiro, 1960）。事实上，人们早已熟知，仅仅暗示正在接受某种治疗，就足以使许多人感觉病情好转了。<br>　　无论治疗是否有效，人们都会报告某种疗法曾经对他们有所帮助，这种倾向被称为安慰剂效应（Christensen, 2001; Ernst</p><p>　　实际上，直到近一百多年，医学才发展出较多具有确凿疗效证据的治疗方法，因此有人曾经这样说：“本世纪以前，整个医学史只能说是安慰剂效应的历史罢了”（Postman, 1988, p.96）</p><p>　　安慰剂效应在抑郁症治疗中是 29%（即 29% 的病人服用安慰剂后报吿症状缓解了），在十二指肠溃疡中是 36%，在偏头痛中是 29%，食道炎是 27%（Cho，Hotopf, &amp; Wessely, 2005）。一项研究（Bower, 1996b）建议，将安慰剂效应与当下流行的抗抑郁剂百忧解结合起来，将会最大限度地发挥药物自身的作用。安慰剂效应的效力是很强的，以至于曾有报告说有人对安慰剂成瘾（Bok，1974；Ernst &amp; Abbot, 1999），这些人需要服用剂量越来越大的安慰剂来保持他们的健康状态！<br>　　当然，在有关药物治疗的实际研究中，安慰剂控制并不只是一个什么都不含的药片，而是含有当前认为最有效的药用成分。实验比较的目的在于揭示，新药是不是比当前最有效的药还要好。<br>　　你每次吃处方药时都会得到安慰剂效应的提示信息，下次吃处方药的时候（如果你非常健康，就看看你祖母的药吧！），仔细查看一下药物附带的说明书（或者登陆药品制造商的网站浏览一下），你将在药物问题说明里看到安慰剂效应的信息。例如，我吃一种叫做 Imitrex（琥珀盐酸）的药物来缓解偏头痛。此药附带的说明书告诉我：控制研究已经证实，在服用一定量的药物之后，57% 的病人在两个小时之内其症状得到了缓解（我就是这幸运的 57% 之一！）。但是说明书同时告诉我，同样的研究显示，这类偏头痛中安慰剂效应是 21%——有 21% 的人在服药后两小时内症状得到缓解，即使他们服用的药物里是中性材料而非琥珀盐酸。<br>　　安慰剂效应在心理治疗中也很常见（Wampold et al, 1997）。许多有轻度和中度心理问题的人，在接受心理治疗后说他们的情况有所好转。然而控制研究证明：这一康复比例中，有相当一部分是由于安慰剂效应和时间推移这两个因素共同作用的结果，时间推移通常被称为自然康复现象。大多数有效的治疗都是由于治疗效果和安慰剂效应以某种不为人知的组合而产生的效果。正如多兹（Dodes, 1997）指出的：“即使严重的疾病也有恶化和缓解的时候；关节炎和多发性硬化症就是典型的例子。甚至癌症也会莫名其妙地消失”（p.45）。他同时也警告说，对于安慰剂的积极反应并不意味着病人的病是虚构出来的，他还警告，与流行的观念正相反，安慰剂可以是有害的：“安慰剂效应能够通过证实或强化想象中的疾病来‘诱发’慢性病。病人会对那些利用安慰剂效应的非科学从业者产生依赖。”</p><p>　　保罗调查了几组学生，他们“在公开场合说话时会产生不适和焦虑”。实验组接受了针对语言紧张问题的脱敏疗法，85% 的被试表现出显著的改善。安慰剂组拿到了一些药片，他们被告知这些药片是有效的镇定剂，但实际只是一个碳酸氢钠胶囊。在该组中，有 50% 的人表现出明显的好转。第三组根本没有接受任何的治疗，仍然有 22% 的人表现出明显的好转。这样看来，对于这一特定问题来说，自然康复比例为 22%，另外 28% 表现出的改善产生于安慰剂效应（50% 减去 22%），脱敏疗法所具有的真实疗效则高于安慰剂和自然康复加起来的效果（85%&gt;50%）。<br>　　和保罗的研究类似，其他研究也显示，心理疗法确实优于只用安慰剂所产生的效果（Hollon et al.，2002; Lipsey &amp; Wilson, 1993; Nathan &amp; Gorman, 1998; Shadish &amp; Baldwin, 2005）。但是，使用了安慰剂控制组的实验也表明，仅报告有多大比例的人感觉自己有所好转，会严重高估治疗的实际效果。问题就在于，得到见证叙述简直不费吹灰之力。康奈尔大学的心理学家托马斯·吉洛维奇（Thomas Gilovich, 1991）指出：“人类拥有如此容易自愈的身体，即使医生不做任何事情，很多寻求医学帮助的人也将体验到积极的疗效。如此一来，当自然康复的比率很高的时候，即使是毫无价值的治疗手段也能显得有效”（p.128）。简言之，无论干预的效果如何，只要运用治疗干预，潜在的安慰剂效应就会显现。问题在于，安慰剂效应是如此强大，以至于无论某个人使用的疗法多么荒唐，只要是被应用于一大群人的话，总有一些人会乐于为它的效果做出见证（清晨头部击打疗法，每天使用让你神清气爽！给我寄 10.95 美元，你就可以得到这个特制的、经过医学测试的橡胶锤）。</p><p>　　发表在《新英格兰医学杂志》（England Journal of Medicine）上的一篇社论，论述了在医学科学的从业者眼中个案研究和见证叙述的地位。“例如，如果这本杂志收到一篇论文，说一个患胰腺癌的病人在服用了大黄根（rhubarb）后康复了……我们可能会发表一篇个案报告，但是，我们发表它并不是宣告它为一种新的疗法，而仅仅是推荐它作为一个值得用正规的临床实验进行验证的假设。与之相反，关于各类偏方秘方的轶闻（通常发表在通俗书籍和杂志上）则没有做出这样的声明，并且这些轶闻本身也不足以作为支持那些疗效的文献。”（AngeU &amp; Kassirer，1998，pp.839—</p><p>　　社会和认知心理学家已经研究了人类记忆和决策中的所谓“鲜活性效应”（Kunda，1999; Ruscio, 2000; Sinaceur, Heath, &amp; Cole, 2005）。当面临问题解决或决策情境的时候，人们会从记忆中提取与当前情境有关的信息。因此，人们倾向于利用更容易获得的、能够用来解决问题或做出决策的信息。对可获得性造成强烈影响的一个因素，就是信息的鲜活性。</p><p>　　问题在于，再没有比发自内心的个人见证更鲜活、更引人注目的了，这都是一些已经发生的事或者是真实的事。个人见证的鲜活性常常令其他一些更可靠的信息黯然失色。购物时，我们在不同的品牌前权衡了半天，最后却由于某个朋友或某则广告对于另一产品的推荐，而在最后一刻放弃了自己的选择。买车就是一个典型的例子。在翻看了《消费者报告》中的数千份消费者调查之后，我们终于决定要购买一辆 A 品牌的车；又参考了几本汽车杂志之后，看到里面的专家们也都推荐 A 牌子的车，这更坚定了我们的选择——直到在一次聚会上，我们遇到一位朋友，他说他一个朋友的朋友买了一辆 A 牌子的车，结果是辆残次品，光维修就花了几百美元，而且这哥们决定再也不会买这个牌子的车了。显而易见，这样一个个别案例本不该在很大程度上影响到我们的决定，因为我们是在收集了针对数千名用户所做的调查报告和众位专家的评判之后才决定要买 A 牌子的车的。然而，我们中究竟有多少人能做到不把这个个别案例看得很重呢？</p><p>　　与我们生活中的其他任何行为相比，驾驶汽车都是一种极端危险的行为（Galovski, Malta, &amp; Blanchard，2006; National Safety Council, 2001; Ross, 1999; Sunstein, 2002）。然而，关于它的风险和相对应的收益，从未有过全国性的大讨论。这对于住在郊外、需要驾车往返的人来说，是不是一个可以接受的代价？我们从不去问这样的问题，因为问题还没被意识到，而没被意识到的原因就是：代价和风险没有像空难那样以鲜活的方式呈现给我们。<br>　　想想下面这个例子的荒谬之处吧。一个朋友开车 20 公里载你去机场，因为你要乘飞机作一次 750 公里的旅行。分别的时候，你的朋友很可能会说，“一路平安”，这个临别赠言其实是具有悲伤的讽刺意味的，因为你的朋友在回家的 20 公里路上死于车祸的风险，要比你飞行 750 公里的风险高出 3 倍（National Safety Council, 1990）。这就是鲜活性问题，它解释了 A 对 B 的安全祝福存在着明显的不合理性，因为恰恰是 A 正处在更大的风险之中（Sivak &amp; Flannagan, 2003）。</p><p>　　科尔（Cole, 1998）报道了这样一个民意测验，在环球航空公司（TWA）空难事故后，如果飞机能够提高安全系数的话，很多人都愿意为自己的往返机票多付 50 美元。同样是这些人，却拒绝为机动车中的安全功能支付 50 美元，即使那样会提供更加安全的保障。同样地，很少的人能够意识到，当他们驾车 10 公里去买一张彩票的时候，他们在车祸中丧命的几率要比他们获得头奖的几率高 16 倍（Orkin, 2000）!</p><p>　　，乘飞机出行的人数锐减，因为人们害怕飞行。当然，人们还要继续外出旅游，而不只是待在家里。他们只是改为其他方式出游——大多数情况下都是自驾车。但是，自驾游比飞行要危险得多，从统计学上讲，注定有更多人因转成自驾游而死亡。</p><p>　　在媒体的帮衬下，鲜活性误导个人判断的情况在其他领域里也同样广泛存在。一项研究（MacDonald, 1990; Cole, 1998; Radford，2005）调查了父母最担心他们的孩子遭遇哪种风险。结果显示，父母最担心的是孩子遭绑架，而这一事件发生的概率是 1/700000。相形之下，父母则不太担心孩子在车祸中身亡的危险，然而这种可能性比遭绑架要高出 100 倍。显然，对绑架的担心大部分是媒体渲染的结果。这项研究结果说明，由于鲜活性效应对知觉的扭曲，“美国父母所担心的竟是一些不大可能发生的事”（MacDonald，1990）。一个研究人员哀叹道：将担心聚焦在“当下流行”的事件上，势必会误导父母的注意力，导致他们“忽视了他们本来能够施加更多影响的方面，例如学业成绩、看电视的坏习惯、吸毒和驾车安全等”（MacDonald，1990）。</p><p>　　作家彼得·鲍耶尔（Boyer，1999）描述了支持持枪自由的议员们如何以同样的方式培养美国人对危险的错误知觉，他们试图将公众的注意力放在“入侵者”破门而入的鲜活案例上。这里的潜台词是：拥有一杆自我保护的枪将会降低你的风险。鲍耶尔（1999）指出了具有讽刺意味的事实，当真实的统计展示了真正的问题在于“枪在好人手里”的时候，枪械制造工业却力图关注“枪在坏人手里”。在这个国家，罪犯并不是导致大多数枪击死亡案的原因。饮弹自尽的人数事实上要远多于被枪杀的人数。大多数死于枪支的人都是枪支走火和自杀——这就是为什么有研究指出，把枪支带回家实际上反而增加了家庭的风险（Miller，Azrael, &amp; Hemenway, 2002; Samuels, 2004）。</p><p>　　最后，我们对可能患上糖尿病的担心要小于对因感染葡萄球菌而住院的担心，即使前者波及 450 万美国人，而后者每年只有 1500 人而已（Fountain, 2006）。这是因为，就个人而言，我们能够对前者做出一些对策（改变饮食或者锻炼），而对后者却无能为力。</p><p>　　人们有这样一种倾向：即使能够获得更为精确的信息，人们的判断也常常受到某个突出例子的影响，</p><p>　　在研究中，被试被告知他们将会免费得到一些他们自己选择的避孕套。被试被告知可以参考以下两类信息中的任何一类或两类：一类信息是在《消费者报告》杂志中的一篇调査报告，另一类是两个大学生的观点。尽管此组中只有不到 15% 的人愿意接受两个大学生的观点，但还是有 77% 的人同时询问了两类信息。很显然，被试无法抵御他人见证的诱惑，尽管他们不认为自己会受其影响，但他们事实上却被影响了。当被试同时选择了解两类信息并且这两类信息相互冲突时，接受学生推荐意见的人数比接受《消费者报告》推荐意见的人数多 31%。</p><p>　　在 20 世纪 60 年代中后期媒体对越战的报道。随着战事的拖延，美军的死亡人数仿佛无休止地增加，媒体开始报道当周美军死亡的人数。一周接一周地过去了，这个数字在 200 至 300 之间徘徊，公众似乎已对这种报道习以为常了。然而，某杂志用几个版面的篇幅连续刊登了前一周阵亡者的个人照片。这时公众非常具体地看到了在这样一个有代表性的一周内逝去的大约 250 个鲜活的生命。结果，此举导致了大规模的、针对这场代价巨大的战争的抗议声浪。250 张照片所产生的影响是每周数字报道所远不能及的。但是作为一个社会成员，我们应该克服这种不相信数字、必须亲眼目睹才去相信的倾向。绝大多数影响我们社会的复杂因素都只有靠数字才能捕捉。只有当公众学会像重视图像材料一样重视以数字形式表达的抽象材料时，公众自己的立场才不会像屏幕上闪过的最新图像那样变化无常。</p><p>　　战死的人数并非没有被报道，这 700 多人死亡的消息日复一日地出现在这个国家的每一份报纸上。但是争论的双方都知道，公众尚未对那些数字进行“加工”——没有计算代价，是因为那些数字还太过抽象。双方都知道很多人在看过这些照片之后，都会从头对这些信息进行加工，并开始真正在意战争的代价。</p><p>　　不仅公众受到鲜活性问题的困扰，在心理学和医学领域，有经验的临床从业者一直都在努力摆脱个别案例的压倒性影响给他们的决策带来的阴影。</p><p>　　评估证据的时候，鲜活性问题是一个我们都要面临的难题。并且，在这样一个充斥着媒体影像的环境中，对于社会来说，不受影像支配而基于有效的证据来解决自身的问题变得越来越困难了。作家巴瑞·格拉斯纳（Glassner，1999）讲述了一个特别相似的例子。在 1995 年的一场奥普拉秀中，围绕着某一次外科手术而展开讨论（这里不具体说出外科手术的名字，以免渲染鲜活性效应）。这种手术引起了一些争议，因为一些人声称在手术过程中受到过伤害。来自梅奥临床医院、哈佛大学和密歇根大学的研究证据都显示，这种手术总体上是没有危险性的。就在此时，一位声称受到过伤害的妇女从观众席里跳出来并喊道：“我们就是证明，我们这些坐在这儿的人就是结论！（Glassner，1999，p.164）。你认为哪种说法会让数百万电视观众记忆犹新——是来自梅奥临床医院的研究，还是大喊自己就曾受到过伤害的那位妇女？</p><p>　　在几年前纽约的一个节目中，他对观众说，今天早晨开车经过新泽西的时候，他看到一个澄色的 V 形物体飞过头顶飘向北方。几秒钟之内，正如兰迪所说，“电台的接线总机像一棵电子圣诞树般闪烁起来”。一个接一个的目击者打电话过来证实这一奇异的景象。可他们运气不好，这一“景象”只是兰迪想象出来的，但是打电话的人提供了许多兰迪“忽略了”的细节，包括其实有多个“飞碟”飞过。这个小小的把戏证明，个体关于“某事发生”的报告是多么不可靠。</p><p>　　巴纳姆效应（Bamum，著名的嘉年华和马戏团的团主，提出了“每分钟都会有人上当受骗”的说法）现象的范例。这一效应曾被心理学家广泛地研究（例如，Dickson &amp; Kelly，1985），研究者发现，大多数成年人都会认为泛化的个性总结都是准确的，并且都是对自己独特的描述。这里有一个来自谢尔默（Shermer, 2005, p.6）的例子</p><p>　　用见证来支持自己提出来的特定理论是毫无意义的。检验一个主张时，只有来自于有控制的观察中的证据（第 6 章中将会描述）才是足够充分的。</p><p>　　当我正在讲述这个话题的时候，经常有人会针对我的演讲提出非常中肯的问题：“你不也是正在用生动的个案来阐述你的观点吗——这种做法难道不正是你所反对的吗？”这个问题问得好，并且它让我有机会详细阐述本章中包含的一些论点间的微妙之处。这个问题的答案是肯定的，我运用了生动例子来阐述观点。但是，是为了阐述观点，而不是为了证明观点。这里的关键是要区分两点：主张的提出和主张的交流。对于每个主张，我们都能问这样一个问题：它是不是基于鲜活的见证？这会产生四种可能的情况：<br>　　1. 一项主张基于鲜活的见证，同时依靠鲜活的见证来交流 2. 一项主张基于鲜活的见证，同时不依靠鲜活的见证来交流 3. 一项主张基于证据而非鲜活的见证，同时依靠鲜活的见证来交流 4. 一项主张基于证据而非鲜活的见证，同时不依靠鲜活的见证来交流 本章中的一些讨论属于第 3 种情况：一项主张基于证据而非鲜活的见证，同时依靠鲜活的见证来交流。例如，我引用了很多非见证的证据贯穿整章，就是为了说明：个案研究的证据不能用于建立因果性结论，鲜活的例子在人们的判断中被赋予了过高的权重，伪科学的代价巨大等等。对于这些主张中的每一项，我都标出了引证和参考文献。尽管如此，出于交流的目的，我使用了一些鲜活的案例，将注意力吸引到这些主张上，并让它们给人们留下深刻的印象。关键的一点是，支持这些主张本身的并不仅仅是鲜活的见证。比如，我曾使用一些鲜活的例子来阐述“鲜活的例子在人们的判断中被赋予了过高的权重”这一事实，但是这一主张的证据包含在我所引用的经过了同行评议的科学证据之中（例如，Kunda, 1999; Lassiteret al., 2002; Nisbett &amp; Ross，1980; Sinaceur, Heath, &amp; Cole, 2005）。</p><p>　　个案研究和见证叙述在心理学（以及其他科学）研究的早期阶段是有用的，因为此时，寻找有趣的现象和待研究的关键变量很重要。虽然个案研究在早期的、理论形成前的阶段是有用的，但在研究的后期，当对理论进行检验之时，个案研究就毫无用处了。这是因为，作为一个孤立现象，个案研究的结果遗漏了太多其他可能的解释。为何个案研究和见证证据对于理论检验来说是没有用的？要想理解这一点，就需要想一想安慰剂效应。安慰剂效应是指，无论疗法是否包含了有效的成分，人们都倾向于报告任何疗法都对他们有效。安慰剂效应的存在，催生了许多关于疗效的见证叙述，致使对一种心理（或医学）疗法效果的证明成为“不可能的任务”。原因就在于，无论治疗手段是什么，安慰剂效应都会使人们提出证实其疗效的个人见证。<br>　　尽管见证证据在检验理论的时候是无用的，但心理学研究指出，由于鲜活性效应，这类证据经常被人们过分地倚重：对于更为生动、并因此在记忆中更易提取的证据，人们会赋予其过高的权重。对大多数人来说，见证证据就是一种格外生动和鲜活的信息，因此，人们在验证某一心理学主张的合理性时，会过度依赖这类证据。事实上，理论主张是否合理，是不能用见证叙述和个案研究的证据来判定的。</p><h1 id="第-5-章-相关和因果——用“烤箱法”避孕"><a href="#第-5-章-相关和因果——用“烤箱法”避孕" class="headerlink" title="第 5 章 相关和因果——用“烤箱法”避孕"></a>第 5 章 相关和因果——用“烤箱法”避孕</h1><p>　　在 20 世纪初期，数以万计的美国南部民众罹患并死于一种叫做糙皮病的疾病（大约每年 100000 人死亡）。糙皮病被认为是由一种不明微生物引发的传染性疾病，其主要症状是头晕、嗜睡、溃疡、呕吐和严重腹泻（Chase, 1977, p.205）。此后，许多来自全国糙皮病研究学会的医生都认同这样的证据：糙皮病和卫生条件有关。这并不令人吃惊。家在南卡罗来纳州斯帕坦堡的人们似乎总是远离糙皮病的困扰，因为他们有自来水管道和良好的污水处理设施。这种相关恰好验证了这样的观点：由于糟糕的卫生条件，传染性疾病是通过糙皮病患者的排泄物传播开来的。<br>　　一位叫约瑟夫·戈德伯格（Joseph Goldberger）的医生对这种解释非常怀疑，在美国公共卫生部部长的指示下，戈德伯格针对糙皮病开展了许多研究。他认为糙皮病是由于营养不均衡的饮食引起的，简而言之，是美国南部普遍的贫困造成的。许多的患者赖以生存的都是高碳水化合物、蛋白质含量极低的饮食，如很少量的肉类、蛋类、牛奶，以及大量的谷类、燕麦和玉米粥。戈德伯格认为污水处理条件和糙皮病之间的相关在任何一个方面都无法反映因果关系（和烤箱控制生育的例子一样）。他认为根本原因在于，拥有清洁管道的家庭通常也都是经济状况良好的家庭，经济上的差异也会反映在他们的饮食上，经济状况好的家庭在其饮食中包含更多的动物蛋白。<br>　　但是，请等一下！为什么戈德伯格的因果推断就一定是对的呢？毕竟，两派人马都是坐在那里，根据相关数据推论什么才是造成糙皮病的原因的。为什么医学会的医生们不能说戈德伯袼的相关同样也是误导性的呢？为什么戈德伯格能够推翻别人的假设——一种微生物通过糙皮病患者的排泄物传播，而这种传播是因为不完善的污水处理设施造成的？戈德伯格对糙皮病的判断还涉及一个小细节，这个细节我刚才没说：戈德伯格吃下了糙皮病患者的排泄物。</p><p>　　戈德伯格有一类这样得来的证据：研究者不仅观察相关性，还靠真正地操纵关键变量来收集数据（有关控制操纵，将在下一章进一步讨论）。这种方法经常要创造一些通常极少会自然出现的条件——说戈德伯格设计的特殊条件不会自然出现，无论怎样强调都不会过分。<br>　　戈德伯格确信糙皮病是不会传染的，也不会通过患者的体液传播，他给自己注射了一名患者的血液，还吃进一名患者喉咙和鼻子内的分泌物。此外， 他还选择了两个病人：一个有皮癣症状，另一个有腹泻。他从皮癣处刮掉鳞屑，然后和该病人的 4 毫升采液混合到一起，然后再加上相同数量的液体排泄物，最后与 4 小撮面粉揉在一起做成小药丸。戈德伯格、戈德伯格的助手以及戈德伯格的妻子自愿服下这些药丸。（Bronfenbrenner &amp; Mahoney, 1.975, p.11）） 无论是戈德伯格，还是其他的志愿者，都没有染上糙皮病。简言之，戈德伯格创造了这个传染疾病可能传播的所有条件，结果平安无事。<br>　　戈德伯格对其他人提出的因果机制进行了操作，结果显示该机制是无效的，尽管如此，对他自己提出的因果机制进行检验仍然非常必要。戈德伯格选择了来自密西西比州监狱农场的两组犯人，这些人都是没有患糙皮病的，并且都是自愿参加实验。其中的一组人被给予高碳水化合物、低蛋白质的食物，这种类型的食物是戈德伯格怀疑引起糙皮病的原因。另一组被试被给予（营养成分）更均衡的饮食。5 个月后，低蛋白质的这一组患上了糙皮病，而另一组却没有丝毫的患病迹象。戈德伯格的理论遭到了一些人的反对，这些人出于政治动机而否认贫困的存在。经过长期的抗争，戈德伯格的假设终于被人们所接受，因为他的假设与实验证据的契合程度是其他任何假设所不能比拟的。</p><p>　　在许多场合，我们必须用到相关（见第 8 章），而在某些情况下，只要有相关就够了（例如，当我们的目标是预测而不是决定原因的时候）。科学家们经常不得不使用不充分的知识来解决问题。重要的是，我们在运用相关性证据的时候要谨慎小心。像“糙皮病-污水”这样的案例，在心理学研究的每个领域内都频频发生。这个例子也揭示了“第三变量问题”：事实上两个变量之间的相关——这个例子中是糙皮病的发病率和污水处理条件——并不意味着这两个变量之间有直接的因果关系，相关之所以产生，是因为这两个变量都分别与第三变量相关——这里是饮食——而这个变量没有被测量。像这种污水处理条件和糙皮病之间的相关，我们通常称之为“虚假相关”：相关的产生不是因为两个变量之间存在一个可以测量的直接的因果联系，而是因为这两个变量都与第三变量相关。</p><p>　　多年以来，有关公立学校和私立学校教学质量的争论甚嚣尘上。从这场争论中得出的一些结论，很生动地展示了从相关证据推出因果关系的弊端。私立学校和公立学校的好坏是一个实证性问题，可以使用社会科学中的调查研究方法来辨别真伪。但是，这并不意味着只要这个问题是个科学问题、有可能获得解决，就是一个非常简单的问题。所有鼓吹私立学校优越性的人都潜在地意识到这一点，因为他们在维护自己的观点时，常常引用这样一个经验性的事实：私立学校学生的成绩要好过公立学校。尽管这个事实无可辩驳——各种研究中有大量一致的教育统计数据，但问题在于，用这些学生的成绩数据就推出结论，即私立学校的教育本身导致了较高的分数，这么做是否合适？<br>　　考试成绩是许多不同变量的函数，这些变量彼此之间又是相关的。为了评估公立学校和私立学校的好坏，我们需要进行更为复杂的统计，而不仅仅是学校类型和学业成就之间的相关。例如，学业成就和家庭背景中许多不同指标都有关系，如父母的教育程度、父母的职业、社会经济地位、家中藏书的数量以及其他一些因素。这些特征都与是否把孩子送到私立学校有关系。因此家庭背景是一个潜在的第三变量，可能会影响到学业成就和学校类型之间的关系。简言之，学业成就可能和学校质量没有任何关系，而结果可能是：家境优越的孩子学习更好，更有可能进入私立学校。<br>　　幸运的是，还有许多复杂的相关统计方法，例如多元回归、偏相关、路径分析（统计学的发展部分要归功于心理学家），这些复杂的统计方法能够去除其他变量的影响、提出公因子或定义协变量之后重新计算两个变量之间的相关。来自杜克大学的艾利斯·佩奇和蒂莫西·凯斯（Ellis Page &amp; Timothy Keith, 1981）则使用更为复杂的统计技术，分析了一系列关于高中生教育的统计数据，这次统计数据的收集是在国家教育统计中心（NCES）的资助下进行的。他们发现，当反映学生家庭背景和一般智力能力的变量被排除后，学业成就和学校类型之间几乎就没有一点关系了。其他研究者也确认了他们的研究结果（Berliner &amp; Biddle, 1995; Carnoy, Jacobscn, Mishel, &amp; Rothstein, 2005）。<br>　　因此，很明显，鼓吹私立学校能够提高教育成就，就跟讨论节制生育需要用“烤箱”一样没什么分别。学业成就和私立学校相关，不是因为任何直接的因果机制，而是因为私立学校中学生的家庭背景和一般认知水平与那些进入公立学校的学生相比是不一样的。<br>　　这些较为复杂的相关统计方法，能够排除第三变量的影响，但并不总是会削弱原有相关的强度。有时候，在排除第三变量之后，两个变量之间的原有相关仍然存在，这个结果本身就能提供一些信息。这样的结果说明，原有相关并不是由第三变量所导致的虚假相关。当然，并不排除其他变量也会导致虚假相关。</p><p>　　托马斯、亚历山大和埃克兰德（Thomas, Alexander, &amp; Eckland, 1979）提供了数据分析方面的一个好例子。这些研究者发现，高中生是否进入大学和这个学生的家庭社会经济地位有关。这是一个重要发现，足以动摇我们这个社会的核心价值——实现目标靠的是个人能力。它表明，一个人的成功取决于这个人的经济地位。但是在下这个结论之前，我们必须首先考虑一下其他假设。这就是：升入大学和社会经济地位之间的相关是一种假象。其中一个非常明显的第三变量就是学业能力，它可能与升入大学和社会经济地位都有关系，如果这个变量被排除出去，这两个变量之间的相关就会消失。在学业能力被排除后，研究者计算出的数据发现，升入大学和社会经济水平的相关仍然显著。因此，高收入阶层的孩子更容易进入大学不能完全归因于学业能力的不同。当然，这个发现不能排除这种可能性：其他一些变量导致了升入大学和社会经济水平之间的相关，但是能够用这样一种再分析来排除学业能力对两者相关的影晌，这本身就在理论及实践方面具有很重大的意义。<br>　　安德森等（Anderson &amp; Anderson, 1996）描述了他们是如何来检验关于暴力的地区差异理论的，他们通过检验一系列不同的理论看其是否能够对所收集的数据做出解释。他们采用偏相关技术来进行此项研究。曾有研究表明美国南部地区的暴力犯罪高于北部地区，他们检验了“热假设”——令人不适的高温增强了侵犯性动机和攻击性行为（p.740）。他们发现城市平均气温和暴力犯罪率之间存在相关，这并不令人奇怪。但是从统计上控制一些变量，如失业率、个人平均收入、贫困率、教育程度、人口规模及其他一些变量之后，气温和暴力犯罪之间的相关仍然显著。这就使得“热假设”理论的可信度大大提高了。</p><p>　　最近十几年以来，研究者们已经明确指出，文字解码和语音加工方面的语言问题是阅读障碍存在的根源</p><p>　　原因。“选择性偏差”这个术语指的是特定主体和环境变量之间的关系，当不同生理、行为、心理特点的人们选择不同类型的环境时，就有可能出现选择性偏差。选择性偏差造成环境特征和行为-生物特征之间的虚假相关。<br>　　让我们通过一个例子来了解选择偏差是如何产生虚假相关的。请快速说出一个州名，在这个州里，由呼吸系统疾病导致的死亡率高于平均水平。当然，答案之一是亚利桑那州。什么？等等！难道亚利桑那州没有清洁的空气吗？难道洛杉矶的烟雾弥漫得如此之远？难道凤凰城的郊区环境已经变得那么差了吗？不是，肯定不是！让我停下来想一想。可能亚利桑那州的确有清洁的空气，可能患有呼吸疾病的人都愿意搬到这里，然后他们死在了这里。这样就对了。如果我们不够认真，就会出现上面所说的那种情形：我们可能会受到误导，认为是亚利桑那州的空气害死了这些人。（亚利桑那州在美国西部，以地广人稀、气候干燥、空气清洁著称——译者注）</p><p>　　来自临床心理学的例子可以表明，选择性偏差问题是多么地具有欺骗性和违背常理。研究数据有时会显示，接受心理治疗的人在各种成瘾症——如肥胖、吸毒、吸烟——的治愈率方面，要低于那些没有接受过心理治疗的人（Rzewnicki &amp; Forgays, 1987; Schachter, 1982）。你想知道原因吗？原因并不是因为心理疗法使得成瘾的行为更加难以改变，而是因为那些寻求心理治疗的人的成瘾问题更复杂和棘手，而且很少能够自愈。</p><p>　　提防选择性偏差的发生；当只有相关时，应避免因果推论。不可否认，复杂的相关数据里确实存在着有限的因果关系。同样不可否认的是，相关的证据有助于证明假设的聚合效度（见第 8 章）。然而对于心理学知识的消费者来说，宁可站在怀疑的角度，也不要被那些错误地暗示了因果关系的相关所蒙蔽。</p><p>　　确保选择性偏差不会捣乱的唯一方法，就是在操纵所有变量的情况下进行真正的实验。</p><h1 id="第-6-章-让一切置于控制之下——聪明汉斯的故事"><a href="#第-6-章-让一切置于控制之下——聪明汉斯的故事" class="headerlink" title="第 6 章 让一切置于控制之下——聪明汉斯的故事"></a>第 6 章 让一切置于控制之下——聪明汉斯的故事</h1><p>　　当时伦敦有许多不同的供水源，每个供水源给不同的地区供水，所以不同供水系统受感染的程度不同，霍乱的发生率应该因供水源受污染程度的不同而存在差别。但是斯诺发现，这种比较会出现严重的选择性偏差（请回想一下第 5 章的讨论）。在伦敦，不同地区的贫富差距非常大，因此，供水系统和各地区患病率之间的任何相关都会受到其他能够影响健康的、与该地区的经济发展水平相关的变量的影响，如饮食、压力、工作危机或生活质量。简而言之，获得虚假相关的可能性很大，这和第 5 章所讨论的糙皮病和污水的关系类似。但是斯诺非常机敏地注意到了一种已经出现过的特殊条件，并利用这一点解决了问题。<br>　　在伦敦的一个市区，碰巧有两家自来水公司对同一个社区供水，但从供水布局上来说是杂乱无章、毫无规划的。在某条街道上，一部分住宅是由其中一家自来水公司供水，一部分是由另外一家自来水公司负责供水，这种情况发生的原因是由于最初两家公司存在竞争。甚至有这样的情况，一栋房子由一家公司供水，而与它毗邻的房子却是由另一家公司供水。因此斯诺找到了几个由两家公司分别供水的家庭，并且这些家庭的社会经济地位基本相同，或至少是非常接近的。如果两家自来水公司都受到污染，那么这种选择仍旧是没有任何意义的，因为这样斯诺就不能发现水污染与霍乱的发病率有什么关系了。所幸的是，这种情况并没有发生，这两家公司的水并未同时受到污染。<br>　　在一波霍乱流行过后，兰姆博斯（Lambeth）公司为了避免水污染，将公司迁到泰晤士河的上游，而南沃克-沃克斯霍尔（SouthwarkScVauxhall）公司却仍然固守在下游。因此，兰姆博斯公司的水系统受污染的可能性比南沃克-沃克斯霍尔公司要小得多。斯诺通过化学检验也证明了这一点。剩下的工作就是统计由两家不同公司供水的家庭的霍乱发病率：兰姆博斯公司供水的每 10000 个家庭里有 37 人死亡，南沃克-沃克斯霍尔公司供水的每 10000 个家庭里有 315 人死亡。</p><p>　　斯诺幸运地找到了一种自然情境，这种情境使得他能够排除其他的可能性。这种在自然情况下产生的“比较”条件并不多见。让科学家坐在那里等待这类情况发生是十分荒谬的。事实上正相反，很多科学家都试图以一种区分各种不同假设的方式来重构世界。为实现这一目的，他们必须操纵被认为是诱因的变量（在斯诺的实验里是被污染的供水系统），然后在保持其他所有相关变量不变的情况下，观察是否会有不同的结果（霍乱的发病率）。被操纵的变量称为自变量，随着自变量变化而变化的变量称为因变量。<br>　　因此，一个好的实验设计应该是这样的：科学家能够操纵他感兴趣的变量，并对其他可能影响实验的无关变量进行控制。需要注意的是，斯诺并没有这么做。他不可能操纵供水系统的污染程度，但是他找到了这样一种条件，即供水系统受污染的程度是不同的，并且与社会经济水平有关的其他变量侥幸得到了控制。可是这种自然发生的情境不仅很少见，而且也不如直接的实验操纵那么有说服力。<br>　　约瑟夫·戈德伯格就是直接操纵变量，他假设这个变量就是引起某种特别现象的原因。戈德伯格不仅对与糙皮病相关的变量进行观察和记录，他还在一系列研究中直接操纵了其他两个变量。回想一下，他安排了低蛋白饮食的囚犯组来诱发糙皮病，同时安排吞食糙皮病患者排泄物的志愿者，其中还包括他妻子和他自己。因此，戈德伯格不仅观察了自然发生的情境，还创设了特殊条件组，从而排除一系列其他可能性并获得实验结果，这种推论要比斯诺的方法更具说服力。这也正是为什么科学家要试图操纵一个变量并保持其他所有的变量不变的原因：为了排除其他的可能性。</p><p>　　我们这里并不是说斯诺的方法毫无可取之处。但科学家们的确愿意更为直接地操纵实验变量，因为直接操纵变量能够产生更具说服力的推论。细想斯诺的两组被试：一组由兰姆博斯公司供水，另一组由南沃克-沃克斯霍尔公司供水。由于处在同一个地区，可能保证了两组被试的社会地位几乎相同。但是类似斯诺这类实验设计的缺陷是：它是由被试决定自己属于哪一个组的。因为他们早在几年前已与两家自来水公司签订了供水合同。我们还必须考虑为什么一些人与这家公司签约，而另外一些人与那家公司签约。是不是一家公司比另外一家公司的口碑好？是由于这家的价钱比较便宜，还是广告说这家的水有很好的药用价值？我们不得而知。关键的问题是：这些人选择其中一家公司是不是因为该公司做广告说他们的产品质量优于另外一家，特别是对人的健康有益处？而或许这些因素才是低发病率的真正原因。这是有可能的。<br>　　类似斯诺这样的实验设计就无法排除那些更为微妙的虚假相关，这类虚假相关不像其他与社会经济地位有关的相关那样容易被看出来。这就是科学家倾向于直接操纵他们感兴趣的变量的原因。当操纵变量与一种叫做随机分配的程序（在随机分配中被试不能决定自己进入哪种实验条件，而是被随机分配到某一个实验组）相结合时，科学家们就能够排除那些可以归因为被试本身特征的解释了。随机分配确保被试在对比实验条件下的所有变量基本保持一致，随着样本数量的增加，它还能平衡掉一些偶然因素。这是因为被试的分配是由不带偏见的随机方法实施的，而不是由某个人的选择决定的。请注意这里的随机分配与随机样本不是一回事，这两者的区别我们将会在第 7 章进行讨论。<br>　　随机分配是一种将被试分配到实验组和控制组的方法，以保证每个被试有同样的几率被分到其中一个组。掷硬币就是一种决定某一被试分到哪一组的手段。实际实验中往往采用电脑生成的随机数字表。通过使用随机分配，研究者在研究之前就试图平衡两组的所有行为变量和生理变量，甚至是那些研究者没有进行专门测量或考虑到的变量。<br>　　随机分配的效果如何，取决于实验中被试的数量。也许你会认为被试越多越好，也就是说，分配到实验组和控制组的被试的数量越多，两组间除了自变量以外的其他所有变量就越接近。但幸运的是，对于研究者来说，其实每组只需要一个相当少的人数（例如 15-20 人），随机分配就可以起到很好的效果。<br>　　使用随机分配能有效避免由于分组方式所导致的系统误差。这两组被试在所有变量上均得到匹配，但即使存在一定程度的不匹配，随机分配也消除了实验组或控制组之间的偏差。如果我们了解一下“重复”这个概念，对于随机分配如何去除系统误差这个问题就比较好理解了，所谓的重复是指在各种环境下重复一个实验，看还能否得到同样的实验结果。<br>　　设想一下，一个发展心理学家想要做一个关于早期丰富体验对学前儿童的影响的实验，在日托期间，随机分配到实验组的儿童每天接触心理学家设计的大量丰富活动，随机分配到控制组的儿童在同样的时间里只是参加一些比较传统的游戏活动。因变量是儿童上学一年后的期末成绩，通过成绩考察实验组儿童的表现是否优于控制组儿童。<br>　　像这样的实验就会用到随机分配，以确保两组在实验之初，所有能够影响因变量的无关变量都基本保持一致。这些无关变量有时被称为干扰变量。这个实验中的干扰变量可能会是儿童的智力测验成绩和他们的家庭环境。随机分配将会在大体上使两组间在这些变量上保持平衡。但也有例外，尤其当被试人数很少时，两组仍然有可能存在差异。例如，如果随机分配之后，实验组儿童的智力测验的成绩是 105.6，控制组的是 101.9（尽管恰当地使用了随机分配，这种差异还是有可能发生），我们就会担心实验组的学业成就的任何变化缘于该组儿童的智力测验成绩高，而不是由于他们经受了丰富的体验。这里就能看出重复验证的重要性了。后续研究进行随机分配之后，两组仍然可能存在智商差异，但是随机分配程序避免了系统误差，这就能够保证这种差异不会总是出现在实验组。事实上，无系统误差这一点所确保的是，在一定数量的类似研究中，智商差异出现在实验组和出现在控制组的概率是相等的。在第 8 章我们将会讨论如何使用这种多重的实验来提高结论的聚合效度。<br>　　因此，随机分配程序有两个优点。一个是在任何实验中，样本的数量越大，随机分配越能平衡两组所有其他的无关变量。而即使在一些匹配得不是特别好的实验里，由于随机分配克服了系统误差，仍然可以让我们得出令人信服的结论——只要研究可以被重复。</p><p>　　科学研究中不乏由于缺乏真实验的完全控制而得出错误结论的例子。罗斯和尼斯贝特（Ross &amp; Nisbett, 1991）提到一个发生在 20 世纪 60 年代中期的案例：门腔静脉分流术一度是一种非常流行的治疗肝硬化的方法。1966 年人们开始对此疗法进行大量研究，并且发现了一种令人感兴趣的现象。在 96.9% 的不包含控制组的研究中，医生判断这种治疗方法的效果至少在中等程度以上。在有控制组但没有使用随机分配的研究中（因此不属于真实验设计），86.7% 的研究显示同样的结论。但是，在有随机分配的控制组的研究中，只有 25% 的研究显示同样的结论。因此在今天，这种特殊治疗方法被认为是无效的，但在当时，由于没有进行完全的实验控制，治疗效果被夸大了。罗斯和尼斯贝特（1991）指出，“没有使用较为正式的实验程序所获得的积极效果，要么是‘安慰剂效应’的产物，要么是由于没有使用随机分配而产生的偏差”（p.207）。罗斯和尼斯贝特还继续探讨了“当没有使用随机分配的时候，选择性偏差是如何产生虚假相关的”这一问题。例如，如果一些病人被选作某种治疗方法的研究被试，他们可能会努力做一名好的参与者，或者他们拥有家庭的支持、积极的态度或者他们的家人对其病情更为关心，这些都可能影响实验组与控制组的差别，而这与治疗方法的效果没有任何关系。<br>　　在下结论之前必须获得“比较信息”，这种思维倾向并不是与生俱来的，这就是为什么所有科学研究都要经过训练。这些训练包括强调控制组的重要性的研究方法课程。控制组和实验组很像，只不过缺少一种重要因素的影响。</p><p>　　世界上发生的任何事情通常都与其他许多因素有关联。为了对许多同时发生的事件所造成的因果影响分别进行考察，我们必须创设一些通常情况下不会出现的条件。科学实验将世界上原有的相关分割开来，以此来使单一变量的影响显现出来。<br>　　心理学家采取的也是同样的方法：通过操纵和控制来分离变量。例如，认知心理学家们对阅读的过程很感兴趣，他们对促进或阻碍文字识别的因素进行了研究。毫无疑问，他们发现较长的单词比较短的单词更难识别。乍一看，我们会认为单词长度的影响是很容易测量的：简单地设置两组单词，一组长的，一组短的，然后测量两组读者识别速度的差异。不幸的是，事情远没有那么简单。长度较长的词，其使用频率可能也较低，而使用频率本身也会影响识别。因此，长词与短词之间的任何差别都可能是由于长度、使用频率或两个因素共同作用而造成的。为了明确到底词的长度能否独立地对词的识别造成影响，研究者必须创造一些特殊的词，它们的长度与使用频率不是同时变化的。<br>　　与之类似，戈德伯格之所以能够做出强有力的原因推断，是由于他设置了一组非自然发生的特殊条件（想一下他的一个实验操纵是要被试吃下人体的排泄物，这是何等的“不自然”啊！）。回想一下奥斯卡 . 芬斯特设置的一些测试“聪明汉斯”的实验条件，其中包括一些提问者也不知道答案。那些仅仅观察马在自然条件下（提问者知道答案）回答问题的人，非但永远不可能发现那匹马是如何做到这一切的，反而会得出错误的结论，认为那匹马真的具有数学知识。</p><p>　　心理学家哈里·哈洛（HarryHarlow）的著名实验（Anderson &amp; Anderson，1996; Harlow, 1958）就是个很好的例子。哈洛想要测试一种关于亲子依恋的假设：依恋的产生是由于母亲为婴儿提供食物。然而，问题是母亲提供的不仅仅是食物（还有舒适、温暧、爱抚以及刺激等）。哈洛创设了一种条件，在这种条件下只有一个变量与依恋有关——他让刚出生的短尾猴只能在“人造的”母亲之间选择，并测查了小猴子在这种条件下的行为。例如，他发现，小猴子喜欢厚绒布做成的“母亲”所提供的接触舒适感，甚于喜欢铁丝网做成的“母亲”。出生两周之后，小猴子更喜欢冰冷的厚绒布“母亲”，而不是温暧的铁丝“母亲”，这说明接触上的舒适感比温暧更吸引小猴子（Harlow &amp; Suomi, 1970）。最后，哈洛还发现，即使当食物仅来自于铁丝“母亲”的时候，小猴子仍然更喜欢厚绒布母亲。因此，“依恋仅是由于母亲提供食物”的这种假设是错误的。正是因为哈洛能够对现实世界里同时发生的变量分开进行考察，才会有这样的发现。</p><p>　　创设特殊条件来验证是否存在真正的因果关系，这种方法可以防止错误观念像病毒一样侵袭我们（Dawkin, 1993; Distin, 2005; Stanovich, 2004）。</p><p>　　许多人不知道从步枪射出的子弹落地的时间与子弹垂直落到地面的时间是相同的。</p><p>　　被试中很多人都对物体运动持有一种错误的观念，并且这些错误的观念与在牛顿之前三个世纪的理念不谋而合。麦克科劳斯基的当代被试和中世纪哲学家有共通之处：两组人在现实世界里都有很多有关物体运动的经验，但是没有人特意创设一种条件，进行科学的操纵、控制和比较。</p><p>　　再多的个人经验也不足以阻止人们产生关于物理运动的错误概念。飞行员威廉·兰格威斯基在阐述关于飞行中转弯角度这一知识的发展史的时候指出，他发现飞行员在 20 世纪早期的时候拒绝使用陀螺仪这类装置，因为他们相信“平衡本能”。但是，这些“直觉”不能使飞行员在云中感觉出飞机旋转的角度。一些坠机事件和险些坠机的事件发生之后，飞行员终于清醒地认识到：没有什么直觉能够代替真实的飞行物理学知识（Langewiesche, 1993）。</p><p>　　有关人类行为的许多常识是错误的，这不过是个小的例证而已。例如，没有证据显示有宗教信仰的人比没有宗教信仰的人更无私（Paloutzian, 1983; Smith, Wheeler, &amp; Diener, 1975）。许多研究显示，笃信宗教的程度与参加慈善活动、帮助贫困的人或是不欺骗其他人这些行为之间没有直接关系。并且，在很多研究文献中，没有证据证明很虔诚的人比那些自认为是无神论者的人更慈善，或是更愿意帮助别人。</p><h1 id="第-7-章-“但是这不是真实的生活！”——“人为性”批评和心理学"><a href="#第-7-章-“但是这不是真实的生活！”——“人为性”批评和心理学" class="headerlink" title="第 7 章 “但是这不是真实的生活！”——“人为性”批评和心理学"></a>第 7 章 “但是这不是真实的生活！”——“人为性”批评和心理学</h1><p>　　如果一个研究中使用了随机分配的方法，那么它就是一项真实验，如果没有使用，那么它是一项相关调查。许多使用随机取样的研究没有使用随机分配，那是因为它们只是调查性研究，旨在寻找关联——也就是说，这些研究属于相关调查研究。然而，一些研究既使用了随机取样，又使用了随机分配，那么它们肯定是真实验。</p><p>　　主要目的为理论验证的研究通常被称为“基础研究”。应用研究的目的是把数据直接应用于现实生活，但是基础研究则专注于理论验证。然而，仅仅根据某项研究是否有实践性应用来区分基础研究和应用研究，很可能会产生错误，因为这一差别常常会随着时间的增长而逐渐消失。应用研究的结果会很快得到应用。但是没有什么能比普遍的、准确的理论更具有实用性了。尽管很多科学家进行理论或实证研究的初衷并非解决具体的实践性问题，但他们发展出的科学理论或研究结果最终都解决了现实世界的许多问题。这样的例子在科学史上不胜枚举。</p><p>　　比如威尔赫姆·伦琴（Wilhelm Roentgen）的故事，他“发现了一件奇妙的事情，当他把焚光屏放在他的仪器附近时，荧光屏就会意外地发光；结果发现了自然界的一个新现象，他称之为 X 射线。三个月之后，X 射线已经被人们用来检查骨折”（p.82）。再来看霍华德·弗洛瑞（Howard Florey），他和一个同事一起研究抗菌机制。“青霉素是他们所研究的微生物之一，这种微生物是几年前才偶然发现的，但它的抗菌功能一直没有被发现。现在的许多药物都是在一些对应用没有特别兴趣的学术研究发现的基础上研制出来的。”（p.82） 西莫尔·凯迪（Seymour Kety, 1974）也谈到了气丙嚷这一治疗精神分裂症的特效药物是如何在一些看似没有关联的科学研究中被发现的。凯迪强调，几乎所有应用于精神分裂症治疗方法的发现都与精神分裂症毫无关系！历史一再证明，（通过让科学家解决特殊的实践性问题而）试图控制科学发展方向只能阻碍发展进程而非促进。具有讽刺意味的是，急于让科学家们解决实际问题，而不让其考虑“其他事情”（基础研究）的做法，被证明是最不切实际和目光短浅的。</p><p>　　正如先前提到的，认知心理学的研究成果通过了重复验证。信息加工的许多基本规律在全世界许多实验室中得到验证。人们可能不太知道，如果密歇根大学的一名心理学家获得一项重要的研究成果，那么类似的实验将很快在斯坦福大学、明尼苏达大学、俄亥俄州立大学、剑桥大学、耶鲁大学、多伦多大学等大学进行。通过这种检验，我们将很快知道这项结果是不是由于密歇根州被试的独特性或特殊的实验环境所造成的。</p><p>　　“武器效应”——如果一件武器出现在手边，会使得某个人更容易做出攻击性反应。</p><h1 id="第-8-章-避免爱因斯坦综合症——聚合性证据的重要性"><a href="#第-8-章-避免爱因斯坦综合症——聚合性证据的重要性" class="headerlink" title="第 8 章 避免爱因斯坦综合症——聚合性证据的重要性"></a>第 8 章 避免爱因斯坦综合症——聚合性证据的重要性</h1><p>　　科学工作的不确定性是大部分公众所意识不到的。科学实验很少能完全确定某个问题，或支持某一理论从而排除其他理论。新的理论也很少能够全面超越所有先前存在的相互竞争的概念体系。很多问题的确定并不像科学电影里所描绘的那样，由一个关键实验所决定，而是要等到科学界逐渐开始有了共识，认为支持某种理论的证据比支持其他任何理论的证据要有力得多。科学家所评估的证据不是来自于某个设计得异常完美的实验的数据，与之相反，科学家往往需要去评估来自几十篇实验论文的数据，这些实验各有瑕疵，但都能提供部分答案。科学发展的这种渐进模式受到阻碍，正是因为爱因斯坦综合症在公众中造成了一种思维定势，认为所有科学都和物理学一样，因为对于物理学来说，科学进步的跃进模式或许是最适用的。</p><p>　　科学总是遵循关联性原则，其特点在于众多个体的参与，而对这些个体的贡献进行评判的标准，是看它在多大程度上加深了我们对自然界的了解。没有哪个单独的个体能够依靠其特殊地位来主导讨论。当然，在第 1 章，我们已经讨论过科学的这种公共性，相比之下，伪科学经常认为特定的权威和研究者才有接近真理的“特殊”机会。</p><p>　　我们曾提出过两个理念，能为理解心理学的规则提供一个有用的情境。首先，科学上没有哪个实验是被设计得完美无缺的，对任何一个实验数据的解释都存在着不确定性。科学家们评估一个理论，往往不是坐等一个完美的或者关键的实验的出现，而是对大量局部存在瑕庇的实验的总体趋势进行评估。第二，许多科学在即使没有爱因斯坦的情况下也取得了进步。这些进步是蹒跚而曲折的，而不是通过伟大的“爱因斯坦式整合”那样的阶梯式跃进。和心理学一样，其他许多科学也都是由那些原本缺乏共同主题的知识不断积累和拼接而成。</p><p>　　从极端上讲，导致一个实验出错的方式有无数种（或用术语来说，就是变得混淆）。然而在大多数情况下往往不会有那么多干扰性的关键因素。在某个特定领域中拥有丰富经验的科学家，往往很清楚什么是最关键的因素。因此，当对某一研究结果进行审查时，科学家总能察觉实验中的关键瑕疵。接下来，聚合性证据原则提示我们去审查相关研究文献所呈现的瑕疵模式，因为这类模式要么支持、要么否定我们想要做出的结论。<br>　　假设来自大量不同实验的结果都很一致地支持了某一特定结论。假如实验本身并不完善，我们应该继续去评估这些研究瑕疵的性质和程度。如果所有的实验都是以同样一种方式出现瑕疵，这些情况将会降低我们对实验结论的信心，因为结论的一致性也许仅仅源于一个特定的瑕赃，而这个瑕疵是所有实验共有的；另一方面，如果所有实验都呈现出不同的瑕疵，我们对结论的信心就会大增，因为结果的一致性看似并非源自某一个让所有实验结果都混淆不清的干扰性因素。正如安德森（1996）所言，“不同的方法很有可能涉及不同的假设，当一个假设能够通过众多基于不同假设的证伪检验时，我们可以说是得到了一个强有力的结论”（p.742）。<br>　　每一个实验都有助于纠正其他实验在设计方面的错误，而其他实验反过来也检验它的瑕疵，使其获得支持。尽管各自多少都存在不同的缺点，并且实验技术也各有优劣，但只要大量的实验能够得到近似的结果，那么我们就可以说我们的实验证据实现聚合了。即使没有一个实验设计得十全十美，我们还是得到了一个相当有说服力的结果。因此，聚合性证据原则允许我们将结论建立在大量有些许差异的实验来源之上。这个原则之所以能让我们得出有说服力的结果，是因为这种方法所获得的结果的一致性不大可能是由某个实验程序的特殊性所造成的。</p><p>　　聚合性证据原则能够让我们摒弃一个误区，这个误区的形成是由于我们在第 2 章对于证伪性的讨论过分简单化所造成的。当时的讨论似乎让人觉得，当第一个与自己的理论相抵触的证据出现时，这个理论就算是被证伪了。然而事实并非如此（Pigliucci，2002）。正如理论是被聚合性证据所支持一样，它也要被聚合性的研究结果所否定。</p><p>　　心理学结论往往是建立在聚合性证据原则之上的。这个事实当然并不独特或罕见（在其他很多的科学中，结论也不是基于单一的、决定性的实验证据，而是基于众多结果不甚明晰的实验）。但这种情况在心理学中尤为突出，心理学实验的诊断性往往较低。也就是说，支持某一个理论的数据经常只能排除一小部分可能的解释，还遗留了许多有可能取代这种理论的“候补”理论。其结果是，只有收集并比较来自大量研究的数据之后，才能得到有说服力的结论。</p><p>　　我们必须抵御这样的诱惑：当证据还不确凿时，就把某一假说当作已经证实了的理论来对待。本书连续几章都反复强调了这种怀疑态度。要注意不要从相关中推论因果，拒绝接受见证叙述式的证据。</p><p>　　研究者拒绝这样的暗示，即承认某个特定研究存在瑕疵，就否定了“影视暴力会对攻击性行为产生影响”这一普遍的科学共识。其原因就在于，普遍的结论来源于聚合性。即使是不包含这类瑕疵的研究，其结果也会指向同一方向。这一研究当然也有其自身的问题，但其他研究对此进行修正之后也产生了相似的结论。</p><p>　　加拿大心理学家提莫西·摩尔（Timothy Moore, 1996）认为，如果人们能更加普遍地意识到聚合性原则，那么在法庭上将会更好地利用专家证词。他特别讨论了依赖专家证词的问题。证词属于个人意见，难以代表该领域专家的共识。摩尔引述了在“犹大圣徒”（Judas Priest，美国七八十年代著名的重金属摇滚乐队——译者注）一案中的专家证词。这起案件涉及两个青少年的自杀，他们的父母控告摇滚乐队“犹大圣徒”在歌曲中传达的潜意识信息诱发了他们孩子的自杀。尽管专家证词指出，当时的科学共识是：没有任何证据显示那些潜意识信息能产生这种效果 （即使是现在，这一共识仍然成立），然而，在一个不能反映实证性共识的学者进行了一番言之凿凿的心理动力学解释之后，这个案子的法官多少还是受了些影响。摩尔总结说，这个学者误导了法庭，“他的观点虽然极富想象力和逻辑性，但与当时对于此问题的主流科学理解相悖。长长的履历和尊贵的职位并不足以保证其观点是科学有效的，单个专家的证词是独特的、个人化的，并且未经更广泛的科学团体的认定，这样的专家不足以引导整个法庭”（p.38）。</p><p>　　对于某个特定问题的研究，通常是从相对较弱的方法过渡到可以做出较强结论的方法。例如，研究者对某个特定假设的兴趣，常常源于某个异常感兴趣的特殊个案。正如我们在第 4 章中讨论的，这就是个案研究的真正作用：为更有效力的进一步研究提供一些假设，同时激发科学家们用更为严格的方法去研究这些假设。个案研究之后，研究者多采用相关研究来确认变量之间是否存在真正的关联，而不仅是存在于几个个案中的巧合现象。如果相关研究证实了变量之间的关联，研究者就开始尝试采用实验法来对相关变量进行操纵，借以找到变量之间可能存在的因果关系。这个递进的顺序就是：从个案研究到相关研究，再到操纵变量。尽管并非每个研究领域都遵循这个渐进式途径（有时不同类型的研究同时进行），但这一向更有效方法迈进的进程的确是普遍发生的。</p><h1 id="第-9-章-打破“神奇子弹”的神话——多重原因的问题"><a href="#第-9-章-打破“神奇子弹”的神话——多重原因的问题" class="headerlink" title="第 9 章 打破“神奇子弹”的神话——多重原因的问题"></a>第 9 章 打破“神奇子弹”的神话——多重原因的问题</h1><p>　　人的行为是由多重原因共同决定的。</p><p>　　任何一个特定行为都不是由某个单独的变量引起，而是由许多不同的变量共同决定的。认定变量 A 和行为 B 之间存在显著的因果关系，并不意味着变量 A 就是引起行为 B 的惟一因素。例如，有研究者发现，收看电视的时间和学业成绩之间存在相关，但不会就此认为收看电视时间是影响学业成绩的惟一因素。道理很简单，学业成绩在一定程度上还受到大量其他变量的影响（例如，家庭环境、学校教育的质量等等）。实际上，相对于这些变量，看电视只是影响学业成绩的一个次要因素而已。同样地，收看大量的电视暴力也不是使儿童表现出攻击行为的惟一原因，它只是众多影响因素中的一个。</p><p>　　心理学家希尔多·瓦茨（Teodoire Wachs, 2000）以人们试图解释 1998 至 1999 年间发生在美国的校园枪击案的方式作为例子，指出，人们认为涉及的原因包括枪支容易获得、父母对孩子较低的关注、互联网、影视暴力、同伴影响和精神疾病。瓦茨认为，“很少有人觉得校园枪击案激增是上述原因共同作用的结果，任何解决方案都不应只针对某一个潜在的原因”</p><p>　　具备原因多样性的观念非常重要。一方面，它提醒我们不要过于依赖单一的原因解释。因为这个世界盘根错节，影响行为的因素也多样而复杂。虽然我们可以证明某一变量引起了某一行为，但并不代表已经发现了影响该行为的惟一原因，甚至是最重要的原因。为了对某种特定行为做出全面的解释，研究者必须探讨各种不同的变量对它的影响，并把这些研究结果整合起来，才能完整地描绘出所有与该行为有关的因果关系。</p><p>　　原因多样化的观点引出了另一个重要概念，那就是交互作用。</p><p>　　在实验中，那些被单独分离出来的慢性压力并未增加精神疾病的风险……这些风险因素单独作用时，没有一项与儿童的精神疾病存在关联；这些儿童患精神疾病的风险也不会比没有家庭压力的儿童高。然而，当任何两种不同来源的压力同时作用时，患病的风险就超过原来的 4 倍。若是 3 种或 4 种压力来源同时作用，那么患病的风险更是增大了好几倍。很明显，这些慢性压力的共同作用远远超过其各自效果的累加，因为几种并发压力之间存在交互作用，才令其总体效应远远大于单个压力效应之和。</p><p>　　考察行为的原因时，要依照多样性的原则来思考。不要陷入误区，认为某一特定行为只是由某一特殊原因造成。大部分复杂的行为都是由多重原因所决定的。各种各样的因素共同起作用才导致了某种行为出现。有时多个因素联合在一起时会产生交互作用。也就是说，变量共同作用时的整体效应，会和其单独作用时获得的效应完全不同。</p><h1 id="第-10-章-人类认知的阿喀琉斯之踵——概率推理"><a href="#第-10-章-人类认知的阿喀琉斯之踵——概率推理" class="headerlink" title="第 10 章 人类认知的阿喀琉斯之踵——概率推理"></a>第 10 章 人类认知的阿喀琉斯之踵——概率推理</h1><p>　　在自然界中很多关系的本质也是概率性的，例如：接近赤道的地区比较热；每家的孩子数目不超过 8 个；地球上大部分地区昆虫的数量比人类多。这些都是统计学可证明的趋势，但是它们当中的每一句话都不是绝对的，仍然可能会有例外。因为它们是概率的趋势和规律，而不是在所有情况下都成立的关系。</p><p>　　很多定律和关系也是用概率而非必然性来表述的。例如，人口遗传学的所有子学科都基于概率关系；物理学家告诉我们，原子中电子负荷的分布也是通过概率函数来描述的。</p><p>　　在心理学领域中，有一个已经被反复证实的发现，那就是一个具体事件的信息往往可以完全击败较为抽象的概率信息（第 4 章中讨论的“鲜活性”问题）。忽视概率信息的例子比比皆是，而且并不仅仅局限于缺乏科学知识的外行人。卡斯塞尔斯、谢诺博格和格瑞博维斯（Casscells, Schoenberger, &amp; Graboys, 1978）在哈佛医学院的四所教学医院中进行了一项研究，他们向 20 位医学专业的学生、20 位内科主治医师和 20 位办公室工作人员提出下面一系列问题：“如果在每 1000 人中有 1 人携带艾滋病病毒（HIV），再假设有一种检查可以百分百地诊断出真正携带该病毒的人；最后，假设这个检查有 5% 的阳性误诊率。也就是说，这项检查在没有携带 HIV 的人中，也会错误地检测出有 5% 的人是病毒携带者。假设我们随便找一个人来进行这项检査，结果呈阳性反应，表明此人为 HIV 携带者。假定我们不知道这个人的患病史，那么他真的是 HIV 携带者的概率是多少呢？<br>　　普遍的回答是 95%，正确的答案是约 2%。医生们过分高估了阳性结果表示患病的概率，因为他们一方面过分重视个案信息，另一方面又忽视了基础比率信息，从而过高地估计了阳性检测结果所真正代表的患病概率。稍稍进行逻辑推理就可以说明基础比率对概率的重要作用。1000 个人当中只有 1 人是真正的 HIV 阳性者。如果另外 999 人（不患病）也进行了此项检查，由于这一检查有 5% 的虚报率，他们当中将有接近 50 人（999 乘以 0.05）会被检查出携带这种病毒。这样一来，呈阳性反应的人就会是 51 个。因为在这 51 个人当中，只有 1 人是真正的 HIV 阳性者，此人确诊得病的概率其实只接近 2%。简而言之，基础比率就是绝大多数人没有携带这种病毒（病毒携带者只有千分之一）。这个事实和确定的虚报率综合考虑，就能使人确信，在绝对数量上，大部分呈阳性反应的人并不携带这种病毒。</p><p>　　尽管参与卡斯塞尔斯等人研究的医生们很快就意识到了以上概率逻辑的正确性，但他们最初的直觉反应却是忽视基础比率，并过分看重临床检测的证据。简单来说，事实上医生们知道什么是对的，但却本能地做出了错误结论。心理学家把这类问题称为认知错觉（参见 Kahneman &amp; Frederick, 2002，2005）。在认知错觉中，即使人们知道正确答案，他们也会由于问题的问法不同而做出错误的结论。</p><p>　　我们这里提到的所有例子都是认知错觉，因为它们都利用了人类推理的误区：过分倚重个别事件所提供的证据而忽视了统计学的信息。对大多数人来讲，个案证据（实验室的研究结果）好像是摸得着的、具体的，而概率证据则好像是摸不着、不确定的。当然，这种理解是错误的，因为个案证据本身一定是概率性的。一项临床检验会以一定的概率对疾病做出误诊。上述情境就是一个例子，要想做出正确的决策，就必须结合考虑两种概率——对个案证据做出正确或错误诊断的概率（即 95% 或 5%）和过去经验所提供的先验概率（也叫基础比率）。</p><p>　　在不同领域中进行证据评估时需要遵守的一条基本原则，就是认识到样本规模对信息可信度的影响，这对于理解行为科学的研究结果尤为重要。不管我们是否意识到，我们会对较大的群体持有一些普遍的看法。我们很少察觉到，我们最坚定的信念是建立在多么脆弱的事实基础之上。把对几个邻居和同事的观察，以及在电视新闻上看到的一些趣闻轶事放在一起，我们就迫不及待地要对“人性”或者“美国人”发表见解。</p><p>　　请回答下面两个问题：<br>　　问题 A：想象一下你在掷一枚普通的硬币（硬币出现正面和反面的概率各占 50%），已经连续出现了 5 次正面。对于第 6 次，你认为 ____ 出现反面的概率比正面要大 ____ 出现正面的概率比反面要大 ____ 正面和反面出现的概率一样大 问题 B：玩老虎机的时候，赢钱的机会是 1/10。茱丽头 3 次都赢了。她下次赢的几率是 ____ 分之 ____ 这两个问题是为了检测你是否容易出现所谓的赌徒谬误——即倾向于将过去事件和未来事件之间联系起来，而实际上两者是独立的。两个结果是相互独立的，一个事件的出现不会影响另一事件出现的概率。大多数机遇游戏都具备这种性质。例如，幸运轮盘的数字与之前的数字无关。轮盘数字一半是红的，另一半是黑色的（为简化起见，我们将忽略绿色的零和双零），所以对任意一次旋转来说，出现红色的概率均等（0.50）。然而在连续 5-6 次出现红色数字之后，许多投注者转投黑色，因为他们认为现在黑色更有可能出现。这就是赌徒谬误：明明是独立事件，却认为先前的结果会影响下一结果出现的概率。在这种情况下，投注者错在他们的信念。轮盘并不记得先前发生过什么。即使连续出现 15 个红色数字，红色数字在下轮出现的概率仍然是 0.50。</p><p>　　重要的是我们要认识到，这一谬误不仅限于赌博游戏，它还存在于任何概率起着重要作用的地方。换句话说，它几乎存在于一切事情之中。婴儿的基因构成就是一个例子。心理学家、医生和婚姻顾问常常遇到一些已有两个女孩的夫妇，他们正计划要生第三个孩子，因为“我们想要个男孩，这回一定是个男孩”。这就是赌徒谬误，在生了两个女孩之后生男孩的概率（接近 50%）和生第一个孩子时完全一样。生了两个女孩不会增加第三个孩子是男孩的概率。</p><p>　　赌徒谬误来源于对概率的诸多错误认识。其中一个错误认识就是，如果一个过程真正是随机的，就不可能出现重复同一结果或某种模式的序列，哪怕是一个不起眼的随机事件（例如，掷 6 次硬币）。人们习惯性地低估了重复（正正正正）或某种模式（正正反反正正反反正正反反）在一个随机序列中出现的可能性。正因为如此，人们在模拟一组真正的随机序列时，常常适得其反地产生出一个很少出现重复和某种模式的排列。这是因为，人们往往会错误地让可能的结果尽量轮流出现，以为这样才称得上是随机抽样，这无疑破坏了真正的随机排列中可能出现的结构（Nickerson, 2002; Towse &amp; Neil, 1998）。</p><p>　　和大多数学科一样，心理学研究所得出的是概率式的结论——大多数情况下会发生，但并非任何情况下都发生。虽然这些结论并非是 100% 准确的（就像其他科学中的情况一样），但根据心理学研究及理论所做出的预测仍然是有用的。</p><p>　　当人们遇到具体的、具有鲜活性的证据时，就把概率信息抛到一边了。他们没有考虑到，较大的样本能够提供对于总体数值更为精确的估计。最后，人们表现出赌徒谬误（把原本无关的事件看成是有联系的）。赌徒谬误源于下一章将要讨论的一个更为普遍的倾向：未能认识到偶然性在决定结果时所起的作用。</p><h1 id="第-11-章-偶然性在心理学中扮演的角色"><a href="#第-11-章-偶然性在心理学中扮演的角色" class="headerlink" title="第 11 章 偶然性在心理学中扮演的角色"></a>第 11 章 偶然性在心理学中扮演的角色</h1><p>　　我们大脑的进化始终以这样一种方式，就是让我们能够不懈地寻求世界中的各种模式。我们寻求身边事物的关系、解释及其背后的意义。心理学家已经对这种强烈倾向进行了研究。这是人类智力的典型特征，而且能够解释人类在信息加工和知识获得过程中表现出来的令人惊叹的诸多能力。<br>　　然而，人类认知过程的这种极具生存适应性有时也会反戈一击。例如，环境中没有什么可以进行概念化的东西，可我们还是还一味地去寻求概念性的理解，这就是一种不良适应。那么，到底是什么在人类认知这一最与众不同的方面制造麻烦呢？是什么打乱了我们对结构的寻求并阻碍了我们对事物的理解呢？你猜对了，是概率。说得更具体些，是偶然性和随机性。<br>　　偶然性和随机性是我们周围环境不可分割的一部分。偶然性和随机性的规律支配着生物进化和基因重组的机制，物理学也运用关于偶然性的统计定律来解释物质的基本结构。自然界发生的很多事情，都是系统性以及可解释的因素与偶然因素共同作用的结果。再回想一下前面谈到的例子：吸烟导致肺癌。生物学上系统的、可解释的方面将吸烟和某一疾病联系起来，但这并不表示所有吸烟者都会患肺癌，这种趋势是概率性的。或许最终我们能解释为什么有些吸烟者不会患肺癌，但在现阶段，这种变异性必须归因于大量偶然性因素，是这些因素决定一个人是否患某一疾病。<br>　　这个例子说明，当一件事取决于偶然性时，并不一定表示它是不确定的，只是说它目前是无法确定的。掷硬币是偶然事件，但并不是说在对抛掷的角度、硬币内的金属成分以及许多其他变量加以测量之后，也不可能确定其抛掷的结果。实际上，这些变量确实决定了掷硬币的结果。但是，我们称掷硬币为随机事件，是因为在每一次抛掷时，我们没有比较简易快捷的方法来测量这些变量。一次抛掷的结果并不是严格意义上的不确定，它只是在当下无法确定而已。</p><p>　　形形色色的“预谋论”通常也需要一套又一套复杂的说辞去解释那些预谋论者拼命想要理解的、原本是由随机因素导致的事件。这一现象十分典型，甚至各类权威人士在其专业领域内的工作也往往如是。许多金融分析师的思维方式就体现了这一谬误。他们通常会对股票市场价格的每一次小的波动都编造出精细的解释，而实际上这种变化大多只是随机波动而已（Malldel, 2004; Taleb, 2001）。然而，股票市场分析师总是不断对客户暗示他们可以（也许他们也相信自己可以）“征服市场”，即使当大量的证据表明他们中的大部分其实是做不到这一点的。过去几十年中，如果你购买了标准普尔指数中的所有 500 种股票，然后放着不去管它（我们称之为“傻子策略”的办法——去买一种依照这一指数的互惠基金），那么今天你获得的回报会比 2/3 的华尔街股票经纪人为他们的顾客所赚的还要高（Egan, 2005; Hulbert, 2006; Malkiel, 2004; Updegrave, 1995），你的成绩也会打败 80% 订阅费已经涨至每年 500 美元的财经通讯杂志（Kim, 1994）。</p><p>　　这个关于财经预测的例子的延伸，证明了原本纯粹随机的事件会因怎样的逻辑而看起来像是由可以预测的因素造成的（Fridson, 1993; Paolos, 1988）。假想你收到一封信，信中告诉你有这样一份关于股票市场预测的通讯。这个通讯并不收费，只是要求你试试照着他们的建议去买股票，然后看看它的预测灵不灵。它告诉你 IBM 的股票会在下个月攀升。你把这份通讯随手一扔，但是你确实注意到在下一个月里 IBM 股票果真涨了。如果你曾读过一本与本书的内容类似的书，你会觉得这是稀松平常的事情，仅会将其视为一次侥幸的猜中。后来你又收到另一份来自同一家投资咨询公司的通讯，该通讯说 IBM 股票会在下个月下跌，当股票确实跌了的时候，你仍将其视为侥幸，但是这一次你可能就有点儿好奇了。当这家公司寄来第三份通讯，预测 IBM 下个月会再次下跌时，你发现自己对这几页财经内容的关注度提高了。继而你发现该通讯又一次做出了准确预测，IBM 这个月确实又下跌了。当来自这家公司的第四份通讯说 IBM 下月会涨，而且也确实涨了时，你难免会觉得这个通讯真还挺神，而情不自禁地想花 29.95 美元去订一年这本如此有价值的通讯。这种诱惑难以抵挡，除非你能想象：此时在一个简陋的地下室里，某人正在准备下周要寄出的 1600 份通讯，这些通讯会按电话黄页上的 1600 个地址发出，其中 800 份预测 IBM 下月上涨，800 份预测下跌。当 IBM 在下个月真的涨了，公司就继续把通讯只发给上月接收到正确预测的 800 位“客户”（当然，其中还是 400 份预测涨，另外 400 份预测跌）。然后，你可以想象，这个“锅炉房”——可能还包括在背后煽风点火、辅助造势的电话营销骗子——正在向第二周接收到正确预测的 400 位客户发送第三个月的预测通讯（还是 200 份预测涨，200 份预测跌）。是的，你就是连续四次收到正确的随机预测信息的 100 个幸运儿之一！这 100 个“幸运儿”中的大多数会为了能继续收到通讯而支付 29.95 美元。<br>　　现在看来这就像是一个玩弄众人于股掌之上的可怕骗局。实际也是如此。而当那些“受人尊敬”的财经杂志或电视节目给你推荐“连续四年击败一半以上对手的股票经纪人”时，情况也好不到哪儿去。请回想一下猴子掷飞镖的场景，设想这些猴子是年年选股的股票经纪人。很明显，第一年他们之中有 50% 会击败他们的对手。第二年，这 50% 的人中又有一半——按随机水平来说——会击败其对手，即 25% 的经纪人能连续两年击败他们的对手。之后第三年又有一半——随机水平——能击败对手，即总人数的 12.5% 连续三年击败对手。最终到第四年，又会有这些人的一半（总人数的 6.25%）能击败自己的对手。因此，100 只猴子中大概有 6 只能取得像财经节目和报纸所说的“连续四年击败了其他的经纪人”的骄人成绩。那么，这 6 只击败了一起扔飞镖的同伴的猴子（正如你所见，也击败了大多数现实生活中的华尔街经纪人；参见 Egan, 2005; Malkiel, 2004）的确有资格在电视节目“华尔街一周”中亮相，你觉得呢？</p><p>　　解释偶然性：错觉相关和控制错觉 人们有解释偶然事件的倾向，这一现象在心理学的研究中称为错觉相关。当人们相信两类事件在通常情况下应该一起发生时，就会认为自己频繁地看到了同时发生的现象，甚至当这两类事件的同时出现是随机的，并不比任何其他两个事件同时发生的频率更高时也是如此。总之，即使是面对随机事件，人们也倾向于看到他们所期望的联系（Nisbett &amp; Ross, 1980; Stanovich, 1999, 2004）。他们在原本没有规律的地方看到了规律。</p><p>　　许多有控制的研究（如 King &amp; Koehler, 2000；Stanovich &amp; West, 1998）都证明，当人们头脑中已经预设了两个变量相互关联的想法时，他们甚至能够在两个变量根本毫无关系的数据中发现联系。</p><p>　　心理学家埃伦·兰格（EllenLanger）研究了控制错觉这一现象，指的是人们有一种倾向，愿意相信个人能力可以影响偶然事件的结果。在一项研究中，两个不同公司的雇员向同事兜售彩票，一些人只是简单地塞到手里，而另一些人则可以自行抽取。当然，在随机抽奖的事件中，彩票是自行抽取的还是派发的没有什么区别，中奖率都是一样的。但是，第二天，当这两个雇员试图向这些同事买回彩票时，自行抽取彩票的被试对彩票的要价是被派发者的四倍！在另外几项实验研究中，兰格证实了这一假设，之所以出现这些结果，是因为人们不能接受个人因素无法影响偶然事件这一事实。这一错觉广泛存在的证据来自于美国各州发行彩票的经验。这些州充斥着教人们如何“征服”彩票的伪科学书籍。这类书之所以畅销，是因为人们不懂得随机性的含义。事实上，自从 20 世纪 70 年代中期新泽西州发明了一种新的彩票售卖方式之后，美国各州才爆发购买彩票的热潮。这种方式就是让购买者可以自行刮奖或自行挑选号码（Clotfelter &amp; Cook, 1989; Thaler, 1992，p.138）。用这种售卖方式来进行的抽奖活动通常叫做“参与性抽彩”，而这类参与性抽彩正是利用了当时兰格研究的控制错觉现象：人们错误地相信他们的参与行为能够决定随机事件。</p><p>　　还有一些心理学家则研究了另一个与此相关的现象，该现象被称为公平世界假设，它是指人们倾向于相信自己是生活在一个公平的世界里，在这里每个人都得到他们应得的东西（Hkfer &amp; Begue, 2005）。研究者发现了一些实验证据，证明了公平世界中存在一种“罪有应得”的信念：人们会鄙视那些偶然不幸的受害者。为偶然事件寻求解释的倾向导致了这一现象。人们很难相信一个完美无瑕的或是道德修养高的人会因为偶然事件而惨遭不幸。固然我们想要相信好人有好报、恶人有恶报，但是，偶然性是不偏不倚的，它以完全不同的方式运行：好事坏事都以相同的概率发生在不同人身上。</p><p>　　公平世界假设中所体现的对于偶然性的错误理解，也助长了其他一些错误的民间信念，导致人们容易看到虚假相关。例如，我们在第 6 章中提到过，“盲人有非常敏锐的听觉”就是一个错误的信念，这个错误信念可能会一直流传下去，因为这种联系能体现“老天很公平”，而这正是人们希望看到的。</p><p>　　一个人的一生是由许多偶然因素决定的。</p><p>　　巧合只是相关事件偶然地同时出现。不幸的是，许多人并不这样解释巧合。那些在事件中寻求模式和意义的倾向与巧合“不可思议的”的特性结合在一起，让许多人忘记他们可以用偶然这一因素来解释巧合，反而为理解这一现象寻求特别的解释。下面讲的这个故事你一定已经听过无数次了：“那天我正坐在那儿寻思，我好久没给德克萨斯州的老比尔叔叔打电话了，紧接着电话铃就响了，你猜怎么着！正是我那老比尔叔叔打来的。这种心灵感应的背后肯定有点儿什么原因！”这就是一个典型的为巧合事件编造解释的例子。每天，我们大多数人都可能想到很多或远或近的人，这些人在我们想起他们时，有多少人可能会打电话来呢？几乎没有可能。这样一年之内，我们可能想过数百个不曾打来电话的人。最终，在经历数百次这种我们不曾意识到的“错误尝试”之后，某个人在我们想他 / 她的时候正准备给我们打电话。这种事情难得一见，但难得一见的事情也会发生——纯粹是偶然。其他解释都是画蛇添足。<br>　　如果人们真正理解了巧合的含义（一个偶然发生的令人不可思议的事件），他们就不会落入陷阱去寻求系统的、非偶然性的解释。但事实正相反，对很多人来说，巧合是需要偶然性以外的原因来解释的。例如，许多人都听到过这样的说法：“天哪！简直太巧了！我真想知道为什么！”为此，马科斯（Marks，2001）建议大家今后用罕见匹配这个比较中性的名词来形容令我们感到惊异的两个事件的同时出现。</p><p>　　事实上，概率定律确保了随着事件发生次数的增加，一些罕见匹配出现的可能性会变得很大。这一定律不仅允许罕见匹配出现，而且从长远来看几乎保证了它的出现。请看马科斯（Marks，2001）的例子，如果一次掷 5 枚硬币，结果它们都是正面朝上，你将认为这是一个罕见匹配，一件不太可能的事情。是的，它发生的概率是 1/32 或 0.03。但是如果你将这 5 枚硬币掷 100 次，再问，在这 100 次中，至少有一次全部正面朝上的可能性是多少呢？答案是 0.96，就是说，100 次中，这一罕见匹配是极有可能发生的。</p><p>　　若干年前，安·兰德炮制了一系列流传甚广的有关亚伯拉罕·林肯总统和约翰·肯尼迪总统之间令人“毛骨悚然”的巧合：<br>　　1. 林肯于 1860 年当选总统；肯尼迪则于 1960 年当选。<br>　　2. 林肯和肯尼迪都关注民权。<br>　　3. 林肯和肯尼迪这两个名字都有 7 个字母。<br>　　4. 林肯有一个秘书叫肯尼迪，肯尼迪也有一个秘书叫林肯。<br>　　5. 两人都由叫约翰逊的南方人继任。<br>　　6. 两人都被有三个名字的人暗杀（John Wilkes Booth 和 Lee Harvey Oswald）。<br>　　7.Booth 和 Oswald 都持有不受人欢迎的政见。<br>　　8.Booth 在剧院里射杀了林肯，然后藏在仓库里；Oswald 从仓库中射杀了肯尼迪，然后藏在剧院里。<br>　　当然，作为巧合，这些事之间的联系一点也不令人毛骨悚然。德克萨斯大学的电脑程序师约翰·李维（John Leavy, 1992）曾经搞了一个“令人脊背发凉的总统巧合竞赛”来说明，实际上在任何两个总统之间找到像上述那样的一个清单是多么容易的事（见 Dudley, 1998）。例如，李维的文章中比较了威廉·亨利·哈里森和扎卡里·泰勒、波尔克和卡特、加菲尔德和麦金利、林肯和杰克逊、尼克松和杰斐逊、华盛顿和艾森豪威尔威尔、格兰特和尼克松、麦迪逊和威尔逊之间的相似之处。下面是加菲尔德和麦金利之间惊人的相似之处：<br>　　1. 麦金利和加菲尔德都生长在俄亥俄州。<br>　　2. 麦金利和加菲尔德都是美国内战的老兵。<br>　　3. 麦金利和加菲尔德都在众议院任过职。<br>　　4. 麦金利和加菲尔德为了保护美国工业，都支持金本位制和关税保护制。<br>　　5. 麦金利和加菲尔德这两个名字都有 8 个字母。<br>　　6. 麦金利和加菲尔德都被来自纽约市的副总统取代：西奥多·罗斯福和切斯特·亚伦·阿瑟。<br>　　7. 罗斯福和阿瑟两人的名字都有 17 个字母。<br>　　8. 两个副总统都蓄须。<br>　　9. 麦金利和加菲尔德都在任期内第一年的 9 月被枪杀。<br>　　10. 刺杀他们的凶手，查尔斯·基埃图和利昂·乔尔戈什听起来都不像美国人的名字。<br>　　许多关于总统之间联系的清单都很相似。总之，考虑到一个人几十年的生命中人际交往和各类事件的复杂性，在这样一个包含成千上万个事件的样本空间里，任何两个人之间如果找不到什么相似之处才是让人感到奇怪的（Martin, 1998）。<br>　　懂得在什么时候避免对纯粹随机因素导致的事件编造复杂的解释，这是具有实际作用的。作家艾图尔·嘉万迪曾描述了 1973 年赎罪日战争期间，认知心理学家卡尼曼和以色列空军打交道的事例。两个飞行中队出发并返航，一队损失了四架飞机，另一队则没有损失。军方希望卡尼曼调查一下，之所以有这样的差异，是否有特别的因素在起作用。卡尼曼并没有去做调查，他仅仅运用了本章所谈到的理念去告诉以色列空军不要浪费时间：“卡尼曼知道，如果空军官员真的去调查，他们将不可避免地在两个中队间发现一些可测量的差异，并且感觉非得做点什么”（Gawande, 1999, p.37）。但是卡尼曼知道，任何找到的因素都极有可能是虚假的——不过是纯粹的偶然性波动的结果而已。</p><p>　　发生在我们个人生活中的罕见匹配往往对我们具有特殊的意义，我们尤其不愿将其归因为偶然。产生这种倾向的原因有很多，某些是动机性和情感性的，还有一些是概率推理的失败。我们通常不能意识到，罕见匹配只是巨大“概率事件”样本库中一个非常小的部分而已。对我们中的某些人来说，罕见匹配看起来好像经常发生，但是它真的经常发生吗？<br>　　想想如果我们现在对你个人生活中的罕见匹配加以分析，会得到什么结果。假定某一天里你参与了 100 件不同的事情。考虑到现代工业社会中生活的复杂性，这个数字并没有高估，实际上可能还低估了。你看电视、打电话、与人面谈、讨论去工作或去商场的路线、做烦人的家务、看书获取信息、在上班时完成复杂的任务等等。所有这些事件都包含很多可单独记忆的成分。这样一算，100 件事其实真不算多，不过，我们就按 100 件事情来算。罕见匹配是指其中两个事件不可思议地联系在一起了。那么典型的一天中这 100 件事之间共有多少不同的、两两匹配的组合呢？用一个简单的公式就能算出结果，你通常一天有 4950 个不同的配对组合，而一年有 365 天。我们知道，罕见匹配是令人难忘的，比尔叔叔打来电话的那一天可能令你数年难忘。假如你把 10 年内所记得的所有罕见匹配数出来，也许也就 6 或 7 件（或多或少，人们对于小概率有不同的标准）。这 6、7 件事情来自于一个多大的概率事件样本库呢？每天 4950 个配对事件，乘以一年 365 天，再乘以 10 年，得到 18067500 个配对。总之，10 年中如果有 6 个你认为是罕见匹配的联系发生了，就有 18067494 个也可能是罕见匹配的其他配对事件发生了。所以，你的生活中的一个罕见匹配发生的概率是 0.00000033。有 6 个罕见匹配出现在 1800 万个事件中，的确很稀罕，但并不奇怪。罕见的事件确实发生了，它们也的确少见，但是，偶然性这一因素保证了它们一定会发生（回忆前面掷 5 枚硬币的例子）。在我们的例子中，6 件奇事发生在你身上，它们可能是巧合：两个相关事件由于偶然性的存在而不可思议地同时发生了。</p><p>　　心理学家、统计学家以及其他科学家都指出，许多罕见匹配实际上并没有人们通常认为的那么“罕见”。著名的“生日问题”是最好的例子。在一个 23 人的班级里，有两个人生日是同一天的概率是多少？大多数人会认为非常低。而实际上，23 人的班级中，两人同一天过生曰的可能性大于 50%。而在 35 人的班级，可能性就更大了（概率大于 0.80，见 Martin, 1998）。所以，因为美国历史上有 43 位总统，因此詹姆斯·波尔克和沃伦·哈丁两位在同一天出生（11 月 2 日）也就不足为奇了。同样地，有 38 位总统都已过世，其中米勒德·菲尔莫尔和威廉·塔夫脱死于同一天（3 月 8 日）也不应令人感到惊讶，甚至还有另外 3 位总统——约翰·亚当斯、托马斯·杰菲逊、詹姆斯·门罗——都死于同一天，而这一天竟然是 7 月 4 日，美国独立日！后面这个神奇吗？其实不过是概率使然罢了。</p><p>　　对临床预测与统计预测的比较研究所得到的结果始终是一致的。自从保罗·米尔（PaulMeehl）的经典著作《临床预测与统计预测》（Clinica! Versus Statistical Prediction）于 1954 年出版以来，40 年间有超过 100 个研究表明，在几乎每一个曾经验证过的临床预测领域（精神治疗的效果、假释行为、大学生毕业比例、电击治疗的反应、累犯问题、精神病住院治疗期的长短等等），统计预测都优于临床预测（Dawes，Faust, &amp; Meehl, 1989; Faust, Hart, Guilmette, &amp; Arkes, 1988; Goldberg, 1959, 1968, 1991; Ruscio, 2002; Swetsetal., 2000; Tetlock, 2005）。<br>　　在多个临床领域中，研究者给临床心理医生一份病人的信息，让其预测这个病人的行为。与此同时，他们也把同样的信息加以量化，用一个统计方程加以分析，这一方程是以先前研究发现的统计关系为基础编制的。结果都是统计方程大获全胜。这就表明，统计预测比临床预测更为准确。事实上，即使是在临床心理医生可以获得比统计方法更多的资料的情况下，后者仍然比前者的预测更准确。也就是说，临床心理医生除了拥有与统计预测一样的量化资料以外，还拥有与病人单独接触和访谈所得到的资料，但是这并没有令其预测变得像统计预测那样准确。“即使拥有信息优势，临床判断仍然不能超越统计方法；实际上，拥有更多的信息，并不能弥补两种方法之间的差距”（Dawes et al., 1989, p.1670）。产生这种结果的原因当然是统计方程将各种信息数据按照优化标准整合起来，并且做得准确而稳定。优化和稳定这两个因素就让临床心理医生通过非正式方法收集到的资料和信息的优势消失殆尽。</p><p>　　对于研究显示统计预测优于临床预测的优势，米尔（Meehl, 1986）曾说：“社会科学中，没有任何一个争议能如这次这般，从这么大量的、性质上如此多样的研究中得到如此一致的结论。”（pp.373-374）。但令人尴尬的是，心理学领域并没有应用这一知识。例如，这个学科在研究生入学与心理健康培训招生等程序中仍然不停地使用个人面试，尽管大量征据表明，面试方法缺乏效度。临床工作者也继续利用一些似是而非的证据来证明他们对于“临床直觉”的依赖是合理的，而不依靠更有效的总体性预测。例如，道斯等（Dawesetal, 1989）曾指出：<br>　　一种普遍的反统计论调或误区在于，认为群体统计不适用单个人或事。这种观点是对概率基本原则的误用……要保持逻辑上的一致，反统计论的鼓吹者就必须相信并承认，如果一个人被迫玩一次俄罗斯轮盘赌，允许他选择膛内装有 1 发或 5 发子弹。事件的单一性使得选哪把枪都无所谓（p.1672）。</p><p>　　然而，正如麦佛和瑞特（Mc Fall &amp; Treat，1999）在一篇论述临床评估价值的文章所提醒的那样：“我们试图评估和预测的事情在本质上是概率性的。这意味着我们不能期望大自然会如此听话，能让我们以百分百的把握去预测单一事件。相反，我们最高的期望也只能是鉴别一系列可能的结果，然后去估计每个结果出现的相对可能性。从这种概率的角度看，传统临床评估期望达到的那种理想化目标——对独特的未来事件做出精确的预测——其实太天真了，反映了我们的无知或自大，或二者兼有”（p.217）。</p><p>　　如果我们将“接受错误以减少错误”变为一种习惯，心理学和整个社会都将从中受益。在试图对每一个不同寻常的事件做出独特解释时（就我们目前的知识情况来说，独特的解释也许根本不可能），我们常常丧失了对更多平常事件的预测能力。请大家再次回想一下红灯-蓝灯实验，诚然，“百分百红灯策略”会对出现概率较小或很少出现的不寻常事件（蓝灯亮）做出错误的预测，但如果我们把注意力放在出现概率较小的事件上，采用“70% 红灯、30% 蓝灯策略”，结果会怎样呢？我们会在 30 个不寻常事件中正确预测 9 次（30x0.3）, 其代价是丧失了对 21 个常见事件做出正确预测的机会，没有对红灯做出 70 次的正确预测，只获得 49 次的正确预测（70x0.70）。临床领域中的行为预测也遵循相同的逻辑，为每一个案编造复杂的解释，确实可能抓住一小部分不寻常事件——旦这是以损失了对大多数事件的正确预测为代价的，而在此方面，简单的统计预测则更有效。加望德（Gawande, 1998）指出，医学领域也同样需要学习“接受错误以减少错误”这个道理。他认为在医学里，强调直觉、个别化的治疗方法“是有缺陷的——我们试图承认并考虑人类复杂性的因素，但这非但没有避免错误，反倒招致了更多的错误”（p.80）。</p><p>　　华格纳和科瑞（Wagenaar &amp; Keren, 1986）论证了对个人知识的过分自信以及对统计信息的忽视，会破坏“系安全带驾车”的交通安全推广活动的效果。因为人们总是认为：“我和别人不一样，我驾车很安全”。问题是 85% 的人都认为“自己的技术比一般驾车者高明”（Svenson, 1981）——这显然是很荒谬的。<br>　　“统计数据不适用于单一个案”这一同样的谬误，是导致赌徒积习难改的重要因素。</p><p>　　这里有关临床-统计预测研究文献的讨论，并不意味着个案研究在心理学中毫无价值。请大家记住，这一章所谈的只是“对行为的预测”这一特定情境。回想一下在第 4 章中对于个案研究价值的讨论，个案信息在引发对重要的、需要进一步研究的变量的关注方面是非常有用的。而这一章中所说的则是，一旦相关的变量已经确定，我们要开始运用它们来预测行为时，测量这些变量并使用统计公式来进行预测始终是最优程序。首先，我们通过统计方法得到了更为准确的预测；其次，统计方式优于临床预测之处在于，统计程序所得出的预测是公共知识，任何人都可以使用、修改、批评或争论。相反，如果使用临床预测就等于要依靠个别权威的评估——由于这类判断太过个别和特殊——因此不能接受公众的评议。正如道斯（Dawes, 1994）所述</p><p>　　偶然性在心理学中扮演的角色时常被外行人士和临床心理从业者所误解。人们很难认识到，行为事件结果的变化中有一部分是由偶然因素造成的。也就是说，行为的变化有一部分是随机因素作用的结果，因此心理学家不应自诩能够预测每一例个案的行为。心理学的预测应该是概率性的——是对总体趋势的概率性预测。<br>　　表示自己可以在个体层次上进行心理预测，是临床心理学家常犯的错误。他们有时候会错误地暗示别人，临床训练赋予了他们一种对个别案例做出准确预测的“直觉”能力。恰恰相反，几十年来，有价值的研究都一致表明：在解释人类行为的原因方面，统计预测（基于群体统计趋势的预测）远远优于临床预测。目前还没有证据表明，临床直觉能预测一个统计趋势是否会在一个特定的个案身上出现。因此，当对行为进行预测时，千万不要对统计资料置之不理。统计预测也昭示，当对人类的行为进行预测时，错误和不确定性将始终存在。</p><h1 id="第-12-章-不招人待见的心理学"><a href="#第-12-章-不招人待见的心理学" class="headerlink" title="第 12 章 不招人待见的心理学"></a>第 12 章 不招人待见的心理学</h1><p>　　心理科学并不认为几个个案研究、见证叙述和个人经验就能构成支持某种疗法有效性的充分的实证证据——而这些却恰恰是大多数自助类“疗法”安身立命的根本。</p><p>　　菜谱式知识是指那些只告诉你如何去使用某物，但对其基本的运作原理一概不谈的知识。例如，大多数人知道如何使用电话，他们知道如何拨号，如何获得信息，如何打长途等等。但许多人对电话操作背后的物理原理一无所知。他们不知道电话的通话功能是如何实现的，他们只是会用。这就是电话的菜谱式知识。在我们的社会里，许多有关科技产品的知识都是菜谱式知识。<br>　　当然，这也不完全是一件坏事。事实上，多数技术产品的设计初衷，就是为了让那些对其背后的运作原理一无所知的用户也能使用。事实上，菜谱式知识这一概念提供了一种方法，可以概括基础研究和应用研究之间的区别。基础研究工作者寻找自然界的基本原理，而不去考虑这些原理能否转化为菜谱式知识。应用研究工作者则致力于将基本原理转化成一个个只需菜谱式知识就能使用的产品。<br>　　多数自助类读物只提供关于人类行为的菜谱式知识，它通常能够简化为这样的形式，“你只要做 X，你就会变得更加 Y 了”，或者“做 Z，某 A 就会表现出更多的 B”。当然，如果这个药方是正确的（这一假设往往并不全然成立），这么做也不为过。许多正规的心理治疗都提供了大量菜谱式知识。</p><p>　　在 20 世纪 70 年代末，法院判决了几起有关标准测验的诉讼案。其中的一起是 PASE 起诉汉农的案子，涉及智力测验中的文化偏见问题。审理该案的法官认为，能够帮助他裁定的惟一方法，就是由他来亲自检查每一道测验题，并且相信他自己的直觉。他对自己能做出正确判决的能力深信不疑，并对测验的每个问题写下自己的个人看法（BersofF, 1981, 1982）。这位法官断定，在这些标准测验中，一组测验中的八个题目和另一组测验中的一个题目可能是带有偏见的。这个法官没有意识到，像这样的问题其实是可以通过科学方法来检验的实证性问题。个人意见不仅与真相无关，甚至可能是极具误导性的。决定这些标准测验题目是否带有偏见，需要复杂的统计程序和收集大量的数据。心理学家已经并继续为评估和收集必要数据及发展相应的统计技术方面做出了突出的贡献。</p><p>　　颇具讽刺意味的是，研究实际发现，对于哪些题目存在文化偏见的问题，外行人的直觉判断通常都是错误的。许多被认为没有偏见的题目实际上却存在着多种偏见，而许多表面上看来不公正的题目却没有发现统计意义上的偏见（Sandoval &amp; Miille, 1980）。举个例子来说，韦氏成人智力量表在加拿大受到批评，因为其中某一分量表（“信息”分量表）中的一些题目似乎有偏袒美国公民之嫌。例如，其中有一个题目要求被试写出 1950 年之后美国四位总统的名字。因此，当这个测验在加拿大使用时，一些题目就被“加拿大化”了（Violato, 1984, 1986）。例如，那道“总统”的题目被改为 “1900 年之后加拿大四位总理的名字”。然而，就算是这样一个显而易见的、“常识性”的改变也产生了一个小问题：加拿大公民在“总统版本”的智力测验得分比在“总理版本”中的得分要高。</p><p>　　一个受过良好训练的心理学家应当知道，我们有把握对总体的行为做出预测，但是在预测某个特定个人的行为时，就存在很大的不确定性（见第 10 章和第 11 章），因此，即便是最有能力的心理学家，也不应该在没有强调这点的情况下去做任何个人预测。</p><p>　　心理学领域依然在遭受不端行为的践踏。例如，“紧急事件应激晤谈”在许多场合被作为标准化的程序，用于治疗那些经历了爆炸、枪击、战争、恐怖主义和地震的患者（Groopman, 2004; Mc Nally, Bryant, &amp; Ehlers, 2003）。晤谈程序包括让患者“谈论事件并公开表达他们的情绪，尤其是当着也经历了同样事件的公司同事的面”（Mc Nally et al., 2003, p.56），其目的是为了减少创伤后应激障碍（PTSD）的发生。大多数经过晤谈的病人都报告说这种体验是有帮助的。当然，看过此书的人都不会认为其依据具有说服力（想想第 4 章中关于“安慰剂”效应的讨论）。显然，需要有一个控制组（一些没有接受紧急事件应激晤谈的患者）。事实上，“许多创伤幸存者都在没有专业帮助的情况下从最初的创伤后反应中恢复了过来”（Mc Nally et al., 2003, p.45），因此需要证明，重大事件应激叙事的使用确实带来了更高的恢复率。虽然真正的控制实验所揭示的结果并非如此（Groopman, 2004; Mc Nally et al., 2003），但这一疗法还在被继续使用。</p><p>　　心理学呈现给公众的印象却是很多临床治疗师宣称自己具有“独特的”洞察人心的能力——但这种洞察力在研究证据方面是站不住脚的，</p><p>　　许多人的个体心理学和科学心理学一样，也想探究更为基本的心理学规律和理论，然而这些个人理论和科学理论存在着重大的分歧。我们曾经提到过，这些个人化理论是无法证伪的。许多人的个人心理学理论缺乏缜密的建构，只是一些适用于个别情形的陈词滥调的简单堆砌，有时这些话还会自相矛盾。它们向人们保证，存在一个确定的解释，而那些与之完全对立、会彻底动摇人们信念的事件都是不可能发生的。尽管这些理论极具慰藉功能，但正如第 2 章中所讨论的，除了慰藉之外，以这种方式提出的理论再无别的功能。这些理论都以“事后诸葛亮”的方式解释一切，对未来没有任何的预测。没有预测，也就没有给我们提供任何信息。心理学科的理论必须符合可证伪的标准，这就是心理科学与许多外行人的个人心理学的不同之处。</p><p>　　许多宗教都已经逐渐不再声称他们对宇宙结构具有专门的知识。除了一些局部性的争议——如特创论——科学与宗教之间的大型战争已经成为历史。科学家们探究自然世界的结构，而许多宗教则对运用这些发现时可能带来的影响做出评论，但宗教已经不再与科学争夺对于这些发现的解释权了，对有关自然界的主张的裁定权，无疑已经掌握在科学家手中。</p><p>　　心理学是科学中最后一个面临这种微妙局面的学科。这与心理学产生的时间有关。大多数学科成熟于精英控制社会结构的年代，那个时候，普通人的意见没有影响力。而心理学则产生于一个民主的传媒时代，忽视公众意见会危及自身。许多心理学家正在努力修复心理学与公众在沟通方面的糟糕记录。当越来越多的心理学家开始在与公众的沟通中发挥作用时，势必会加剧他们与那帮将个人心理学和科学心理学混为一谈人的冲突。</p><h1 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h1><ol><li>心理学的进步是通过研究可解的实证问题而取得的。这种进步是不均衡的，因为心理学由许多不同的子领域构成，某些领域的问题要比其他领域具有更高的难度。</li><li>心理学家提出可证伪的理论来释他们的研究发现。</li><li>理论中的概念都具有操作性定义，这些定义将随着证据的积累而逐渐演变。</li><li>这些理论是通过系统实证的方法来检验的，用这种方法收集来的数据是公开的，也就是说，它允许其他科学家重复这些实验并提出批评。</li><li>心理学家的数据和理论，只有在那些经过同行评审程序的科学刊物上发表之后，才算是进入了科学领域。</li><li>实证主义之所以具有系统性，是因为它遵循控制和操纵的逻辑，这二者也是真实验的特性。</li><li>心理学家采用许多不同的方法来获得他们的结论，这些方法的优缺点各有不同。</li><li>在许多情况下，只有经过许多实验数据的缓慢积累才能得出结论。</li><li>最终被揭示的行为规律，通常情况下都是一种概率关系。</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/115.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="心理学" scheme="https://qianling.pw/categories/%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    
    
    <category term="心理学" scheme="https://qianling.pw/tags/%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>抖音商城运营</title>
    <link href="https://qianling.pw/dou-mall/"/>
    <id>https://qianling.pw/dou-mall/</id>
    <published>2023-02-18T03:07:59.000Z</published>
    <updated>2023-11-25T12:31:22.933Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/117.webp"></p><span id="more"></span><hr><h1 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h1><p><a href="https://school.jinritemai.com/doudian/web/lives">抖音电商学习中心</a><br><a href="https://bytedance.feishu.cn/file/FxGDbu8mzoI3tYxgQBGchlIensc">2023抖音电商FACT+S全域经营应用通案</a><br><a href="https://bytedance.feishu.cn/docx/AdGxdhXz5oTr2SxKcKEcFQz7n6c">智能测图sop（测试商家使用）</a><br><a href="https://bytedance.feishu.cn/docx/M335dTyKfoe8abxImjHchLVhnJe">【评价运营】如何撬动收益</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHaFTrUraMcG">罗盘「商城推荐分析」上线</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHdoc1bousBS">优价推手计划丨助力重点商家获取专享流量扶持权益</a><br><a href="https://bytedance.feishu.cn/docx/doxcnUPIFI5aZw3uUEzRCGQW6Ic">抖音电商搜索运营3要素 - 实操手册V1.5.2（外化版）</a><br><a href="https://bytedance.feishu.cn/docx/YT36dUW01oP5adxJFzvcQ5Gynke">抖音电商商城推荐（猜你喜欢）运营3要素-实操手册</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHcYHAAhrB82">2023抖音电商「搜索运营三要素」全新升级 - 实操手册</a><br><a href="https://school.jinritemai.com/doudian/web/course-series/cHdY75vPCBRM/cHdY75vPCBRMlHdYRvY91SGN">抖音电商店铺运营白皮书</a><br><a href="https://bytedance.feishu.cn/docx/YU6GdHJsqox2PHxcqG1c8zHhnYe">抖音电商数据就用「罗盘」；罗盘·经营「竞争对比」免费开放啦</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHcu2PAnpjZv">如何查看商品卡竞店流量及行业榜单？</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHUW2MCvHqF3">【商品】短标题创建指南</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHe94NdMuN3V">【商品】诊断优化中心使用说明</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHYhVvzvnFuG">罗盘搜索分析全新升级，助力玩转搜索流量！</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHowTyJEwXcs">【罗盘·策略】搜索Playbook</a><br><a href="https://bytedance.feishu.cn/docx/doxcntj5XmCtMakiqa5lDsEZJpd">商家开展商品标题优化sop（可对外）</a><br><a href="https://school.jinritemai.com/doudian/web/article/aHax3jRNoe9B">抖音商城运营指南</a><br><a href="https://bytedance.feishu.cn/docx/Pde4dEyJxoxK8bxpESSckOxbnOg">家电商家培训通案-商家版</a><br><a href="https://bytedance.feishu.cn/docs/doccn0wCEiYXdpQ1AnFj4TWua8g">【外部】抖音APP群聊功能营销参考</a><br><a href="https://bytedance.feishu.cn/docs/doccnCdMGAfEumjEGbtLRWZRFwh">抖音电商“会员通”全新升级和运营场景</a><br><a href="https://bytedance.feishu.cn/docs/doccnOrw5wZGSp01eXvmRGPjlrd#">抖音电商“会员通”接入流程checklist</a></p><h1 id="入口"><a href="#入口" class="headerlink" title="入口"></a>入口</h1><p><a href="https://fxg.jinritemai.com/ffa/g/goods-detail/batch-edit">批量设置商详</a><br><a href="https://fxg.jinritemai.com/ffa/growth-common/shelf-score">商城经营分</a><br><a href="https://fxg.jinritemai.com/ffa/di/NewBusinessCenter">蓝海商机</a><br><a href="https://fxg.jinritemai.com/ffa/di/productLevel">商品分层</a><br><a href="https://fxg.jinritemai.com/ffa/g/diagnose">商品诊断</a><br><a href="https://fxg.jinritemai.com/ffa/g/search/seo/list">搜索商品诊断</a><br><a href="https://fxg.jinritemai.com/ffa/mvip/configuration/service">会员运营</a><br><a href="https://fxg.jinritemai.com/ffa/merchant/child-campaign-detail?id=7172058068761444638&from=operation_seller_link">【不锁定库存】超值购-长期活动入口</a><br><a href="https://fxg.jinritemai.com/ffa/merchant/child-campaign-detail?id=7169444273513840904&from=operation_seller_link">【new】超值购-【虚拟+大件类目】报名入口</a><br><a href="https://compass.jinritemai.com/shop/product-rank">行业商品榜</a><br><a href="https://fxg.jinritemai.com/ffa/g/list">商品管理</a><br><a href="https://fxg.jinritemai.com/ffa/marketing/tools/daren/price">达人专属营销</a><br><a href="https://trendinsight.oceanengine.com/arithmetic-index">巨量算数-竞品搜索指数</a></p><p><a href="https://compass.jinritemai.com/shop/store-analysis">店铺页分析</a><br><a href="https://fxg.jinritemai.com/ffa/mshop/decorate/selection/list/data">店铺页面单次浏览时长</a><br><a href="https://compass.jinritemai.com/shop/product-analysis">商品点击率（PV）</a><br><a href="https://compass.jinritemai.com/shop/merchandise-traffic">商品流量明细数据</a><br><a href="https://im.jinritemai.com/pc_seller_v2/main/data/salesData/historyData">询单转化率</a><br><a href="https://compass.jinritemai.com/shop/traffic-analysis-product">流量来源商品明细</a></p><h1 id="指标计算"><a href="#指标计算" class="headerlink" title="指标计算"></a>指标计算</h1><h2 id="数据源"><a href="#数据源" class="headerlink" title="数据源"></a>数据源</h2><ul><li>商城核心数据：<a href="https://compass.jinritemai.com/shop/mall-analysis">商城-商城概览-趋势对比</a></li><li>商城推荐分析：<a href="https://compass.jinritemai.com/shop/mall-recommend">商城-商城推荐分析-趋势对比</a></li><li>搜索运营数据：<a href="https://compass.jinritemai.com/shop/search/traffic-analysis">搜索-流量概况-趋势对比</a></li><li>商品卡流量分析数据：<a href="https://compass.jinritemai.com/shop/traffic-analysis">商品卡-流量分析-趋势分析</a></li></ul><h2 id="计算字段"><a href="#计算字段" class="headerlink" title="计算字段"></a>计算字段</h2><h3 id="罗盘经营"><a href="#罗盘经营" class="headerlink" title="罗盘经营"></a>罗盘经营</h3><ul><li>直播间搜索商品点击率 =直播间搜索商品点击人数/直播间搜索商品曝光人数</li><li>搜索商品点击率 =搜索商品点击人数/搜索商品曝光人数</li><li>商品卡搜索点击率 =商品卡搜索商品点击人数/商品卡搜索结果曝光人数</li><li>商品卡搜索成交转化率 =商品卡搜索成交订单量/商品卡搜索商品点击人数</li><li>搜索商品曝光率 =搜索商品曝光人数/搜索结果曝光人数</li><li>商品卡点击率 =商品卡点击人数/商品卡曝光人数</li><li>看后搜商品点击率 =(商品卡看后搜点击人数+短视频看后搜商品点击人数+看后搜商品点击人数+直播间看后搜商品点击人数)/(商品卡看后搜曝光人数+短视频看后搜商品曝光人数+看后搜商品曝光人数+直播间看后搜商品曝光人数)</li><li>付费搜索结果点击率 =付费搜索结果点击人数/付费搜索结果曝光人数</li></ul><h3 id="竞争分析"><a href="#竞争分析" class="headerlink" title="竞争分析"></a>竞争分析</h3><ul><li>曝光-成交转化率=成交人数指数/搜索曝光人数指数</li><li>搜索点击-成交转化率=成交人数指数/点击人数指数</li><li>点击率=点击人数指数/搜索曝光人数指数</li></ul><h3 id="搜索品专"><a href="#搜索品专" class="headerlink" title="搜索品专"></a>搜索品专</h3><ul><li>曝光-点击率=IFERROR(点击次数/曝光次数,0)</li><li>平均每单成交额(7日总归因)=IFERROR(‘GMV(7日总归因)’/‘成交订单数(7日总归因)’,0)</li></ul><h3 id="全店成交分析-载体构成"><a href="#全店成交分析-载体构成" class="headerlink" title="全店成交分析-载体构成"></a>全店成交分析-载体构成</h3><ul><li>成交客单价=IFERROR(‘成交金额(元)’/成交人数,0)</li><li>成交笔单价=IFERROR(‘成交金额(元)’/成交订单数,0)</li><li>商品点击-支付转化率(次数)=IFERROR(成交订单数/商品点击次数,0)</li></ul><h3 id="引流搜索词"><a href="#引流搜索词" class="headerlink" title="引流搜索词"></a>引流搜索词</h3><ul><li>内容-商品曝光转化率(人数)=IFERROR(商品曝光人数/内容曝光人数,0)</li><li>商品曝光-点击转化率(人数)=IFERROR(点击人数/商品曝光人数,0)</li><li>内容曝光-点击转化率(人数)=IFERROR(点击人数/内容曝光人数,0)</li><li>点击-成交转化率(人数)=IFERROR(成交人数/点击人数,0)</li></ul><h2 id="度量值"><a href="#度量值" class="headerlink" title="度量值"></a>度量值</h2><h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><ul><li>短视频搜索商品点击率(人数)=DIVIDE(SUM([短视频搜索商品点击人数]),SUM([短视频搜索商品曝光人数]))</li><li>直播间搜索商品点击率(人数)=DIVIDE(SUM([直播间搜索商品点击人数]),SUM([直播间搜索商品曝光人数]))</li><li>短视频搜索结果点击率(次数) =DIVIDE(SUM([短视频搜索结果点击次数]),SUM([短视频搜索结果曝光次数]))</li><li>直播间搜索结果点击率(次数) =DIVIDE(SUM([直播间搜索结果点击次数]),SUM([直播间搜索结果曝光次数]))</li><li>商品卡搜索结果点击率(次数) =DIVIDE(SUM([商品卡搜索结果点击次数]),SUM([商品卡搜索结果曝光次数]))</li><li>搜索结果点击率(次数) =DIVIDE(SUM([搜索结果点击次数]),SUM([搜索结果曝光次数]))</li><li>搜索结果点击-成交转化率(次数) =DIVIDE(SUM([搜索成交订单数]),SUM([搜索结果点击次数]))</li><li>搜索商品点击-成交转化率(人数)=DIVIDE(SUM([搜索成交人数]),SUM([搜索商品点击人数]))</li><li>短视频搜索结果点击-成交转化率(次数) =DIVIDE(SUM([短视频搜索成交订单数]),SUM([短视频搜索结果点击次数]))</li><li>直播间搜索结果点击-成交转化率(次数) =DIVIDE(SUM([直播间搜索成交订单数]),SUM([直播间搜索结果点击次数]))</li><li>商品卡搜索结果点击-成交转化率(次数) =DIVIDE(SUM([商品卡搜索成交订单数]),SUM([商品卡搜索结果点击次数]))</li><li>短视频搜索商品点击-成交转化率(次数)=DIVIDE(SUM([短视频搜索成交人数]),SUM([短视频搜索商品点击人数]))</li><li>直播间搜索商品点击-成交转化率(次数)=DIVIDE(SUM([直播间搜索成交人数]),SUM([直播间搜索商品点击人数]))</li><li>商品卡搜索商品点击-成交转化率(次数)=DIVIDE(SUM([商品卡搜索成交人数]),SUM([商品卡搜索商品点击人数]))</li><li>短视频搜索结果曝光人数占比=DIVIDE(SUM([短视频搜索结果曝光人数]),SUM([搜索结果曝光人数]))</li><li>直播间搜索结果曝光人数占比=DIVIDE(SUM([直播间搜索结果曝光人数]),SUM([搜索结果曝光人数]))</li><li>商品卡搜索结果曝光人数占比=DIVIDE(SUM([商品卡搜索结果曝光人数]),SUM([搜索结果曝光人数]))</li><li>短视频搜索成交金额占比=DIVIDE(SUM([短视频搜索成交金额]),SUM([搜索成交金额]))</li><li>直播间搜索成交金额占比=DIVIDE(SUM([直播间搜索成交金额]),SUM([搜索成交金额]))</li><li>商品卡搜索成交金额占比=DIVIDE(SUM([商品卡搜索成交金额]),SUM([搜索成交金额]))</li></ul><h3 id="看后搜"><a href="#看后搜" class="headerlink" title="看后搜"></a>看后搜</h3><ul><li>看后搜商品点击率(人数)=SUM(‘看后搜’[看后搜商品点击人数])/SUM(‘看后搜’[看后搜商品曝光人数])</li><li>看后搜成交金额占比=DIVIDE(SUM(‘看后搜’[看后搜成交金额]),SUM(‘搜索’[搜索成交金额]))</li><li>看后搜成交人数占比=DIVIDE(SUM(‘看后搜’[看后搜成交人数]),SUM(‘搜索’[搜索成交人数]))</li><li>看后搜搜索结果曝光人数占比=DIVIDE(SUM(‘看后搜’[看后搜结果曝光人数]),SUM(‘搜索’[搜索结果曝光人数]))</li><li>看后搜商品曝光占比=DIVIDE(SUM([看后搜商品曝光人数]),SUM([看后搜结果曝光人数]))</li><li>看后搜商品点击-成交转化率(人数)=DIVIDE(SUM([看后搜成交人数]),SUM([看后搜商品点击人数]))</li></ul><h3 id="付费搜索"><a href="#付费搜索" class="headerlink" title="付费搜索"></a>付费搜索</h3><ul><li>付费搜索结果点击率(次数) =SUM([付费搜索结果点击次数])/SUM([付费搜索结果曝光次数])</li><li>付费搜索结果曝光人数占比=DIVIDE(SUM(‘付费搜索’[付费搜索结果曝光人数]),SUM(‘搜索’[搜索结果曝光人数]))</li><li>付费搜索成交金额占比=DIVIDE(SUM(‘付费搜索’[付费搜索成交金额]),SUM(‘搜索’[搜索成交金额]))</li><li>付费搜索成交人数占比=DIVIDE(SUM(‘付费搜索’[付费搜索成交人数]),SUM(‘搜索’[搜索成交人数]))</li><li>付费搜索结果点击-成交转化率(次数)=DIVIDE(SUM([付费搜索成交订单数]),SUM([付费搜索结果点击次数]))</li></ul><h3 id="猜你喜欢"><a href="#猜你喜欢" class="headerlink" title="猜你喜欢"></a>猜你喜欢</h3><ul><li>猜你喜欢商品卡点击率(人数)=SUM(‘猜你喜欢’[商品卡点击人数])/SUM(‘猜你喜欢’[商品卡曝光人数])</li><li></li></ul><h3 id="商品卡"><a href="#商品卡" class="headerlink" title="商品卡"></a>商品卡</h3><ul><li>商品卡点击率(人数) =SUM([商品卡点击人数])/SUM([商品卡曝光人数])</li><li>商品卡点击-成交转化率(人数)=SUM([成交人数])/SUM([商品卡点击人数])</li><li>商品卡成交客单价=SUM([成交金额(元)])/SUM([成交人数])</li><li>商城商品卡成交金额占比=DIVIDE(SUM(‘商品卡’[成交金额(元)]),SUM(‘商城概览’[商城成交金额(元)]))</li></ul><h3 id="搜索品牌专区"><a href="#搜索品牌专区" class="headerlink" title="搜索品牌专区"></a>搜索品牌专区</h3><ul><li>曝光-点击率(次数)=SUM([点击次数])/SUM([曝光次数])</li><li>点击-支付转化率(次数)=SUM([成交订单数])/SUM([点击次数])</li><li>直播曝光-观看率(次数)=SUM([直播间观看次数])/SUM([曝光次数])</li><li>直播观看-商品点击率(次数)=SUM([直播间商品点击次数])/SUM([直播间观看次数])</li><li>点击-7日支付转化率(次数)=SUM([成交订单数(7日总归因)])/SUM([点击次数])</li><li>平均每单成交额(7日总归因) =DIVIDE(SUM([GMV(7日总归因)]),SUM([成交订单数(7日总归因)]))</li><li>直接支付ROI=DIVIDE(SUM([支付订单GMV(直接归因)]),5092.59*COUNT([日期]))</li><li>7日总支付ROI=DIVIDE(SUM([GMV(7日总归因)]),5092.59*COUNT([日期]))</li><li>曝光-关注率(次数)=SUM([新增粉丝数])/SUM([曝光次数])</li><li>直播观看-关注率(次数)=SUM([直播间关注数])/SUM([直播间观看次数])</li><li>曝光-主页访问率(次数)=SUM([主页访问次数])/SUM([曝光次数])</li><li>曝光-店铺访问率(次数)=SUM([店铺访问次数])/SUM([曝光次数])</li><li>观看-成交转化率(次数)=SUM([成交订单数])/SUM([直播间观看次数])</li><li>转化成本=DIVIDE(SUM([消耗]),SUM([成交订单数(7日总归因)]))</li><li>点击成本=DIVIDE(SUM([消耗]),SUM([点击次数]))</li><li>曝光成本=DIVIDE(SUM([消耗]),SUM([曝光次数]))</li><li>千次展示费用=DIVIDE(SUM([消耗]),SUM([曝光次数]))*1000</li></ul><h3 id="全店成交分析"><a href="#全店成交分析" class="headerlink" title="全店成交分析"></a>全店成交分析</h3><ul><li>店铺成交客单价=DIVIDE(SUM([成交金额(元)]),SUM([成交人数]))</li><li>店铺商品点击-支付转化率(次数) =DIVIDE(SUM([成交订单数]),SUM([商品点击次数]))</li><li>店铺商品点击-支付转化率(人数)=DIVIDE(SUM([成交订单数]),SUM([商品点击人数]))</li><li>店铺商品曝光-点击率(次数)=DIVIDE(SUM([商品点击次数]),SUM([商品曝光次数]))</li><li>店铺重复购买率=DIVIDE(SUM([成交订单数])-SUM([成交人数]),SUM([成交人数]))</li></ul><h3 id="商城概览"><a href="#商城概览" class="headerlink" title="商城概览"></a>商城概览</h3><ul><li>商城成交金额占比=DIVIDE(‘商城概览’[以下项目的总和:商城成交金额(元)],’成交概览’[以下项目的总和:成交金额(元)])</li><li>商城成交订单数占比=DIVIDE(SUM(‘商城概览’[商城成交订单数]),SUM(‘成交概览’[成交订单数]))</li><li>商城成交客单价=DIVIDE(SUM([商城成交金额(元)]),SUM([商城成交人数]))</li><li>商城成交人数占比=DIVIDE(SUM(‘商城概览’[商城成交人数]),SUM(‘成交概览’[成交人数]))</li><li>商城商品点击人数占比=DIVIDE(SUM(‘商城概览’[商城商品点击人数]),SUM(‘成交概览’[商品点击人数]))</li><li>商城商品点击-成交转化率(人数)=DIVIDE(SUM([商城成交人数]),SUM([商城商品点击人数]))</li></ul><h1 id="商城频道"><a href="#商城频道" class="headerlink" title="商城频道"></a>商城频道</h1><p>超值购：大牌正品 官方补贴 全网低价，实现低价购买优质品牌货品诉求<br>低价秒杀：限时限量 极致价格力，高频日用货品的低价首选场景<br>品牌馆<br>新品频道</p><h1 id="猜你喜欢运营"><a href="#猜你喜欢运营" class="headerlink" title="猜你喜欢运营"></a>猜你喜欢运营</h1><ol><li>商品：商品数、价格、是否入池</li><li>销售：商品卡销量</li><li>用户：粉丝、会员</li><li>营销：活动提报、商品卡推广</li></ol><p>推荐流量：点击率、转化率<br>商品卡质量：主图-点击、标题-点击、商详-转化</p><p>商品卡指所有非直播、非短视频成交渠道，具体包括：店铺橱窗、搜索、抖音商城、猜你喜欢、商品榜单、活动页、客服、私信、足迹、消息、我的收藏、push、购物车结算等。</p><p>属性全填，越精准搜索曝光机会越高<br>视频质量高有达人合作的启用评测，内容可在商城展示</p><p>商城推荐流量关键因子<br>流量指标/点击率指标<br>近7天商品卡点击次数/近7天商城推荐点击率/近7天商城推荐点击-成交转化率<br>近14天差评率/近14天品退率/近14天投诉率<br>※推荐流量包含7个关键因子，对应商品的交易指标、流量指标、口碑指标</p><p>商品卡优化指标：<br>商品销量：商城活动、达人带货、自播<br>商品点击率：首图、标题、价格<br>商品转化率：商详</p><h1 id="搜索运营"><a href="#搜索运营" class="headerlink" title="搜索运营"></a>搜索运营</h1><p>竞品分析：行业搜索词-看后搜热词榜-搜品牌商品-按行业</p><h2 id="搜索流量提升"><a href="#搜索流量提升" class="headerlink" title="搜索流量提升"></a>搜索流量提升</h2><ol><li>紧缺品上新：根据蓝海搜索词上新品，覆盖紧缺需求；</li><li>营销：站内外营销引导用户搜索（提升“品牌词”）</li><li>看后搜运营：自播账号短视频运维（提升“品牌词”）</li><li>达人合作：达人种草视频+标题增加达人词+达人橱窗（提升“达人词”）</li><li>商品标题优化：覆盖更多热词</li><li>付费：品专守好品牌词，广告捕获品类词</li></ol><h2 id="搜索指标分析"><a href="#搜索指标分析" class="headerlink" title="搜索指标分析"></a>搜索指标分析</h2><p>搜索结果曝光人数：泛商城搜索结果中商家直播间、短视频、商品展示，计算去重人数，直播间曝光+商品卡曝光+短视频观看。<br>搜索商品曝光人数：搜索后，看到挂商家商品的直播间、短视频展示、以及看到本商家商品展示的去重人数；去重逻辑：在筛选时间内，一个人多次看到本商家相关内容展示计算为一个人；必须得要点开商品，到了商品详情页才算曝光。<br>举例：比如搜索雅诗兰黛，到了李佳琦直播间，算搜索结果曝光；但是到李佳琦直播间，点开雅诗兰黛小棕瓶，才算商品曝光。</p><h2 id="搜索链路过程指标"><a href="#搜索链路过程指标" class="headerlink" title="搜索链路过程指标"></a>搜索链路过程指标</h2><p>搜索结果曝光次数：</p><ul><li>指标含义：搜索结果中商家直播间、短视频、商品展示次数</li><li>运营说明：该指标代表本品牌在搜索渠道的整体承接情况，可与上一周期、或者基准值做比较，数据上升或高于基准值时，则代表本品牌在搜索的承接表现良好。</li></ul><p>搜索商品曝光次数：</p><ul><li>指标含义：搜索结果中商品的曝光次数</li><li>运营说明：该指标代表本品牌在搜索渠道下，商品的承接情况。若指标环比下降或者低于竞品，则说明本品牌的商品供给存在问题，或商品/短视频/直播的标题、标题和关键词的关联程度不足。</li></ul><p>搜索商品点击次数：</p><ul><li>指标含义：搜索结果中商品的点击次数</li><li>运营说明：该指标代表本品牌在搜索渠道下，商品对消费者的吸引力。若商品曝光正常，但是商品点击下降或者低于竞品，则说明本品牌的商品和搜索词的相关性较差，或商品可能在主图、商品价格等方面不具有吸引力。</li></ul><p>搜索成交订单数：</p><ul><li>指标含义：搜索结果中商品的成交订单数</li></ul><h3 id="结果指标"><a href="#结果指标" class="headerlink" title="结果指标"></a>结果指标</h3><p>搜索成交金额：搜索结果中商品的成交金额</p><p>搜索成交金额占比：</p><ul><li>指标含义：搜索渠道成交金额，占本品牌整体成交金额的比例</li><li>运营说明：该指标代表本品牌成交渠道中，搜索渠道的重要程度。可通过和竞争品牌的占比对比，来判断本品牌在搜索渠道是否还有进步的空间。</li></ul><p>搜索成交人数：在搜索后点击搜索结果进入直播间、观看短视频或直接点击商品卡片后成交的人数，包含先将商品加入购物车后在购物车支付的人数，不去除退款退货的人数</p><p>搜索客单价：搜索渠道成交金额/搜索渠道成交人数</p><h2 id="拆分搜索意图"><a href="#拆分搜索意图" class="headerlink" title="拆分搜索意图"></a>拆分搜索意图</h2><h3 id="品牌词"><a href="#品牌词" class="headerlink" title="品牌词"></a>品牌词</h3><p>包含品牌名称的原始搜索词，如“海飞丝”、“海飞丝洗发水”、“海飞丝直播间”等。<br>品牌词代表消费者对本品牌的主动需求和认知，可分析品牌词的搜索曝光、成交等数据，以此判断本品牌在消费者心中的种草程度：</p><ul><li>可通过看后搜进行品牌词种草，增加消费者对本品牌的搜索量级</li><li>通过购买品专、千川广告，提升品牌词的承接效率</li></ul><h3 id="品类词"><a href="#品类词" class="headerlink" title="品类词"></a>品类词</h3><p>包含品类词的原始搜索词，如“洗发水”、“蓬松洗发水”、“去屑洗发水”、“洗发水直播”等。<br>品类词为品牌互相争夺的重要场地。品牌经营需要把握住平台的热门趋势，获得更多平台公域流量：</p><ul><li>可通过罗盘策略【市场-需求趋势】模块，获得更多类目热词</li><li>扩大商品卡、短视频、直播的供给，增加本品牌商品对搜索词流量的承接</li><li>通过千川投放，增强本品牌和搜索词的关联度，获得更多商品曝光</li></ul><h3 id="达人词"><a href="#达人词" class="headerlink" title="达人词"></a>达人词</h3><p>包含达人名称或账号名称的原始搜索词。<br>达人不仅拥有流量，且转化率也相对较高。因此，达人会为品牌带来更多搜索增量：</p><ul><li>增强与达人的合作，以获得更多流量曝光</li></ul><h2 id="竞争对比分析"><a href="#竞争对比分析" class="headerlink" title="竞争对比分析"></a>竞争对比分析</h2><p>搜索整体：<br>从体量来看：搜索渠道的整体成交金额；从结构来看：搜索渠道成交金额占比。了解不同竞品的搜索渠道占比，可帮助本品牌判断哪些品牌搜索渠道做的好，以及本品牌的搜索进步空间。<br>如，相较于竞争品牌，本品牌的体量偏小，且搜索渠道占比较低，竞争品牌能达到 7% 以上，本品牌搜索渠道的空间还很大。</p><p>搜索词类型：<br>通过该模块，可以区分品牌词、品类词、达人词，查看不同竞品的搜索词类型结构、转化率等指标。帮助本品牌判断在搜索链路中（“用户搜索-&gt;搜索结果曝光-&gt;搜索商品曝光-&gt;搜索商品点击-&gt;搜索商品成交”），哪一步还有优化空间。<br>如，相较于竞争品牌，品牌在达人词的流量获取和承接都表现优秀，但是在品类词上的承接存在问题，商品点击-成交转化率明显低于所有竞品，需要加强搜索渠道商品的承接策略，通过调整商品和搜索词的关联度、更换商品等优化。</p><p>搜索承接载体类型：<br>通过该模块，明确竞争品牌更偏向于用哪种载体（直播、短视频、商品卡）承接搜索流量，每种载体的效率如何？<br>如，相较于竞争品牌，在直播渠道下，品牌的商品曝光-点击率不低，但是商品点击-成交转化率明显落后于几个竞品，可关注竞争品牌直播间的商品特征参考和学习。</p><p>搜索来源：<br>通过该模块，可明确竞争品牌如何扩大和提升品牌搜索量。当品牌搜索量级较小时，可主动通过视频对消费者进行种草，通过话题、评论中的小蓝词等，引导消费者针对特定内容进行搜索（详情可参考看后搜操作手册）<br>如，相较于竞争品牌，品牌通过看后搜获得的商品曝光流量明显低于 top 品牌，可增加种草短视频的发布和运维。</p><p>TOP 搜索词：<br>通过该模块，可比较竞品的 top 搜索词。<br>如，太平鸟的 top 搜索词更多集中在达人相关词（如“绿子”）；啄木鸟则更多的把握住了品类词的流量，获得了更多的平台公域流量；蕉下、阿玛施、哥弟等在消费者心中的品牌心智较强，top 搜索词都集中在品牌相关搜索词上。</p><table><thead><tr><th>品牌</th><th>蕉下</th><th>阿玛施/AMASS</th><th>啄木鳥/TUCANO</th><th>哥弟/GIRDEAR</th></tr></thead><tbody><tr><td>太平鸟女装官方直播</td><td>蕉下防晒衣官方旗舰店直播</td><td>阿玛施直播</td><td>啄木鸟喜婆婆婚宴装连衣裙红色高贵旗袍</td><td>哥弟官方旗舰店直播</td></tr><tr><td>太平鸟</td><td>蕉下</td><td>阿玛施</td><td>喜婆婆喜妈妈婚宴装</td><td>哥弟</td></tr><tr><td>绿子直播间</td><td>蕉下防晒衣</td><td>阿玛施官方旗舰店直播</td><td>女装夏装</td><td>哥弟真的好总部直播间</td></tr><tr><td>太平鸟女装</td><td>防晒衣</td><td>阿玛施连衣裙</td><td>女士短袖t恤</td><td>哥弟真的好</td></tr><tr><td>太平鸟女装官方旗舰店</td><td>蕉下新款防晒衣</td><td>amass阿玛施</td><td>啄木鸟女装专卖店直播</td><td>哥弟连衣裙</td></tr><tr><td>绿子</td><td>蕉下官方旗舰店正品直播</td><td>AMASS直播</td><td>运动服套装女</td><td>哥弟真的好官方旗舰店直播</td></tr><tr><td>绿子直播</td><td>蕉下官方旗舰店直播</td><td>杭州阿玛施直播</td><td>女t恤短袖</td><td>哥弟品牌女装</td></tr><tr><td>太平鸟连衣裙</td><td>蕉下旗舰店</td><td>阿玛施amass</td><td>女士高档短袖</td><td>哥弟品牌女装专柜正品直播</td></tr><tr><td>peacebird太平鸟</td><td>防晒衣防紫外线第一名</td><td>阿玛施女装</td><td>运动服套装女最新款</td><td>哥弟直播</td></tr><tr><td>绿子💚专播品牌女装春装上新啦</td><td>蕉下旗舰店官方正品直播</td><td>成都阿玛施直播</td><td>啄木鸟品牌女裤</td><td>哥弟女装</td></tr></tbody></table><h2 id="搜索分析"><a href="#搜索分析" class="headerlink" title="搜索分析"></a>搜索分析</h2><p>在「抖音电商罗盘·策略-生意管理-搜索分析」模块的搜索词明细中，找到目前表现待优化的搜索词，在「抖音电商罗盘·策略-市场-搜索词分析」中做详情分析。</p><p>搜索词整体表现：查看搜索词从搜索次数-&gt;商品曝光-&gt;商品点击-&gt;商品成交的全链路数据<br>搜索词流量承接和转化情况：商品曝光次数排名、成交金额排名<br>明确是否抓住了热搜词流量：点击“趋势对比”，同时选择市场搜索次数指数、本品牌的商品曝光次数</p><h2 id="搜索词包"><a href="#搜索词包" class="headerlink" title="搜索词包"></a>搜索词包</h2><p>用途：细分赛道研究（研究高热元素在抖音的搜索趋势）、某商品相关搜索词追踪、品牌营销活动种草搜索词追踪。<br>分析：查看搜索词包中包含的搜索词，在市场上的整体搜索趋势和热度；对比本品牌数据，查看本品牌在搜索词包下的经营水位。</p><h2 id="人群画像"><a href="#人群画像" class="headerlink" title="人群画像"></a>人群画像</h2><p>搜索词人群画像：可查看搜索某个词的人群画像，并和品牌自身购买人群画像做对比，判断该搜索词人群和品牌人群的一致性，帮助进行搜索词的选择和投放。</p><h2 id="标题优化底层逻辑"><a href="#标题优化底层逻辑" class="headerlink" title="标题优化底层逻辑"></a>标题优化底层逻辑</h2><p>底层逻辑：让标题覆盖更多能带来更多转化的搜索词（提升商品与搜索词的相关性）、确保标题的可读性、确保标题符合品牌及产品规范。</p><ol><li>基础信息充分：含品牌名（若有）、品类名（例：洗发水）、产品名、核心卖点等转化率通常较高的词；​</li><li>覆盖更多热词：商品标题最多容纳 30 个汉字（60 个字符），充分利用标题 30 个字空间，覆盖更多热搜词。不含无效内容，例如特殊字符、内部代号、产品编码等用户不会搜的词；​</li><li>前23个字凸显重点：前端搜索页最多展示前23个汉字，故核心关键词、产品特点、利益点、活动等用户决策关键信息放在标题前部；</li><li>可以使用【】，提升重点关键词的重要程度，建议放在标题首位</li><li>不蹭无关词：不要蹭与商品无关的词，以免影响降低点击率转化率反而降低权重；​</li><li>重点前置&amp;能读懂：标题前 10 个字最重要，让用户一眼秒懂品牌/产品名/卖点。标题整体尽可能通顺，便于用户读懂。</li></ol><h2 id="标题优化"><a href="#标题优化" class="headerlink" title="标题优化"></a>标题优化</h2><h3 id="找词"><a href="#找词" class="headerlink" title="找词"></a>找词</h3><p><a href="https://fxg.jinritemai.com/ffa/g/search/seo/list">抖店-搜索-搜索商品诊断</a><br><a href="https://compass.jinritemai.com/shop/search/drainage-terms">罗盘·经营-&gt;搜索-&gt;引流搜索词</a>：下载，查阅当前店铺 Top 搜索词<br><a href="https://compass.jinritemai.com/shop/search/industry-terms">罗盘·经营-&gt;搜索-&gt;行业搜索词</a>：点选“搜索榜”-&gt;选择类目-&gt;选择搜索词-&gt;下载<br>抖音-关键词-下拉词/相关搜索</p><p>“搜索成交指数”降序排列，选择与商品属性匹配的搜索词，点击率≥10%、转化率≥2%、搜索热度≥500。</p><h3 id="组词"><a href="#组词" class="headerlink" title="组词"></a>组词</h3><h4 id="常见标题组合方式"><a href="#常见标题组合方式" class="headerlink" title="常见标题组合方式"></a>常见标题组合方式</h4><table><thead><tr><th>组合</th><th>示例</th></tr></thead><tbody><tr><td>品牌词+属性词+类目词+卖点词+长尾词+达人词：</td><td>A品牌大容量手提包包女包时尚百搭上班族专柜正品XX推荐</td></tr><tr><td>品牌词+类目词+核心词+属性词<br>基础商品信息组合，利用品牌效应，获取精准流量</td><td>A品牌 2022夏新款个性 西装连衣裙 甜酷 女</td></tr><tr><td>营销词+核心词+卖点词+修饰词：​<br>营销活动组合，利用平台营销造势，提高商品曝光</td><td>A品牌双十一法式v领西装显瘦小黑裙甜酷女</td></tr><tr><td>热搜词+核心词+精准词+修饰词：​<br>流量拓展组合，利用平台热词，修饰词，提高商品曝光</td><td>A品牌大码碎花连衣裙温柔甜美小个子独立设计女</td></tr></tbody></table><h3 id="优化后数据复盘"><a href="#优化后数据复盘" class="headerlink" title="优化后数据复盘"></a>优化后数据复盘</h3><ol><li><a href="https://compass.jinritemai.com/shop/search/drainage-terms">电商罗盘-&gt;搜索分析-&gt;引流搜索词</a>：优化词的“搜索商品曝光人数”变化</li><li><a href="https://compass.jinritemai.com/shop/traffic-analysis-product?channel=search">电商罗盘-&gt;搜索流量概况-&gt;商品卡曝光人数-&gt;查看引流商品卡详情-&gt;搜索词诊断</a>：优化后的“商品卡曝光人数”变化、搜索词列表</li></ol><h2 id="商品优化"><a href="#商品优化" class="headerlink" title="商品优化"></a>商品优化</h2><p>商品优化的本质是让商品匹配搜索展现和排序逻辑，让商品被更多有需要的人看到、点击、并购买。</p><p>推测抖音分词算法支持多位置切分：<br>如<strong>零嵌入式</strong>可分词为：零嵌入、零嵌、嵌入式、零嵌入式；<strong>电冰箱</strong>可分词为：电冰箱、冰箱；<br>标题里应该多布置这类词，切分后可匹配更多搜索关键词，可惜此类词汇数量不多。</p><p>优化内容：</p><ol><li>影响商品展现: 标题相关性、符合平台规范（不违规）、服务好（消费者负反馈CCR、店铺体验分、差评/品退/投诉率）；</li><li>影响商品排序：商品点击率、价格竞争力&amp;商品转化率、商城活动、销量累计。</li></ol><p>优价推手：实际考察高价率</p><h1 id="店铺运营"><a href="#店铺运营" class="headerlink" title="店铺运营"></a>店铺运营</h1><ol><li>店铺优化运营</li><li>橱窗运营维护-自营or达人</li><li>商品详情页运营</li><li>客户服务运营</li><li>会员/粉丝运营</li><li>评价运营</li></ol><h2 id="优化首图"><a href="#优化首图" class="headerlink" title="优化首图"></a>优化首图</h2><p>首图点击率核心：迎合曝光人群，展示他们想看的内容。<br>首图要注意差异化。</p><p>首图点击率优化方法：</p><ol><li>分析点击人群需求：<a href="https://compass.jinritemai.com/shop/traffic-analysis-product">抖音电商罗盘·经营-商品卡-流量分析-搜索-商品表现-成交金额高但商品卡点击率低的商品-查看详情-搜索诊断-搜索词列表-搜索点击次数降序排列</a>；</li><li>查看行业商品榜单，参考搜索流量高的商品首图修改：<a href="https://compass.jinritemai.com/shop/search/industry-terms">抖音电商罗盘·经营-搜索-行业搜索词-按行业-搜索词详情-相关商品列表</a>；</li><li>看效果：监测优化商品后“商品卡点击率”指标变动：<a href="https://compass.jinritemai.com/shop/merchandise-traffic">单商品卡流量</a>。</li></ol><p>结合日期看优化标题后”搜索点击率(人数)”指标变动​<br>看数方法扩展：​<br>标题优化 &amp; 违规商品优化 -&gt; 看“搜索曝光人数”​<br>主图优化-&gt; 看“搜索点击率(人数)”​<br>商详&amp;价格优化-&gt;看”搜索点击-成交率(人数)”</p><h2 id="优化详情页"><a href="#优化详情页" class="headerlink" title="优化详情页"></a>优化详情页</h2><p>商详是为了迎合点击进入者的需求，详情页要解决买家关心的事，不要一直说自己有多好，要说自己能解决买家什么问题能给买家带来什么好处。</p><ol><li>分析点击人群需求：<a href="https://compass.jinritemai.com/shop/traffic-analysis-product">抖音电商罗盘·经营-商品卡-流量分析-搜索-商品表现-成交金额高但点击-成交转化率低的商品-查看详情-搜索诊断-搜索词列表-搜索点击次数降序排列</a>；</li><li>分析行业搜索数据中集中需求点，在商详中用场景展示解决这些需求：<a href="https://compass.jinritemai.com/shop/search/industry-terms">抖音电商罗盘·经营-搜索-行业搜索词</a>。</li></ol><h2 id="客户服务运营"><a href="#客户服务运营" class="headerlink" title="客户服务运营"></a>客户服务运营</h2><p>店铺体验分考核：</p><ol><li>3 分钟人工回复率(会话)&gt;70%</li><li>不满意率 &lt;20%</li></ol><p>未达标影响参加营销活动、店铺流量降权、限制营销推广。</p><h2 id="评价运营"><a href="#评价运营" class="headerlink" title="评价运营"></a>评价运营</h2><p>评价加精：<a href="https://fxg.jinritemai.com/ffa/maftersale/comment">抖店-订单-评价管理-买家秀管理</a></p><h1 id="竞争对比"><a href="#竞争对比" class="headerlink" title="竞争对比"></a>竞争对比</h1><p><a href="https://compass.jinritemai.com/personal/race-shop-management">竞店管理</a><br><a href="https://compass.jinritemai.com/shop/ranking-list">店铺排行榜</a></p><h2 id="指数换算准确度交叉验证"><a href="#指数换算准确度交叉验证" class="headerlink" title="指数换算准确度交叉验证"></a>指数换算准确度交叉验证</h2><ul><li>误差小：<ul><li>直播对比-整体数据：<ul><li>观看指数：百位误差</li><li>互动指数：百位、千位误差</li><li>成交指数：十位误差</li></ul></li></ul></li><li>误差大：<ul><li>店铺对比：成交数据（千万位误差）、流量数据</li><li>竞店搜索对比：十万位到百万位误差</li><li>商品卡流量对比：<ul><li>整体数据：千位到十万位误差，转化率0.1%误差</li><li>来源对比：千位误差</li></ul></li><li>直播对比-来源对比：<ul><li>观看指数：单项十位到十万位误差（错误放大某渠道数值），和千位误差</li><li>互动指数：单项十万位误差（错误放大某渠道数值）</li><li>成交指数：单项十位到百万位误差（错误放大某渠道数值），和百位误差</li></ul></li></ul></li></ul><h2 id="全店竞争分析"><a href="#全店竞争分析" class="headerlink" title="全店竞争分析"></a>全店竞争分析</h2><p><a href="https://compass.jinritemai.com/shop/chance/competitor-shop">抖音电商罗盘·经营-市场-店铺对比</a><br>数据披露：成交金额、自营直播间成交金额、自营短视频成交金额、自营商品卡成交金额、合作达人成交金额、全店商品点击人数、全店商品卡点击人数、全店直播点击人数、全店短视频点击人数<br>以单位指数对应实际值计算竞品数据。</p><h2 id="直播竞争分析"><a href="#直播竞争分析" class="headerlink" title="直播竞争分析"></a>直播竞争分析</h2><p><a href="https://compass.jinritemai.com/shop/live-competition">抖音电商罗盘·经营-直播-竞争对比</a></p><p>维度：账号、直播间</p><p>整体指标对比：观看指数、互动指数、成交指数<br>流量来源对比：推荐feed、关注、搜索、短视频引流、其他、头条西瓜、个人主页、抖音商城推荐、其他推荐场景、活动页、直播广场、同城<br>TOP商品对比：商品成交<br>人群对比：性别、年龄、八大策略人群、省份</p><h2 id="商品卡竞争分析"><a href="#商品卡竞争分析" class="headerlink" title="商品卡竞争分析"></a>商品卡竞争分析</h2><p>行业榜单：<a href="https://compass.jinritemai.com/shop/industry-analysis">抖音电商罗盘·经营-商品卡-行业榜单</a>​<br>竞店对比：<a href="https://compass.jinritemai.com/shop/race-contrast">抖音电商罗盘·经营-商品卡-竞店对比</a><br>竞品对比：<a href="https://compass.jinritemai.com/shop/product-contrast">抖音电商罗盘·经营-商品卡-竞品对比</a></p><p>整体指标对比：流量指数、交易指数、转化指数<br>流量对比：商城推荐、搜索、店铺页、频道及活动页、橱窗、购后页面、其他<br>TOP商品对比：流量指数、交易指数<br>搜索词对比：流量指数、交易指数<br>人群对比：性别、年龄、八大策略人群、省份</p><table><thead><tr><th>指标名称</th><th>指标解释</th></tr></thead><tbody><tr><td>商家经营类目</td><td>商家最近 30 天有在售商品的子类目</td></tr><tr><td>商家在售商品数</td><td>商家当前处于正常售卖状态的商品数量</td></tr><tr><td>商品卡流量指数</td><td>根据商家商品卡商品点击人数指数化计算</td></tr><tr><td>商品卡交易指数</td><td>根据商家商品卡商品成交金额指数化计算</td></tr><tr><td>商品卡转化指数</td><td>根据商家商品卡商品点击-成交转化率（人数）指数化计算</td></tr></tbody></table><h2 id="搜索竞争分析"><a href="#搜索竞争分析" class="headerlink" title="搜索竞争分析"></a>搜索竞争分析</h2><p><a href="https://compass.jinritemai.com/shop/search/competitor-comparison">抖音电商罗盘·经营-搜索-竞店搜索对比</a></p><p>核心数据对比：热度指数、点击人数指数、点击率指数、关联成交商品数量指数、关联成交客单价指数、曝光-成交转化率指数、搜索点击-成交转化率指数、成交人数指数、成交金额指数、体验分、自营交易占比、带货交易占比<br>引流搜索词对比：曝光关键词、点击关键词、成交关键词、搜商品、搜人、搜内容</p><h2 id="短视频竞争分析"><a href="#短视频竞争分析" class="headerlink" title="短视频竞争分析"></a>短视频竞争分析</h2><p><a href="https://compassbrand.jinritemai.com/competition/discover/brand">抖音电商罗盘·策略-竞争-竞争品牌-品牌详情</a></p><h1 id="会员运营"><a href="#会员运营" class="headerlink" title="会员运营"></a>会员运营</h1><p>案例：<a href="https://bytedance.feishu.cn/docs/doccnPKiFWhfsEzpuTu5ve0cbdf">2021双11大促优秀实践总结</a></p><p>粉丝和会员的差异——人设认同是粉丝，货品认同是会员<br>粉丝是弱关系，只需要关注抖音号/店铺就可以，是品牌持续种草的用户；粉丝的扩大和活跃将为用户增长带来源源不断的血液。而会员是深度关系，是品牌需要收割的用户，是品牌客单增长的核心群体。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/117.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="运营" scheme="https://qianling.pw/categories/%E8%BF%90%E8%90%A5/"/>
    
    
    <category term="运营" scheme="https://qianling.pw/tags/%E8%BF%90%E8%90%A5/"/>
    
    <category term="电子商务" scheme="https://qianling.pw/tags/%E7%94%B5%E5%AD%90%E5%95%86%E5%8A%A1/"/>
    
    <category term="电商运营" scheme="https://qianling.pw/tags/%E7%94%B5%E5%95%86%E8%BF%90%E8%90%A5/"/>
    
  </entry>
  
  <entry>
    <title>TrollStore 常见问题解决方法及经验分享</title>
    <link href="https://qianling.pw/trollstore/"/>
    <id>https://qianling.pw/trollstore/</id>
    <published>2023-02-03T03:36:38.000Z</published>
    <updated>2023-07-22T09:40:53.635Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/133.webp"></p><span id="more"></span><hr><h1 id="TrollStore-安装的应用无法使用分享功能的解决方法"><a href="#TrollStore-安装的应用无法使用分享功能的解决方法" class="headerlink" title="TrollStore 安装的应用无法使用分享功能的解决方法"></a>TrollStore 安装的应用无法使用分享功能的解决方法</h1><p>适用场景：微信等应用无法在相册内分享照片或无法分享文件。</p><h2 id="临时方案（重启后失效）"><a href="#临时方案（重启后失效）" class="headerlink" title="临时方案（重启后失效）"></a>临时方案（重启后失效）</h2><ol><li>可选：使用 Apps Manager 备份应用数据；</li><li>卸载修改版本；</li><li>在 App Store 内安装官方版本；</li><li>使用 TrollStore 覆盖安装修改版本；</li><li>可选：使用 Apps Manager 恢复应用数据。</li></ol><h2 id="永久方案"><a href="#永久方案" class="headerlink" title="永久方案"></a>永久方案</h2><p>越狱后使用 <a href="http://apt.thebigboss.org/repofiles/cydia/">iridium</a> 砸壳提取。</p><h1 id="Apps-Manager-内无-TrollStore-安装应用"><a href="#Apps-Manager-内无-TrollStore-安装应用" class="headerlink" title="Apps Manager 内无 TrollStore 安装应用"></a>Apps Manager 内无 TrollStore 安装应用</h1><ol><li>打开 TrollStore；</li><li>点击欲使用 Apps Manager 的应用；</li><li>选择 <code>Switch to &quot;User&quot; Registration</code> 即可。</li></ol>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/133.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="iPhone" scheme="https://qianling.pw/categories/iPhone/"/>
    
    
    <category term="软件技巧" scheme="https://qianling.pw/tags/%E8%BD%AF%E4%BB%B6%E6%8A%80%E5%B7%A7/"/>
    
    <category term="iPhone" scheme="https://qianling.pw/tags/iPhone/"/>
    
    <category term="iOS" scheme="https://qianling.pw/tags/iOS/"/>
    
  </entry>
  
  <entry>
    <title>抖音巨量千川广告投放入门</title>
    <link href="https://qianling.pw/qianchuan/"/>
    <id>https://qianling.pw/qianchuan/</id>
    <published>2023-01-17T09:19:49.000Z</published>
    <updated>2023-11-25T12:31:49.489Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/182.webp"></p><span id="more"></span><hr><h1 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h1><p><a href="https://school.oceanengine.com/page/academy-qianchuan">千川学堂</a><br><a href="https://bytedance.feishu.cn/docx/JwkqdaKXMonuJJxcDN7cNxb5nOd">巨量千川投放“树”</a><br><a href="https://qianchuan.jinritemai.com/help/content/root?graphId=397">巨量千川帮助中心</a><br><a href="https://bytedance.feishu.cn/docx/MFdCdRQA2o5xwWxgiA9cbEsCnQh">巨量千川-超级商品卡产品使用手册</a><br><a href="https://bytedance.feishu.cn/file/boxcnLNczZ51TZ2625Atoqe9WVf">巨量千川商品卡推广使用指北(可对外）</a><br><a href="https://bytedance.feishu.cn/docs/doccndZOsBraSMEEwyXu3zAhtii#4BMfaV">直播引流短视频|创意攻略</a><br><a href="https://cc.oceanengine.com/academy/article-detail/10399">解析多行业案例，看优质素材如何撬动增长</a><br><a href="https://bytedance.feishu.cn/docs/doccn2cGTAi1koWWO21h9ke6RJc">3C行业——优质巨量千川短视频解析&amp;建议</a><br><a href="https://bytedance.feishu.cn/docx/QXu8d6wnlo6y24xwOPRcKsP8nEd">长周期转化产品手册</a><br><a href="https://school.oceanengine.com/premium/course/7067374199584751646/7062239311072067592">巨量千川常见问题解答</a><br><a href="https://bytedance.feishu.cn/docx/JJUXdl6JToH6vZxnWOycPU0xn5e">巨量千川「直播间结算」投放指导手册</a><br><a href="https://school.oceanengine.com/premium/course/7083703609245827109/7436028846495361770">大咖驾到—巨量千川直播间运营秘籍</a><br><a href="https%E6%90%9C%E7%B4%A2%E5%88%86%E6%9E%90.xlsx://bytedance.feishu.cn/docs/doccngnhak9o4Ev3gjkgsJ608Rh">【巨量千川】搜索广告投放指南（可对外）</a><br><a href="https://bytedance.feishu.cn/docx/AqfndJRSFof3UyxcBR0caf54nTb">巨量千川搜索广告商品托管投放SOP（对外）</a><br><a href="https://bytedance.feishu.cn/docx/MFdCdRQA2o5xwWxgiA9cbEsCnQh">巨量千川商品卡推广 产品使用手册（可对外）</a><br><a href="https://qianchuan.jinritemai.com/help/content/133238?graphId=397&pageId=221&spaceId=122">智能放量产品介绍</a><br><a href="https://qianchuan.jinritemai.com/help/content/132960?graphId=397&spaceId=122">「直播加热」产品介绍文档</a><br><a href="https://school.oceanengine.com/premium/course/7083703609245827109/7436028846495361767">大咖驾到——《抖音直播带货-明星达人巨量千川玩法》</a><br><a href="https://school.oceanengine.com/premium/course/7054758121968762893/7143535620135059493">支付ROI+搜索广告 助力直播间起号</a><br><a href="https://school.oceanengine.com/premium/course/7336028836495365146/7436028846495364020">巨量千川商品卡推广数据分析技巧</a><br><a href="https://bytedance.feishu.cn/docx/JJUXdl6JToH6vZxnWOycPU0xn5e">巨量千川「直播间结算」投放手册</a><br><a href="https://bytedance.feishu.cn/docx/RxbrdXs1koSIQlxpgN4ci5TRnhf">巨量千川全域推广产品手册</a><br><a href="https://bytedance.feishu.cn/docs/doccntamgIsFBstRm88FY5LuMJe#">巨量云图关系资产【O-5A】Playbook</a><br><a href="https://bytedance.feishu.cn/docs/doccncoHfatKvcXkDCTniHe1foc">搜索广告引流电商-竞价投放宝典（可对外）</a><br><a href="https://bytedance.feishu.cn/docs/doccn8lzedl1eYm6I5gqQVsIbOh">【抖音】搜索品牌专区产品手册（对外）</a><br><a href="https://bytedance.feishu.cn/docx/doxcnjwlic0tsyuVhF8bCh9y4he">巨量搜索品牌专区产品价值（可对外）-行业通用</a><br><a href="https://bytedance.feishu.cn/docs/doccnYlDI6t9Vc2O7lwrlfzZyrh#">关键字推荐工具使用介绍（for搜索品牌专区）</a><br><a href="https://bytedance.feishu.cn/docx/RGEqdiSgbo2kzjxUh0uczWTHnAb">抖音闭环开屏_电商样式MR规范</a><br><a href="https://bytedance.feishu.cn/mindnotes/bmncno54m6CmxqPppQpWEZHQ63d">千川搜索运营手册（可对外）</a><br><a href="https://bytedance.feishu.cn/docx/HJmodWdjlovZNRxfF1jcEERCn9g">巨量千川全域推广问题自查手册（对客）</a><br><a href="https://bytedance.feishu.cn/docs/doccnbHJ8tSN5YpPDd1tYLJq9Yd">抖音信息流避让区域详细描述（对外版）</a><br><a href="https://support.oceanengine.com/support/content/131981?graphId=559&mappingType=2&spaceId=194">Nobid（最大转化投放）产品介绍</a></p><h1 id="一、广告原理"><a href="#一、广告原理" class="headerlink" title="一、广告原理"></a>一、广告原理</h1><h2 id="1-名词中英对照及释义​"><a href="#1-名词中英对照及释义​" class="headerlink" title="1. 名词中英对照及释义​"></a>1. 名词中英对照及释义​</h2><ul><li>需求方平台（DSP）：Demand Side Platform，用于广告主管理广告需求，如设置定向、营销目的、出价方式、创意类型、素材等；​</li><li>广告平台（ADX）：Ad Exchange，广告实时竞价交易平台，撮合广告预算和流量，当一个流量请求 ADX 时，ADX 会寻找最适合这个流量的预算（即出资方）；​</li><li>供应方平台（SSP）：Supplier Side Platform，流量供应方实现广告变现的平台，流量媒体接入后，在 SSP 内设置需要在哪些位置变现、接受的每千次展示费用（CPM）最低值等，每产生一次流量请求，会通过 SSP 发给 ADX，再通过 ADX 集合的 DSP 中的广告预算，寻找合适的广告；​</li><li>出资方（Advertiser）：客户、广告主；​</li><li>代理商（Agency）：帮助广告主投放广告的机构，对广告平台或媒体而言也可以当做客户；​</li><li>媒体（Media）：有广告位变现诉求的网站、应用程序等；​</li><li>动态产品广告（DPA）：Dynamic Product Ads，常见于电商领域，每次用户发生流量请求时，媒体会把流量以 DPA 形式发给客户，客户会根据用户在自己平台内的实时数据，推荐不同的商品；​</li><li>合约广告（GD）：Guaranteed Delivery，广告主和媒体在投放前约定好展示的量级及费用且保证量级和费用均达标，如巨量千川品牌广告；</li><li>用户搜索词（Query）；​</li><li>广告关键词（Keyword）；​</li><li>广告计划（Campaign）；​</li><li>展示（Impression）：即广告曝光；​</li><li>有效千次展示费用（eCPM）：Effective Cost Per Mille；​</li><li>预估点击率（eCTR）：Expected Click-Through Rate，广告的预估实际点击次数（到达目标页面次数）除以广告的预估展示量；​</li><li>预估转化率（eCVR）：Expected Conversion Rate；​</li><li>出价（BID）；​</li><li>广告请求（Ad Request）：广告请求即为广告投放的触发事件，当用户满足指定的触发条件（如浏览次数、时间间隔、用户行为等）时，平台会发起广告请求，告诉广告系统该向用户展示广告了；​</li><li>隐形消耗（HIDDEN-COST）：影响因素包括提权（如大促期间电商类广告提权）、强插（如有保量机制的品牌广告）、不喜欢、举报、口碑分、违规等，HIDDEN-COST 为正值时加成，为负值时降低；​</li><li>优化千次展现出价（oCPM）：Optimized Cost Per Mille，广告主设置转化成本，如一个购买用户 100 元，平台保证一定时间内平均每个购买用户成本是 100 元，但平台实际扣除广告主广告费用的时机（也称计费点）是在广告展示时，假设广告的转化成本设置为 400 元，平台预估曝光-成交转化率是 0.05%，即每 2000 次广告展示会产生一次转化，每次展示平台的扣费就是 0.2 元；oCPM 较 CPM 采用更精准的点击率和转化率预估机制，将广告展现给最容易产生转化的用户；​</li><li>冷启动期/学习期：指新广告计划探索转化用户的阶段，以创建时间小于 N 天且转化数量大于 X 个为判断标准；如果 N 天内转化数量≥ X 个，则视为冷启动成功或学习期成功；如果 N 天内转化数量＜ X 个，则视为冷启动失败或学习期失败。</li></ul><p>注：Mille 为拉丁语，历史惯例。以罗马帝国统一开始计算，公元前一世纪到十七世纪，拉丁语是西方文明中知识阶层的国际通用书写语言，西方文明的主要文献基本都是以拉丁文写就的（如牛顿《自然哲学的数学原理》）。现今的西方民族语言是随着罗马教廷衰落、民族国家建构后才逐渐替代了拉丁语，在此之前，诸如法语、德语、英语仅是在一定地区内使用的方言。因广告活动涉及全球各国且广告从业者多接受高等教育，拉丁语便成为广告和商业术语的通行语言。</p><h2 id="2-广告平台结构"><a href="#2-广告平台结构" class="headerlink" title="2. 广告平台结构"></a>2. 广告平台结构</h2><ol><li>有广告投放需求的客户，自己或委托代理商在 DSP 中发布广告投放需求；​</li><li>有流量变现需求的媒体，利用掌握的流量和消费者，在 SSP 中录入广告位变现条件；​</li><li>ADX 负责撮合客户的广告投放需求和媒体的广告位变现条件。</li></ol><p><img data-src="/qianchuan/qianchuan-4.webp">  </p><blockquote><p>巨量引擎：抖音集团自建广告平台，为 DSP+ADX+SSP 集合，直接对接抖音系产品流量端（今日头条、抖音、西瓜视频、懂车帝、番茄小说等）与客户端，以更短路径对接客户与媒体，提高搓合效率、降低中间损耗、提高广告收入。</p></blockquote><h2 id="3-媒体方流量变现需求提报（SSP）"><a href="#3-媒体方流量变现需求提报（SSP）" class="headerlink" title="3. 媒体方流量变现需求提报（SSP）"></a>3. 媒体方流量变现需求提报（SSP）</h2><blockquote><p>以移动端流量变现平台穿山甲为例</p></blockquote><h3 id="3-1-以哪个媒体展示广告（创建应用）"><a href="#3-1-以哪个媒体展示广告（创建应用）" class="headerlink" title="3.1 以哪个媒体展示广告（创建应用）"></a>3.1 以哪个媒体展示广告（创建应用）</h3><h3 id="3-2-提供什么形式的广告位（广告类型）"><a href="#3-2-提供什么形式的广告位（广告类型）" class="headerlink" title="3.2 提供什么形式的广告位（广告类型）"></a>3.2 提供什么形式的广告位（广告类型）</h3><h3 id="3-3-配置广告位样式"><a href="#3-3-配置广告位样式" class="headerlink" title="3.3 配置广告位样式"></a>3.3 配置广告位样式</h3><ul><li>广告素材类型：图片、视频</li><li>展示方式：上文下图、上图下文、左图右文……</li><li>尺寸</li><li>视频声音：有声音、静音</li><li>视频自动播放：自动播放、WiFi自动播放、不自动播放</li><li>屏幕方向：竖屏、横屏</li><li>创意交互形式：摇动屏幕、手指滑动、扭动手机等，提高变现效率</li><li>n秒后显示跳过按钮（开屏广告）</li><li>……</li></ul><h3 id="3-4-广告位价格（期望CPM）"><a href="#3-4-广告位价格（期望CPM）" class="headerlink" title="3.4 广告位价格（期望CPM）"></a>3.4 广告位价格（期望CPM）</h3><h3 id="3-5-广告位位置（接入SDK）"><a href="#3-5-广告位位置（接入SDK）" class="headerlink" title="3.5 广告位位置（接入SDK）"></a>3.5 广告位位置（接入SDK）</h3><h2 id="4-客户方广告投放需求提报（DSP）"><a href="#4-客户方广告投放需求提报（DSP）" class="headerlink" title="4. 客户方广告投放需求提报（DSP）"></a>4. 客户方广告投放需求提报（DSP）</h2><blockquote><p>以巨量千川直播间广告为例</p></blockquote><p><video src="激励视频广告.mp4" width="800px" height="600px" controls="controls"></video><br>激励视频广告<br>场景：获取应用内奖励及权益</p><p><video src="原生信息流广告.mp4" width="800px" height="600px" controls="controls"></video><br>原生信息流广告<br>场景：资讯页、视频详情页、信息列表页等</p><p><video src="视频信息流广告.mp4" width="800px" height="600px" controls="controls"></video><br>视频信息流广告<br>场景：竖版视频信息流、直播间等</p><p><video src="全屏视频广告.mp4" width="800px" height="600px" controls="controls"></video><br>全屏视频广告<br>场景：小说翻页、游戏结束页等</p><p><video src="开屏广告.mp4" width="800px" height="600px" controls="controls"></video><br>开屏广告<br>场景：应用启动页</p><p><video src="插屏广告.mp4" width="800px" height="600px" controls="controls"></video><br>插屏广告<br>场景：应用开启、暂停、退出等节点全屏或半屏展示</p><p><video src="Banner广告.mp4" width="800px" height="600px" controls="controls"></video><br>Banner广告<br>场景：资讯阅读页、视频播放页、工具功能页、游戏页等的顶部、中部、底部</p><h3 id="4-1-广告展示位置（广告类型）"><a href="#4-1-广告展示位置（广告类型）" class="headerlink" title="4.1 广告展示位置（广告类型）"></a>4.1 广告展示位置（广告类型）</h3><p><img data-src="/qianchuan/qianchuan-5.webp" alt="通投广告：在视频流内展示（打开抖音后的默认推荐界面）"><br><img data-src="/qianchuan/qianchuan-6.webp" alt="搜索广告：在搜索结果内展示（抖音顶部搜索框）">  </p><h3 id="4-2-广告展示速度（投放方式）"><a href="#4-2-广告展示速度（投放方式）" class="headerlink" title="4.2 广告展示速度（投放方式）"></a>4.2 广告展示速度（投放方式）</h3><ul><li>控成本投放：流量随大盘波动；</li><li>放量投放：流量恒定（可用于优质定向/素材放大消耗量级），转化成本高于控成本投放。</li></ul><h3 id="4-3-广告的用途（优化目标，完成一次优化目标记一次转化）"><a href="#4-3-广告的用途（优化目标，完成一次优化目标记一次转化）" class="headerlink" title="4.3 广告的用途（优化目标，完成一次优化目标记一次转化）"></a>4.3 广告的用途（优化目标，完成一次优化目标记一次转化）</h3><ul><li>观看互动：进入直播间、直播间粉丝提升、直播间评论、直播间商品点击（低客单生活必需品）；</li><li>下单购买：直播间下单（低客单生活必需品）、直播间成交、支付ROI、直播间结算。</li></ul><h3 id="4-4-广告什么时候展示（投放时间）"><a href="#4-4-广告什么时候展示（投放时间）" class="headerlink" title="4.4 广告什么时候展示（投放时间）"></a>4.4 广告什么时候展示（投放时间）</h3><ul><li>投放日期、时段</li><li>固定时长：几个小时</li></ul><h3 id="4-5-广告一共投多少钱（预算）"><a href="#4-5-广告一共投多少钱（预算）" class="headerlink" title="4.5 广告一共投多少钱（预算）"></a>4.5 广告一共投多少钱（预算）</h3><h3 id="4-6-愿意为一次转化出多少钱（出价）"><a href="#4-6-愿意为一次转化出多少钱（出价）" class="headerlink" title="4.6 愿意为一次转化出多少钱（出价）"></a>4.6 愿意为一次转化出多少钱（出价）</h3><h3 id="4-7-广告投给谁（定向）"><a href="#4-7-广告投给谁（定向）" class="headerlink" title="4.7 广告投给谁（定向）"></a>4.7 广告投给谁（定向）</h3><p><img data-src="/qianchuan/qianchuan-7.webp">  </p><h3 id="4-8-广告以什么展示（创意形式）"><a href="#4-8-广告以什么展示（创意形式）" class="headerlink" title="4.8 广告以什么展示（创意形式）"></a>4.8 广告以什么展示（创意形式）</h3><ul><li>直播间画面</li><li>短视频</li></ul><h2 id="5-广告平台撮合媒体方与客户方（ADX）"><a href="#5-广告平台撮合媒体方与客户方（ADX）" class="headerlink" title="5. 广告平台撮合媒体方与客户方（ADX）"></a>5. 广告平台撮合媒体方与客户方（ADX）</h2><p>一定数量内容（搜索结果、商品卡、图文、短视频等）间存在一次广告展示机会（对狭义的信息流广告而言，活跃用户越多、观看视频/图文数越多，则广告位越多），每次 N 条广告争抢这个展示机会，系统会计算各广告收益 eCPM 并排序，展示收益最大的广告。</p><h3 id="5-1-广告平台设置"><a href="#5-1-广告平台设置" class="headerlink" title="5.1 广告平台设置"></a>5.1 广告平台设置</h3><ul><li>每几个内容有一条广告（PVR）：出广告的请求次数/总请求次数；</li><li>频控：基于用户体验与广告转化效率考量，控制同行业/同广告主/相同/相似广告在一段时间内对同一用户的出现频次，如同一用户最多展示 N 次 xx 广告；</li><li>流控：预算花到多少比例开始控制流量投放速度，以避免流量突然加大导致预算花超的情况；</li><li>门槛：展示一次广告的最低费用，CPM 低于阈值的广告不能准入（广告收益未超过对用户的负向体验损失）；</li><li>返点（活动时）：平台或者媒体根据广告主的投放金额给予的奖励比例；</li><li>……</li></ul><h3 id="5-2-广告竞价流程"><a href="#5-2-广告竞价流程" class="headerlink" title="5.2 广告竞价流程"></a>5.2 广告竞价流程</h3><p><strong>用户发起广告请求：</strong><br>假设抖音平台在某一时刻有一个用户刷完了 N 条短视频，下一条为广告位，此时有 50 万个商家提交了 500 万个广告投放请求，系统不知放哪个广告给用户看，则</p><p><strong>过滤不符合要求的广告：</strong></p><ol><li>去除用户画像与广告定向不匹配的广告：年龄、地域、手机价格、消费水平、常看视频类别等，余 30 万个广告；</li><li>去除该用户看过太多次的广告类型：假设过滤掉用户已看过太多次的游戏推广广告，余 25 万个广告；</li><li>去除该用户点过不感兴趣的广告类型：假设去除该用户点过不感兴趣的洗地机广告，余 24 万个广告；</li><li>判断广告形式是否符合广告位要求：假设为短视频/直播广告位，则排除图文等其它类型的广告，余 15 万个广告；</li><li>判断广告主余额是否足够：如果广告主账户余额不足以支付投放费用，则暂停投放该广告主的广告，余 13 万个广告；</li></ol><p><strong>达标广告参与竞价：</strong></p><ol><li>粗排：不考虑用户喜好，根据广告历史转化数据（新计划无历史数据则向上取账户数据乃至行业数据）和内容质量打分（创意内容质量越高，排序越靠前），将候选集筛选到只剩几百量级，为下一步广告收益预估节省计算资源；</li><li>精排：经重重过滤后，候选集达到百位量级，算力支持计算预估值精确排序，计算用户特征与广告内容特征匹配度、预估广告收益 eCPM = BID * eCTR * eCVR * 1000 + HIDDEN-COST；</li><li>内容混排：计算展示广告后用户浏览内容减少的概率并排序；</li><li>决出排名第一的广告推送到广告位。</li></ol><p><img data-src="/qianchuan/qianchuan-8.webp">  </p><h2 id="6-oCPM"><a href="#6-oCPM" class="headerlink" title="6. oCPM"></a>6. oCPM</h2><h3 id="6-1-基本原理"><a href="#6-1-基本原理" class="headerlink" title="6.1 基本原理"></a>6.1 基本原理</h3><p>广告主设置转化成本，如一个购买用户 100 元，平台保证一定时间内平均每个购买用户成本是 100 元，但平台实际扣除广告主广告费用的时机（也称计费点）是在广告展示时。<br>假设广告的转化成本设置为 400 元，平台预估曝光-成交转化率是 0.05%，即每 2000 次广告展示会产生一次转化，每次展示平台的扣费就是 0.2 元。</p><h3 id="6-2-调价"><a href="#6-2-调价" class="headerlink" title="6.2 调价"></a>6.2 调价</h3><p>如果预估的转化率不准，系统将调价。<br>例如实际转化率＞0.05%，假设 1000 次展示就产生了一个转化，为了保证 400 元的转化成本，系统就会提高出价，将每次展示的 0.2 元改成 0.4 元；反之，如果此时真实的转化率小于 0.05%，假设 4000 次展示就产生了一个转化，为了保证 400 元的转化成本，系统就会降低出价，将每次展示的 0.2 元改成 0.1 元。</p><h3 id="6-3-超成本"><a href="#6-3-超成本" class="headerlink" title="6.3 超成本"></a>6.3 超成本</h3><p>如果每次转化成本小于广告主设置成本，将导致欠成本，这对广告主有利，但对广告平台则收益受损，所以广告平台有动机不断提升出价，导致每次转化成本高于广告主设置成本，为避免平台故意这么做，产生了超成本赔付机制。<br>超成本赔付指：如果超出广告主设定的转化成本，平台把多出的成本返还给广告主作为赔付，为防止被广告主反薅系统，平台会制定赔付条件：</p><ol><li>出价不能太低，一般平台会制定出价最低值；</li><li>转化数必须达到指定阈值，如果达不到，平台模型会没有足够的数据调价；</li><li>跑量时长足够长（一般为 24 小时），且广告没有太多负向操作（例如调整出价、关停计划、调整预算等）；</li><li>超成本达到一定比例，如超出 20% 才是需要赔付的超成本情况。</li></ol><h2 id="7-eCPM​"><a href="#7-eCPM​" class="headerlink" title="7. eCPM​"></a>7. eCPM​</h2><p>eCPM =  BID * eCTR * eCVR *1000 + HIDDEN-COST</p><h3 id="7-1-系统出价（BID）"><a href="#7-1-系统出价（BID）" class="headerlink" title="7.1 系统出价（BID）"></a>7.1 系统出价（BID）</h3><p>在 oCPM 模式下，系统实际出价不等于广告主在后台设置的出价，系统会根据实时流量预估、实时转化情况，在广告主出价基础上浮动出价，虽然每次系统出价都会上下浮动，但是最终在一段时间内，系统出价需要和广告主出价高度吻合。</p><ul><li>当累计一段时间的系统出价 ＞ 广告主出价时，广告主花费了比自己预期更多的钱，称为超成本；</li><li>当系统出价 ＜ 广告主出价时，广告主花费了比自己预期更少的钱，称为欠成本。<br>超成本费用平台最后会以赔付的形式退还给广告主。</li></ul><h3 id="7-2-点击率（eCTR）"><a href="#7-2-点击率（eCTR）" class="headerlink" title="7.2 点击率（eCTR）"></a>7.2 点击率（eCTR）</h3><p>CTR 可分为：</p><ul><li>实际 CTR（也称后验 CTR）</li><li>模型根据真实数据预估出来的 eCTR（也称先验 CTR）<br>广告系统在计算 eCPM 时采取模型预估出来的 eCTR 作为因子。<br>如果预估出来的 eCTR 比后验的实际 CTR 要高，就会产生模型高估 CPM 的情况，这时调价系统会降低系统出价；反之则是模型低估 CPM，调价系统就会提升系统出价。<br>影响 CTR 的因素有：</li></ul><ol><li>模型预估准确度。即模型是否将广告展示给合适的用户，匹配度越高，广告 CTR 越好（账户模型）；</li><li>广告素材是否首发，未被用户看过的新创意更易产生点击，预估点击率更高（创意新旧）；</li><li>广告素材是否吸引用户注意（创意质量）；</li><li>广告点击链路的流畅性和点击交互的有效性，可以通过缩短转化流程、增强转化控件视觉吸引力来提升（平台维度）；</li><li>广告标等相关信息的大小、颜色、位置等。广告标越不明显，广告点击率越高（平台维度）；</li><li>广告的用户价值，体现为广告宣传产品与用户需求的匹配度（定向精准度）。</li></ol><h3 id="7-3-转化率（eCVR）"><a href="#7-3-转化率（eCVR）" class="headerlink" title="7.3 转化率（eCVR）"></a>7.3 转化率（eCVR）</h3><p>和点击率一样，如果预估出来的 eCVR 比后验的实际 CVR 要高，就会产生模型高估 CPM 的情况，这时调价系统会降低系统出价；反之则是模型低估 CPM，调价系统就会提升系统出价。<br>影响 CVR 的因素有：</p><ol><li>模型预估的准确度。即模型是否将广告展示给合适的用户，匹配度越高，广告的 CTR 自然越好（账户模型）；</li><li>广告实际内容、落地内容是否吸引用户，此环节“标题党”、“封面党”做法就不管用了（内容质量）；</li><li>广告点击链路的流畅性和点击交互的有效性，可以通过缩短转化流程、增强转化控件视觉吸引力来提升（平台维度）；</li><li>广告的实际用户价值，体现为广告宣传产品与用户需求的匹配度（定向精准度、广告落地内容转化能力）。</li></ol><h3 id="7-4-提升策略"><a href="#7-4-提升策略" class="headerlink" title="7.4 提升策略"></a>7.4 提升策略</h3><ul><li>提高出价：新户阶段，没有预估数据，通过提高出价来提升 eCPM；</li><li>提高预估点击率&amp;转化率：稳定阶段，不建议再靠出价来提升 eCPM（会影响 ROI），建议通过优化内容的质量（人、货、场），提高点击率和转化率，以此来提升 eCPM。</li></ul><h2 id="8-计费规则"><a href="#8-计费规则" class="headerlink" title="8. 计费规则"></a>8. 计费规则</h2><p>本节将解释为何广告的实际转化成本不等于出价。</p><h3 id="8-1-广义一价拍卖（GFP）"><a href="#8-1-广义一价拍卖（GFP）" class="headerlink" title="8.1 广义一价拍卖（GFP）"></a>8.1 广义一价拍卖（GFP）</h3><p>在广义一价拍卖（Generalized First-Price）竞价机制下，广告主按出价降序排列，出价最高的广告主获得广告位1，出价次高的广告主获得广告位2，以此类推。一级价格拍卖最大的问题是策略选择很不稳定，竞标者会频繁地修正出价。如果最高出价者出价 2 元，次高为 1.5 元，那么最高者就有动机把出价降到 1.51 元，仍能赢得最好的广告位且省下 0.49 元，可同时次高者也有动机为拿到最好的广告位将出价往上修正。</p><h3 id="8-2-广义二价拍卖（GSP）"><a href="#8-2-广义二价拍卖（GSP）" class="headerlink" title="8.2 广义二价拍卖（GSP）"></a>8.2 广义二价拍卖（GSP）</h3><p>广告平台基本采用广义二价拍卖（Generalized Second-Price），出价最高者赢得广告位但以第二高出价购买，竞拍价只能决定能否获胜，而不能决定获胜后所支付的价格，此时竞标者提交真实估值是占优策略，对于竞标者来说，最好的选择是竞标价恰好是他认为广告位所值的价值。因此，竞标者在改变出价时需要考虑到这个事实，避免了广义一价拍卖中不断参考相邻出价所做的策略修正。</p><h3 id="8-3-VCG（Vickrey-Clark-Groves）"><a href="#8-3-VCG（Vickrey-Clark-Groves）" class="headerlink" title="8.3 VCG（Vickrey-Clark-Groves）"></a>8.3 VCG（Vickrey-Clark-Groves）</h3><p>以三位发明者名字命名，基本原理是计算竞标者赢得广告位后，给整个竞价收入带来的收益损失，然后认为这种损失就是获胜者应该支付的费用。VCG 的优点主要在于竞标者提交真实估值是弱占优策略，最终的扣费完全和竞标者的出价无关，而是取决于其他竞标者的出价，使广告主可以按照愿意为转化付出的实际成本出价，使平台处于整体帕累托最优状态，但是最直接的缺点是理解起来远不如 GSP 简单，解释成本高，且 VCG 实际产生的收益并没有想象的大，基本没有平台采用。</p><h2 id="9-召回"><a href="#9-召回" class="headerlink" title="9. 召回"></a>9. 召回</h2><p>针对某次请求，把符合基本条件、最有可能转化的广告放在候选队列。<br>如广告系统根据历史数据判断某次发起广告请求的用户对游戏类广告更感兴趣，于是在召回环节对游戏类广告加权。<br>召回阶段排序靠后原因为广告历史后验数据较差，广告竞争力不足。</p><h2 id="10-内容混排"><a href="#10-内容混排" class="headerlink" title="10. 内容混排"></a>10. 内容混排</h2><p>固定每 n 个内容插入一条广告的方式无法衡量广告和原生内容的直接价值，因此产生了混排机制。<br>广告混排：广告和内容混合排序。广告没有固定的插入位置，需要和内容一起计算对于平台的收益，按照收益大小排序。</p><ol><li>计算每出现一个广告或内容，对于平台的价值是多少，该价值记为 a；</li><li>计算出现了广告或内容之后，用户继续浏览后续内容的概率之和，概率之和记为 b；</li><li>计算用户继续浏览，产生后面浏览内容的预期收益，记为 c；</li><li>比较每次出现广告和内容时，a+b*c 的值。</li></ol><p>可理解为计算广告收益，将展示广告后用户浏览内容减少的概率也计算在内，此时广告相较于内容对用户的干扰程度变得格外需要注意：</p><ol><li>避免容易引起不适的广告。例如去黑头/痘痘内容的广告，用户观感很差，在混排下会是重点打击对象。所以优化此类素材的观看体验可能转化率会有所下降，但也许跑量情况反而会有所提升；</li><li>注意广告的导出效应。导出效应是指用户在转化了广告之后，会离开当前 APP，这会导致在计算混排分时会处于劣势。导出效应由强到弱的排序是：娱乐类 APP 激活 &gt; 工具类 APP 激活 &gt; 应用拉活 &gt; 表单提交 &gt; 抖+类广告；</li><li>要更加注意广告的原生性。大部分用户天然反对广告，看到是广告后就会有排斥心理，所以在用户感受到广告价值之前需要尽可能让用户意识不到这是广告；</li><li>善用定向人群包。对于平台和广告主来说，如果找到了对广告相对不排斥的用户，用人群包的方式定向，可以有效降低转化成本、提升跑量能力。</li></ol><h2 id="11-广告展示"><a href="#11-广告展示" class="headerlink" title="11. 广告展示"></a>11. 广告展示</h2><h3 id="11-1-广告链路角度"><a href="#11-1-广告链路角度" class="headerlink" title="11.1 广告链路角度"></a>11.1 广告链路角度</h3><p>广告展示=广告总请求<em>广告有效请求比例</em>有广告返回比例*广告曝光率</p><ul><li>广告总请求：所有发起广告请求的数量；</li><li>广告有效请求：因为广告的请求量可能很大，为了节省机器资源或者出于保障用户体验和生态等目的，广告系统会把部分请求置为无效，剩下的就是有效请求。一般过滤规则包括：用户保护规则、重复请求过滤、低质流量过滤、反作弊过滤等；</li><li>有广告返回比例：并非所有广告有效请求都会返回广告，漏斗中还存在有广告返回比例，若未返回广告是因为检索广告超时或没有合适的广告（CPM 过低）；</li><li>广告曝光率：广告系统将广告返回之后，受用户的操作习惯影响，广告展示量不能确定。例如抖音的滑动观看形式，当广告预加载之后，用户没有继续滑动而退出了 APP，广告便不会真正展示出来；再如用户可能会反复上下滑浏览，这样同一个广告会反复展示出来。</li></ul><h3 id="11-2-广告展示角度"><a href="#11-2-广告展示角度" class="headerlink" title="11.2 广告展示角度"></a>11.2 广告展示角度</h3><p>广告展示=内容总 PV 数<em>广告出现比例（AdLoad）</em>一次出现广告时的平均展现条数（ASN）</p><ul><li>内容总 PV 数：平台上所有内容被查看的总次数；</li><li>广告展示比例（AdLoad）：AdLoad=广告量/内容量，每多少个内容展示一个广告；</li><li>展示一次广告时的平均展示条数（ASN）：展示一次广告时具体出多少条广告，一般在信息流场景下 ASN = 1，搜索广告场景下 ASN ≥ 1。</li></ul><h3 id="11-3-用户角度"><a href="#11-3-用户角度" class="headerlink" title="11.3 用户角度"></a>11.3 用户角度</h3><p>广告展示=总用户量<em>可以出现广告的用户</em>每个能出现广告的用户展现的广告个数</p><ul><li>总用户量：和内容数量一样，决定广告数量上限；</li><li>可以出现广告的用户：基于平台长期发展考量，在广告变现同时有部分用户不会展示广告<ul><li>Hold Out 实验：大概占总用户量 1% 的少数用户永远不会看到广告，用这部分数据判断广告对用户留存等数据的长期影响；</li><li>新用户、沉默用户不展示广告：能够给新用户、沉默用户更好的产品体验，从而更可能将新用户、沉默用户转化为老用户/活跃用户；新用户、沉默用户也存在因数据量少而广告推荐效果差的风险；</li><li>高价值用户保护：只展示高价值、高质量广告，降低广告频率（AdLoad）等；</li><li>特殊用户不展示广告：政治人物、大V用户等；</li></ul></li><li>每个能出现广告的用户展现的广告个数：概念类似 ASN。</li></ul><h2 id="12-负外部性"><a href="#12-负外部性" class="headerlink" title="12. 负外部性"></a>12. 负外部性</h2><p>当存在一个广告位时，广告平台从广告池中挑选直接价值 eCPM 最大的广告展示，但一些广告存在“负外部性”，即间接价值为负。<br>在 经济学中，负外部性是指个体行为或企业行为影响了其他个体或企业，使之支付了额外的成本费用，但后者又无法获得相应补偿的现象。<br>在广告系统中，广告能使平台赚钱，但也对用户体验有负向作用，会影响用户留存和活跃。不同的广告产生的负向作用显然不同，为了衡量广告对于用户体验的损失，平台会在排序中考量广告的负外部性，如果某个广告相对于其他广告来说，对用户的时长和 DAU 影响更大，即负外部性更大，那么它就需要以更高出价（更高的 eCPM）来弥补。</p><h2 id="13-冷启动期-学习期"><a href="#13-冷启动期-学习期" class="headerlink" title="13. 冷启动期/学习期"></a>13. 冷启动期/学习期</h2><h3 id="13-1-冷启动期原因"><a href="#13-1-冷启动期原因" class="headerlink" title="13.1 冷启动期原因"></a>13.1 冷启动期原因</h3><p>新广告计划投放时，系统没有足够的转化数据建立算法模型，无法准确识别目标转化用户。为了获取转化数据，系统会在大量用户中进行投放探索。若收集到足够的转化数据，则探索成功，该计划大概率可以平稳投放，带来更多满足成本要求的转化；若无法收集足够的转化数据，则探索失败，该计划获取更多转化的概率更小。计划在冷启动期的数据影响在成熟期的跑量和成本。<br>冷启动期系统会保证基本流量（称作保量或天使量），使收集的数据处于一个置信区间内。</p><table><thead><tr><th>状态​</th><th>含义​</th><th>系统在做什么​</th><th>投放效果​</th><th>我该做什么​</th></tr></thead><tbody><tr><td>学习期​</td><td>系统未收集到足够转化，正在努力探索目标用户</td><td>系统在符合广告主定向的用户里，不断尝试，寻找高转化的用户</td><td>成本不稳定，oCPM有超成本风险（但平台存在oCPM自动赔付规则，会承担部分超成本风险）​<br>跑量不稳定​</td><td>创建计划时，给出心理预期的转化成本出价<br>在该状态下，不要频繁修改出价和定向，会影响学习期效果、赔付资格​</td></tr><tr><td>学习期结束​</td><td>系统已收集到一定转化，可以较准确地找到目标用户。系统认为，大概率上计划可以稳定投放获取更多转化</td><td>系统对目标用户有了相对充分的认识，能够准确稳定地选出目标用户</td><td>成本稳定<br>跑量稳定​</td><td>计划投放基本稳定，如果符合预期，可以提高预算，让计划带来更多转化<br>投放方式开始生效​</td></tr><tr><td>学习期失败​</td><td>系统未能收集到足够转化，无法准确找到目标用户。系统认为，在不做任何调整的情况下，大概率计划已经无法获取更多转化</td><td>系统还在继续探索，但是探索的成效较差</td><td>成本不稳定​<br>跑量较困难​</td><td>如果该计划后续仍投放，需调整创意、标题等​</td></tr></tbody></table><h3 id="13-2-一键起量"><a href="#13-2-一键起量" class="headerlink" title="13.2 一键起量"></a>13.2 一键起量</h3><p><img data-src="/qianchuan/qianchuan-9.webp">  </p><p>作用为增加冷启动探索专用预算，广告会突破成本的限制，在预算内尽可能用提升价格的方式去获取更多的曝光，希望用大量的曝光来纠偏模型，以避免模型因为数据不足从而低估该广告；本质上是由广告主承担冷启动带来的部分损失，向平台换取更大的广告展示机会；<br>适用场景：对定向/创意很有信心时使用，在短期内大量曝光使得优秀的创意可以更多地展示出来，如果使用后广告还是冷启动失败，则说明广告本身质量不佳，需修改定向或创意内容。</p><p><strong>WARN</strong> 该功能带来的流量无赔付。</p><h3 id="13-3-冷启动期对策"><a href="#13-3-冷启动期对策" class="headerlink" title="13.3 冷启动期对策"></a>13.3 冷启动期对策</h3><ol><li>寻找潜力大的计划帮助平台提升成功率，即粗排预估点击率大的计划；</li><li>冷启动期主要求准，先缩窄定向看转化效果，待度过冷启动期再放开定向追求量级；</li><li>和对手博弈，做到比同行的平均水平好；</li><li>多复制跑得好的老计划。</li></ol><h2 id="14-转化周期"><a href="#14-转化周期" class="headerlink" title="14. 转化周期"></a>14. 转化周期</h2><h3 id="14-1-直接转化成交"><a href="#14-1-直接转化成交" class="headerlink" title="14.1 直接转化成交"></a>14.1 直接转化成交</h3><p>在巨量千川中，定义为广告展示后 30 分钟内的成交数据，而非统计点击广告进入直播间后未退出直播间当场成交的数据。</p><h3 id="14-2-间接转化成交"><a href="#14-2-间接转化成交" class="headerlink" title="14.2 间接转化成交"></a>14.2 间接转化成交</h3><p>广告展示后 30min-7day 内的成交数据，可理解为先种草再转化，人群越精准越容易被种草，则间接转化越大，间接转化的触达途径分主动查看、关注推荐、自然推荐、二次付费触达等；<br>被种草后访问的间接流量会计入直播间自然流量，超出 7 天统计期的间接流量成交会计入直播间自然流量成交，可理解为以付费带动自然流量精度提升。</p><h1 id="二、定向"><a href="#二、定向" class="headerlink" title="二、定向"></a>二、定向</h1><h2 id="1-基本概念"><a href="#1-基本概念" class="headerlink" title="1. 基本概念"></a>1. 基本概念</h2><h3 id="1-1-定向作用"><a href="#1-1-定向作用" class="headerlink" title="1.1 定向作用"></a>1.1 定向作用</h3><p>节省计算资源：以低成本过滤掉不适合流量请求的广告预算，从而在后续环节中节省算力及减少广告返回时间。</p><h3 id="1-2-定向分类"><a href="#1-2-定向分类" class="headerlink" title="1.2 定向分类"></a>1.2 定向分类</h3><ul><li>人口属性标签：年龄、性别、地域等；​</li><li>消费能力标签：手机品牌、手机价格、居住小区等级、是否有车、定位是否经常出现在高档消费场所等；​</li><li>行为标签：浏览视频类别、历史消费类目等；​</li><li>重定向：将曾在店铺发生过浏览、转化等行为的用户打包投放；​</li><li>自有人群包：广告主上传积累的历史用户数据，广告平台只向与这些用户数据匹配的平台内用户投放广告。例如，已在淘宝经营多年的广告主，积累了大量的淘宝消费者数据，就可以把这些用户数据上传为人群包定向投放；​</li><li>平台人群包：平台针对部分行业、场景提前圈选好的人群包，例如电商偏好人群包、类目偏好人群包等；​</li><li>广告内容：广告内容本身也是一种筛选用户的定向，广告系统会根据创意内容和数据反馈，动态调整创意的匹配和展示。以投放人群包为大家电潜在人群为例，如果采用符合女性喜好的短视频素材作为广告内容，广告系统在评估创意内容后会优先推送给女性用户，同时因为是面向女性制作的短视频内容，女性用户的广告点击率也会更高，k从而实现在大家电潜在人群中女性人群的高覆盖；​</li><li>组合类标签：指组合不同特征后生成的新特征，最常见的是“年龄+性别”组成的人口属性分段特征，例如八大策略人群。</li></ul><h3 id="1-3-定向精度"><a href="#1-3-定向精度" class="headerlink" title="1.3 定向精度"></a>1.3 定向精度</h3><ul><li>硬定向（事实类，可根据身份证号、GPS、IP地址、设备信息等校准）：年龄、性别、地域、手机品牌、手机价格、用户行为等</li><li>软定向（推测类，易出现平台判断偏差）：居住小区等级、是否有车、婚姻状况、用户兴趣、消费能力等</li></ul><p>软定向偏差原因：以高收入人群为例，存在少数用户本身不具备很高的收入，但因超前消费、职业原因等（如司机、服务员），常去一些高档消费场所，会被错误判断为高收入群体。<br>如果投放时对定向的要求很高，建议多选取地域、性别等硬定向或通过自己上传人群包的方式定向。</p><h3 id="1-4-人群包创建方式"><a href="#1-4-人群包创建方式" class="headerlink" title="1.4 人群包创建方式"></a>1.4 人群包创建方式</h3><ul><li>行为上表现出某种产品或服务需求的用户</li><li>职业上接近某种需求的用户</li><li>根据以往消费习惯判断可能购买某产品的用户</li><li>地理上或人口属性上接近某标签的用户</li><li>根据对用户财务状况的估计做的分类</li></ul><h2 id="2-定向设置"><a href="#2-定向设置" class="headerlink" title="2. 定向设置"></a>2. 定向设置</h2><h3 id="2-1-人群画像"><a href="#2-1-人群画像" class="headerlink" title="2.1 人群画像"></a>2.1 人群画像</h3><ul><li>店铺维度：抖音电商罗盘·经营-人群-人群画像-近30天-「年龄分布、活跃时间分布、八大策略人群分布、常驻省份、购买偏好、一级内容偏好」：<a href="https://compass.jinritemai.com/shop/user-portrait?userType=first_pay&amp;accountType=all&amp;dateType=23">https://compass.jinritemai.com/shop/user-portrait?userType=first_pay&amp;accountType=all&amp;dateType=23</a></li><li>直播间维度：抖音电商罗盘·达人-人群-人群分析-近30天-高潜用户数/成交用户数-查看用户画像-「年龄、活跃时间分布、八大策略人群分布、省份分布、类目偏好、一级内容偏好」：<a href="https://compass.jinritemai.com/talent/user-assets">https://compass.jinritemai.com/talent/user-assets</a></li><li>商品维度：抖音电商罗盘·经营-人群-场景人群-商品人群洞察-自然月-商品小组维度/单商品维度-销量TOP10商品/添加分析商品-人群画像-「八大策略人群分布、行业偏好、二级内容偏好」：<a href="https://compass.jinritemai.com/shop/goods-user-analysis">https://compass.jinritemai.com/shop/goods-user-analysis</a></li><li>投放维度：巨量千川-数据-人群洞察-洞察周期-展示指标：直接成交金额/直接支付ROI-「行业品类核心人群、八大人群分布、年龄分布、数据明细-城市」：<a href="https://qianchuan.jinritemai.com/data-report/crowd/analysis?aavid=1726696961715215">https://qianchuan.jinritemai.com/data-report/crowd/analysis?aavid=1726696961715215</a></li><li>投放维度：巨量千川-数据-数据概览-「电商品类分布」：<a href="https://qianchuan.jinritemai.com/data-report/overview?aavid=1726696961715215">https://qianchuan.jinritemai.com/data-report/overview?aavid=1726696961715215</a></li></ul><h3 id="2-2-人群圈选DMP"><a href="#2-2-人群圈选DMP" class="headerlink" title="2.2 人群圈选DMP"></a>2.2 人群圈选DMP</h3><blockquote><p>DMP（Data Management Platform）：基于人群标签做交集、并集、排除、拓展运算得到新人群组合的数据管理平台。</p></blockquote><ul><li>电商罗盘：抖音电商罗盘·经营-人群-人群管理（交集逻辑）-「用户对价格敏感度、用户冲动消费倾向度、短视频一级类目偏好、短视频二级类目偏好、短视频三级类目偏好、广告品牌偏好」：<a href="https://compass.jinritemai.com/shop/crowd-management">https://compass.jinritemai.com/shop/crowd-management</a></li><li>电商罗盘：抖音电商罗盘·经营-用户-人群管理：<a href="https://fxg.jinritemai.com/ffa/mvip/operation/audience-plan">https://fxg.jinritemai.com/ffa/mvip/operation/audience-plan</a></li><li>电商罗盘：抖音电商罗盘·策略-市场-市场人群-人群构成分析：<a href="https://compassbrand.jinritemai.com/market/insight/crowd">https://compassbrand.jinritemai.com/market/insight/crowd</a></li><li>电商罗盘：抖音电商罗盘·策略-人群策略-画像偏好：<a href="https://compassbrand.jinritemai.com/consumer/operation/portrait">https://compassbrand.jinritemai.com/consumer/operation/portrait</a></li><li>巨量千川：巨量千川-数据-人群列表-圈选人群：<a href="https://qianchuan.jinritemai.com/data-report/dmp-create?aavid=1726696961715215">https://qianchuan.jinritemai.com/data-report/dmp-create?aavid=1726696961715215</a></li><li>巨量千川：巨量千川-数据-标签广场-场景推荐人群-「直播观看、商品购买」：<a href="https://qianchuan.jinritemai.com/data-report/crowd/square?tagType=marketing&amp;aavid=1726696961715215&amp;squareType=recommend">https://qianchuan.jinritemai.com/data-report/crowd/square?tagType=marketing&amp;aavid=1726696961715215&amp;squareType=recommend</a></li><li>巨量云图：巨量云图-人群-推荐人群：<a href="https://yuntu.oceanengine.com/yuntu_ng/analysis/audience/recommend">https://yuntu.oceanengine.com/yuntu_ng/analysis/audience/recommend</a></li><li>巨量云图：巨量云图-人群-新建人群-「预测职业、IP偏好、线下到访偏好」：<a href="https://yuntu.oceanengine.com/yuntu_ng/analysis/audience/new">https://yuntu.oceanengine.com/yuntu_ng/analysis/audience/new</a></li></ul><h3 id="2-3-投放人群精准度诊断"><a href="#2-3-投放人群精准度诊断" class="headerlink" title="2.3 投放人群精准度诊断"></a>2.3 投放人群精准度诊断</h3><ul><li>对比<a href="https://compass.jinritemai.com/shop/user-portrait">「抖音电商罗盘·经营-人群-人群画像」</a>与「巨量千川-数据-人群洞察」人群画像差异；</li><li>对比「巨量千川-数据-直播分析-今日直播-大屏」中广告流量与自然流量的流量转化指标；</li><li>对比<a href="https://compass.jinritemai.com/shop/live-list">「抖音电商罗盘·经营-直播-直播列表-直播间明细-下载明细」</a>与「巨量千川-数据-标准推广数据-推直播间-计划-下载数据表格」两个报表的流量转化指标差异。</li></ul><h3 id="2-4-排除人群包​"><a href="#2-4-排除人群包​" class="headerlink" title="2.4 排除人群包​"></a>2.4 排除人群包​</h3><p>如稳定持续跑量计划出现点击率下跌、成本攀升情况，可打包该计划或账户已展示或已点击的人群，在计划设置中排除，避免计划重复曝光给对素材不感兴趣的人群。​<br>巨量千川-数据-标签广场-常用人群-广告人群：<a href="https://qianchuan.jinritemai.com/data-report/crowd/square?tagType=adv&amp;aavid=%60%E6%AD%A4%E5%A4%84%E5%A1%AB%E5%86%99%E5%8D%83%E5%B7%9D%E8%B4%A6%E6%88%B7ID%60">https://qianchuan.jinritemai.com/data-report/crowd/square?tagType=adv&amp;aavid=`此处填写千川账户ID`</a><br><img data-src="/qianchuan/qianchuan-12.webp">  </p><h3 id="2-5-定向策略"><a href="#2-5-定向策略" class="headerlink" title="2.5 定向策略"></a>2.5 定向策略</h3><p>定向不是以有几率买为目标，而是以最可能购买的群体为目标，去除购买率低人群。<br>定向精准带来高转化，但过精准可能难跑量也会造成成本过⾼，过宽泛可能 ROI 偏低。<br><strong>TIP</strong> 人群定向遵循由窄到宽、由精细到放宽的原则，不同阶段对人群定向的精准度和覆盖范围有不同要求</p><ul><li>冷启动期人群定向策略：窄定向为主，出价稍高，圈精准人群做转化数据，建立人群模型（成本高、转化差、消耗低是冷启动期的正常现象）。</li><li>成长期人群定向策略：系统推荐为主，针对优质人群适当放宽人群定向范围。</li><li>成熟期人群定向策略：宽定向为主，通过成本稳投、智能放量等让系统自动探索人群放量，同时自行测试不同人群类型实现人群破圈。</li></ul><blockquote><p>账户模型本质：精准交互人群的积累（参考 A1-A5 人群定义），包括账户下的创意内容、人群定向、计划数据、行业类目、系统预估等数据。</p></blockquote><h1 id="三、计划设置"><a href="#三、计划设置" class="headerlink" title="三、计划设置"></a>三、计划设置</h1><h2 id="1-放量投放（Nobid）"><a href="#1-放量投放（Nobid）" class="headerlink" title="1. 放量投放（Nobid）"></a>1. 放量投放（Nobid）</h2><h3 id="1-1-作用"><a href="#1-1-作用" class="headerlink" title="1.1 作用"></a>1.1 作用</h3><p>设置预期消耗，系统在指定时间段内尽可能花完预算的基础上实现最优转化成本的自动出价产品，满足：​</p><ul><li>充分跑量：将预算在指定投放时间段内尽量全部消耗完，能解决不起量、掉量等跑量问题； ​</li><li>流量均衡：让预算消耗的速度在指定投放时段尽量贴近大盘流量曲线，均匀引入流量，能减少突然爆量； ​</li><li>最大化转化效果：系统由低到高探索出价使预算尽可能花完，从小于历史成本表现的出价开始逐渐找到能正好曝光出去的最小出价，在产生消耗后，监控花钱的速度相比较预算消耗目标是快是慢，如果快了则降价，如果慢了则提价，最终达到可以花完预算的最小出价。尽可能在花完预算的前提下实现成本最低，获取当下预算及投放时长配比情况下最优的转化效果。因为有花完预算的使命，对于手动出价下不太能跑量的计划，为了花完预算，系统可能会提高出价激进探索获得曝光；对于手动出价本身就能正常跑量的计划，由于由低到高出价探索的原则，也有可能获得更低成本；​</li><li>探索效率高：定向/素材探索能更快地获得效果好坏的结论，从而快速调整方向。</li></ul><h3 id="1-2-适用场景"><a href="#1-2-适用场景" class="headerlink" title="1.2 适用场景"></a>1.2 适用场景</h3><ul><li>冷启动效率低；​</li><li>探索出价：少量预算投放放量投放，积累一定转化量后，参考放量转化成本设置控成本计划出价；​</li><li>测试计划：更高效地测试哪个计划跑量更好、哪个计划成本更低；</li><li>不起量、掉量：使用控成本投放的消耗速度不及预期；​</li><li>大促冲量：大促期间往往不太在意成本，需要利用时间窗口冲量，此时采用放量投放可更好跑量。</li></ul><h3 id="1-3-投放方法"><a href="#1-3-投放方法" class="headerlink" title="1.3 投放方法"></a>1.3 投放方法</h3><ol><li>预算初始设置：小预算开始尝试，例如参考历史 3-5 个转化成本设置初始预算​<br>放量投放是没有成本的约束的，需要通过调控预算实现成本调控；​<br>预算额度影响转化成本，预算越高，转化成本越高，建议跑量时观察成本逐步提高预算，超成本时降低预算观察效果。</li><li>预算调整策略：不频繁调整预算，加减预算比例不超过 30%，每次调整时间间隔 2 小时以上，单日调整 3 次及以下，直播结束前半小时不调整​<ul><li>ROI 低于预期，冷启动时期建议持续观察，计划成熟期建议下调预算​</li><li>ROI 高于预期，可小幅度上调预算，预算调整比例建议控制在 30% 之内​</li><li>ROI 符合预期，需要放量，则新增计划，注意保持创意多样性​<br>当计划预算持续调整（比如 2k-&gt;3k-&gt;5k-&gt;8k-&gt;1w），最终成本符合预期时，注意：最终成本不是 1w 预算的成本；次日如果预算还是 1w，可能会存在超成本现象，因此次日可以下调预算至 3k 或 5k 跑一整天观察成本是否符合预期。</li></ul></li><li>合理设置投放时间段<br>计划时段设置尽可能长，设置后尽可能不动，尽量通过调整预算来实现成本调控，不要过分调整时段。</li><li>关停：计划初期探索成本波动是正常现象，建议给予耐心不提前关停​<br>转化成本 200 元以内客户：建议消耗达到 5 个转化成本再考虑效果再操作​<br>转化成本 200 元以上客户：建议消耗 1000 以上再考虑效果再操作</li><li>保持计划基建<br>初期测试建议不少于 3-5 条，待积累经验后以一定比例（例如 10%-20%）扩大计划量级；​<br>需要日维度保持一定计划数；​<br>多计划小预算时，要保持同时在投计划的创意多样性。</li></ol><h3 id="1-4-设置参考"><a href="#1-4-设置参考" class="headerlink" title="1.4 设置参考"></a>1.4 设置参考</h3><p><img data-src="/qianchuan/qianchuan-16.webp">  </p><h2 id="2-优化目标"><a href="#2-优化目标" class="headerlink" title="2. 优化目标"></a>2. 优化目标</h2><ul><li>搜索广告：直播间商品点击、直播间下单、直播间成交、支付ROI</li><li>通投广告：直播间成交、支付ROI、直播间结算</li></ul><p>转化深度：支付ROI &gt; 直播间成交 &gt; 直播间下单 &gt; 直播间商品点击，优先选择深层转化目标，跑量速度不达预期再逐步放开到浅层</p><p><strong>WARN</strong> 「进入直播间、直播间粉丝提升、直播间评论」均为机器人，勿投放。</p><h2 id="3-优化周期"><a href="#3-优化周期" class="headerlink" title="3. 优化周期"></a>3. 优化周期</h2><p>优先选择「7日总支付ROI」、「7日总成交」，在优化实时转化价值的同时，拉长转化度量周期，探索更多推广时未转化但有加粉、加购、种草等意向的潜在人群。</p><h2 id="4-智能优惠券"><a href="#4-智能优惠券" class="headerlink" title="4. 智能优惠券"></a>4. 智能优惠券</h2><p>保持启用。由系统发放平台优惠券（商家不额外承担优惠券费用），提高用户下单率。</p><h2 id="5-投放时间"><a href="#5-投放时间" class="headerlink" title="5. 投放时间"></a>5. 投放时间</h2><p>选择「长期投放」。<br>计划中断会影响模型：预估不准/超成本，避免主动暂停计划。</p><h2 id="6-日预算"><a href="#6-日预算" class="headerlink" title="6. 日预算"></a>6. 日预算</h2><p>计划日预算消耗达 80% 之前需增加预算，避免流控降低跑量速度（如预算 1000，消耗达 800 元时，上调预算）；​<br>单个计划跑量速度过快时也可通过降低预算触发平台流控压制跑量速度。</p><h2 id="7-出价"><a href="#7-出价" class="headerlink" title="7. 出价"></a>7. 出价</h2><p>此处的出价只是表达预期成本，非最终实际出价。<br>出价影响转化成本、跑量速度，跑量速度过快可能使人群精度下降。<br>出价需根据大盘情况每日调整，根据竞争程度出价，如早上竞争小，如果出价已经很高但跑不动就可以放弃计划，晚上竞争大要适当提价。<br>出价策略：</p><ul><li>放量投放测试转化成本：少量预算放量投放，积累一定转化量后，根据转化成本设置出价；</li><li>阶梯出价试探出价范围：例如放量投放转化成本 50 元，保持除出价外其它设置不变，测试 45 元、49 元、50 元、52 元、60 元等不同出价。</li></ul><h2 id="8-地域"><a href="#8-地域" class="headerlink" title="8. 地域"></a>8. 地域</h2><p>一般选择正在该地区的用户，排除限运地区。<br>地区分类方式：物流困难地区、竞争激烈地区、主要市场地区、特殊地区（特定行为偏好）、一般地区。<br><strong>TIP</strong> 限运地区需在<a href="https://fxg.jinritemai.com/ffa/morder/logistics/freight-list">「抖店-物流工具-运费模板-限售地区设置」</a>设置后生效。</p><h2 id="9-性别"><a href="#9-性别" class="headerlink" title="9. 性别"></a>9. 性别</h2><p>无性别属性产品，选择不限。</p><h2 id="10-年龄"><a href="#10-年龄" class="headerlink" title="10. 年龄"></a>10. 年龄</h2><p>千万量级用户覆盖时可筛选，千万量级以下人群量级不做限制。</p><h2 id="11-行为兴趣"><a href="#11-行为兴趣" class="headerlink" title="11. 行为兴趣"></a>11. 行为兴趣</h2><ul><li>行为定向：根据用戶的评论留言、点赞、关注转粉、打赏音浪、福利领取、组件点击、订单转化互动行为得到的标签，未经过模型过多处理，数据为真实点击率、转化率。​</li><li>兴趣定向：基于观看、停留预估出的更容易转化的人群，是系统推测可能发生行为的用户，数据为预估点击率、转化率。​</li></ul><p>行为人群越多越精准，采取大行为、小兴趣原则。​<br>周期选择：7 天。<br>标签选择：可选择与行业最相关的词汇，也可基于目标客群分析用户感兴趣的内容，假如女性客户购买量与复购率较高，可选择母婴用品等兴趣词。​<br>考虑方向：相关热点（能蹭热点时）、对标达人、人群词、行业词、产品词、品牌词、活动词（如年货节该囤的货品）。</p><h2 id="12-抖音达人"><a href="#12-抖音达人" class="headerlink" title="12. 抖音达人"></a>12. 抖音达人</h2><p>新号可用，缺点：定向窄，难放量。<br>选取原则：</p><ol><li>选取层级相近达⼈，选择大主播⼈货场无优势；</li><li>达人尽量选满，覆盖人数过少难跑量；</li><li>不选择强人设、粉丝粘性强达人；</li><li>达人带货产品价位相近，触达相近消费能力⼈群。</li></ol><p>对标达人寻找方法：</p><ol><li>电商罗盘-人群分析-同行业商家偏好</li><li>分析产品目标人群→可能购买的其他类目产品→选择同粉丝群体达人</li><li>外部数据平台：①选择符合条件的商品；②基于商品选择关联直播间-筛选数据表现较好的直播间，观察用户画像判断是否匹配</li></ol><p><strong>WARN</strong> 不选择关注（关注行为包含所有历史粉丝，已被转化）、直播商品下单、购物车下单，投放已转化人群无意义，时间范围选最短的 15 天。</p><h2 id="13-新客"><a href="#13-新客" class="headerlink" title="13. 新客"></a>13. 新客</h2><p>勾选店铺未购。</p><h2 id="14-智能放量"><a href="#14-智能放量" class="headerlink" title="14. 智能放量"></a>14. 智能放量</h2><p>作用：使对应定向限制失效；勾选智能放量-地域，则放开地域；勾选智能放量-性别，则放开性别。<br>一开始不要勾选，待跑量不佳时逐步勾选，如：</p><ol><li>假设定向「年龄、行为兴趣」；</li><li>跑量困难时，勾选「智能放量-年龄」；</li><li>观察一段时间后，依然跑量困难，继续勾选「智能放量-行为兴趣」。</li></ol><h2 id="15-创意形式"><a href="#15-创意形式" class="headerlink" title="15. 创意形式"></a>15. 创意形式</h2><p>创意质量决定广告点击率，优先选择优质短视频，无优质短视频再选择直播间画面。</p><ul><li>直播间画⾯：受直播间装修、主播状态（且会换班）影响，点击率不稳定；​</li><li>短视频：发挥空间大于直播间画面，数据提升空间大，且优质短视频可反复使用直至衰退，点击率稳定。</li></ul><table><thead><tr><th>指标</th><th>归因</th><th>内容</th></tr></thead><tbody><tr><td>直播间点击率</td><td>装修</td><td>直播间软件装修、直播间硬件装修</td></tr><tr><td></td><td>主播</td><td>形象、状态</td></tr><tr><td></td><td>听觉</td><td>人声、音乐</td></tr><tr><td>短视频点击率</td><td>代入感</td><td>从用户视角出发，营造强烈的场景代入感，第一视角亲身试用分享</td></tr><tr><td></td><td>权益曝光</td><td>是否清楚说明优惠力度（满减、优惠券、抽奖等）、用户权益（七天无理由、运费险等）</td></tr><tr><td></td><td>商品曝光</td><td>商品是否展示清晰，是否能够突出商品的特点、质量、美感</td></tr></tbody></table><p>一键智能生成营销短视频素材：<a href="https://www.xingtu.cn/creative/ad/ai/publish">星图即合-即刻成片</a></p><h2 id="16-创意标题"><a href="#16-创意标题" class="headerlink" title="16. 创意标题"></a>16. 创意标题</h2><p>一键智能生成短视频投放标题：<a href="https://cc.oceanengine.com/creative-factory/miaobi">巨量创意-妙笔</a></p><h2 id="17-创意标签"><a href="#17-创意标签" class="headerlink" title="17. 创意标签"></a>17. 创意标签</h2><p>创意标签是在定向内再度筛选带某些标签的素材的兴趣人群，在计划创意探索时影响素材曝光人群，创意标签本身对定向的影响较小，且标签前后顺序不存在比重关系。随着跑量提升、模型搭建完善后可放开创意分类、创意标签探索更多人群，扩大关键词范围以获得更多流量。</p><p>填写原则：</p><ol><li>以与产品强关联的词为主，写准&gt;写满，不为凑数而写；</li><li>不填写社会新闻词、热点词，以免频控/定向失准；</li><li>如不想写满 20 个标签，宽定向时标签数量多一些，窄定向时标签数量少一些；</li><li>标签类型可为产品词、功能词、人群词、场景词、品牌词、竞品词。</li></ol><p>查找标签词的方式：</p><ol><li>巨量千川：搜索广告-创建计划页面-搜索关键词-编辑-词根相关词-选择高搜索量可用词；</li><li>巨量千川：创建计划页面-行为兴趣定向-自定义-行为词-选择大覆盖人数可用词；</li><li>巨量算数：相关度高的词。</li></ol><h2 id="18-创意分类"><a href="#18-创意分类" class="headerlink" title="18. 创意分类"></a>18. 创意分类</h2><p>创意分类用来圈定投放所属行业，可根据产品或用户分类，比如按产品分类可以选冰箱，按用户分类可以选家居建材，A/B 测试出数据最好的分类长期使用。</p><h2 id="19-计划命名"><a href="#19-计划命名" class="headerlink" title="19. 计划命名"></a>19. 计划命名</h2><h3 id="19-1-格式参考"><a href="#19-1-格式参考" class="headerlink" title="19.1 格式参考"></a>19.1 格式参考</h3><p>示例：[search-roi]230721-大家电核心人群</p><ul><li>通投广告：[优化目标]日期（-托管）-定向内容（-放量）（-视频）（-序号）</li><li>搜索广告：[search-优化目标]日期（-托管）-定向内容（-放量）（-视频）（-序号）</li><li>商品卡广告：[product-优化目标]日期（-托管）-定向内容（-放量）（-型号）</li></ul><h3 id="19-2-优化目标描述参考"><a href="#19-2-优化目标描述参考" class="headerlink" title="19.2 优化目标描述参考"></a>19.2 优化目标描述参考</h3><ul><li>直播间商品点击：click</li><li>直播间下单：order</li><li>直播间成交：pay</li><li>直播间结算：settlement</li><li>支付ROI：roi</li><li>进入直播间：view</li><li>直播间粉丝提升：fan</li><li>直播间评论：comment</li></ul><h2 id="20-广告组"><a href="#20-广告组" class="headerlink" title="20. 广告组"></a>20. 广告组</h2><p>计划按类型或人群包设置广告组，以广告组维度调整计划，提高操作效率。</p><h1 id="四、广告素材"><a href="#四、广告素材" class="headerlink" title="四、广告素材"></a>四、广告素材</h1><h2 id="1-短视频广告"><a href="#1-短视频广告" class="headerlink" title="1. 短视频广告"></a>1. 短视频广告</h2><h3 id="素材要求"><a href="#素材要求" class="headerlink" title="素材要求"></a>素材要求</h3><p>Feeds 流短视频广告由于要和内容混排，对广告素材的原生性要求高，需要让用户第一眼看不出是广告，否则很可能引起对广告的本能排斥而划过。<br>要求广告素材尽可能贴近正常视频，视频播放的时间窗口通常在前 2 秒，2 秒后基本就会被划走或有准备的观看，所以素材前 2 秒要尽量原生，让用户一开始不会很快意识到这是广告，能提升 CTR。<br>提高点赞和评论数也能伪装成原生视频，不少用户会下意识先看点赞数，点赞数多自然会对内容质量有较高心理预期以继续观看。</p><h3 id="数据要求"><a href="#数据要求" class="headerlink" title="数据要求"></a>数据要求</h3><p>广告系统除预估 CTR 外，还会将视频观看时长当作关键指标，因为视频观看时间和转化线性相关，比起相对稀疏的转化数据，视频观看时长数据更丰富，所以投放时也需要关注观看时长指标。</p><h2 id="2-开屏广告"><a href="#2-开屏广告" class="headerlink" title="2. 开屏广告"></a>2. 开屏广告</h2><h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><p>流量大、强制曝光。</p><h3 id="素材要求-1"><a href="#素材要求-1" class="headerlink" title="素材要求"></a>素材要求</h3><p>对于跑量而言，由于在开屏场景用户都知道这是广告，所以素材在原生性上下功夫意义不大，在支持跳过广告，且部分 APP 开屏结束后不会进入信息流继续展示的情况下，提升 CTR 格外重要。这就需要能在第一时间让用户知道这个广告的卖点是什么，能在几秒内点击。在此种情况下，开屏的素材要求尽可能简单且突出重点，会以信息量密度较大的图片为主。<br>对媒体而言，开屏广告虽然收入巨大，但对用户体验的损失也很大（导致用户 PV 或者 DAU 流失），这就更侧重寻找用户观感更好的广告，也倒逼广告主在投放开屏广告时，需要注意产品与素材的调性。</p><h3 id="数据要求-1"><a href="#数据要求-1" class="headerlink" title="数据要求"></a>数据要求</h3><p>对系统而言，开屏广告本身 CTR 就会偏高，这就导致要求系统在预估层面就拉开素材间差距。在召回/粗排等环节有时也会额外处理，保证高 CTR 的广告不被误伤。从这个角度看，开屏场景对于广告 CTR 的要求也就更高。</p><h3 id="定向"><a href="#定向" class="headerlink" title="定向"></a>定向</h3><p>由于开屏广告给用户的决策时间很多，且用户即使事后想被转化也难以找到，故定向要精准，重定向也是值得尝试的思路。</p><h1 id="五、搜索广告"><a href="#五、搜索广告" class="headerlink" title="五、搜索广告"></a>五、搜索广告</h1><h3 id="1-搜索词下载"><a href="#1-搜索词下载" class="headerlink" title="1. 搜索词下载"></a>1. 搜索词下载</h3><h4 id="1-1-巨量千川搜索广告计划创建页"><a href="#1-1-巨量千川搜索广告计划创建页" class="headerlink" title="1.1 巨量千川搜索广告计划创建页"></a>1.1 巨量千川搜索广告计划创建页</h4><p>巨量千川-竞价推广-搜索广告-创建计划页面-搜索关键词-编辑-词根相关词-搜索冰箱-获取结果-下载<br><img data-src="/qianchuan/qianchuan-13.webp">  </p><h4 id="1-2-抖音电商罗盘·经营-搜索"><a href="#1-2-抖音电商罗盘·经营-搜索" class="headerlink" title="1.2 抖音电商罗盘·经营-搜索"></a>1.2 抖音电商罗盘·经营-搜索</h4><p>抖音电商罗盘·经营-搜索-行业搜索词-搜商品/搜品类<br><img data-src="/qianchuan/qianchuan-14.webp">  </p><h3 id="2-搜索词清洗"><a href="#2-搜索词清洗" class="headerlink" title="2. 搜索词清洗"></a>2. 搜索词清洗</h3><h4 id="2-1-品牌核心词"><a href="#2-1-品牌核心词" class="headerlink" title="2.1 品牌核心词"></a>2.1 品牌核心词</h4><p><strong>示例</strong>：海尔、飞利浦、美的、海尔冰箱、美的冰箱、美的冰箱官方旗舰店直播、美的官方直播间、海尔冰箱旗舰店。​<br><strong>缺点</strong>：</p><ol><li>搜索结果优先呈现品牌官方旗舰店；​</li><li>品牌经营多个类目时，覆盖范围太广，无法明确用户搜索意图所属细分类目，点击率低；​</li><li>通常品牌方会购买含品牌名搜索词的品牌广告，固定首屏呈现。​</li></ol><p><strong>建议</strong>：任何店铺均无必要投放。</p><p><strong>建议</strong>：若店铺只经营单一类目，则判断品牌是否经营综合品类，排除纯品牌名搜索词。</p><h4 id="2-2-广范围词"><a href="#2-2-广范围词" class="headerlink" title="2.2 广范围词"></a>2.2 广范围词</h4><p><strong>示例</strong>：电器、家电直播、海尔电器；<br><strong>缺点</strong>：覆盖范围广，无法明确用户搜索意图所属细分类目，点击率低；<br><strong>建议</strong>：非综合品类店铺勿投放。</p><h4 id="2-3-无关品类词"><a href="#2-3-无关品类词" class="headerlink" title="2.3 无关品类词"></a>2.3 无关品类词</h4><p><strong>示例</strong>：​</p><ul><li>无关及低关联品类：海尔kl5、美的微蒸烤一体机R6、海尔纤美14126、海尔洗衣机、冰箱带饮水机；​</li><li>未经营子品类：冷柜、便携冰箱、车载冰箱。​</li></ul><p><strong>缺点</strong>：点击率低。​<br><strong>建议</strong>：无连带购买关系品类（如碗和筷子、牙膏和牙刷）勿投放。如果只经营冰箱，亦排除冷柜、冰柜家用、冰吧等品类词。</p><h4 id="2-4-高竞争词"><a href="#2-4-高竞争词" class="headerlink" title="2.4 高竞争词"></a>2.4 高竞争词</h4><p><strong>示例</strong>：冰箱、冰箱直播、嵌入式冰箱；​<br><strong>缺点</strong>：作为全行业商家皆投放的关键词，直播间转化能力差、人货场相比无优势的情况下即便展示也无法吸引用户点击；​<br><strong>建议</strong>：店铺层级低勿投放。</p><h4 id="2-5-非产品价位段词"><a href="#2-5-非产品价位段词" class="headerlink" title="2.5 非产品价位段词"></a>2.5 非产品价位段词</h4><p><strong>主销中低端产品的直播间示例</strong>：​</p><ul><li>产品词：博观666、海尔606、容声565、美的609等高端产品词；​</li><li>品牌词：「Liebherr、卡萨帝、东芝、松下、利勃海尔、COLMO、西门子」等高端品牌词；​</li><li>价位段相关词：高端品牌冰箱、尊贵嵌入式冰箱。​</li></ul><p><strong>主销高端产品的直播间示例</strong>：​</p><ul><li>产品词：小冰箱、双门冰箱、便携冰箱等低价位产品词；​</li><li>品牌词：「容声、美的、美菱、新飞、华凌、康佳、创维」等中低端品牌词；​</li><li>价位段相关词：1000元左右冰箱推荐、2000-3000冰箱推荐。​</li></ul><p><strong>建议</strong>：根据直播间产品价位结构排除非可承接价位段词。</p><h3 id="2-6-非电商词"><a href="#2-6-非电商词" class="headerlink" title="2.6 非电商词"></a>2.6 非电商词</h3><p><strong>示例</strong>：冰箱的摆放位置和禁忌、冰箱改色最好什么办法、冰箱里去栗子皮的方法、冰箱突然停止运行了怎么办、冰箱打死不放三样东西了。​<br><strong>建议</strong>：此类词汇对应用户多数已有产品，需分辨词汇体现的用户意图，是否有后续购买新机的机会：（1）如「冰箱突然停止运行了怎么办、冰箱不冷冻了怎么解决」这类可归类为质量问题咨询的搜索词，有较大概率因冰箱损坏而更换新机，可以投放；（2）如「冰箱的摆放位置和禁忌、冰箱改色最好什么办法」这类搜索词，可推理为是想在现有的冰箱使用上略作改进，几乎无更换新机需求，则不投放。</p><h3 id="2-7-关键词清洗宏"><a href="#2-7-关键词清洗宏" class="headerlink" title="2.7 关键词清洗宏"></a>2.7 关键词清洗宏</h3><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 关键词清洗()​</span><br><span class="line">    <span class="keyword">Dim</span> lastRow <span class="keyword">As</span> <span class="type">Long</span>​</span><br><span class="line">    <span class="keyword">Dim</span> CellValue <span class="keyword">As</span> <span class="type">String</span>​</span><br><span class="line">    <span class="keyword">Dim</span> keywords() <span class="keyword">As</span> <span class="type">String</span>​</span><br><span class="line">    <span class="keyword">Dim</span> k <span class="keyword">As</span> <span class="type">Long</span>​</span><br><span class="line">    <span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Long</span>​</span><br><span class="line">    ​</span><br><span class="line">    <span class="comment">&#x27;设置要删除的关键词​</span></span><br><span class="line">    keywords = Split(<span class="string">&quot;灶,炉,烤,毒,煲,锅,洗衣机,饮水,小家电,烟机,雷神,雷鸟,吹风机,空调&quot;</span>, <span class="string">&quot;,&quot;</span>)​</span><br><span class="line">    ​</span><br><span class="line">    <span class="comment">&#x27;获取 A 列的最后一行​</span></span><br><span class="line">    lastRow = Cells(Rows.Count, <span class="number">1</span>).<span class="keyword">End</span>(xlUp).Row​</span><br><span class="line">    ​</span><br><span class="line">    <span class="comment">&#x27;遍历 A 列的每个单元格​</span></span><br><span class="line">    <span class="keyword">For</span> i = lastRow <span class="keyword">To</span> <span class="number">1</span> <span class="keyword">Step</span> -<span class="number">1</span>​</span><br><span class="line">        CellValue = Cells(i, <span class="number">1</span>).value​</span><br><span class="line">        ​</span><br><span class="line">        <span class="comment">&#x27;检查单元格值是否包含任何一个关键词​</span></span><br><span class="line">        <span class="keyword">For</span> k = <span class="number">0</span> <span class="keyword">To</span> UBound(keywords)​</span><br><span class="line">            <span class="keyword">If</span> InStr(<span class="number">1</span>, CellValue, keywords(k), vbTextCompare) &gt; <span class="number">0</span> <span class="keyword">Then</span>​</span><br><span class="line">                <span class="comment">&#x27;如果包含关键词，则删除该行​</span></span><br><span class="line">                Rows(i).Delete​</span><br><span class="line">                <span class="keyword">Exit</span> <span class="keyword">For</span>​</span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span>​</span><br><span class="line">        <span class="keyword">Next</span> k​</span><br><span class="line">    <span class="keyword">Next</span> i​</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><p>排除冷柜可增加：<code>冷柜,冰柜,冻柜,冻箱,雪柜,展示柜,冷藏柜,冷冻柜,冰吧,鲜柜,留样柜,冷冻展示柜,雪糕柜,冰糕柜,冰糕展示柜,冷风柜,冷饮展示柜,饮料展示柜,饮料柜,冷饮柜,保鲜柜,保鲜箱,保鲜展示柜,保鲜专用柜,雪茄柜,雪茄保湿柜,雪茄红酒一体柜,茶柜,冰熊,双鹿</code>；​<br>排除高端词可增加：<code>高端,香槟,雪茄,liebherr,卡萨帝,东芝,松下,利勃海尔,colmo,smeg,小吉,雅典娜,西门子</code>；​<br>排除低端词可增加：<code>可口可乐,优诺,先科,夏新,小天鹅,扬子,南极人,白雪,樱花,晶弘,小米,容声,美菱,TCL,海信,新飞,创维,康佳,华淩,澳柯玛,奥马,上菱,格力,小鸭,荣事达,志高,星星,云米,Leader,统帅,奥克斯,歌岚,香雪海,申花,德姆勒,LG,长虹,缤兔,新力</code>。</p><h3 id="3-否定词"><a href="#3-否定词" class="headerlink" title="3. 否定词"></a>3. 否定词</h3><p>当关键词匹配规则为广泛（自动扩展语义相近关键词）时，易误投低转化搜索词，可通过否定词设置黑名单规避。</p><h4 id="3-1-匹配规则"><a href="#3-1-匹配规则" class="headerlink" title="3.1 匹配规则"></a>3.1 匹配规则</h4><ul><li>精确否定词：当用户搜索内容等于否定词时，广告不展现。如：否定词为“手机”，则搜索内容为“手机”时，广告不展现；​</li><li>短语否定词：当用户搜索内容包含否定词时，广告不展现。如：否定词为“手机”，则搜索内容为“手机排行榜”、“智能手机推荐”时，广告不展现。</li></ul><h4 id="3-2-否定词设置"><a href="#3-2-否定词设置" class="headerlink" title="3.2 否定词设置"></a>3.2 否定词设置</h4><p>巨量千川-竞价推广-标准推广-搜索广告-计划详情-否定词-新建否定词<br><img data-src="/qianchuan/qianchuan-15.webp">  </p><p><strong>WARN</strong> 选取「短语否定词」时注意勿误伤可用关键词。</p><h3 id="3-3-否定词示例"><a href="#3-3-否定词示例" class="headerlink" title="3.3 否定词示例"></a>3.3 否定词示例</h3><table><thead><tr><th align="center">精确否定词</th><th align="center">短语否定词</th></tr></thead><tbody><tr><td align="center">美的冰箱官方旗舰店直播</td><td align="center">灶</td></tr><tr><td align="center">美的冰箱官方旗舰店直播间</td><td align="center">炉</td></tr><tr><td align="center">美的官方直播间</td><td align="center">烤</td></tr><tr><td align="center">美的冰箱官方直播间</td><td align="center">毒</td></tr><tr><td align="center">美的冰箱旗舰店直播</td><td align="center">煲</td></tr><tr><td align="center">东方甄选直播间</td><td align="center">锅</td></tr><tr><td align="center">小天鹅官方旗舰店直播</td><td align="center">洗衣机</td></tr><tr><td align="center">海尔冰箱官方直播间</td><td align="center">饮水</td></tr><tr><td align="center">海尔冰箱官方旗舰店直播</td><td align="center">家电</td></tr><tr><td align="center">海尔官方旗舰店直播</td><td align="center">烟机</td></tr><tr><td align="center">海尔冰箱旗舰店直播</td><td align="center">雷神</td></tr><tr><td align="center">海尔官方商城</td><td align="center">雷鸟</td></tr><tr><td align="center">海尔冰箱旗舰店</td><td align="center">吹风机</td></tr><tr><td align="center">海尔冰箱官方直播间旗舰店</td><td align="center">空调</td></tr><tr><td align="center">海尔官方直播间</td><td align="center">小天鹅</td></tr><tr><td align="center">海尔官方旗舰店</td><td align="center">喵电</td></tr><tr><td align="center">海尔官方旗舰店生活馆</td><td align="center">电器</td></tr><tr><td align="center">海尔冰箱官方旗舰店</td><td align="center">理想家</td></tr><tr><td align="center">海尔旗舰店官方店直播</td><td align="center"></td></tr><tr><td align="center">海尔冰箱官方旗舰店正品直播</td><td align="center"></td></tr><tr><td align="center">卡萨帝冰箱官方旗舰店直播</td><td align="center"></td></tr><tr><td align="center">leader官方旗舰店</td><td align="center"></td></tr></tbody></table><h1 id="六、常见问题"><a href="#六、常见问题" class="headerlink" title="六、常见问题"></a>六、常见问题</h1><h2 id="1-负向操作"><a href="#1-负向操作" class="headerlink" title="1. 负向操作"></a>1. 负向操作</h2><ul><li>调控预算：大幅度调整预算，易引起系统风控，反而带来计划无量（负面举例：从 1000 提升至 999999）；​</li><li>调控出价：大幅度调整出价，易引起系统风控，反而带来计划无量，调整出价尽量不超过整体出价的 5%-10%（负面举例：出价 300+ 降低至 100 左右）；</li><li>调控定向：大面积缩减投放地域或人群定向，易造成系统波动，反而带来计划快速衰退/无量；</li><li>频繁调整：一天内频繁操作出价/修改投放时间/暂停计划，导致模型紊乱，反而带来计划后续无量；</li><li>堆砌计划：大幅堆砌相同计划/素材，因为系统有创意策略打压，相似计划起量更难，反而系统预估更低。</li></ul><h2 id="2-计划抢量"><a href="#2-计划抢量" class="headerlink" title="2. 计划抢量"></a>2. 计划抢量</h2><p>复制计划时需改变定向、创意中任一要素，以此形成差异化计划，减少计划间相互竞价，抬高成本。​</p><ul><li>复制计划不做更改，100% 一致，会导致新老计划相互竞价；​</li><li>复制计划只提高价格，也会造成同计划同素材相互竞价。</li></ul><h2 id="3-跑量慢因素排查"><a href="#3-跑量慢因素排查" class="headerlink" title="3. 跑量慢因素排查"></a>3. 跑量慢因素排查</h2><ul><li>出价太低：增加预算出价；​</li><li>定向太窄：适当放宽定向；​</li><li>素材太差：更换素材；​</li><li>计划衰退：用新计划替换衰退老计划；​</li><li>计划调整频率过高：降低计划调整频率，避免负向操作干扰系统跑量；​</li><li>预算不足：增加预算，保证已消耗金额/预算金额＜80%避免流控；​</li><li>直播间 eCPM 低：优化人货场，提升点击率、转化率。</li></ul><h2 id="4-同质化短视频素材判定部分机制​"><a href="#4-同质化短视频素材判定部分机制​" class="headerlink" title="4. 同质化短视频素材判定部分机制​"></a>4. 同质化短视频素材判定部分机制​</h2><ol><li>是否只更改了音频：音频不作为判断相似的依据条件；</li><li>是否只更改了少量的视频/图片元素：LOGO、插画、文案、标签；</li><li>是否只是在非主要表达内容上作更改：封面、配色、首帧、片头片尾等；</li><li>是否使用相同场景或视频模板：同样的场景、人物。</li></ol><h2 id="5-千次展示费用突然升高​"><a href="#5-千次展示费用突然升高​" class="headerlink" title="5. 千次展示费用突然升高​"></a>5. 千次展示费用突然升高​</h2><ul><li>节点影响，正常波动；​</li><li>计划衰退：用新计划替换衰退老计划。</li></ul><h2 id="6-计划生命周期​"><a href="#6-计划生命周期​" class="headerlink" title="6. 计划生命周期​"></a>6. 计划生命周期​</h2><p>可根据千次展示费用判断是否衰退。​</p><ul><li>短视频：约一周；​</li><li>直播间画面：约 20 天。</li></ul><h2 id="7-点击率低"><a href="#7-点击率低" class="headerlink" title="7. 点击率低"></a>7. 点击率低</h2><ol><li>素材质量差：优化短视频/直播间画面；</li><li>人群不精准：优化定向；</li><li>计划竞争力差引入劣质流量：提高出价。</li></ol><h2 id="8-转化率低"><a href="#8-转化率低" class="headerlink" title="8. 转化率低"></a>8. 转化率低</h2><ol><li>主播转化差：提升主播能力；</li><li>货品竞争力低：调整活动；</li><li>人群不精准：优化定向。</li></ol><h2 id="9-修改创意标签是否影响赔付"><a href="#9-修改创意标签是否影响赔付" class="headerlink" title="9. 修改创意标签是否影响赔付"></a>9. 修改创意标签是否影响赔付</h2><p>跟定向、出价无关，只会触发审核机制，不影响赔付。</p><h2 id="10-直达链接获取方式"><a href="#10-直达链接获取方式" class="headerlink" title="10. 直达链接获取方式"></a>10. 直达链接获取方式</h2><ol><li>抖音小店直达链接获取方式<br>示例：aweme://goods/store?sec_shop_id=DnwLcMMc<br>进入抖店后台&gt;&gt;&gt;左侧：店铺&gt;&gt;&gt;选择店铺设置&gt;&gt;&gt; 查看【基本信息】&gt;&gt;&gt;点击分享店铺获取直达链接</li><li>抖音小店商品页直达链接配置方式<br>示例：sslocal://ec_goods_detail/?kol_id=105192198038&amp;promotion_id=3637820457187107819<br>格式：sslocal://ec_goods_detail/?kol_id=<code>抖音号uid</code>&amp;promotion_id=<code>商品id</code></li></ol><ul><li><code>kol_id</code> 后面跟店铺所属 <code>抖音号uid</code></li><li><code>promotion_id</code> 后面跟 <code>商品id</code></li></ul><h1 id="七、人群"><a href="#七、人群" class="headerlink" title="七、人群"></a>七、人群</h1><h2 id="O-5A-人群分层模型"><a href="#O-5A-人群分层模型" class="headerlink" title="O-5A 人群分层模型"></a>O-5A 人群分层模型</h2><p>按照人群与品牌的关系远近，将人群划分为 O、A1-A5 不同阶段。</p><h3 id="O：Opportunity-公域人群"><a href="#O：Opportunity-公域人群" class="headerlink" title="O：Opportunity 公域人群"></a>O：Opportunity 公域人群</h3><h3 id="A1：Aware-被动交互行为人群"><a href="#A1：Aware-被动交互行为人群" class="headerlink" title="A1：Aware 被动交互行为人群"></a>A1：Aware 被动交互行为人群</h3><p>浅层触达行为：品牌相关广告、内容营销、自然内容、达人内容、商品等浅层触达</p><h3 id="A2：Appeal-浅层交互行为人群"><a href="#A2：Appeal-浅层交互行为人群" class="headerlink" title="A2：Appeal 浅层交互行为人群"></a>A2：Appeal 浅层交互行为人群</h3><p>深层触达行为：品牌相关广告、自然内容、达人内容、直播内容的深度触达<br>• 浅互动行为：品牌相关内容播放、点赞、访问话题落地页等低频浅度互动行为<br>• 浅意向行为：广告落地页停留、广告点击等意向行为</p><h3 id="A3：Ask-深层交互行为人群"><a href="#A3：Ask-深层交互行为人群" class="headerlink" title="A3：Ask 深层交互行为人群"></a>A3：Ask 深层交互行为人群</h3><p>深层触达行为：品牌相关广告、自然内容、达人&amp;直播深度触达行为<br>• 高频深互动行为：品牌相关内容分享、评论、打赏、发布等深度互动行为<br>• 高意向行为：主动搜索、多次购物车点击、商品点击或加购等高意向行为</p><h3 id="A4：Act-品牌消费行为人群"><a href="#A4：Act-品牌消费行为人群" class="headerlink" title="A4：Act 品牌消费行为人群"></a>A4：Act 品牌消费行为人群</h3><p>近365天购买订单=1单</p><h3 id="A5：Advocate-品牌粉丝"><a href="#A5：Advocate-品牌粉丝" class="headerlink" title="A5：Advocate 品牌粉丝"></a>A5：Advocate 品牌粉丝</h3><h2 id="耐消模型六大流转链路"><a href="#耐消模型六大流转链路" class="headerlink" title="耐消模型六大流转链路"></a>耐消模型六大流转链路</h2><table><thead><tr><th>链路</th><th>O5A演变</th><th>链路的增长价值</th></tr></thead><tbody><tr><td>拉新</td><td>O→5A的任何阶段</td><td>品牌方在原有5A品牌资产人群外，寻找新的目标消费者和生意机会，对O机会人群进行触达，激发目标消费者的兴趣，成为品牌方新的5A品牌资产人群</td></tr><tr><td>蓄水</td><td>O→A1/A2</td><td>针对O机会人群进行圈选，通过大曝光手段让目标消费者了解品牌，初步构建品牌方和消费者的浅层关系</td></tr><tr><td>种草</td><td>O/A1/A2→A3</td><td>目标消费者受到广告触达后，产生了搜索，加购等深层次的互动，代表了品牌方完成了对消费者的种草</td></tr><tr><td>直接转化</td><td>O→A4/A5</td><td>原来对品牌没有认知的目标消费者，短期内在品牌方的推动下直接在抖音电商产生购买</td></tr><tr><td>种草转化</td><td>A3→A4/A5</td><td>被完成种草的消费者，被品牌方推动在抖音电商完成了购买</td></tr><tr><td>复购</td><td>A4→A5</td><td>推动历史购买的消费者产生复购行为</td></tr></tbody></table><h2 id="5A-数据范围"><a href="#5A-数据范围" class="headerlink" title="5A 数据范围"></a>5A 数据范围</h2><p>5A模型聚合了各端（抖音、头条、西瓜、抖音火山版）触点资源。数据范围包括：</p><ul><li>常规广告，包括各类硬广，如开屏、信息流。具体可参考下表；</li><li>内容营销各类软广，如头条号外功能、抖音内容热推。具体可参考下表；商业挑战赛，即品牌在抖音发起的商业挑战赛；星图视频，即通过星图下单的，达人发布的视频；</li><li>品牌搜索，即用户在各端上搜索过品牌；</li><li>官方账号，即品牌官方账号；</li><li>自然内容，包括通过品牌词匹配出来的内容，排除掉广告、内容营销、品牌官方账号内容；</li><li>抖店，即在抖音开设的店铺；</li><li>直播，包含品牌自播和品牌采买的星图达人直播；</li><li>商业挑战赛，即品牌在抖音发起的商业挑战赛；</li><li>星图视频，即通过星图下单的，达人发布的视频；</li></ul><table><thead><tr><th>类型</th><th>端</th><th>流量产品</th></tr></thead><tbody><tr><td>常规广告</td><td>今日头条</td><td>开屏、炫屏、信息流、详情页、搜索、其他（包含图集尾帧、相关视频推荐等小流量位广告）</td></tr><tr><td></td><td>西瓜视频</td><td>开屏、信息流、FreshView一镜到底、贴片、其他（包含详情页、相关视频推荐等小流量位广告）</td></tr><tr><td></td><td>抖音</td><td>开屏、TopView、信息流、搜索、直播、其他（未单独拆分出来的小流量位广告）</td></tr><tr><td></td><td>抖音火山版</td><td>开屏、HotView火力全开、信息流、搜索、其他（未单独拆分出来的小流量位广告）</td></tr><tr><td></td><td>懂车帝（仅汽车行业）</td><td>开屏、信息流</td></tr><tr><td>内容营销</td><td>今日头条</td><td>号外功能</td></tr><tr><td></td><td>西瓜视频</td><td>西瓜热推</td></tr><tr><td></td><td>抖音</td><td>内容热推、内容服务、挑战赛等</td></tr><tr><td></td><td>抖音火山版</td><td>快上热门</td></tr></tbody></table><h2 id="5A-行业定义"><a href="#5A-行业定义" class="headerlink" title="5A 行业定义"></a>5A 行业定义</h2><p>统计周期：</p><ul><li>手机&amp;母婴&amp;奢侈品&amp;3C&amp;家电&amp;家装家居（长决策周期行业）30 天；</li><li>美妆&amp;快消（短决策周期行业）15 天；</li><li>汽车-留资作为 A4；游戏-激活 A3 付费 A4，7 天时间窗。</li></ul><table><thead><tr><th>用户阶段</th><th>耐消5A模型<br>手机&amp;母婴&amp;奢侈品&amp;3C&amp;家电&amp;家装家居</th><th>快消5A模型<br>美妆&amp;日化&amp;食品饮料&amp;服饰&amp;医疗保健</th></tr></thead><tbody><tr><td>A1 了解（aware）</td><td>最近30天里有如下行为：<br>- 广告「广告曝光1-3次」<br>- 自然内容「阅读品牌相关内容1-3次」<br>- 直播「进入直播次数1次」或「直播观看时长&lt;10秒」<br>- 星图视频「星图内容观看次数1-3次」或「星图内容观看时长&lt;5秒」<br>- 抖音闭环电商：「商品曝光=1次」、「讲解卡曝光=1次」<br>- 官方账号「短视频内容观看&lt;5次」或「短视频观看时长&lt;5min」或「短视频完播&lt;=3次」或「短视频内容点赞&lt;=4次」<br>- 挑战赛：品牌相关内容「非有效播放」全量或「有效播放1-10次」或「发布」 或「 点赞」</td><td>最近15天里有如下行为：<br>- 广告「广告曝光1-3次」<br>- 自然内容「阅读品牌相关内容1-3次」<br>- 直播「进入直播次数1次」或「直播观看时长&lt;10秒」<br>- 星图视频「星图内容观看次数1-3次」或「星图内容观看时长&lt;5秒」<br>- 抖音闭环电商「商品曝光=1次」、「讲解卡曝光=1次」<br>- 官方账号「短视频内容观看&lt;5次」或「短视频观看时长&lt;5min」或「短视频完播&lt;=3次」或「短视频内容点赞&lt;=4次」<br>- 挑战赛：品牌相关内容「非有效播放」全量或「有效播放1-10次」或「发布」 或「 点赞」</td></tr><tr><td>A2 吸引（appeal）</td><td>最近30天里有如下行为：<br>- 广告「广告曝光4-20次」或「广告曝光&gt;=21次 但不满足&gt;=2次5s」；「广告播放时长5s-1分钟」或「广告曝光&gt;1分钟 但不满足&gt;=2次5s」；「广告点击=1次」或「广告落地页停留5s-1分钟」或「广告点赞次数&gt;=1次」<br>- 自然内容「品牌相关内容阅读4-20次」或 「品牌相关内容阅读次数&gt;=21次 但不满足&gt;=1次完播」或「品牌相关内容阅读时长5-20分钟」或「品牌相关内容阅读时长&gt;20分钟 但不满足&gt;=1次完播」或「品牌相关内容点赞」<br>- 星图达人直播「进入直播次数2-10次」或「直播观看时长11秒-10分钟」或「直播商品点击1次」或「直播购物车点击1次」<br>- 星图视频「星图内容观看时长6秒-2分钟」或 「星图内容观看时长&gt;2分钟  但不满足&gt;=1次有效完播或组件曝光&gt;=2次5s」或「星图内容观看次数4-20次」或 「星图内容观看次数&gt;=21次  但不满足&gt;=1次有效完播或组件曝光&gt;=2次5s」；「星图内容完播」或「星图内容点赞=1次」<br>- 官方账号「访问主页1-4次」或「进入直播间&lt;=5次」或「直播商品点击1次」或「直播购物车点击1次」或「内容观看5-20次」或「内容观看时长5分钟以上」或「内容完播次数&gt;3次」或「内容评论」或「内容分享」或「内容点赞&gt;=5次」或「购物车点击1次」<br>- 抖音闭环电商「商品曝光&gt;=2次」或「讲解卡曝光&gt;=2次」<br>- 挑战赛：品牌相关内容「分享」或「评论」或「有效播放&gt;10次 」；品牌强相关内容：「非有效播放」全量 或「有效播放」全量 或「发布」或「点赞」或「评论」或「分享」；话题落地页：「访问」</td><td>最近15天里有如下行为：<br>- 广告「广告曝光4-10次」或「广告曝光&gt;=11次 但不满足&gt;=2次5s」；「广告播放时长5s-1分钟」或「广告曝光&gt;1h分钟 但不满足&gt;=2次5s」；「广告点击=1次」或「广告落地页停留5s-1分钟」或「广告点赞次数=1次」<br>- 自然内容「品牌相关内容阅读4-10次」或 「品牌相关内容阅读次数&gt;=11次 但不满足&gt;=1次完播」或「品牌相关内容阅读时长1-10分钟」或「品牌相关内容阅读时长&gt;10分钟 但不满足&gt;=1次完播」或「品牌相关内容点赞」<br>- 星图达人直播：「进入直播次数2-5次」或「直播观看时长11秒-5分钟」<br>- 星图视频「星图内容观看时长6秒-1分钟」或 「星图内容观看时长&gt;1分钟  但不满足&gt;=1次有效完播或组件曝光&gt;=2次5s」或「星图内容观看次数4-10次」或 「星图内容观看次数&gt;=11次  但不满足&gt;=1次有效完播或组件曝光&gt;=2次5s」；「星图内容完播」或「星图内容点赞=1次」<br>- 抖音闭环电商「商品曝光&gt;=2次」或「讲解卡曝光&gt;=2次」<br>- 官方账号：「访问主页1-4次」；直播「进入直播间1-5次」；短视频「内容观看5-20次」或「内容观看次数&gt;20次但不满足&gt;=1次完播」或「内容观看时长5分钟以上」或「内容完播次数&gt;3次」或「内容评论」或「内容分享」或「内容点赞&gt;=5次」<br>- 挑战赛：品牌相关内容「分享」或「评论」或「有效播放&gt;10次 」；品牌强相关内容：「非有效播放」全量 或「有效播放」全量 或「发布」或「点赞」或「评论」或「分享」；话题落地页：「访问」</td></tr><tr><td>A3 问询（ask）</td><td>最近30天里有如下行为：<br>- 广告「广告曝光&gt;=21次且满足&gt;=2次5s」或「广告播放时长&gt;1分钟且满足&gt;=2次5s」或「广告点击&gt;=2次」或「广告落地页停留&gt;1分钟」或「广告点赞次数&gt;=2次」、「广告评论次数&gt;=1次」、「广告分享次数&gt;=1次」<br>- 自然内容：「品牌相关内容阅读次数&gt;=21次且满足&gt;=1次完播」或「品牌相关内容阅读时长&gt;=20分钟且满足&gt;=1次完播」或「品牌相关内容分享」或「品牌相关内容评论」<br>- 搜索：「品牌相关内容搜索次数&gt;=1次」<br>- 星图达人直播：「进入直播间次数&gt;=11次」或「直播观看时长&gt;10分钟」或「直播评论次数&gt;=1次」或「直播送礼物&gt;=1次」或「直播点赞&gt;=1次」或「直播关注主播&gt;=1次」<br>- 抖音闭环电商「店铺潜客」罗盘店铺潜客；「商品点击&gt;=1次」或「商品加购&gt;=1次」或「讲解卡点击&gt;=1次」或「详情页点击立购&gt;=1次」<br>- 星图视频：「星图视频观看时长&gt;2分钟且满足（有效完播&gt;=1次或组件曝光&gt;=2次5s）」或「星图视频观看频次&gt;=21次且满足（有效完播&gt;=1次或组件曝光&gt;=2次5s）」或「星图分享&gt;=1次」或「星图评论&gt;=1次」或「星图点赞&gt;=2次」或「星图组件点击&gt;=1次」<br>- 官方账号「主页访问次数&gt;=5次」或「商品橱窗点击」或「私信」；直播：「进入直播间次数&gt;5次」或「直播观看时长&gt;5分钟」或「关注主播」或「直播评论」或「直播间送礼物」；短视频：「内容观看次数&gt;20次且满足&gt;=1次完播」</td><td>最近15天里有如下行为：<br>- 广告「广告曝光&gt;=11次且满足&gt;=2次5s」或「广告播放时长&gt;1分钟且满足&gt;=2次5s」或「广告点击&gt;=2次」或「广告落地页停留&gt;1分钟」或「广告点赞次数&gt;=2次」、「广告评论次数&gt;=1次」、「广告分享次数&gt;=1次」<br>- 自然内容「品牌相关内容阅读次数&gt;=11次且满足&gt;=1次完播」或「品牌相关内容阅读时长&gt;10分钟且满足&gt;=1次完播」或「品牌相关内容分享」或「品牌相关内容评论」<br>- 搜索「品牌相关内容搜索次数&gt;=1次」<br>- 星图达人直播：「进入直播间次数&gt;=6次」或「直播观看时长&gt;5分钟」或「直播评论次数&gt;=1次」或「直播送礼物&gt;=1次」或「直播点赞&gt;=1次」或「直播关注主播&gt;=1次」<br>- 抖音闭环「罗盘店铺潜客」；商品行为：「商品点击&gt;=1次」或「商品加购&gt;=1次」或「讲解卡点击&gt;=1次」或「详情页点击立购&gt;=1次」<br>- 星图视频：「星图视频观看时长&gt;1分钟且满足（有效完播&gt;=1次或组件曝光&gt;=2次5s）」或「星图视频观看频次&gt;11次且满足（有效完播&gt;=1次或组件曝光&gt;=2次5s）」或「星图分享&gt;=1次」或「星图评论&gt;=1次」或「星图点赞&gt;=2次」或「星图组件点击&gt;=1次」<br>- 官方账号「主页访问次数&gt;=5次」或「商品橱窗点击」或「私信」；直播：「进入直播间次数&gt;5次」或「直播观看时长&gt;5分钟」或「关注主播」或「直播评论」或「直播间送礼物」；短视频：「内容观看次数&gt;20次且满足&gt;=1次完播」</td></tr><tr><td>A4 行动（act）</td><td>首购，近365天在抖音小店，购买该品牌商品，订单数=1单的人群。</td><td>首购，近365天在抖音小店，购买该品牌商品，订单数=1单的人群。</td></tr><tr><td>A5 拥护（advocate）</td><td>复购，近365天在抖音小店购买该品牌商品，订单数&gt;=2单的人群数量。</td><td>复购，近365天在抖音小店购买该品牌商品，订单数&gt;=2单的人群数量。</td></tr></tbody></table><h2 id="5A-人群分层思路"><a href="#5A-人群分层思路" class="headerlink" title="5A 人群分层思路"></a>5A 人群分层思路</h2><p>参考科特勒的 5A 模型，以用户的转化率作为核心目标，依据用户在各个字节系产品的行为进行模型预演，通过时间窗验证、行为频次验证、转化率验证、稳定性验证四个步骤总结出准确且适配与各个行业的 5A 人群分层。</p><table><thead><tr><th></th><th></th><th></th></tr></thead><tbody><tr><td>行为梳理</td><td>标准广告相关行为</td><td>曝光、点击、转化</td></tr><tr><td></td><td>自然内容行为</td><td>阅读、点赞、评论、分享、阅读时长、阅读份额</td></tr><tr><td></td><td>星图行为</td><td>达人曝光、点赞、评论、转发</td></tr><tr><td></td><td>品牌号行为</td><td>品牌号粉丝、品牌号视频曝光、点赞、评论</td></tr><tr><td></td><td>品牌搜索</td><td>在各端上对品牌的搜索行为</td></tr><tr><td></td><td>购买行为</td><td>用户对产品的购买行为</td></tr><tr><td>行为验证</td><td>时间周期验证</td><td>根据转化率提升情况，看不同行业的行为周期定义和转化周期定义是否合理</td></tr><tr><td></td><td>行为频次验证</td><td>观察不同行为次数的情况下，转化率是否有差异<br>本过程分为两步：频次区间划分和频次转化率验证（时间周期采用上一步的验证结果）</td></tr><tr><td></td><td>稳定性验证</td><td>对不同行为和频次的验证，拉取一段时间内的数据，观察其稳定性</td></tr><tr><td>分层验证</td><td>转化率验证</td><td>根据不同的转化率区间，将对应行为及行为频次放入人群分层中，并验证整体分层的转化率</td></tr><tr><td></td><td>稳定性验证</td><td>对不同人群分层和转化率，拉取一段时间内的数据，观察期稳定性</td></tr></tbody></table><h2 id="O-5A打法"><a href="#O-5A打法" class="headerlink" title="O-5A打法"></a>O-5A打法</h2><p><img data-src="/qianchuan/qianchuan-1.webp"><br><img data-src="/qianchuan/qianchuan-2.webp">  </p><p>私域人群：A1-A5<br>提供种子人群定义，条件是清晰、精准、可落地，e.g. good case：精致妈妈new mum（under 30），bad case：中产人群（空虚，不清晰）-&gt;（优化为）一二线有车有房高消费人群<br>通过种子人群，在平台上根据种子人群找到人群画像 TGI 较高的标签，积累人群资产</p><p>【GMV to 5A】 or 【GTA】<br>GTA=GMV to 5A，将品牌大促节点下的 GMV 目标拆解到相对应的 5A 人群量级即品牌在大促期间需要累积多少 5A 人群资产能够达到预定的 GMV 量级。可以将 GTA 理解成一种推倒测算的工具，所以云图在产品化 GTA 的时候将呈现形式为“报告创建”的形式</p><p><img data-src="/qianchuan/qianchuan-3.webp">  </p><p>A3 是高质人群，当整个 5A 人群漏斗呈现中间大、两头小的形状时，才是健康的 5A 形状，因此投后度量可以通过 5A 的量级提升、A3/A4/A5 高质人群的占比来说明人群资产蓄水的正向效果。</p><table><thead><tr><th></th><th>人群定义</th><th>人群价值</th></tr></thead><tbody><tr><td>A1 - 了解</td><td>进入直播次数 1 次、商品曝光 1 次、讲解卡曝光 1 次、短视频内容观看 1 次</td><td>拉新价值，流转到品牌 5A 池的开口</td></tr><tr><td>A2 - 吸引</td><td>访问主页 1 次、商品曝光 2 次、讲解卡曝光 2 次、直播购物车点击 1 次、讲解卡点击 1 次</td><td>拉新价值和互动价值</td></tr><tr><td>A3 - 问询</td><td>关注主播、商品点击 1 次、商品加购 1 次、详情页点击立购 1 次</td><td>互动价值和转化价值 <br> 在各行业通过 3~5 家客户数据预研，完成 A3、A2、A1 的行为细粒度分层，验证了转化为 A4 的转化率（CVR）：A3＞A2＞A1</td></tr><tr><td>A4 - 行动</td><td>在抖音小店购买 1 单</td><td>首购人群</td></tr><tr><td>A5 - 拥护</td><td>在抖音小店购买 2 单及以上</td><td>复购人群</td></tr></tbody></table><p>如何提升人群流转效率和投放目标达成？<br>【根据多行业 case 总结出的方法论】<br>复投 A1+A2，可以高效提升 A3 的增长，A3 增长有助于转化提升；直播引流场景下，定投 A2+A3 人群包，同样预算下，成交率表现更好</p><ul><li>方案：在非关键电商节点投放并累积 5A 人群，将历史累积的 5A 人群用于助力关键电商节点的投放，为电商销售增效</li><li>投放效果：CPA 下降 8.11%；ROI 提升 30.56%</li></ul><h2 id="八大人群计算逻辑"><a href="#八大人群计算逻辑" class="headerlink" title="八大人群计算逻辑"></a>八大人群计算逻辑</h2><ul><li>小镇青年：四线及以下城市小于 35 岁（含 18 岁以下）群体；</li><li>小镇中老年：四线及以下城市大于 35 岁群体；</li><li>Z世代：三线及以上城市小于 24 岁群体；</li><li>精致妈妈：三线及以上城市 25-35 岁消费水平中高备孕或已生育女性；</li><li>新锐白领：三线及以上城市 25-35 岁消费水平中高群体（和精致妈妈互斥）；</li><li>资深中产：三线及以上城市 36-50 岁消费水平中高群体；</li><li>都市蓝领：三线及以上城市 25-35 岁消费能力中低或消费水平未覆盖群体；</li><li>都市银发：三线及以上城市 50 岁以上群体；</li><li>其他：其他以上标签组未覆盖人群。</li></ul><p>曝光人数：在某一人群上曝光的总人数，根据 UID 去重；<br>曝光占比加起来不一定是 100%，部分人不属于任何一个人群，因去重逻辑、八大人群未完全覆盖人群大盘，八大人群曝光人数简单相加可能大于总曝光人数，也可能小于总曝光人数。</p><h2 id="九大人群计算逻辑"><a href="#九大人群计算逻辑" class="headerlink" title="九大人群计算逻辑"></a>九大人群计算逻辑</h2><p>Genz：24 岁以下，常驻城市在一线、新一线、二线、三线、特区；​<br>新锐白领：25-35 岁，常驻城市在一线、新一线、二线、三线、特区，消费水平高（L3、L4、L5），和精致妈妈互斥；​<br>精致妈妈：女性，已婚有孩子，25-35 岁，常驻城市在一线、新一线、二线、三线、特区，消费水平高（L3、L4、L5）；​<br>资深中产：36-50 岁，常驻城市在一线、新一线、二线、三线、特区，消费水平高（L3、L4、L5）；​<br>都市银发：50 岁以上，常驻城市在一线、新一线、二线、三线、特区；​<br>都市蓝领：25-35 岁，常驻城市在一线、新一线、二线、三线、特区，消费水平低（L1、L2）；<br>资深蓝领：年龄 35-50 岁，常驻城市在一线、新一线、二线、三线、特区，消费水平低（L1、L2）；​<br>小镇青年：35 岁以下，常驻城市在四线、五线、六线及以下；​<br>小镇中老年：35 岁及以上，常驻城市在四线、五线、六线及以下。</p><h2 id="消费能力分级"><a href="#消费能力分级" class="headerlink" title="消费能力分级"></a>消费能力分级</h2><p>基于用户在抖音电商的数据，预测用户的抖音电商月消费金额：</p><ul><li>L1：预测抖音电商月支付金额 500 元以下</li><li>L2：预测抖音电商月支付金额 501-1000 元</li><li>L3：预测抖音电商月支付金额 1001-2000 元</li><li>L4：预测抖音电商月支付金额 2001-4000 元</li><li>L5：预测抖音电商月支付金额 4000 元以上</li></ul><h1 id="八、全域推广"><a href="#八、全域推广" class="headerlink" title="八、全域推广"></a>八、全域推广</h1><h2 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1. 介绍"></a>1. 介绍</h2><p>推荐Feed流量占比高于 40% 建议使用全域推广，节省时间精力。<br>全域推广流量点位包含抖音信息流推荐、直播广场、抖音商城推荐、同城、直播推荐、短视频引流、搜索、关注、站外抖音系App等。<br>全域推广基于用户直播间停留&amp;互动等行为、兴趣偏好、直播间人货场信息等，预测每个用户的转化概率，向转化价值更大的用户展示直播间。<br><strong>优势</strong>将探索策略从广告流量扩展到全局流量，从局部最优升级到全局最优，从而确保在更大的流量池中精细覆盖潜在高转化用户，获取更高的整体 GMV。假如想知道对一个用户展示一次广告的价值，常规模型只能表明用户在广告展示后的购买意愿很强，但有可能是用户在被展示前就想购买了。全域推广通过 Uplift 技术，聚焦用户被展示后购买意愿的增量，预估人群的点击率、转化率、后续在自然侧被触达概率等，如果概率较高，则说明这类人群在自然侧就可转化，不必通过付费流量触达，系统会主动避让这类人群，避免付费流量浪费，帮助商家将预算迁移到更多增量人群的探索，人群破圈的同时实现 GMV 最大化。</p><h2 id="2-效果评估"><a href="#2-效果评估" class="headerlink" title="2. 效果评估"></a>2. 效果评估</h2><p>对比使用全域推广前后，直播整体支付 GMV 和直播整体支付 ROI 有无提升。​<br><strong>预期效果：</strong>直播整体支付 ROI 稳定达成的基础上，直播间整体 GMV 提升 15%-20%（内测客户中位数）<br><strong>评估途径一：</strong>直播整体支付 GMV 可以从抖店罗盘观测得到，直播整体支付 ROI 可以使用抖店罗盘 GMV 除以千川总消耗，手动计算得出。​<br><strong>评估途径二：</strong>使用巨量千川-数据-全域推广数据-投后复盘模块，观测使用全域推广投放与非全域推广（使用标准推广或完全不投放广告）时段，直播整体成交金额和整体支付 ROI 的变化。​<br>​</p><h1 id="九、数据分析"><a href="#九、数据分析" class="headerlink" title="九、数据分析"></a>九、数据分析</h1><h2 id="1-名词中英对照及释义"><a href="#1-名词中英对照及释义" class="headerlink" title="1. 名词中英对照及释义"></a>1. 名词中英对照及释义</h2><ul><li>点击（Click）：指点击广告创意的行为；</li><li>点击率（CTR）：Click-Through Rate，点击次数/展示次数*100%，反映短视频/直播间的视觉吸引力；</li><li>单次点击成本（CPC）：Cost per Click，广告的单次点击价格；</li><li>平均点击成本（ACP）：Average Click Price，消耗/点击次数，当统计一段时间内的点击成本时 CPC=ACP</li><li>转化率（CVR）：Conversion Rate，优化目标的转化数/点击次数*100%；</li><li>千次展示费用（CPM）：Cost per Mille，消耗金额/展示次数*1000，因广告单次曝光费用极小不便衡量，一般统计广告曝光一千次所需费用；</li><li>商品成交总额（GMV）：Gross Merchandise Value；</li><li>千次展示成交金额（GPM）：GMV per Mille，每千次播放/展示产生的销售额，可分为短视频GPM、直播GPM、广告GPM等，直播GPM为千次观看成交金额；</li><li>消耗（Cost）：广告收入（平台向）、消耗（客户向）；</li><li>展示（Show）：广告向用户曝光一次记一个展示。</li></ul><h2 id="2-数据源"><a href="#2-数据源" class="headerlink" title="2. 数据源"></a>2. 数据源</h2><blockquote><p>括号内标注时间为该板块<strong>数据最长留存周期</strong>，建议在数据消亡前定期导出留存，导出前勾选所有指标；<br>由于<strong>总支付指标统计周期为近 7 天</strong>，建议取数周期<strong>右区间设置为 D-7 天或左区间设置为 D+7 天</strong>，避免七日内新增销额无法计入；<br>同理，<strong>长周期转化数据</strong>建议取数周期<strong>右区间设置为 D-30 天</strong>或<strong>左区间设置为 D+30 天</strong>；<br><strong>直达链接使用方式</strong>：在链接末尾填写<strong>千川账户ID</strong>，可在巨量千川右上角查看。</p></blockquote><p><strong>计划数据（半年）</strong>：巨量千川-数据-标准推广数据-推直播间-计划 / 巨量千川-数据-全域推广数据<br><a href="https://qianchuan.jinritemai.com/data-report/bidding/live?aavid=%60%E6%AD%A4%E5%A4%84%E5%A1%AB%E5%86%99%E5%8D%83%E5%B7%9D%E8%B4%A6%E6%88%B7ID%60">https://qianchuan.jinritemai.com/data-report/bidding/live?aavid=`此处填写千川账户ID`</a><br><a href="https://qianchuan.jinritemai.com/data-report/bidding/site-promotion?aavid=%60%E6%AD%A4%E5%A4%84%E5%A1%AB%E5%86%99%E5%8D%83%E5%B7%9D%E8%B4%A6%E6%88%B7ID%E2%80%8B%60">https://qianchuan.jinritemai.com/data-report/bidding/site-promotion?aavid=`此处填写千川账户ID​`</a><br><strong>订单数据（一年）</strong>：巨量千川-数据-场景价值-长周期价值-广告订单明细<br><a href="https://qianchuan.jinritemai.com/data-report/evaluation/long-transfer?aavid=%60%E6%AD%A4%E5%A4%84%E5%A1%AB%E5%86%99%E5%8D%83%E5%B7%9D%E8%B4%A6%E6%88%B7ID%60">https://qianchuan.jinritemai.com/data-report/evaluation/long-transfer?aavid=`此处填写千川账户ID`</a><br><strong>定向数据（半年）</strong>：巨量千川-数据-人群分析-人群洞察-数据明细<br><a href="https://qianchuan.jinritemai.com/data-report/crowd/analysis?aavid=%60%E6%AD%A4%E5%A4%84%E5%A1%AB%E5%86%99%E5%8D%83%E5%B7%9D%E8%B4%A6%E6%88%B7ID%60">https://qianchuan.jinritemai.com/data-report/crowd/analysis?aavid=`此处填写千川账户ID`</a><br><strong>搜索数据（一月）</strong>：巨量千川-数据-标准推广数据-推直播间-词汇<br><a href="https://qianchuan.jinritemai.com/data-report/bidding/live?aavid=%60%E6%AD%A4%E5%A4%84%E5%A1%AB%E5%86%99%E5%8D%83%E5%B7%9D%E8%B4%A6%E6%88%B7ID%60">https://qianchuan.jinritemai.com/data-report/bidding/live?aavid=`此处填写千川账户ID`</a><br><strong>标杆数据（三月）</strong>：巨量千川-数据-直播分析-直播复盘<br><a href="https://qianchuan.jinritemai.com/data-report/evaluation/live-analyse?aavid=%60%E6%AD%A4%E5%A4%84%E5%A1%AB%E5%86%99%E5%8D%83%E5%B7%9D%E8%B4%A6%E6%88%B7ID%60">https://qianchuan.jinritemai.com/data-report/evaluation/live-analyse?aavid=`此处填写千川账户ID`</a></p><h2 id="3-分析工具"><a href="#3-分析工具" class="headerlink" title="3. 分析工具"></a>3. 分析工具</h2><blockquote><p>本节模板、公式、宏适用于计划数据报表（巨量千川-数据-标准推广数据-推直播间-计划），其它报表可自行修改适配</p></blockquote><h3 id="3-1-数据透视表模板"><a href="#3-1-数据透视表模板" class="headerlink" title="3.1 数据透视表模板"></a>3.1 数据透视表模板</h3><p>抖音推广运营数据透视表模板.xlsx: <a href="http://o.qianling.pw/f/25078497-944628081-982fab?p=320860">http://o.qianling.pw/f/25078497-944628081-982fab?p=320860</a> (访问密码: 320860)</p><p><img data-src="/qianchuan/qianchuan-10.webp"><br><img data-src="/qianchuan/qianchuan-11.webp">  </p><p>若数据透视表无法刷新，点击更改数据源，选择表即可</p><h3 id="3-2-数据透视表计算字段公式（可选）"><a href="#3-2-数据透视表计算字段公式（可选）" class="headerlink" title="3.2 数据透视表计算字段公式（可选）"></a>3.2 数据透视表计算字段公式（可选）</h3><p>添加方式：Excel-数据透视表分析-字段、项目和集-计算字段</p><p><strong>成交指标</strong></p><ul><li>直接成交金额(含预售)=’直接成交金额(元)’+’未完结直接预售订单预估金额(元)’</li><li>7日总成交金额(含预售)=’7日总成交金额(元)’+’未完结直接预售订单预估金额(元)’+’7日未完结间接预售订单预估金额(元)’</li><li>千次展示成交金额=IFERROR(1000<em>点击次数/展示次数</em>100%<em>(‘7日总成交订单数’/点击次数)</em>‘客单价 ‘,0)=IFERROR(‘7日总成交金额(元)’/展示次数*1000,0)</li><li>千次观看成交金额=IFERROR(‘7日总成交金额(元)’/点击次数*1000,0)</li><li>客单价 =IFERROR(‘7日总成交金额(元)’/(‘7日总成交订单数’),0)</li><li>7日总支付ROI =IFERROR(‘7日总成交金额(元)’/‘消耗(元)’,0)</li><li>7日总支付ROI(含预售)=IFERROR((‘7日总成交金额(元)’+’未完结直接预售订单预估金额(元)’+’7日未完结间接预售订单预估金额(元)’)/‘消耗(元)’,0)</li><li>直接下单ROI =IFERROR(‘直接下单金额(元)’/‘消耗(元)’,0)</li><li>直接支付ROI =IFERROR(‘直接成交金额(元)’/‘消耗(元)’,0)</li><li>直接支付ROI(含预售)=IFERROR((‘直接成交金额(元)’+’未完结直接预售订单预估金额(元)’)/‘消耗(元)’,0)</li><li>间接支付ROI =IFERROR(‘7日间接成交金额(元)’/‘消耗(元)’,0)</li><li>7日总下单订单数=(直接下单订单数+’7日间接下单订单数’)</li><li>直接成交订单占比=IFERROR(直接成交订单数/‘7日总成交订单数’,0)</li><li>直接成交金额占比=IFERROR(‘直接成交金额(元)’/‘7日总成交金额(元)’,0)</li></ul><p><strong>成本指标</strong></p><ul><li>千次展示费用=IFERROR(‘消耗(元)’/展示次数*1000,0)</li><li>转化成本=IFERROR(‘消耗(元)’/‘7日总成交订单数’,0)</li><li>直接转化成本=IFERROR(‘消耗(元)’/直接成交订单数,0)</li><li>曝光成本=IFERROR(‘消耗(元)’/展示次数,0)</li><li>点击成本=IFERROR(‘消耗(元)’/点击次数,0)</li><li>涨粉成本=IFERROR(‘消耗(元)’/新增粉丝数,0)</li></ul><p><strong>观看互动指标</strong></p><ul><li>关注率(次数)=IFERROR(新增粉丝数/点击次数,0)</li><li>点赞率(次数)=IFERROR(点赞次数/点击次数,0)</li><li>评论率(次数)=IFERROR(直播间评论次数/点击次数,0)</li><li>分享率(次数)=IFERROR(直播间分享次数/点击次数,0)</li><li>打赏率(次数)=IFERROR(直播间打赏次数/点击次数,0)</li><li>停留60s率(次数)=IFERROR(直播间超过1分钟观看人次/点击次数,0)</li><li>完播率(次数)=IFERROR(播放完成数/播放数,0)</li></ul><p><strong>成交转化漏斗指标</strong></p><ul><li>曝光-点击率(次数)=IFERROR(点击次数/展示次数,0)</li><li>观看-查看购物车率(次数)=IFERROR(直播间查看购物车次数/点击次数,0)</li><li>查看购物车-商品点击率(次数)=IFERROR(直播间商品点击次数/直播间查看购物车次数,0)</li><li>观看-商品点击率(次数)=IFERROR(直播间商品点击次数/点击次数,0)</li><li>商品点击-下单转化率(次数)=IFERROR((直接下单订单数+’7日间接下单订单数’)/直播间商品点击次数,0)</li><li>商品点击-直接下单转化率(次数)=IFERROR(直接下单订单数/直播间商品点击次数,0)</li><li>商品点击-成交转化率(次数)=IFERROR(‘7日总成交订单数’/直播间商品点击次数,0)</li><li>直接商品点击-成交转化率(次数)=IFERROR(直接成交订单数/直播间商品点击次数,0)</li><li>观看-下单转化率(次数)=IFERROR((直接下单订单数+’7日间接下单订单数’)/点击次数,0)</li><li>下单-成交转化率(次数)=IFERROR(‘7日总成交订单数’/(直接下单订单数+’7日间接下单订单数’),0)</li><li>直接下单-成交转化率(次数)=IFERROR(直接成交订单数/直接下单订单数,0)</li><li>观看-7日成交转化率(次数)=IFERROR(‘7日总成交订单数’/点击次数,0)</li><li>观看-成交转化率(次数)=IFERROR(直接成交订单数/点击次数,0)</li></ul><p><strong>结算指标</strong></p><ul><li>直接退款订单数(14天) =直接成交订单数-‘直接结算订单数（14天）’</li><li>直接订单退款率(14天)=IFERROR((直接成交订单数-‘直接结算订单数（14天）’)/直接成交订单数,0)</li><li>直接成交金额退款率(14天)=IFERROR(‘直接成交金额(元)’-‘直接结算金额（14天）(元)’/‘直接成交金额(元)’,0)</li><li>直接订单结算率(14天)=IFERROR(‘直接结算订单数（14天）’/直接成交订单数,0)</li><li>直接成交金额结算率(14天)=IFERROR(‘直接结算金额（14天）(元)’/‘直接成交金额(元)’,0)</li><li>直接结算成本(14天)=IFERROR(‘消耗(元)’/‘直接结算订单数（14天）’,0)</li><li>直接结算ROI(14天)=IFERROR(‘直接结算金额（14天）(元)’/‘消耗(元)’,0)</li></ul><p><strong>长周期转化指标</strong></p><ul><li>总转化支付ROI =IFERROR(‘总转化成交订单金额(元)’/‘消耗(元)’,0)</li><li>间接转化支付ROI=IFERROR(‘间接转化成交订单金额(元)’/‘消耗(元)’,0)</li><li>间接订单转化占比=IFERROR(‘间接转化成交订单金额(元)’/‘总转化成交订单金额(元)’,0)</li><li>客单价 =IFERROR(‘总转化成交订单金额(元)’/总转化成交订单数,0)</li></ul><p><strong>全域推广指标</strong></p><ul><li>整体支付ROI =IFERROR(‘整体成交金额(元)’/‘整体消耗(元)’,0)</li><li>整体支付ROI（含预售）=IFERROR((‘整体成交金额(元)’+’整体未完结预售订单预估金额(元)’)/‘整体消耗(元)’,0)</li><li>整体成交金额（含预售）=’整体成交金额(元)’+’整体未完结预售订单预估金额(元)’</li></ul><p><strong>TIPS</strong><br>后台导出的成交客单价、转化数、转化率、转化成本不含间接成交<br>点击次数：通过点击创意进入直播间的次数<br>后台的转化率（CVR）：优化目标的转化数/点击次数*100%<br>直播间观看人次包括通过广告进入直播间的用户退出直播间后再次主动进入直播间的次数<br>总转化预售订单金额：all_order_prepay_gmv_30days<br>总转化预售订单数：all_order_prepay_count_30days<br>总转化支付ROI：all_order_prepay_and_pay_roi_30days<br>间接转化预售订单数：indirect_order_prepay_count_30days<br>间接转化预售订单金额：indirect_order_prepay_gmv_30days</p><h3 id="3-4-Power-Pivot-度量值"><a href="#3-4-Power-Pivot-度量值" class="headerlink" title="3.4 Power Pivot 度量值"></a>3.4 Power Pivot 度量值</h3><p>适用于：巨量千川-数据-全域推广数据</p><ul><li>整体支付ROI =DIVIDE(SUM([整体成交金额(元)])+SUM([整体未完结预售订单预估金额(元)]),SUM([整体消耗(元)]))</li><li>整体成交金额=SUM([整体成交金额(元)])+SUM([整体未完结预售订单预估金额(元)])</li><li>整体成交订单成本=DIVIDE(SUM([整体消耗(元)]),SUM([整体成交订单数]))</li></ul><p>适用于：巨量千川-数据-标准推广数据-推直播间-词汇</p><ul><li>直接支付ROI =DIVIDE(SUM([直接成交金额(元)]),SUM([消耗(元)]))</li><li>千次展示费用=DIVIDE(SUM([消耗(元)]),SUM([展示次数]))*1000</li><li>曝光成本=DIVIDE(SUM([消耗(元)]),SUM([展示次数]))</li><li>点击成本=DIVIDE(SUM([消耗(元)]),SUM([点击次数]))</li><li>直接转化成本=DIVIDE(SUM([消耗(元)]),SUM([直接成交订单数]))</li><li>曝光-点击率(次数)=DIVIDE(SUM([点击次数]),SUM([展示次数]))</li><li>观看-商品点击率(次数)=DIVIDE(SUM([直播间商品点击次数]),SUM([点击次数]))</li><li>商品点击-直接下单转化率(次数)=DIVIDE(SUM([直接下单订单数]),SUM([直播间商品点击次数]))</li><li>直接下单-成交转化率(次数)=DIVIDE(SUM([直接成交订单数]),SUM([直接下单订单数]))</li><li>观看-直接成交转化率(次数)=DIVIDE(SUM([直接成交订单数]),SUM([点击次数]))</li><li>观看-查看购物车率(次数)=DIVIDE(SUM([直播间查看购物车次数]),SUM([点击次数]))</li><li>查看购物车-商品点击率(次数)=DIVIDE(SUM([直播间商品点击次数]),SUM([直播间查看购物车次数]))</li><li>分享率(次数)=DIVIDE(SUM([直播间分享次数]),SUM([点击次数]))</li><li>评论率(次数)=DIVIDE(SUM([直播间评论次数]),SUM([点击次数]))</li><li>关注率(次数)=DIVIDE(SUM([新增粉丝数]),SUM([点击次数]))</li><li>点赞率(次数)=DIVIDE(SUM([点赞次数]),SUM([点击次数]))</li><li>打赏率(次数)=DIVIDE(SUM([直播间打赏次数]),SUM([点击次数]))</li></ul><h3 id="3-5-宏"><a href="#3-5-宏" class="headerlink" title="3.5 宏"></a>3.5 宏</h3><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 千川数据处理()​</span><br><span class="line">    <span class="comment">&#x27;&lt;禁用屏幕刷新 Begin&gt;​</span></span><br><span class="line">    application.ScreenUpdating = <span class="literal">False</span>​</span><br><span class="line">    <span class="comment">&#x27;&lt;禁用屏幕刷新 End&gt;​</span></span><br><span class="line">    <span class="comment">&#x27;&lt;清除汇总行 Begin&gt;​</span></span><br><span class="line">    <span class="keyword">Dim</span> c <span class="keyword">As</span> Range​</span><br><span class="line">    <span class="keyword">Dim</span> r <span class="keyword">As</span> <span class="type">Long</span>​</span><br><span class="line">    <span class="keyword">For</span> r = ActiveSheet.UsedRange.Rows.Count <span class="keyword">To</span> <span class="number">1</span> <span class="keyword">Step</span> -<span class="number">1</span>​</span><br><span class="line">        <span class="keyword">If</span> Left(Cells(r, <span class="number">3</span>).Value, <span class="number">2</span>) = <span class="string">&quot;汇总&quot;</span> <span class="keyword">Then</span>​</span><br><span class="line">            Rows(r).Delete​</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">If</span>​</span><br><span class="line">    <span class="keyword">Next</span> r​</span><br><span class="line">    <span class="comment">&#x27;&lt;清除汇总行 End&gt;​</span></span><br><span class="line">    <span class="comment">&#x27;&lt;调整日期格式 Begin&gt;​</span></span><br><span class="line">        <span class="keyword">With</span> ActiveSheet​</span><br><span class="line">            .UsedRange.Columns(<span class="string">&quot;C&quot;</span>).Offset(<span class="number">1</span>).<span class="keyword">Select</span> <span class="comment">&#x27;选择 D 列向下偏移 1 行已使用单元格​</span></span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">With</span>​</span><br><span class="line">        <span class="keyword">With</span> Selection <span class="comment">&#x27;选择选定范围​</span></span><br><span class="line">        .Replace What:=<span class="string">&quot;-&quot;</span>, Replacement:=<span class="string">&quot;/&quot;</span>, LookAt:=xlPart, _​</span><br><span class="line">            SearchOrder:=xlByRows, MatchCase:=<span class="literal">False</span>, SearchFormat:=<span class="literal">False</span>, _​</span><br><span class="line">            ReplaceFormat:=<span class="literal">False</span>, FormulaVersion:=xlReplaceFormula2​</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">With</span>​</span><br><span class="line">    <span class="comment">&#x27;&lt;调整日期格式 End&gt;​</span></span><br><span class="line">    <span class="comment">&#x27;&lt;将 A 列单元格格式设为文本 Begin&gt;​</span></span><br><span class="line">    Range(<span class="string">&quot;A2:A&quot;</span> &amp; [e65536].<span class="keyword">End</span>(xlUp).Row).NumberFormatLocal = <span class="string">&quot;@&quot;</span>​</span><br><span class="line">    <span class="comment">&#x27;&lt;将 A 列单元格格式设为文本 End&gt;​</span></span><br><span class="line">    <span class="comment">&#x27;&lt;保存当前工作簿 Begin&gt;​</span></span><br><span class="line">    ActiveWorkbook.Save​</span><br><span class="line">    <span class="comment">&#x27;&lt;保存当前工作簿 End&gt;​</span></span><br><span class="line">    <span class="comment">&#x27;&lt;复制表头外全域数据 Begin&gt;​</span></span><br><span class="line">    ActiveSheet.Range(<span class="string">&quot;A2:&quot;</span> &amp; Cells(Rows.Count, ActiveSheet.UsedRange.Columns.Count).<span class="keyword">End</span>(xlUp).Address).Copy​</span><br><span class="line">    <span class="comment">&#x27;&lt;复制表头外全域数据 End&gt;​</span></span><br><span class="line">    <span class="comment">&#x27;&lt;启用屏幕刷新 Begin&gt;​</span></span><br><span class="line">    application.ScreenUpdating = <span class="literal">True</span>​</span><br><span class="line">    <span class="comment">&#x27;&lt;启用屏幕刷新 End&gt;​</span></span><br><span class="line">    <span class="comment">&#x27;&lt;禁用文档检查器 Begin&gt;​</span></span><br><span class="line">    ActiveWorkbook.RemovePersonalInformation = <span class="literal">False</span> <span class="comment">&#x27;禁止保存时弹出“请注意！文档的部分内容可能包含文档检查器无法删除的个人信息。”​</span></span><br><span class="line">    <span class="comment">&#x27;&lt;禁用文档检查器 End&gt;​</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/182.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="运营" scheme="https://qianling.pw/categories/%E8%BF%90%E8%90%A5/"/>
    
    
    <category term="运营" scheme="https://qianling.pw/tags/%E8%BF%90%E8%90%A5/"/>
    
    <category term="电子商务" scheme="https://qianling.pw/tags/%E7%94%B5%E5%AD%90%E5%95%86%E5%8A%A1/"/>
    
    <category term="电商运营" scheme="https://qianling.pw/tags/%E7%94%B5%E5%95%86%E8%BF%90%E8%90%A5/"/>
    
    <category term="广告" scheme="https://qianling.pw/tags/%E5%B9%BF%E5%91%8A/"/>
    
  </entry>
  
  <entry>
    <title>《A New Kind of Science》书摘</title>
    <link href="https://qianling.pw/a-new-kind-of-science/"/>
    <id>https://qianling.pw/a-new-kind-of-science/</id>
    <published>2023-01-17T05:48:37.000Z</published>
    <updated>2023-01-27T07:50:01.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/199.webp"></p><span id="more"></span><hr><p>　　日常的经验让我们认为一个看起来复杂的事物一定是从复杂的方式构造的。比如说，当我们看见一个复杂的机械设备，我们通常都设想那个设备的建造计划也相应的复杂。<br>　　但是前几部分的结果展示了至少有时候这种设想是错误的。从我们看到的几个用简单方案构建的模式——就告诉我们只用一个黑色元胞开始，不断应用元胞自动机规则就行了。从这个方案产生的展示出相当量级的复杂性。<br>　　所以我们的一般直觉是错在哪里呢？最重要的一点似乎是因为来自建立事物和工程学的经验，这种情况下，人们会避免遇到前面那种复杂系统。<br>　　一般来说，我们会从我们想要的行为开始，然后试图构建起一个能够产生这个行为的系统。为了实现它，我们需要将自身限制到系统中从而理解和预测系统的行为——如果不能预测系统的行为，我们不能确定系统是否能做到我们想要的。<br>　　但和工程学不同，大自然的操作是没有这种约束的。所以没有什么能够阻止像上一节所展示的那样的情况。其实本书最重要的一个结论就是这样的系统在自然中是非常常见的。<br>　　但是因为我们通常对规则或整体行为的感知都是基于构建事物或工程学的，我们没有任何像上一节那样的系统的直觉。<br>　　我们可能会希望能够唤起一种现有的直觉来理解这种基本现象，但是事实是似乎没有这样一种经验提供给我们。所以我们别无选择，只能去尝试开发出一种新的直觉。<br>　　唯一合理的一种方法就是让我们自身经历大量的例子。我们现在看了一小部分例子，都是元胞自动机。但是在接下来几个章节我们将会看到更多例子，不止是元胞自动机还有其他一系列的系统。通过吸收这些例子，我们最终能够开发出一种新的直觉，这种直觉会明显和不可避免地发现我曾发现的基本现象。</p><p>　　即使早在远古遗物中，都可以看见简单抽象的能描述自然系统的规则。但是目前为止，我们能说出的几种规则只与标准的几何和算法相关。使用这几种规则，只能得到相当简单的行为——充分解释了宇宙中的一些规律，但是不能捕获自然中其他的细节。<br>　　或许正因如此，人们通常认为自然界许多事物是人类无法理解的。但是在 17 世纪末开始的微积分的胜利，推翻了这种信条。在微积分的基础上，我们成功运用了人类的思想创造抽象规则，并使用它们来重现自然界各种现象。但是发现的特定的规则在特点的数学方程上会工作得十分复杂。从这些规则的复杂程度来看，开始产生一种隐含的信息：即在几乎没有任何重要的情况下，更简单的规则在重新产生自然系统的行为方面是有用的。</p><p>　　然而接下来的这个模式要复杂的多，下一页会演示，虽然几千步的简单增长都是不规律的，但是增长越来越缓慢。而且内部的模式开始消亡。尽管会有偶然爆发的增长，但是最终，8282 步后，模式变为了简单的重复结构。（p69）</p><p><img data-src="/a-new-kind-of-science/a-new-kind-of-science-1.webp">  </p><p>　　1599 号三色元胞自动机九千步的进化。从最开始一个灰色元胞，每一列都有三千步，进化最终在 8282 步后变得清晰，其模式变成了 31 个简单重复结构。</p><p>　　在《一种新科学》这本书中，我完成的其中一件事是展示了如何将简单程序作为一种模型，应用于分析各种物理、生物和其他系统的基本特征。书籍出版时，不少人对此持怀疑态度。大家都认为严肃的科学模型应当建立在数学方程基础上，这种延续了 300 多年的学术传统的确非常牢固。<br>　　但在过去的 15 年里，一些惊人的变化已经发生。今天，无论在动物行为模式领域还是网络浏览行为领域，新涌现的模型通常都基于程序而非数学方程。<br>　　年复一年，时间缓慢无声地流逝着。而在这个领域，却发生了戏剧性转变。三个世纪以前，数学方程取代了纯粹的哲学推理。在短短几年内，程序又取代了数学方程。目前来看，程序是实用而高效的：它做得更好，更有用。</p><p>　　数千年来，人类作为一种文明，一直在探索周遭的道路上前进——无论是用科学解码自然，还是用技术创造环境。然而，要想利用计算型宇宙的丰富资源，我们就必须在一定程度上放弃这条道路。<br>　　过去人们都认为，和人类创造的工具相比，人类大脑拥有更强大的计算力，因此我们总能“理解”他们。但计算等价性原理表明这是错的：计算型宇宙中有很多东西和人类大脑或人造工具一样强大。一旦我们开始使用这些东西，我们就失去了所谓的“护城河（edge）”。<br>　　今天我们仍在想象，我们可以识别出程序中那些不相关的漏洞。但在计算型宇宙中，计算不可化约性遍地都是，人们唯一能够做的只是运行它，看看会发生什么。<br>　　人类本身作为一种生物系统，就是在分子尺度上进行计算的一个绝佳案例，我们身上同样遍布着计算不可化约性（这就是在一些基本层面药物难有成效的原因）。我想这是一种权衡：人们可以将技术运算限定在可被理解的层面上。不过，这无疑会错过计算型宇宙中的诸多丰富性。而我们甚至无法将自身的生物学成就在我们创造的技术中对应起来。</p><p>　　今天飞速发展的领域显然是机器学习，或者更具体地说是神经网络。我很高兴看到这一趋势。我在 1981 年就开始研究神经网络，甚至早于我开始使用元胞自动机和发现规则 30。但我从没用神经网络做过任何有趣的研究，我认为它们过于复杂，无助于解决我关心的基本问题。<br>　　所以，我把它们简化后，利用元胞自动机做实验。（我受到了统计物理中伊辛模型等的启发，以此类推。）开始时，我认为简化过度了，小型元胞自动机无法进行有趣的实验。后来，我发现了规则 30。自那以后，我一直试图深入理解它的含义。</p><p>　　神经网络究竟是怎样运转的？它与大脑无关，只是灵感（尽管实际上它与大脑的工作方式可能多少也有些类似）。一个神经网络实际上是一系列对数组进行运算的函数，每个函数从数组中提取相当多的输入变量。它和元胞自动机没有什么不同。除了一点，那就是元胞自动机通常处理的不是像 0.735 一样的任意数字，而是像 0 和 1 这样规则的数字。此外，在元胞自动机中，每个步骤只从一个定义完整的局部区域获取信息，而不是从所有区域获取信息。<br>　　客观地说，现在“卷积神经网络（convolutional neural nets）”研究很常见，它的输入模式和元胞自动机同样有规律。人们逐渐发现，神经网络的运转并不依赖精确数字（比如 32 位），可能只需要几位数就够了。<br>　　神经网络的一大特征是，我们知道如何让它们“学习”。特别是，它们已经从传统数学中学到了许多功能（比如连续编号），无论提供什么样的训练集，都可以使用类似微积分这样的方法，使它们通过逐渐改变参数来适配行为。<br>　　目前还不清楚，需要多少计算量或者多少训练范例。但五年前的突破性发现表明，现代 GPU 和网络收集训练集已经足够用于解决许多重要的实际问题。<br>　　几乎没有人会在一个神经网络中最终明确地设置或“编程”得出一些参数。取而代之的是，它们会自动设定合适的参数。但不同于元胞自动机等简单程序（它们通常穷举所有可能性），神经网络有一种基于微积分的渐进过程，这会逐渐完善网络，类似于生物进化过程中逐步提高有机体“健康”的过程。<br>　　这种训练神经网络的方式效果显著，不过人们也很难理解其内在规律。但从某种意义上说，神经网络依旧大致遵循计算型宇宙的规律：它基本上保持相同的计算结构，并且通过改变参数来改变其行为。<br>　　于我而言，神经网络的成功是对计算型宇宙理论阐释力的认可，也是对《一种新科学》思想的另一种印证。因为它表明，在计算型宇宙中，只要摆脱详细行为能被预测的确定性系统的束缚，马上就能发现各式各样的丰富性和有用的东西。</p><p>　　是否能在神经网络分析中用上计算型宇宙的全部力量和《一种新科学》的思想？对此，我表示怀疑。实际上，随着对细节的认知愈发清晰，我认为对计算型宇宙的探索将进入高速增长期：进入一个前所未有的繁荣时期。<br>　　在当前的神经网络研究中，存在一种明显的权衡。在神经网络内部，与简单函数（包含基本参数）相似的部分越多，就越容易用微积分的思路来训练网络。但是，神经网络与离散程序或者结构可变的计算越相似，其训练难度就越高。<br>　　值得一提的是，我们现在经常训练的网络在几年前来看是完全做不到的。正是这些数千万亿次的 GPU 高效运算才使得训练可行。即使在增量数值方法不可能到达的领域，有人用非常常见的技术（就比如说，本地全局搜索）做重要的训练，我也不会太惊讶。甚至有可能发明像微积分一样的主要归纳法，并运用在整个计算型宇宙中。（不过，基于对元胞自动机规则空间等事物的几何基本概念的概括性认识，我仍保有一些怀疑。）<br>　　人们能利用它做什么？或许会发现能实现特定计算目标的更简单的系统，也可能诞生超出我们目前可实现的（比如人类大脑范畴）的全新运算层次。<br>　　近期，有个关于建模的趣事。随着神经网络越来越成功，人们开始疑惑：当我们可以为神经网络的结果构建一个黑盒模型时，为什么还要费心模拟系统内部运转过程？如果我们设法让机器学习深入计算型宇宙中，我们就不必再费劲权衡了，它们已经能够学习其模型机制和结果。<br>　　我敢肯定，将完整的计算型宇宙引入机器学习范畴，将会带来惊人的后果。值得一提的是，计算普遍性和计算等价性原则会弱化它的原理性。因为这两个特性表明，即使目前通用型的神经网络也能模仿任何其他系统的功能。</p><p>　　传统数学方法在物理学和天文学等科学领域的确发挥了重要作用，但在其它一些领域，如生物学、社会科学和语言学等却用途不大。长期以来，我一直坚信，要在这些领域中取得进展，必须要拓展目前使用的各种模型，站在更宏观的计算型宇宙中考虑问题。<br>　　的确，过去 15 年间，这种做法也逐渐取了一些成功。比如，有许多生物和社会系统都在使用由简单程序构建的模型。<br>　　不同于呈现为“可解决状态”的数学模型，进行精确模拟后，计算模型通常呈现出计算不可化约性。这可以成功做出特定预测或应用于技术模型。但这有点像数学定理的自动化论证，人们可能会问：“这真的是科学吗？”<br>　　是，人们可以模拟系统行为，但是否能“理解”它呢？在某种意义上，计算不可化约性意味着人们并不总是能够“理解”事物。在计算模型中，可能没有有用的“故事”可讲，也可能没有“概念性节点”，只有大量的详细计算。<br>　　想象一下，某人正在努力研究大脑如何理解语言——这是语言学的一大目标。也许我们会得到一个精确模型，发现一些决定神经元放电或低水平大脑表现的精确规律。然后我们来看看，在理解整个句集时产生的特定模式。<br>　　如果这些模式看起来像规则 30 的行为呢？或者像循环神经网络的内部结构？我们能讲一个发生了什么的故事吗？要做到这一点，就必须创建某种更高级的符号表示法：在这里有效产生了能表示事件的核心元素的词汇。<br>　　然而，计算不可化约性意味着可能没法创造这些东西。虽然它总能发现一个计算可归约性（computational reducibility），从而使人们可以陈述一些东西。但不会存在一个完整的故事。可能有人会说，这些可归约的科学事实没用。不过，这只是当人们使用（如标题所述）《一种新科学》时会碰到的麻烦之一。</p><p>　　近年来人们很担心人工智能。他们想知道，当人工智能“比人类更聪明”时会发生什么。计算等价性原理带来一个好消息：从基本层面来说，人工智能永远不会“更聪明”——它们只能进行和人类大脑层次相当的运算，这和简单程序在做的事一样。<br>　　当然从实际来讲，和人类大脑相比，人工智能确实可以更快地处理大量数据。我们也会让它们替人类处理许多事物，比如从医疗设备到中央银行再到运输系统等。<br>　　那么重要的是，我们该如何指导它们做事。一旦我们开始真正应用计算型宇宙，就不可能给人工智能“手把手式”的教导。而是我们只需要为人工智能设定目标，让它们自己找出实现这些目标的最佳路径。<br>　　从某种意义上说，我们已经用 Wolfram 语言这样做很多年了。有一些用来描述任务（诸如画图、数据分类等）的高级功能，之后编程语言会自动寻找最优解完成任务。<br>　　最终，真正的难题是找到一种描述目标的方法。比如，你想寻找一个元胞自动机，用于制作“漂亮的地毯图案”或者“好的边缘检测器”，但这些东西究竟意味着什么？你需要的是一种能帮人类尽可能准确传递其意图的语言。</p><p>　　今天，我们只是用比日常用语更精确一点的法律术语撰写法律合同。但是用象征语言，我们可以撰写真正的“智能合约（smart contracts）”，用高级术语描述我们的目标，随后机器便可以自动验证或执行合约。<br>　　那人工智能呢？我们要告诉它们，我们希望它们做什么。我们需要和它们签订合约，或许还得为它们制定章程。这些文件都建立在某种象征语言之上，它既允许我们表达目标，也能交由人工智能执行。<br>　　关于人工智能章程应该包含什么，以及如何构建它，从而反映世界政治和文化景观，有很多值得探讨之处。其中一个显而易见的问题是：人工智能章程能会像阿西莫夫的机器人三定律那样简单吗？<br>　　《一种新科学》中蕴藏着答案：不可能。从某种意义上说，章程是一个描述世界的可能性与不可能性的尝试。然而计算不可化约性表明，这需要收集无穷多的分析案例。</p><p>　　现在，我们人类是以一种生物系统的形式存在的。但在未来，肯定会在技术上以一种数字或者说计算型的形态再现人类大脑的所有过程。因此，只要这些过程能代表人类，就可以在所有计算层面上实现人类的“虚拟化（virtualized）”。我们可以想象，这样发展下去，未来整个文明形态可能会演变成“装有一兆个灵魂的盒子（box of a trillion souls）”。<br>　　盒子里面会以各种计算形式，展现那些“虚拟灵魂”的思想和经历。这些计算反映着宏伟的人类文明，以及我们的一切经历。但在某种程度上，它们并不算多么特殊。<br>　　也许会让人类有点失望，毕竟计算等价性原理已经表明，这些计算并未呈现出比其他系统更复杂的计算性——即使与简单计算相比也是如此——同时也没有呈现出复杂恢弘的文明历史。的确，细节蕴含所有历史。但从某种意义上说，不知道寻找何物或关心何物，你就不能说它有什么特殊之处。<br>　　好吧，但是“灵魂”本身呢？人们是否可以通过观察他们实现的特定意图来理解其行为？在目前的生物形态中，人类有各种各样的限制和特征，它们赋予我们目标和意义。但在虚拟的“上传”形态中，大多数都会消失。<br>　　我曾经思考过，在这种情形下，“人类”的意图会如何演化。当然，在虚拟化形态下，人类和人工智能之间差异不大。未来也可能会让我们失望，“虚拟灵魂”的未来文明为了消磨永恒时光而陷入“玩游戏”效应的陷阱。</p><p>　　我逐渐认识到，用我们目前对目标和意义的认识来理解未来是行不通的。想象一下，回到一千年前，给古人解释未来的人们每天都在跑步机上行走，或不断地给朋友发照片。关键在于，除非相应的文化框架已经形成，否则这些活动便没有意义。<br>　　当我们试图描述什么是有趣的或可解释的时，会再次发现这些都依赖于一整套“概念性节点”网络的发展。<br>　　我们能想象 100 年后数学的模样吗？它建立在我们不知道的概念上。同理，未来人类的动机也依赖于某些未知的概念。站在今天的人类视角，我们能做出的最好描述，或许是那些“虚拟灵魂”只是在“玩游戏”而已。但是对于未来人类而言，可能存在一整套微妙的动机结构，让他们能通过回溯历史文化发展的每一步来理解。<br>　　此外，如果我们了解物理学基本理论，随后完成虚拟化，那么至少在原则上：我们可以模拟“虚拟灵魂”宇宙的运转。如果这样可行，那就没什么理由必须对人类宇宙进行模拟，它可以模拟计算型宇宙中的任何宇宙。<br>　　正如我提到的，即使在任何宇宙中，也永远不会出现“事情都做完了”和“没什么可发现的了”这样的情况。但我有一些奇思妙想，那些“虚拟灵魂”不会满足于只存在于人类物理宇宙的模拟版本中，可能更乐于（无论这对他们意味着什么）走出牢笼，去探索更广阔的计算型宇宙。因而从某种意义上说，人类未来将是一个无穷尽的探索之旅，而这一切无疑会出现在《一种新的科学》所讨论的语境中。</p><p>　　很久以前，我们就被迫思考“虚拟灵魂”的问题。我们面临着一种窘境，在人工智能完成大部分劳动的世界里，人类应该做什么。从某种意义上说，这个问题并不新鲜：它只是科技和自动化发展的延伸。但不知为何，这次感觉非同寻常。<br>　　我认为原因在于，计算型宇宙中有那么多丰富、易得的事物。我们可以打造一台能自动完成任务的机器。我们甚至可以建造一台通用计算机，通过编程来完成多样化任务。然而，即使这些自动化程序拓展了人类行动的界限，人类仍旧得在其中投入许多精力。<br>　　现在不一样了，我们只要明确任务目标，剩下一切都会自动完成。各种各样的计算（也就是所谓的“思考”）可能即使没有人类的介入也会持续进行。<br>　　乍看之下，似乎不太对劲。未经耕耘，怎能丰收？这有点像问大自然是如何自身拥有复杂性的。要知道，我们耗费巨大精力制造的物品，本身也并不太复杂。我认为，答案是它正在对计算型宇宙进行挖掘。对我们而言亦是同理：通过挖掘计算型宇宙的潜能，我们基本上达到了无限的自动化水平。<br>　　当今世界上的许多重要资源仍然依赖于物质材料，这些材料通常从地球中开采出来。当然，一些地理和地质上的偶然性决定了合适的开采人员和开采地点。此外，可供开采的资源数量也是有限的。<br>　　然而，计算型宇宙的资源却是取之不尽用之不竭的，任何人都可以开采。在开采方面虽然存在一些技术性问题，不过也有一大堆优秀的开采技术。计算型宇宙拥有面向全球的无限资源，不存在稀缺性，更不“昂贵”。</p><p>　　如果总是存在着很多不同的历史路径，那么我们如何认为，这个世界上发生了确定的事情？在量子力学的标准形式主义（The standard formalism of quantum mechanics）中，我们是用确定概率的状态的“叠加态”来描述（例如，薛定谔的猫处于“生”与“死”的叠加态，不能简单的说，猫有一半的概率“生”，一半的概率“死”）。但这个说法总是让人迷惑，人们对客观现实的印象似乎是确定的（即猫要么“生”，要么“死”）。<br>　　Wolfram 认为，另一种可能的解释是，某种程度上每一种可能都存在一个现实的分支，而我们只是观测到我们的意识来到的那个分支。<br>　　我们的模型有一个更完整，并且可以说在科学上更让人满意的可能性。从本质上来讲，最终存在一个全局的客观现实（Global objective reality），它拥有不同的路径系统。但是我们的经验局限性（The locality of our experience）造成了我们只能用概率和量子力学的标准形式主义来描述事物。<br>　　没错，尽管从系统“外部”看，会有各种不同的路径系统，但是因果不变性意味着事件之间的因果关系网络始终是完全相同的。<br>　　换句话说，就像相对论一样，即使从系统外部看，似乎有许多可能的“时间线程”，但如果身在其中，从系统内部看，因果不变性在某种程度上最终意味着只有一个时间线程，或者说，实际上最终只有一个客观现实。</p><p>　　存在着那样一个时间断面——大爆炸奇点，宇宙是十分简单的，甚至比鸡蛋和细菌都简单，比现实中最简单的东西都简单，因为它那时的原子数是零，没有大小，没有结构。我们只需要将奇点模型用软件实现，输入计算机运算就可以了。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/199.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="复杂性科学" scheme="https://qianling.pw/categories/%E5%A4%8D%E6%9D%82%E6%80%A7%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="复杂性科学" scheme="https://qianling.pw/tags/%E5%A4%8D%E6%9D%82%E6%80%A7%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>《链接：网络新科学》书摘</title>
    <link href="https://qianling.pw/linked/"/>
    <id>https://qianling.pw/linked/</id>
    <published>2023-01-07T14:29:30.000Z</published>
    <updated>2023-01-15T13:48:54.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/201.webp"></p><span id="more"></span><hr><p><strong><center>链接网络新科学/（美）巴拉巴西著；徐彬译．--长沙：湖南科学技术出版社，2007.4<br>ISBN 978-7-5357-4858-4 </center></strong></p><p><strong><center>下载 <i class="fa fa-download"></i> <a href="http://o.qianling.pw/f/25078497-761657778-b36830?p=320860" target="_blank">链接：网络新科学.pdf</a> (访问密码：320860)</center></strong> </p><hr><h1 id="第-1-章-导言"><a href="#第-1-章-导言" class="headerlink" title="第 1 章　导言"></a>第 1 章　导言</h1><p>　　整个 20 世纪的科学研究，大部分都是依照简化论进行的。简化论告诉我们，要想了解自然，就必须首先将其拆为分散的零件。这一想法的前提设想是一旦我们理解了各个部件，就容易抓住全局了。对自然要分而治之。魔鬼就隐藏在细节之中。因此，许多年来，我们都是被迫以微观的方式，观察自己身处的世界。我们所受的教育，就是通过观察研究超弦和原子来了解宇宙；通过研究分子来了解生命；通过研究基因来了解复杂的人类行为；通过研究预言来观察时尚和宗教的起源。<br>　　现在我们似乎知道了关于事物片断的方方面面的知识，但是对于整个的自然界，仍旧是一无所知。实际上，重新组合自然的过程要比科学家预计的要难得多。原因很简单：大搞简化论的同时，我们一头撞在了复杂性这堵墙上。我们已经意识到，自然不是一个设计完美的、只有唯一答案的谜题。在复杂系统中，部件可以以许多种不同的方式组合起来，要想把每个可能性都尝试一下，需要数十亿年的时间。而自然界却能以短短百万年的时间，将这些部件优雅、精致地组合在一起。自然界组合这些零件的奥秘，是利用了包容一切的自组织法则。<br>　　本书的主旨很简单：促使读者从网络的角度思考问题。本书探讨的是关于网络的出现、网络的模样及其演变规律的话题。本书将向读者展示基于网络的自然、社会和商业的图景，还将提供新的框架，帮助我们理解从民主政治到互联网，从互联网的薄弱所在到致命病毒肆虐等方面的问题。</p><h1 id="第-2-章-随机宇宙"><a href="#第-2-章-随机宇宙" class="headerlink" title="第 2 章　随机宇宙"></a>第 2 章　随机宇宙</h1><p>　　每个节点只需一个链接，就能让所有的节点连为一体。也就是说，每个人只要认识其他一个人，大脑中的每个脑细胞只要有一个链接连到其他的脑细胞上，我们体内的化学成分只要能参与至少一次化学反应，商业世界中的公司只要能和其他公司做成一个买卖，就和其他成员建立起了链接。1 就是这里的阀值如果网络中的节点的平均链接少于 1，那么网络就会分割成无法相互沟通的节点串。而每个节点的平均链接如果超过 1，分裂的危险就比较微小。<br>　　自然界对链接毫不吝惜，它往往会超过 1 个链接的阀值。社会学家估计平均每个人知道 200~5000 个人的名字。每个神经细胞一般会和其他数十个相连，有的则超过数千个。每个公司毫无例外都会和数百个供货商和顾客相连，有些大公司的链接甚至超过百万个。在我们体内，大多数分子参与的化学反应超过一个一有些分子，比如水分子，参与的反应超过数百个。因此，真正的网络不仅是相连的，而且远远超过了 1 的阀值。随机网络理论表明，随着节点平均链接数量的增加到一个临界值，被排除在巨型节点串外的节点数量就会急剧减少。也就是说，添加的链接越多，就越难找到孤立的节点。自然界不会冒险停留在阀值左右，它往往大大超过这个值。相应的，我们周围的网络就不仅仅是独立的网络。这个网络极其繁复，没有任何成员能够游离在外，其中的每个节点都能被访问到。因此，世界上不存在完全和外来世界隔绝的孤岛。同样，我们体内的每个分子能组合成一个完整的人体，构成单一的、复杂的细胞图谱。正因如此，通过链接，他们的行为轻而易举地就影响了上百万的人。</p><p>　　艾尔德和莱利的随机网络模型，其柱状图遵循泊松分布规律（Poisson distribu-tion），泊松分布有一个显著的峰值，表明大多数节点的平均链接数都是一样的。在峰值的两边，分布迅速下降，与平均值相差较大的值极为少见。<br>　　将此图比照有 60 亿人口的社会网络，泊松分布说明我们之中的大多数人都有数量差不多的朋友和熟人。通过该分布图我们可以预言，朋友和熟人数量明显高于或低于平均值的人很少。因此，随机图论预言，如果我们随机安排社会链接，那么所得到的社会就会是非常民主的，其中的所有人都处于中间状态，只有极少数人脱离常态，这些人可能特别善于交际，或极端封闭。这样我们得到的网络就有一个非常一致的结构，在其中平均值就是常态。<br>　　艾尔德和莱利的随机宇宙里平均值就占主导地位。该理论预言大多数人认识的人数量相当；大多数神经细胞大体和同等数量的神经细胞相连；大多数公司和数量大体相同的其他公司进行贸易；大多数网站的访问者数量也大体相同。由于自然界是闭着眼睛向外“抛洒”链接，长远看来，不会有特别走运或特别不走运的节点。<br>　　艾尔德和莱利的随机网络理论自从 1959 年问世以来，就主宰了有关网络的科学思考。他创立了几个范例，后来凡是搞网络的人，自觉不自觉地都受其影响。该理论还将复杂性和随机性看作是一回事。如果一个网络过于复杂，难于用简单的术语表述，那么我们可以说它是随机的。社会、细胞、通讯网络，以及经济等都足够复杂，算得上是随机网络。你可能觉得宇宙是随机的这一观点有点靠不住：所有的节点真是平等的吗？是否存在这样的国家、学校、教堂，或任何社会秩序的产物，在其中人们可以完全随机地相互作用？如果公司完全随机选择消费者，把销售人员编成百万个骰子，我们还能有现在这样的经济体系吗？大多数人都会认为，我们生活的世界远没有那么随机——在复杂系统背后，一定还存在某种秩序。<br>　　既然如此，为何像艾尔德和莱利这样世间少有的智者选择将网络的出现描绘为完全随机的过程？答案非常简单：他们从来没打算提出放之四海而皆准的网络形成理论，他们更醉心于随机网络的数学之美，而不是这个网络是否能忠实地反映网络的特性。确实，在他们 1959 年发表的论文中，他们的确提到：“网络图的进化可以被视为某种交通网络(如铁路、公路或电网系统等)的简化了的模型。”但是，除了这一次他们偶尔涉足了真实世界外，其他的时候，他们的工作完全是受到有关数学问题的深度而非其应用的鼓舞而进行的。</p><h1 id="第-3-章-六度分隔"><a href="#第-3-章-六度分隔" class="headerlink" title="第 3 章　六度分隔"></a>第 3 章　六度分隔</h1><p>　　米尔格莱姆的目标是找到在美国任意两人之间的“距离”。试验的起始问题就是：在两个随机选择的个体之间，需要多少个熟人能将他们联系起来？实验之初，他首先选择了两个目标，一个是马萨诸塞州莎伦的神学学生的妻子，另一个是波士顿的股票经纪人。他选择堪萨斯州的卫奇塔（Wichita）和内布拉斯加州的奥马哈作为实验的起点。这是因为，从他所在的砍布里奇看来，这两个城市似乎比较遥远，好像是位于大平原上。对于这样遥远地方的人需要多少个链接联系起来，大家缺乏一致意见。1969 年，米尔格莱姆本人指出：“最近我询问过…个搞情报工作的人，问他这中间需要多少人，他说从内布拉斯加州到莎伦需要 100 个中间人，甚至更多。”<br>　　米尔格莱姆的实验包括向随机选择的卫奇塔和奥马哈居民发送信件，请他们参与这一美国社会联系研究。信中简要说明　　了研究的目的，附了一张照片，以及其中一个目标人物的地址和其他信息，然后还有如下要求：</p><center>如何参与此项研究</center><p>　　1. 将您的姓名填写在本页下方的名单中，使接到信的人知道信是由谁发出的。<br>　　2. 从信上撕下一张明信片，填写好明信片后，寄回到哈佛大学。无须付邮资。明信片非常重要，它使我们能够跟踪信件传递到目标人物的进程。<br>　　3. 如果你直接就认识目标人物，请将此信直接寄给他（或她）。只有当你亲自见过目标人物，而且知道对方姓名时才可以这样做。<br>　　4. 如果你本人不认识目标人物，不要试图直接和他联系，而是请将这宗文件（明信片以及其他内容）寄给自已的一个最有可能认识目标人物的熟人。你可以将其寄给朋友、亲戚或熟人，但前提是你必须知道对方姓甚名谁。<br>　　米尔格莱姆最关心的是：这些信中能有多少能到达目标人物的手中？如果中间链接确实是像他朋友猜测的那样要 100 个左右，那么实验就很有可能会失败，因为在这么长的链条上，总会有人不那么配合。因此，几天后，当第一封信来到时，对他们来说真是个惊喜，而这封信只经过了两个直接的链接！后来这成了最短的路径。不过，最终在发出的 160 封信中，只有 42 封收回了，其中有的需要 12 个中间人。这些完成的邮件链使米尔格莱姆得以判断出到达目标人物所需的中间人数量。他发现中间人的平均数是 5.5，这的确是一个很低的数据一而且和凯伦斯估计的数惊人地巧合。经过四舍五入，我们得到的是 6，这样就有了“六度分隔”的著名说法。<br>　　社会心理学家托马斯·布拉斯（Thomas Blass）过去 15 年来致力于研究斯坦利·米尔格莱姆的生平和作品，他指出米尔格莱姆本人从来没提过“六度分隔”的说法。这个说法是约翰·格尔（John Guare）在 1991 年的杰出戏剧题目中首先使用的。该剧在百老汇非常成功，随后又拍成了同名电影。在剧中，欧萨（Ousa，电影中由斯道科特·詹尼饰演）提起人们之间的相互关系，对他女儿开玩笑说：“这个星球上，每个人之间只隔着 6 个人，即六度分隔。在这个行星上，我们和其他每个人之间，就只有六度分隔。美国总统，威尼斯的贡多拉船船夫…不仅仅是大人物，所有的人都算在内。包括雨林里的土著，火地岛上的居民，爱斯基摩人。只需 6 个人，我就能和这个行星上的任何人扯上关系。这个想法真了不起……每个人都是开向另外世界的窗户。”<br>　　米尔格莱姆的研究仅限于美国，是将卫奇塔和奥马哈“一边”的人和“另一边”波士顿的人进行联系得到的结果。不过，欧萨认为，六度分隔的理论适用于全世界。这里就诞生了一个神话。由于多数人会去看电影而不去阅读社会学论文，因此格尔的说法在常人心中更有市场。<br>　　在任意两个人之间，只需握几次手就能联系得上。也就是说，我们生活的世界真的很小。我们的世界之所以小，是因为社会是一个密度极高的网络。我们拥有的朋友数量，比 1 这个保证我们联系成网络的阈值要高得多。社会关系网络并不是仅有的“小世界”。</p><p>　　在万维网上，随机从一个网页到另一个随机网页之间，所需的点击是？为了回答此间题，我们需要绘制完整的网络地图。可问题是，谁也没有这样的完整地图。即便是最大的搜索引擎，使用上千台电脑不间断地搜索，也只能覆盖整个网络的 15%。没有整个网络的地图，我们能判断出网页间的间隔吗？答案是肯定的。但是我们要用到统计学中常用的一种方法一这是一般用来对付成分和结果都无法预计的随机系统的物理学分支。<br>　　我们使用的办法有一个简单的前提：如果全部的网络过大，无法装入我们的电脑，那么就分解开来，研究其较小的部分。例如，我们节选了网络的一小部分，包含 1000 个节点，然后计算任意两个节点之间的间隔。接下来我们又在此基础上选取了更大的一部分，包含 10000 个节点，然后计算这部分中任意两个节点之间的间隔。我们反复选取，反复计算，直到我们的电脑系统所能处理的极限，然后分析节点间隔的变化趋势。结果表明，节点间隔的增加比节点数量的增加慢得多，而且遵循简单的循环的公式。这一结果使我们在知道了网络文档总数的情况下，就能预计整个网络的节点间隔。日本电气公司提供了网络文档总数的数据。他们估计，到 1998 年底，网络。上公开索引的节点总数为 8 亿个节点。这样以来，根据我们的公式，就可以计算出网络的“直径”为 18.59，近似值为 19。仿照格尔的说法，那就是十九度间隔。虽然实际浏览的时候，某些人得到的印象可能有所偏差，但网络的确是个小小的世界，任意两个文档之间的平均间隔为 19。<br>　　科学家发现，在所有人类研究过的网络中，间隔都比较小。事实上，食物链中，物种之间的间隔只有两个链接；细胞中的分子之间的间隔是 3 次化学反应；科学界，不同领域的科学家之间共同发表作品的间隔是 4 到 6 个链接；线虫（C.elegans）大脑中的神经细胞之间由 14 个神经键连接。事实上，万维网的十九度间隔是最大的了，到目前为止，其他研究过的网络之间的间隔为 2 到 14。<br>　　十九度间隔和六度分隔之间的差异的确不小。不过，这并不是问题所在。问题的关键在于，大型的网络，虽然往往有数百万或数十亿的节点，实际上却是小世界，节点之间的间隔比节点的总数要小得多。我们的社会拥有 60 亿个节点，其间隔为 6。万维网有接近 10 亿个节点，间隔为 19。而由成千上万的路由器构成的互联网，间隔为 10。从这个角度来考虑问题，间隔是 6 还是 19，这种差别就可以忽略不计了。<br>　　人们自然而然会问到的问题是：为什么大型网络中节点的间隔如此少？拥有数十亿节点的网络，究竟如何连为一体，使得节点之间的间隔如此的少？答案在于这些网络都具有高度相互关联的特性。在前面的章节中，我们讲到随机网络只需每个节点一个链接即可组成节点串。问题在于，如果节点的链接数量超过 1，又会如何？在真正的网络中，每个节点拥有的连接一般都超过 1。当网络链接达到了平均数 1 的阈值，节点和节点之间的间隔非常之大。但是随着链接的增加，节点间的距离会骤然变小。我们来考虑一下节点的平均链接为 k 的网络。这意味着从某个典型的节点，走一步可以达到 k 个节点中的一个。不过，实际上网络中间隔为 2 个链接的节点数量为 k<sup>2</sup> 个，间隔为 d 个链接的节点数量为 k<sup>d</sup> 个。因此，如果 k 的值较大，那么即使 d 的值很小，所能连上的节点数也会很多。仅仅需要几步，就能达到所有能找到的节点。这就解释出大多数网络的间隔为何如此之小。<br>　　这里的分析可以很容易使用数学函数公式来表达。该公式能够用来预测随机网络中节点的间隔。网络节点间隔之所以小，是因为公式中的对数值小。事实上，即使原始数值再大，其对数也很小。例如，以 10 为底的 10 亿的对数仅为 9。例如，如果有两个网络，它们的节点平均链接都是 10，但是其中一个网络的规模是另一个的 10 倍，那么，较大网络的节点间隔仅比较小网络的间隔大 2。对数关系使得巨大的网络变小了，造成了我们周围一个又一个网络的小小世界。</p><p>　　所谓的六度间隔和十九度间隔说却有强大的误导作用，因为人们可能想当然认为在一个小世界里，很容易找到所需的东西。事实并非如此！这不仅是因为我们所要找的人或文档在 6 个或 19 个链接开外，而且因为所有的人或文档都在 6 个或 19 个链接开外。换句话说，6 或 19 既可能是个小数，也可能是个大数，这取决于你要找的是什么。由于每个网页平均有 7 个左右的链接，这就意味着从第一个文档出发，有 7 个链接，点击两次后，就有 49 个文档等待点击，然后有 343 个文档，以此类推。这样一来，要想到达 19 步开外的节点，原则上我们要检查 10 的 16 次方个文档，这比网络上文档的总数还要多一千万倍。这似乎是自相矛盾，实际上却不然：我们在搜索的过　　程中碰到的某些链接会引导我们倒回去。因此，它们就不是“新”的链接。但是，即便是每点击一个文档只需一秒钟，要想尝试完 19 步开外的所有文档，也要 3 亿年！即便如此，虽然有如此之多的选择，即便是不使用搜索引擎，我们有时候仍然很快就能找到所需文档。<br>　　当然，其中的奥妙在于我们并不亦步亦趋点击所有的链接。我们会借助提示信息进行判断。比如，在寻找毕加索的相关信息的时候，如果网页上有 3 个选项，我们会选择现代艺术的链接，而不是指向某个摔跤好手或是青蛙王子的爱情生活的链接。通过解读链接的含义，我们就无须检查十九度之内的所有的页面，只需几次点击就能找到所需的页面。虽然这个办法似乎是最高效的，但是事实上，使用该办法总是无法找到最短的路径。比如，我们半路上忽略过的摔跤手的网页上很可能恰恰有指向毕加索网站的链接，这种可能性总是存在。但是大多数人在搜寻毕加索的时候，都会忽略摔跤手的链接，导致最终走了不少弯路。相比之下，电脑没有个人的口味或喜好，它会逐一检查所有的链接。通过检查所有的可能路径，最终电脑肯定能找到最短的路径。<br>　　通过在网络上寻找毕加索的信息，突出反映出六度分隔的一个根本性的问题：米尔格莱姆的办法过高估计了美国任意两人之间的最短距离。六度分隔其实只能是上限。在任意两人之间，存在有数不清的长短不一的路径。米尔格莱姆的实验对象根本就不知道联系到目标对象的最短路径。这就好比是在迷宫里，我们所能看见的只是眼前的走廊和大门。即便手头有指南针，而且知道出口大体上是在北方，想找到出口也会耗费大量的时间，而且我们的行动效率也会很低。相反，如果手头有迷宫地图，不出 5 分钟，我们就能走出来。与此类似，如果米尔格莱姆实验中的对象手头有全美国所有人的社交路线图，那么信件也就能经过奥马哈和波士顿之间的最短路径到达对方手里了。在手头没有路线图的情况下，参与者只能根据猜测，将信寄给最有可能将其送往正确对象的人。例如，如果你想结识美国总统，首先想到的可能是认识总统的那些人。你最有可能想到的是本州的参议员或众议员。由于大多数人实际上和参议员并无私交，我们首先会试图找到认识他的人，让那人当中间人，介绍我们认识参议员和总统。这样中间至少就需要 3 个人。此时，你可能想不到，就在前几天的一次晚宴上，坐在你身边的那个人可能上学的时候和总统阁下是同学。这样一来，你实际上和总统之间只有两度的间隔。与此类似，米尔格莱姆的实验所记录的路径几乎毫无例外都不是最短路径。因此，真正的社会间隔很显然被高估了。实际值肯定低于 6，有可能也低于凯伦斯估计的 5。由于不存在什么“社会搜索引擎”，我们也许永远无法弄清楚实际的数值。</p><p>　　六度分隔是现代社会造成的结果——这是由于人类总有交际的渴望。同时人类新发明的远距离通讯手段也对此起到了推波助澜的作用。我们赖以生存的地球村，对于人类来说其实是个新产生的现象。大多数美国人的祖先都不可能和远隔重洋的欧洲大陆的亲人保持联系。当时既不通邮，也不通电话，当时的社会网络还比较脆弱，一旦因为人们移居他乡而断裂，就很难重新连上。到了 20 世纪，随着邮件系统、电话以及航空旅行消除和缩短了人与人之间的距离，这一切都发生了改变。如今，移居美国的人可以继续和母国的亲朋好友保持联系。我们能够也确实在保持联系。比如我个人，虽然有些亲朋好友住在韩国或是东欧，但我仍能和他们保持联系。在 20 世纪，世界不可逆转地塌缩为一个小小的世界。而且我们的世界此刻正在经历另一次的爆聚（implosion），互联网正把世界的每一个角落连为一体。虽然在网络上，和任意某个人之间的距离为 19 次点击，但是和亲朋好友之间，却只隔了 1 次点击。自从分手后，某些朋友可能已经换了 5 份工作，换了 3 个城市，但是不管他们走到哪里，只要我们愿意，我们都能在互联网上找到他们的足迹。世界一直在缩小，这是因为以前可能彻底断开的社会链接，现在却能很容易地保持下去。而且个人所能保持的社会链接的数量也大幅增加了，这进一步减少了社会间隔。米尔格莱姆估计为 6 度；凯伦斯估计为 5 度；现在，这个值很可能减少到了 3。<br>　　“小世界”实在是所有网络都具备的一种遗传属性。较小的间隔并不是人类社会的神秘之处，或是特有的属性，事实上我们周围的大多数网络都具有此特点。这一特点植根于网络的结构之中一不论是查找网页还是朋友，所需的中间链接事实上就是不多。小世界的形成，和我们所熟悉的欧几里得几何所描述的世界似乎存在很大的不同。在欧几里得的世界里，距离是以里程来计算的。但人与人的交际，越来越和物理上的距离不相干。人们在全世界旅行的时候，不断能从完全陌生的人群中找到老相识，这样的事例一再表明，我们和地球另一边的某个人之间的关系，可能比和挨门邻居的关系还要亲近。在网络这种非欧几里得世界漫游，我们不断感到宁宙间存在一种新的儿何学等待我们研究掌握，好使我们能够明白身边的复杂世界。</p><h1 id="第-4-章-小世界"><a href="#第-4-章-小世界" class="headerlink" title="第 4 章　小世界"></a>第 4 章　小世界</h1><p>　　马克·格兰诺维特（Mark Granovetter）把自己的第一部论文手稿送交出版的时候，他还只是哈佛大学的研究生，不过他对自己的手稿期望很高。人们如何获取工作这一问题困扰了无数的研究生。格兰诺维特没有急于加工自己的履历表，去人才市场求职，而是渡过查尔斯河来到了对面的马萨诸塞州的牛顿镇。现在的牛顿镇是波士顿的一个富庶的郊区，可是在 20 世纪 60 年代，那里还是工人阶级的聚居区。格兰诺维特致力于探明人们如何“联网”，即如何通过社会关系找到新的作。他访间了多位具有管理职位或专业职位的工人，询问他们目前的工作是通过何人的帮助获得的。是朋友介绍的吗？他得到的答案总是相同的：不，不是朋友介绍的，介绍我的只是个普通的相识而已。格兰诺维特由此想起了在基础化学课上学到的较弱的氢键是如何将巨大的水分子结合在一起的。这样一幅分子结构图在他刚上大学的时候就深深印在了他脑海里，并激发了他的灵感，使他写出了第一篇论文，该论文篇幅很长，而且很有见地，探讨了较弱的社会关系对于我们生活的重要性。1969 年 8 月，他把论文寄给了《美国社会学评论》(American SociologiGal Review）。l2 月，他收到回音，被告知有两位匿名评委“毙”了他的论文。格兰诺维特极为丧气，在此后 3 年的时间里动都没动那篇论文。1972 年，他把该手稿进行了缩减，又投给了另一份期刊：《美国社会学杂志》（American journal of Sociology）。这次他的运气不错，论文终于在 1973 年 5 月发表，距第一次投稿已经有 4 年了。如今，格兰诺维特的“弱关系的力量”（The Strength of Weak Ties）这篇论文，已经被公认为最有影响力的社会学论文之一，该论文也是经常被引用的论文之一。<br>　　在“弱关系的力量”这篇文章里，格兰诺维特提出了一个乍看起来十分荒谬的观点：若论起找工作、获取消息、开饭馆，或是传播最时兴的潮流，我们的较弱的社会关系比起自己所珍视的坚实的友谊能起到更重要的作用。他谈到，一个普通人［他称作“个体”（Eg）］周围的社会网络结构特别像基因结构。“个体会有一批相当亲密的朋友，其中大多数相互之间也都有联系——这是一种高度密集的社会结构。此外，个体还会有一批熟人，这些人相互之间并不相识。不过，每一个普通的熟人自己可能有自己的密友，因此也处在一个密集的社会结构中，不过该结构和个体所处的社会结构不同。”<br>　　透过格兰诺维特的论述，我们看到了一幅和艾尔德和莱利描述的随机宇宙迥然不同的社会图景。在他的眼中，社会组织成一个个高度相关的集体，或称作紧密联系的朋友圈，在这个圈子里的人相互都认识。这个圈子通过少数的向外链接与外部世界联为一体，不至于处于隔绝状态。假如格兰诺维特的描述是正确的，那么我们的社会网络的结构就非常特别。它将是完整的网络图的集合。这些网络图都是微小的节点串，其中的每个节点都和内部的其他节点相连。这些完整的网络图通过几个较弱的联系，即熟人关系，和不同的朋友圈联系起来。<br>　　这种关系对于我们和外部世界互通消息起到了至关重要的作用。在找工作的时候，我们最亲密的朋友往往帮不上忙。他们和我们处在同样的圈子里，因此他们接触的信息不可避免会和我们接触的一样。要想获取新的信息，就必须利用弱关系。事实也确实表明，从事管理方面工作的工人更有可能通过弱关系（27.8%）而不是强关系（16.7%）获得工作机会信息。与最亲密的朋友相比，弱关系（或是熟人）是我们联系外部世界的桥梁，因为他们和我们活动的范围不同，因此能够从不同的来源获取信息。<br>　　在随机网络中不存在朋友，因为我们和其他节点的链接完全是随机的。在艾尔德一莱利社会宇宙中，我的两个密友相互认识的几率，相当于某个澳大利亚鞋匠和某个非洲部落酋长相互认识的几率，但是我们身处的社会并不是那样的。在大多数情况下，两个好朋友也各自认识对方的朋友。他们会经常参加同样的聚会，出人同一个酒吧，看同样的电影。两个人之间的关系越强，他们的朋友圈重合的区域就越大。虽然格兰诺维特关于弱关系重要性的观点乍看上去有些与我们的直觉不符，甚至有点荒谬，但它的确揭示了我们的社会组织的一个简单事实。格兰诺维特描述的社会是由完全相连的朋友圈组成的破碎的网络，朋友圈通过弱关系相互联系，这比艾尔德和莱利提出的随机社会图景要更接近真实的情况。要想更好地理解社会结构，随机网络理论有必要和格兰诺维特描述的朋友圈概念结合起来。将两者结合这一工作花了几乎 30 年的时间。有趣的是，解决这一问题的可能的线索并不是来自社会学或图论。</p><p>　　我们经常听到这种大家按照同样的节奏共同鼓掌，这些都是自发产生的。这种自发而又神秘的同步鼓掌现象，是自组织的绝佳例子，这种现象遵循严格的定律，而这些规则已经被物理学家和数学家深入研究过。某些种类的萤火虫也遵循这些定律。在东南亚，常常有数百万只这种萤火虫聚集在红树林里间歇发光。然后忽然从某个时刻起，这些萤火虫开始同步发光变暗，把灯塔状的红树冠变成了巨大的间歇发光的灯泡，在好儿里地开外都能看见。这种微妙的趋向同步的现象在自然界十分普遍。心脏的起搏细胞，正是在同步趋势的驱使下一起启动；长期共同生活的女性，月经周期也会趋于同步。</p><p>　　瓦特从一个简单的问题出发，开始了网络理论研究的旅程。这个问题是：我的两个朋友相互认识的可能性有多大？我们从前面了解到，根据随机网络理论，这个问题的答案很清楚。由于节点是随机链接在一起的，我的两个好友相互认识的可能性就和威尼斯的某个贡多拉船船夫和某个爱斯基摩渔人相识的可能性同样小。很显然，正如格拉诺维特在 25 年前所指出的，这并非社会组织的实情。我们都是某个节点串的一部分，在里面每个人都相互认识。因此，不可避免地，我的两个朋友会相互认识。要想搜集到节点串的特点方面的证据，而且是数学家或物理学家所能接受的证据，我们就必须能测量节点串的群集属性为此，瓦特和斯托加茨引入了一个新的量，称作群集系数。假设你有 4 个好朋友，如果他们相互之间也都是朋友，你就能通过一个链接和他们每个人联系，这样你就有了6 个友谊链。不过，你的朋友中可能有个别人相互之间并不是朋友。这样实际的数据就不到 6 个链接——我们假设有 4 个。这样，你的朋友圈的群集系数就是 0.66，这个系数是以你的朋友链接的实际数量（4），除以理想条件下当他们相互都是朋友的时候的链接总数（6）得来的。<br>　　群集系数能说明你的朋友圈有多紧密。如果群集系数的值接近 1.0，这意味着你的所有朋友相互之间也是朋友。反之，如果群集系数为，那么你就是将自己的朋友连接成一个圈子的唯一的人。格拉诺维特眼中的社会包括许多高度联系的群集，群集和群集之间由较弱的关系联系起来。这样的高度联系的网络的群集系数应该较高。要想获得具体的数字来证明我们的社会确实充满了这样的群集，就需要测量地球上每个人的群集系数。由于根本不存在说明谁和谁有关系，以及谁是谁的朋友这样的地图，因此也就不可能真的测量出每个人的群集系数。不过，有个特殊的社会群体定期公布他们的社会联系。我们可以研究一下这个特殊群体的群集关系。</p><p>　　有关科学家的协作网络。纽曼的论文证明了科学家的日常生活都是发生于密集联系的科学家群集中，这些集群又通过弱关系相互联系起来。社会系统中确实存在群集现象。<br>　　社会群集是我们凭直觉所能感受到的。人类似乎具有先天的结党分派的渴望，因为党派能给我们带来熟识、安全、亲近的感觉。不过，社会网络的某个属性，只有当它能反映出自然界大多数网络的某种一致属性的时候，科学家才会对它感兴趣。因此，瓦特和斯托加茨的最重大的发现，就在于指出了群集现象不只是存在于社会关系网络中。<br>　　通常人们都把人类的高度智能归因于我们大脑所拥有的复杂的神经网络系统。可是，仅仅拥有 302 个神经细胞的线虫（Caenorhabditis elegans，或称作 C.elegans），却向我们展示了这么一丁点神经细胞也能产生巨大的能量。这种身长 1 毫米的蠕虫的生命周期只有 2~3 星期。<br>　　C.elegans 的基因组和人类基因组区别不大，但它却是最简单的多细胞生物之一。科学家甚至已经成功地搞清楚了它的神经系统的分布，绘制出了详细的路线图，标明其神经细胞是如何联系在一起的。通过研究这种虫子的神经网络图，瓦茨和斯托加茨发现这个小小的网络和社会总体上差别不大：这个网络的群集程度也很高——其任意神经细胞的相邻神经细胞相互链接的可能性，是随机网络中的 5 倍。研究者在研究美国西部电网的时候发现了类似的分布特点。在电网中，发电机和变压器等于是节点，而输电线路则是链接，这些电网呈现出高度的群集现象。好莱坞的演员协作网络也存在此现象，我将在下一章详细探讨这一网络。<br>　　由于科学界对瓦茨和斯托加茨的意外的发现甚感兴趣，许多科学家继而详细研究了许多类型的网络。万维网存在群集现象；互联网存在群集现象；对于描述公司企业如何通过合资关系连接在一起的网络，经济学家发现它也存在群集现象；生态学家在描述生态系统中物种的捕食关系的食物链中也发现了群集现象；细胞生物学家也认识到，在细胞中，分子构成的脆弱的网络也存在群集现象。这些发现，证明群集现象无所不在。这使得它由以前认为的独一无二的社会网络特性，变成了复杂网络的共同特性，并且对真实的网络都是随机的这一观点提出了挑战。</p><p>　　为了回答为何群集现象普遍存在于真实网络系统中，瓦茨和斯托加茨在 1998 年发表于《自然》杂志的论文中，提出了与艾尔德和莱利的随机网络模型不同的新模型。他们提出的模型，首次将群集现象和随机网络图的偶然性统一了起来。他们想象一个圈子里的人（图 4.2）都认识自己紧邻的人。在这个简单的模型中，每个节点都有 4 个邻居，他们之间通过 3 个链接相互连在一起。这样，整个网络就拥有较高的群集系数。事实是，如果所有的 4 个邻居都是相互链接的，那么他们之间应该有 6 个链接。由于此模型中他们之间的链接只有 3 个，因此群集系数是 3 除以 6，也就是 0.5，和我们在数学家网络中得到的 0.56 的值非常接近。要想证明这一结果确实反映了高度的群集现象，我们可以假设在一个随机网络中，某个典型的节点仍然有 4 个邻居，但却是和整个系统中的任意节点随机连接在一起。这样一来，其 4 个邻居之间的链接数，就取决于网络的规模。如果网络如图所示拥有 12 个节点，那么其群集系数为 0.33。如果有 10 亿个节点，这个数就会下降到 4×10<sup>-9</sup>！很显然，新的模型预计群集系数为 0.5，和这些数值相比要大得多。<br><img data-src="/linked/linked-1.webp"><br>　　不过我们也要为模型的高度群集特性付出代价，这样该网络就不是小世界了。在社会网络模型中，只有我紧邻和次紧邻的人认识我。要想和圈子另一边的人取得联系，我就必须转遍整个圈子，和无数的人握手相识，才能做到。我们可以很容易地找到连接顶端节点和底部节点的最短路径，它至少包含 3 个链接。听起来似乎不多，但是如果我有耐心，而且纸张够大的话，在同一个圈子上画上 60 亿个节点，每个节点都和其紧邻和次紧邻的节点相连，那么连接圈子两端的任意两个节点的最短路径恐怕要包括 10 亿个链接！这样看来，围绕这样一个圈子建立的社会，不仅具有高度的群集特性，而且是个非常大的世界。<br>　　实际生活中，我们都和地球上某个遥远地方的人有联系。每个人除了邻居之外，还有相距较远的朋友。假如我想找到和某个澳大利亚人的联系路径，我无须挨家挨户敲门，因为即使那样做，我早晚也会敲到太平洋的边上而无路可走。我可能会记得我高中时最好的朋友几年前移居悉尼了。这样一来，我就可以先联系这个朋友，然后由他再找到需要找的那个澳大利亚人，毕竟他在那里的交际圈也是不断扩大的。一个能反映当今社会实情的比较现实的模型，就应该允许远距离链接的存在。在上面谈到的模型中，只需添加几个随机链接，就得到了所需的模型。也就是说，只需在圆圈上选择任意两个节点，并用新的链接将其连起来即可。这样就把所选节点之间的距离降到了 1，而且他们各自紧邻的节点之间的距离也大大缩短了。如果添加多个这样的随机链接，就能把所有的节点的距离拉近。<br>　　瓦茨和斯托加茨发现了一个惊人的特点：即使只是添加少数几个链接，就能把所有节点之间的平均间隔大大降低，这少数儿个链接却不会太大地改变网络的群集系数。然而由于它们构成了跨度颇大的桥梁，往往是将圆圈两端的节点链接起来，这使得所有节点之间的巨大间隔崩溃了。该模型能够大大降低间隔，同时却基本上并不改变群集系数，这一特性说明了人们在交友的时候范围虽然有可能比较有限，只要其中有少数人的交往比较广，拥有远距离的链接，社会就能构成小世界。基于此简单模型，我们意识到六度分隔是植根于人群中有少数人的亲朋好友是住在远处，而不是住在左邻右舍。这些距离较远的链接，使我们拥有了链接远处世界的捷径。巨大的网络无须充满随机链接，就能显示出小世界的特性，只需少数几个远程链接就够了。<br>　　有一段短暂的时期，似乎瓦茨和斯托加茨的更一般性的、群集性更明显的模型似乎要取代艾尔德和莱利的随机宇宙。我们每个人都能想象到这样一幅图景：自己在本地的熟人形成一个圈子，这个圈子里的某些人又有较远的链接，这个情景能非常清楚地解释我们周围的小世界。该模型给出了一个绝佳的折中方案，把艾尔德和莱利的随机世界和规则的格构结合起来。在随机世界里，虽然是个小世界，但是对朋友构成的群集不够友好；而在规则的格构里，节点相互之间的距离太过遥远。<br>　　现在我们明白了瓦特-斯托加茨模型和艾尔德-莱利的世界观并非是不可调和的。如果假设从规则的格构出发，它也的确允许群集的存在。但是从多个角度上讲，其最基本的原理，仍紧紧吻合艾尔德-莱利的观点。毕竟，虽然刚开始我们是把节点安排在一个圆圈上，但是链接它们的时候，却完全是随机的。这样一来，两个模型从深层上表现的都是平等主义的社会，其链接都是随机的。<br>　　我们刚刚透彻理解了该成果，忽然碰上了一件紧急事件。我们的小机器人从万维网上获取的网络图像和艾尔德-莱利以及瓦茨-斯托加茨模型预言的网络结构极为不同。在接下来的章节中我会介绍，我们得到的网络图中有一批中心节点——即带有异乎寻常的多的链接的节点。问题在于，在艾尔德和莱利平等主义的模型中，这样的中心节点极其罕见；显然，该模型无法解释我们的机器人获取的实际网络图。瓦特一斯托加茨模型也好不到哪儿去：该模型也不允许有链接大大超过平均数的中心节点的存在。因此两个模型都存在重要的缺陷，这制约了我们对网络状宇宙的理解。这些数据促使我们寻找对真实网络的更好的解释，并最终迫使我们彻底抛弃了随机世界观。沿着这条路径，我们的研究出现了始料不及的转折。我们必须抛弃到目前为止所掌握的所有的对网络的理解。</p><h1 id="第-5-章-中心节点和连接者"><a href="#第-5-章-中心节点和连接者" class="headerlink" title="第 5 章　中心节点和连接者"></a>第 5 章　中心节点和连接者</h1><p>　　连接者——即带有极大量链接的节点一存在于多种复杂系统中，从经济体系到细胞中都存在连接者。他们是大多数网络的基本组成部分。这一发现颠覆了我们对于网络的所有知识。群集现象是艾尔德-莱利的随机世界观的第一个裂隙。前一个章节中谈到的瓦茨和斯托加茨模型暂时解决了这一危机，使得六度分隔能够成立。而连接者现象则是对这两种模型的致命打击。为了解释这种具有大量链接的节点的存在，我们就必须完全抛弃随机世界观。</p><p>　　电脑空间代表了最高度的言论自由。很难对网页内容进行新闻检查与控制，一旦某条信息发布在网上了，数以百万计的人都能看到它。这种前所未有的言论权力，辅以无比低廉的发表费用，使得网络成了民主思想的论坛；任何人的声音都拥有同样的机会传播给他人，至少政界人七和商业周刊都这样宣称。假如万维网是完全随机的网络，他们这样说就可能是正确的。然而万维网并不是完全随机的。我们的万维网路线图研究项目最引人注目的发现，就是万维网完全缺乏民主、公正与平等之类的价值观。我们知道，网络拓扑学决定了我们无法看到网络中的所有一切，只能看到数十亿文档中的一小部分。<br>　　发表是肯定可以的，一旦发表，它们就立即向全世界所有人开放，所需的只是一个网络链接。然而，面对 10 亿多文档组成的丛林，我们的问题是，把消息发布在万维网上之后，会有人注意到它吗？<br>　　为了让人阅读，你的信息必须是可见的，这和对小说作家或科学家写的东西的要求都是一样的。在万维网上，可见度的度量标准就是链接数量。指向链接越多，它的可见度就越高。如果万维网上每个页面都有指向你的文档的链接，那么在很短的时间内，每个人就都能知道你要说的内容了。但是网页上平均只有 5<del>7 个链接，每个链接都指向 10 亿个网页中的某一个。因此，一个典型网络文档拥有指向你的网页链接的可能性接近于零。<br>　　我的网页 <a href="http://www.nd.edu/">www.nd.edu/</a></del>alb 就和这一结论非常吻合。根据 AltaVista 的搜索结果，全世界有 40 个其他网页指向它。平心而论，考虑到我的网页涉及的面这么狭窄，这个数目也不算少了。但是考虑到整个万维网。上有 10 亿个网页供浏览者选择，那么诸位发现我的网页的可能性就大约是 4×10<sup>-9</sup>。也就是说，假如诸位随机在万维网上浏览，且在每个网页上只停留 10 秒钟，那么就必须连续 8 年夜以继日地不断浏览冲浪，才能撞上一个指向我的主页的链接。<br>　　不过我们的发现却否认了这种预言。我们的机器人返回的结果表明，有证据显示，万维网的拓扑结构存在高度的不均衡现象。我们调查的圣母院大学的 325000 个页面中，有 270000 个，即 82% 的页面只有 3 个或更少的指向它们的链接。然而，有一小部分网页，大约有 42 个，被 1000 多个其他网页引用，而且指向它们的链接超过 1000 多个！接下来对 2.03 亿个网页的研究揭示出更大程度的不平衡：大多数的网页，大约占到所有网络文档的 90%，拥有的指向它们的链接为 10 个或更少，而少数网页，大约占网页总数的 3%，则被接近 100 万个其他的网页引用！<br>　　这和社会网络类似。在社会中，有少数的连接者认识的人数之多超乎寻常。在万维网中，其结构也被一些高度链接的节点（或称作中心节点）所主导。这类中心节点，如雅虎或亚马逊网站，都具有极高的可见性——不论我们到哪儿，都能见到指向这些节点的链接。万维网背后的网络里面有许多未受注意或很少被注意到的节点，只有很少的链接把这类网站和中心节点链接起来。<br>　　中心节点的存在，颠覆了某些人的认为电脑空间是平等主义乐园的乌托邦式幻象。没错，每个人都有权利在网络上发布东西，但是会不会有人注意到呢？如果万维网是随机网络，我们被看见、被听到的机会应该是相等的。我们以集权的方式创造中心节点，即每个人都会连接指向的网站。不论处在万维网的什么地方，这样的节点都非常容易找到。和此类中心节点相比，万维网的其余部分是不可见的。实际上，只有一两个链接指向的文档几乎就等于不存在。他人几乎不可能找到这样的网页，即便是搜索引擎对这样的网页也心存偏见。搜索引擎的网络机器人在万维网上游荡的时候根本就无视这类网站的存在，而是专注于搜寻最热门的网站。</p><p>　　从一个角度讲，我们可以判断，演过的影片最多的演员，联系也最多，和好莱坞其他演员的距离也最短。一般而言，这个判断是正确的：某个演员饰演的剧目越多，他和同事的平均距离越短。不过，饰演剧目最多的演员名单却并不是联系最多的演员，这多少也有些让我们吃惊。我敢打保票说，诸位对饰演过的影片数量前 10 名中大多数名字可能都不熟悉，我们当时也是一样，对他经过一番研究，我们终于查明了他们的底细，原来他们都是三级片明星。<br>　　这个演员表可能很好地说明了，一旦涉及网络，规模并不总是最重要的因素。虽然这些三级片明星饰演过的影片数量惊人，但是他们就是没能靠近好莱坞的中心。由于网络存在群集现象，只和自己所在的群集中的节点相连的节点，可能在自己的亚文化圈子里处于中心位置。假如缺少链接到外部世界的接口，他们距离其他节点串中各个节点的距离就比较远。因此，对于只演三级片的明星，如果他只和其他的三级片明星有联系，就很难把他和马丁·斯科西斯（Martin Scorsese）或安德烈·塔尔可夫斯基（Andrey Tarkovsky）的影片中的演员联系起来，他们处于完全不同的世界里。网络的真正中心保留给了那些在多个大型群集里都有自己的位置的节点。对于演员网络，这种节点就是那些饰演过多种类型影片的演员。对于万维网，这种节点就是那种不只提供现代艺术的链接，而是对于人们的所有疑间都提供链接的网站。对于社会，这种节点就是那种和各个领域的人都有交往的人。他们是数学界的艾尔德，这种人从不局限于任何框框，对于多学科相关的话题，他们都能驾驭自如。他们是网络中的达·芬奇，不论对艺术还是科学都驾轻就熟。</p><p>　　在细胞中，通过化学反应构成的分子网络中存在中心节点。一小部分分子，比如水分子或三磷腺苷（ATP），就是细胞中的斯泰格尔，它们参与了大量的反应。在互联网上，将全世界的电脑连接在一起的线路网络中，也存在少数的中心节点。它们起的作用至关重要，保证了互联网的高可靠性。艾尔德是数学界的中心节点，有 507 名数学家的艾尔德数为 1。根据美国电话电报公司的一项研究，一小部分电话号码打出或接听了极大量的电话，这主要包括电话销售公司和客户服务电话等。在大多数科学家研究过的复杂网络中，都存在中心节点。它们普遍存在，成为我们周围的复杂的相互关联的世界的基因特性。</p><p>　　中心节点的确很特殊，在任何存在中心节点的网络中，它们都对网络结构起到关键作用，使该网络呈现小世界的特点。中心节点和异乎寻常的多的节点之间存在链接，为系统中任意两个节点创造了联系捷径。其结果，就是全球随机选择的两个人之间的距离是 6，而任意一个人和连接者之间的距离则是 1 或 2。与此类似，在万维网上，两个任意页面之间的距离是 19 个点击，而从任何网页转到雅虎所需的点击则是 2~3 次。从中心节点来观察世界，它的确非常小。</p><p>　　几十年来，许多人受艾尔德和莱利的影响，认为网络是随机的。最近这一观点在许多方面受到了挑战。瓦茨和斯托加茨模型提出了关于群集的简单解释，把随机网络和群集现象统一了起来，中心节点又进一步改变了网络研究的状态。我们迄今为止提到的两种模型都无法解释中心节点的存在。因此，中心节点迫使我们重新思考关于网络的知识，并且提出 3 个根本性的问题：中心节点是如何出现的？在某一既定网络中，可能出现多少个中心节点？为何先前的模型都无法预见中心节点的存在？<br>　　两年来，我们设法回答了大部分疑问。我们发现，中心节点并不是相互联系的宇宙中的罕见的偶然现象。相反，它们的存在符合严格的数学定律，它们的普遍存在迫使我们以全新的思路考虑网络的问题。揭示并解释这些定律的过程，体验起来就像乘坐过山车般刺激，从中，我们更多地了解了我们的复杂的相互联系的世界。这些知识，比过去 100 年来积累的还要多。</p><h1 id="第-6-章-80-20-规则"><a href="#第-6-章-80-20-规则" class="headerlink" title="第 6 章　80/20 规则"></a>第 6 章　80/20 规则</h1><p>　　在学术领域之外，帕雷托以其经验主义式的观察而享有盛名。他是个勤劳的园丁，他注意到 80% 的豆子，是 20% 的豆英结出来的。他也仔细观察了经济不平等现象，发现意大利 80% 的土地被总人口的 20% 占有。近来，帕雷托的 80/20 定律或法则，又变成了墨菲管理定律：80% 的利润是 20% 的员工创造的；80% 的客户服务问题是 20% 的消费者提出的；80% 的决策是 20% 的会议时间里作出的。这一定律还演变成了一些其他的至理名言。例如，80% 的案件是 20% 的罪犯制造的。<br>　　不论是用在什么情况下，80/20 定律都说明了同一类现象：在大多数情况下，我们 4/5 的努力往往付之东流。我们还可以给 80/20 定律再添加几条：万维网上 80% 的链接指向 15% 的网页；80% 的用出自 38% 的科学家；好莱坞 80% 的链接连上了 30% 的演员。人们可能禁不住想把 80/20 定律用在任何场合。假如这样的话，就有点夸大事实了。实际上，凡是符合帕雷托的定律的系统都有些特别。造成这种特别的因素，对于我们理解复杂网络也起到了关键作用。</p><p>　　受艾尔德和莱利的启发，我们预计会证明网页之间都是随机链接的。正如我们在第 2 章谈及的那样，网页上的链接应该呈中间高的正态分布，表明大多数文档的流行程度都差不多。但是我们的网络机器人描绘的网络上，有一些节点只有几个链接，另外一些中心节点则有大量的链接。最使我们惊奇的是，当我们试图把节点连接性的柱状图和双对数图匹配起来时出现的情况。我们发现不同网页上的链接分布严格依据数学上的幂律。<br>　　不是搞物理或数学的人极有可能从没听说过所谓的“幂律”。自然界的大多数数量序列都呈正态的钟形分布，这和随机网络的峰状分布很相似。例如，如果统计一下你认识的所有男性朋友的身高，并绘制柱状图，你会注意到大多数人的身高在 152<del>183 厘米之间，柱状图会围绕这些值出现峰值。除非你结交的朋友中有篮球明星，一般情况下，很少有人的身高会超过 213</del>244 厘米。身材较矮的人的数量也类似：身高在 92<del>122 厘米的人也会很少见。由于自然界大多数的数量序列，如人的智商、某种气体中分子的速度等，都遵循这种峰状分布，因此人们对这种无所不在的钟形曲线非常熟悉。<br>　　最近几十年来，科学家注意到，在某些情况下，自然界产生的数量序列会按照幂律分布，而不是钟形曲线分布。幂律和钟形曲线迥然不同。首先，幂律分布不存在峰值。符合幂律分布的柱状图是一个不断下降的曲线，说明在几个大事件之后有许多小事件。假如某个行星上的外星人的身高符合幂律分布，大多数生物的身材较矮，人们要是看见身高上 30 米的巨人从大街上走来，也不会感到惊奇。实际上，如果那个星球上有 60 亿居民，其中至少会有一个人的身高会超过 2438 米。因此，幂律分布的最突出特点，不仅是其中有许多小事件，而且是许多小事件伴随着少数极大的事件。这种超乎寻常的大事件是不可能存在于钟形曲线内的。<br>　　后来，我们发现，可以从另一个角度解决这个问题。这是不是由于某种同样简单的定律造成的呢？我们之所以尚未认识这一定律，只不过是因为以前还从未试图寻找过这样的定律？这一问题给我们带来了丰硕的成果。几个月后，通过分析好莱坞的演员网络，我们发现它也遵循同样的数学关系：认识 k 个其他演员的演员，也遵循幂律。后来我们发现艾尔德和数学同事也遵循同样的幂律。细胞中的分子网络也加入了这一行列。与 k 个其他分子相互参与反应的分子也符合幂律。论文引用构成的网络也符合幂律分布。无数个现今已经被我们或其他科学家研究过的复杂网络结果都符合惊人的简单而一致的形式：拥有 k 个链接的节点遵循幂律，且每个系统都有独一无二的次数幂，大多数系统的次数幂值都在 2</del>3 之间。</p><p>　　随机网络和遵循幂律的网络之间的巨大差异，可以通过对比美国的道路交通网和航线网而得到一个直观的感觉。在道路交通网中，城市是节点，而连接它们的公路则是链接。这个网络异常平均：每个主要城市都至少有一条干线公路连接；同时，没有任何一座城市的干线公路有上百条。大多数的节点都很相似，链接数量大体相当。正如我们在第 2 章里所讨论的，这种一致性来自于随机网络，符合峰值分布曲线的特点。<br>　　飞机航线网和交通网有极大的不同，航线网的节点是直接由航班联系起来的机场。坐飞机的时候仔细看看座椅后背上的飞行杂志上印的航线图，一眼就能看到少数的几个枢纽，相当于中心节点。比如在美国，就有芝加哥、丹佛、亚特兰大、纽约等城市的机场，从这里有飞往美国各地的航班。大多数的机场都很小，在航线图上表现为仅有儿个航线连接的节点，这些航线把它们和几个枢纽连在一起。这样一来，和公路交通图的情况不同，航线图上就有连接上百个小机场的大型枢纽，即中心节点（图 6.1）。<br>　　类似的不均衡现象正是呈幂律分布网络的特点。在大多数真实网络中，大多数节点只有儿个链接，这些数量众多的较小的节点与少数儿个巨大的拥有无数连接的中心节点共存。幂律从数学上解释了这一现象。如果只在小型的节点之间存在几个链接，还不足以保证整个网络完全联系起来。由于少数几个中心节点的存在，使得网络连成了一体。<br>　　在随机网络中，分布中的峰值意味着大多数节点的链接数量都相当，偏离此数量的节点极其少见。因此，随机网络的节点连通性具有自身的尺度特征，这种特征由普通节点体现出来，并受等级分布峰值的限制。与此相比，在幂律分布的网络中，缺乏峰值。这说明在真实网络中，不存在带有普遍性的典型节点。我们看到的是连续的有等级差别的节点，从罕见的中心节点到无数的小节点一级一级分布开来。最大的中心节点后面紧紧跟着两个较小的中心节点，然后是十几个更小的节点，以此类推，直到最后的无数的小节点。<br>　　幂律分布迫使我们放弃关于典型节点的想法。在连续的等级分布中，我们无法找出一个特定的节点，说它能代表其他节点的特性。这样的网络不存在内在的尺度。因此，我的研究小组将符合幂律的网络描述为“无尺度”。意识到自然界的大多数复杂网络都符合幂律分布后，无尺度网络的概念迅速渗透到大多数与复杂网络相关的规则中。<br><img data-src="/linked/linked-2.png"><br>　　图 6.1 随机无尺度网络。随机网络的分布是一个钟形曲线，说明大多数节点都有同样数量的链接，而且不存在链接特别多的节点（左上）。因此随机网络和国道公路网络相似。在国道组成的网络上，城市就等于节点，而国道则是连接城市的链接。大多数城市所连接到的国道数量都基本相同（左下）。而无尺度网络的幂律分布则说明大多数节点都有很少的链接，它们由少数几个高度链接的中心节点联系成一体（右上）。看上去这样的网络和飞机航线图非常相似。在航线图中，有大量的小机场，它们通过少数几个大的枢纽机场联系在一起（右下）。</p><p>　　1999 年，我们发现无处不在的中心节点具有等级差别，并且符合幂律。但是当时的两种网络理论都没有提到这些特点，人们只是觉得这都是巧合。艾尔德和莱利的随机网络理论，以及瓦茨和斯托加茨对其理论在节点串方面的扩展，都强调有 k 个链接的节点会以指数级减少——这比起幂律预计的要快得多，这两伙研究者都通过严密的数学论证，指出中心节点并不存在。在万维网中发现幂律的存在，不仅使我们吃惊，还迫使我们承认中心节点确实存在。缓慢降低的幂律分布很自然地能和高度链接的异常节点结合起来，它预言每个无尺度网络都会有几个大的中心节点确定网络的拓扑结构。人们发现，大多数在理论上具有重要意义的网络，包括从万维网到细胞内部的种种类型，都是无尺度的，允许中心节点的存在。我们会发现，这些规则决定了真实网络的结构稳定性、动态行为、稳健性、容错性以及承受攻击的能力。它们的存在，可以证明控制网络进化的极为重要的组织原则。</p><p>　　帕雷托本人从未使用过 80/20 的说法，这个说法是后来研究帕雷托的经济学家造出来的。在 19 世纪末，他注意到，自然界和经济界中有几个量对无处不在的钟形曲线构成了挑战，使得其中的分布不再符合钟形曲线，而是符合幂律。他最著名的发现是揭示出收入分配也符合幂律，指明大部分财富到了极少数个人手中，而大多数人挣的钱都很少。帕雷托的发现指明大约 80% 的钱被 20% 的人挣去了。<br>　　幂律是用数学公式表明了少数儿个大事件承载了大多数的活动。<br>　　在纯粹随机的系统中，很少出现幂律。物理学家已经注意到，在大多数情况下，幂律预示着从无序到有序的过渡。因此，我们在万维网中发现了幂律，而且是以精确的数学术语描述的，证明了真实网络远不是随机的。这里网络揭示出的是有序和逐渐显现的行为原则。<br>　　幂律是 20 世纪后半期最惊人的理论进步之一，它浮现自混沌理论、不规则碎片形和相变之间。在网络中发现幂律，表明了通向其他自然现象也存在我们预先没有想到的链接，并将网络置于理解复杂系统共性的最前沿。实际上，万维网、好莱坞网络、科学家网络、细胞网络以及其他许多复杂系统，都遵循幂律，并且首次揭示出在复杂网络背后也存在某种定律。</p><p>　　水分子 H<sub>2</sub>O 的分子结构图看起来像是一个圆圆的 O构成的大脑袋上长了两个 H 状的耳朵，有点像米老鼠，大家对此都很熟悉。对其大小和内部结构，我们都了解得细致人微。这一点都不奇怪：水是地球上最常见，也是人们研究最多的物质。但是面对液态的水，即由数十亿的黏着在一起的水分子构成的一杯水，我们仍有许多难题。<br>　　气态物质都很简单：分子在空间飞行，只有相互撞上才会往意到对方。晶体则正相反，但相对而言也很简单：分子相互手拉手，紧密结合在一起，构成了极度完美的刚性点阵。然而，液体却是这两种极端状态之间的微妙平衡，将水分子吸引到一起的力量不足以使其变成固态。水分子陷于混沌和有序之旧，跳着庄重的舞蹈：有些分子聚集到一起，构成小小的有序的组群，共同移动，但瞬间又会分手，其他的分子结合成新的组群。降低这杯水的温度并不能显著改变水的舞蹈，降温只能使水分子的动作更显高贵——更沉稳、更庄严。然而，到了 0℃，特殊的事情发生了。水分子突然形成了完美的晶体形式，它们从涣散的状态变成坚固有序的形式，依据的是某种神秘的力量。冰往往是冷和完美秩序的象征，它是自发形成的。<br>　　水变成冰，是最佳的相变实例。在 20 世纪 60 年代之前，物理学家花费了数十年的时间才理解：许多物质都存在相变，不过形式可能和固态水存在明显的差别。例如，铁磁金属中的每个原子，都具有磁矩或磁自旋，通常以穿过原子的箭头来表示。在高温下，铁磁金属的原子的磁自旋指向各个不同的方向。不过，当温度降到某个临界点，所有的原子都会将磁自旋指向同一方向，形成磁体。<br>　　液体结冰，以及磁体的出现，都是从无序到有序的相变。与变成晶体的冰相比，液态水是相当无序的。在凝固温度下，水会神奇地放弃无序的状态，选择一种高度对称有序的状态。同样道理，铁磁金属中随机指向的原子磁自旋也出于混沌无序的状态。一且降到临界温度，它们会神奇地选择同一个方向。这种突然的转变中蕴含了理解自然奥秘的关键，科学家和哲学家无不对此深感兴趣：有序究竟何以产生自无序？</p><p>　　磁体的有序和无序状态对应的是物质的完全不同的热能状态。在相变的临界点，系统需要在两种状态间作出选择，就好像站在山脊上的登山者需要选择从娜一边下山一样。未作好决定之前，系统常常犹疑徘徊，这种摇摆在临界点达到极致。<br>　　这些摇摆带来的结果可以通过实验测量得到。接近临界点时，同一物质内有序和无序混合在一起，系统对两种状态都进行试探。在接近相变温度的金属中，会出现原子簇，其磁矩指向同一个方向。金属越接近离临界点，这种有序的磁原子簇就越大。20 世纪 60 年代，物理学家找到了越来越多的实验证据，表面在临界点附近，有几个关键量符合幂律。其中包括，原子之间的通讯距离，即相关长度，经常作为测量节点串大小的大体依据。测量结果表明，离临界点越近，相关长度会随之增加，增加比例符合幂律，并带有独特的临界指数。金属离相变温度越近，磁矩之间的磁矩越大。在临界温度附近，磁体的磁力受指向同一方向的磁矩的比例影响。它也符合幂律，带有另一个临界指数。<br>　　物理学家仔细研究了不同的系统是如何从无序过渡到有序的，并从中发现了更多符合幂律的相变过程。液体加热变成气体，或是将铅冷却到足够低的温度使其变成超导体，都遵循同样的定律。这种无序-有序转变具有极高的数学一致性。可问题在于，谁也不知道其中的原因是什么。为什么液体、磁体、超导体等会在某个临界点失去本来的属性，都一致遵循同样的幂律？这些完全不同的系统，为何会呈现如此高的相似性？幂律在其背后起了什么作用？</p><p>　　1965 年圣诞节前后的一周，人们终于在理解从无序过渡到有序的奥秘方面得到了第一个突破性的发现。当时，乌尔班纳的伊利诺伊大学的物理学家利奥·卡达诺夫（Leo Kadanoff）突然意识到：在临界点附近，我们就不能再把原子当成独立的粒子看待，而应该把它们看作是属于一个个社区，共同行动的群体。可以把原子看作是装在一个个的盒子里，每个盒子里的原子都有同样的行为方式。<br>　　自然界往往不欢迎幂律。在通常的系统中，所有的量都遵循钟形曲线分布，而且相关性迅速衰退，只允许指数定律的存在。但是，一旦系统被迫产生相变，一切也随之改变。继而就出现了幂律——这是自然界给出的明确无误的征兆，表明混沌正让位于有序。相变理论清晰明确地表明了，从无序通往有序的道路，受到自组织力量的影响，这是幂律给辅就的。</p><p>　　学者们了解到，在接近临界点的时候，有序正准备从无序中产生，所有相关的量都遵循具有某个特定临界指数的幂律。不论我们]研究的是水结成冰，岩浆冷却成岩石，金属变成磁体，或是陶瓷变成超导体，同样的定律总是起作用，生发出神秘的幂律。我们终于了解到，复杂系统产生出秩序之际，也会失去自己独一无二的特点，显示出和大批的其他系统类似的特性来。<br>　　事实上，在 20 世纪 80 年代和 90 年代，物理学家、生态学家、材料科学家、数学家或经济学家，在其研究的领域只要发现自组织现象的存在，就会同时发现幂律和普适性也同样存在。看起来所有的网络都有共性：在中心节点背后，有一个相当严密的数学表达，即幂律。<br>　　这把我们带向了下一个迷题。如果幂律代表的是系统正从混沌过渡到有序，那么在复杂网络中正发生何种转变？假如幂律出现于临界点附近，那么对于真实网络，是什么在调节它，使其达到临界点，并且呈现出无尺度的特性？在物理学家揭示了相变的机制之后，我们开始理解临界现象。现在，严密的理论允许我们高度精确地计算出系统转为有序时所有的量。但是到目前为止，我们在本书中才只探讨了中心节点问题。我们现在知道，中心节点是幂律导致的结果——这表明了自组织和秩序的存在。当然，这是一个重大的突破，使我们不再将网络看作是随机系统。但是最重要的问题，即与中心节点和幂律有关的机制究竟是什么，仍然没有答案。真实网络是不是处于从无序到有序过渡的连续状态？为什么在各种各样的网络中，不论是演员构成的网络还是万维网，都会出现中心节点？为什么这些网络会遵循幂律？是否存在某种基本的定律，迫使不同的网络都呈现出同样的形态？自然界是如何编织这些网络的？</p><h1 id="第-7-章-富者愈富"><a href="#第-7-章-富者愈富" class="headerlink" title="第 7 章　富者愈富"></a>第 7 章　富者愈富</h1><p>　　简单的富者愈富现象，竟然是大多数网络的潜在特性，这能够解释我们在万维网和好莱坞的网络中都观察到的幂律现象。<br>　　艾尔德和莱利的随机模型是建立在两个简单的，但同时往往被人忽视的假设的基础之上。首先，我们从一系列节点出发。一旦有了所有的节点，我们假设节点的总数都确定了，而且在网络的生命周期内都不会改变。其次，所有的节点都是一样的。由于看不出节点之间有何差别，我们只是随机将他们链接起来。在网络研究的 40 多年的时间里，都没人对这些假设提出任何疑问。但是发现中心节点后一以及描述中心节点的幂律一迫使我们放弃这两个假设。<br>　　建立增长网络的模型比较容易。我们从一个小小的核心开始，不断增加节点。我们先假设每个新节点有两个链接。这样的话，如果开始只有两个节点，那么第三个节点就会同时和它们两个建立链接，第四个节点有三个节点可供选择。我们该如何选择和其中的哪两个节点建立链接呢？为了简便起见，我们还是按照艾尔德和莱利的办法，从三个节点中随机选择两个，将它们和新节点链接在一起。这一过程可以无限延续下去，每添加一个节点，就将其随机和网络中的两个节点链接在一起。通过这个简单的运算法则生成的网络，称作模型A，与艾尔德和莱利的随机网络模型存在的区别就在于其增长的特性，不过这种区别意义重大。虽然我们选择链接的时候是随机的、民主的，但是模型 A 中的节点并不平等，很容易就能确认其中的赢家和输家。每一次，所有的节点被链接的机会均等，这就使较早的节点具有明显的优势。事实上，除了极少见的统计上的波动外，第一个节点会成为最富有的，因为它积累链接的时间最长。最穷的节点会是最后加入系统的节点，只有两个链接，因为其他的节点还没有机会和它建立链接。模型 A 是我们试图解释万维网和好莱坞网络中的幂律的第一个尝试。电脑仿真很快就使我们认识到，我们尚未找到真正的答案。等级分布，即区分无尺度网络和随机模型的功能，下降得过快，其幅度是指数级的。虽然早期的节点是明显的赢家，但是指数级幅度预计这种节点仍然太小，而且太少。因此，模型A 无法解释中心节点和连接者现象。不过，它却表明了增长本身无法解释幂律的出现。<br>　　我们大多数人都有几个熟悉的新闻源头。我们会不假思索，链接到其中熟悉的某个网站上。我长期阅读《纽约时报》，因此我会毫不犹豫地选择 nytimes.com 这个链接。有人可能会选择有线电视新闻网（CNN）的 CNN.com 或是全国广播公司的 MSNBC.com。然而，此中最关键的在于我们选择链接的网页不是通常的节点，它们都是中心节点。这些节点越是知名，指向它们的链接就越多，它们吸引的链接越多，在万维网上就越容易找到它们，我们也就因此更熟悉它们。最终我们大家都遵循一种下意识的偏见，更有可能链接到自己所知道的节点，即必定是万维网上那些链接更多的节点。我们都喜欢中心节点。<br>　　关键就在于，我们在万维网上决定选择何种链接的时候，都遵循优先情结：在两个链接中任选一个的时候，如果其中的一个链接的链接数是另一个的两倍，那么链接到它的人会是另一个节点的两倍。虽然每个人的选择很难预计，但是合在一起作为群体，我们的选择却遵循严格的规则。<br>　　优先情结在好莱坞也起作用。制片人的工作是制作赚钱的电影，他们知道哪些影星更受欢迎。演员名单受两个相互制约的因素影响：演员是否适应某个角色，以及该演员是否出名。这两个因索使得选星过程也带有偏见，链接更多的演员更有机会获得新的角色。事实上，演员出演的影片越多，就越有可能出现在导演的视野中。这样一来，满怀抱负的年轻演员就处于非常不利的地位，这也是好莱坞内外的人都知道的一条类似第22条军规的规则：要想获得好角色，就必须出名；可要想出名，就得有好的角色让你演。<br>　　万维网和好莱坞网络迫使我们放弃关于随机网络的第二条重要的假定——其民主的特性。在真实网络中，链接都不是随机的。相反，声望可以吸引链接。链接更多的网页更有可能得到链接；关系联系紧密的演员更有可能得到新的角色；被引用得多的论文更有可能再次被引用；连接者交的新朋友更多。网络进化受微妙且铁面无私的优先情结的控制，受其影响，我们不知不觉就会更多地连到链接更多的节点上。<br>　　我们发现真实网络受两个定律的控制：增长和优先情结。每个网络都是从很小的内核开始，随着节点的增加不断增长。这些节点在决定和那些已有的节点链接的时候，会优先考虑链接较多的节点。这些定律和早先的模型明显不同，以前的模型假定网络内的节点数量是恒定的，且所有节点都是随机链接的。</p><p>　　无尺度模型中为何会出现中心节点和幂律？首先，增长在其中起了重要作用。网络的增长意味着早先的节点比后来者有更多机会积累链接：假如某节点最后一个加入网络，那么网络中的其他节点都没有机会和他建立链接；假如某个节点是最早存在于网络的，那么后来的所有节点都有机会和它建立链接。因此，增长特性会给先存在的节点带来明显的优势，使其成为链接最丰富的节点。不过资历本身还不足以解释幂律的出现。中心节点还需要第二个定律的帮助，即优先情结。因为新节点乐于和链接多的节点建立链接，早到的链接多的节点会经常被选中，也会比晚到的链接少的节点增长得更快。由于越来越多的节点添加进来，它们也都选择链接多的节点，最早存在的一批节点必然会变得与众不同，积累起大量的链接，它们会变成中心节点。由此，优先情结就引发了富者愈富的现象，帮助链接较多的节点通过后来的节点获得异乎寻常多的链接。<br>　　必须增长或优先情结同时具备，才会生成无尺度网络。没有优先情结作用的增长网络，会呈现指数等级分布，这和禁止中心节点出现的钟形曲线有些相似。如果网络不增长，我们就又回到了静态模型，它无法产生幂律。<br>　　我们设计无尺度模型的目标并不高，主要就是想证明增长和优先情结这两个简单的定律能够解决中心节点和幂律两个谜题。尤其是鉴于开始时，对于真实网络的拓扑结构，我们忽略了许多因素，目的是为了使模型更简化、更透明。其中最明显的一个因素，是在无尺度模型中，所有链接都是在新节点加入时增加的，而在大多数网络中，新链接可以自发产生。例如，当我为我的网页添加一个指向 nytimes.com 的链接，就创建了一个连接两个既有节点的内部链接。在好莱坞网络中，94% 的链接都是两个业已成名的演员首次合作而建立的内部链接。无尺度模型所缺，而真实网络具备的另一个特点，是在许多网络中，节点和链接可以消失。实际生活中，许多网页会关门歇业，同时带走数以千计的链接。链接也能重新安排，比如，当我们决定将指向有线电视新闻网的链接改为指向纽约时报网站。这些现象和其他现象一起，在某些网络中经常出现，但是在无尺度模型中，却找不到它们的踪影。这表明，真实网络的进化要比无尺度模型的预言复杂得多。要想理解我们复杂世界里的网络，就得把这些机制引入到统一的网络理论中，并解释其对网络结构的影响。<br>　　在我们将无尺度模型的论文提交后，雷卡·阿尔伯特和我开始研究无尺度网络中内部链接和链接重新布局所带来的影响。不过做此研究的并不只有我们这伙人。我们的论文在《科学》杂志发表一一个月后，我了解到在全世界，好几个实验室在研究类似的课题。比如我的长期合作者，现在波士顿大学担任研究员的路易·阿曼罗（Luis Amaral），就正在研制包括了年龄增长，以及演员退休后不再获取新的链接等因素的无尺度模型。阿曼罗和基因·斯坦利（Gene Stanley），以及安东尼奥·斯凯拉（Antonio Scala）和马克·Bartheleémy 两个学生一起，证明了如果节点在特定年龄后不能获取新的链接，中心节点的规模就会受到限制，使中心节点的比例小于幂律所预计的。同时，何塞·门德斯和谢尔盖·多洛戈夫切夫（Sergey Dorogovtsev）也在波尔图独立研究一个类似的问题；很快，他们关于无尺度网络的一系列颇有影响的论文中的首篇就获得了发表。门德斯和多洛高夫切夫通过假设随着节点年龄增长，它们会逐渐丧失吸引链接的能力，证明了渐进的年龄增长不会破坏幂律，只是会改变次数幂，进而影响中心节点的数目。同是来自波士顿大学的保罗·克拉皮夫斯基（Paul Krapivsky）和西得·雷德纳（Sid Redner），与墨西哥的弗朗索瓦·列夫拉兹（Francois Leyvraz）一起，利用优先情结解释指向节点的链接与节点现有的链接数量并不是简单的正比关系，而是遵循某些更复杂的功能。他们发现这些作用会破坏网络的幂律特征。<br>　　由于这些人的努力，我们现在已经有了一套内容丰富、完整的网络增长和进化理论。我们了解到，内部链接、链接重排、删除节点和链接、节点老龄化、非线性效应，以及其他许多影响网络拓扑结构的过程，可以构成完美的演变网络的理论架构，其中包括了无尺度模型的一个特殊案例。这些过程会影响网络的成长和演变，并不可避免地改变其中心节点的规模和数量。但在大多数情况下，在增长和优先情结同时起作用时，中心节点和幂律都会出现。在复杂网络中，无尺度结构不是例外，而是常态。</p><p>　　通过再现自然创建复杂系统的每一个过程，这些模型试图抓住网络的建造机制。假如我们能够正确地模拟网络模型的构建方式，那么最终得到的网络模型就会和真实网络相当接近。因此，我们的任务从描述网络拓扑结构，转移到了理解网络进化演变的机制上来。<br>　　研究焦点的变化也导致了探讨网络的术语的变化。经典网络模型的静态特性，直到我们不得不往模型中注人增长因素才浮现出来。与此类似，直到幂律迫使我们引入优先情结，随机性才成了问题。当我们了解到结构和网络进化无法分割，就再也无法回到左右了我们思维几十年的静态模型模式上去。思维上的这些转变创造了一系列对立的概念：静态之与增长，随机之与无尺度，结构之与进化。<br>　　幂律的存在，是否说明真实网络是从无序到有序的相变的产物？我们得到的答案很简单：网络并不处于从随机到有序的路上，它们也不处在随机性和混沌的边缘。相反，无尺度拓扑结构证明了，在网络形成过程中，一直有一些组织原则在起作用。这里面毫无神秘之处，因为增长和优先情结能够解释自然界网络中的基本特性。不论网络多大、多复杂，只要存在优先情结和增长因素，它就会保持中心节点和无尺度拓扑结构。<br>　　假如没有接下来的一系列发现，无尺度模型会一直是学术界热衷探讨的话题。最重要的在于我们了解到，凡是值得进行科学研究，且具有实践意义的网络，都是无尺度的。万维网提供的数据足够庞大，也足够细微，使我们相信，幂律可以解释真实网络的现象。这一认识导致了大量的发现，这一过程一直延续到现在。好莱坞网络、细胞的新陈代谢网络、论文引用网络、经济网络、语言网络（许多不同的研究小组证明了语言具有无尺度特性。在语言网络中，节点是词语，而链接则是明显的词语搭配和语义关系，如同义词、反义词等）等都属此类。一时间，在许多科学研究领域，无尺度拓扑结构产生的根源变得重要起来。<br>　　成熟的网络演变理论，使我们能够精确预言尺度指数和网络动能。这样，我们对周围复杂的相互联系的世界的理解就上升到了一个新的高度，使我们比以前任何时候都接近理解复杂性的架构。<br>　　但是无尺度模型也带来了新问题。其中一个不断浮现在我们眼前：在富者愈富的世界中，后来者如何生存？对于此问题答案的追寻，把我们带到了一个本来大家认为极不可能的领域：20 世纪初产生的量子力学。</p><h1 id="第-8-章-爱因斯坦的遗产"><a href="#第-8-章-爱因斯坦的遗产" class="headerlink" title="第 8 章　爱因斯坦的遗产"></a>第 8 章　爱因斯坦的遗产</h1><p>　　Google 之所以令我着迷，在于它打破了我们对无尺度模型的基本预言，即先到者具有优势。在无尺度模型中，链接最多的节点，是最先出现的节点。因为它们积累链接的时间最长，已经发展成了中心节点。1997 年发布的 Google 在万维网上是个迟到者。当时流行的搜索引擎，如 AltaVista 或 Inktomi 等已经早在 Google 之前主宰了互联网很长时间，使 Google 明显地处于下风。然而，在不到 3 年的时间里，Google 就成长为最大的节点，同时也成了最受欢迎的搜索引擎。<br>　　当然，商业史上不乏后出现的公司通过创新产品从老牌公司抢走顾客的案例，一个著名的例子就是苹果电脑。本来是它先创造了手持电脑的概念，即牛顿掌上电脑系统，可是后来这款电脑却完全被 Palm 掌上电脑给取代了。假如我们把产品看作是复杂的商业网络中的节点，而消费者是节点之间的链接，就可以把苹果电脑的例子描述为其链接被重新指向了 Palm。<br>　　大多数网络都存在这种“新星效应”。但在无尺度模型中，不存在这种后来者升到主宰地位的空间，因为在无尺度模型中，所有的节点都是同样的，这点和我们到目前为止讨论的其他模型是一致的。当然，无尺度模型中节点确实也存在差别，这主要在于节点所获得的链接的多少不同。链接数量也是节点进入网络的时间函数。但是在大多数复杂系统中，每个节点都有自己独一无二的特点，即使我们不知道它们的链接能力，也能明显看出这些特点。网页、公司、演员等都有其内在的品质，这些品质会影响其在竞争环境中获取链接的能力。有的出现得虽晚，但是却能在很短的时间内获得大量的链接。有的虽然到得早，但却没积累起多少链接，白白浪费了其先到的优势。要想在模型中反映出大多数网络中所存在的激烈竞争，就必须承认每个节点都存在差别。<br>　　在竞争环境中，每个节点都有特定的适应性所谓的适应性，就是相比于周围的人，你结交朋友的能力；它是某家公司相比于其他公司吸引消费者的能力；它是演员相比于其他演员使自己受欢迎的能力；它是网页相比于其他数百万计的网页吸引用户回头访问它的能力。适应性可以将节点处于竞争前沿的能力进行量化。对于人类，适应性可能是源自基因的某种特性。它可能和公司的产品和管理质量相关；和演员的天赋有联系；也和网站的内容有关。<br>　　我们可以为某个网络中的每个节点赋予适应性值，用来模拟其与其他节点竞争获得链接的能力。例如，我的网页在万维网上的适应性值为 0.00001，而 Google 的则是 0.2。这些数具体是多少倒不重要；但其比例差距却显示出这两个网站吸引浏览者的能力差别。事实上也是如此，普通用户可能觉得 Google 比我的个人网站有用 20000 倍。<br>　　引入适应性概念并不排除增长和优先情结这两个控制网络进化的基本机制。不过，它却改变了竞争环境中的吸引因素。在无尺度模型中，我们假设节点的吸引力只受其链接数目的影响。而在竞争环境中，适应性也起作用：适应性高的节点链接就多。将适应性加入到无尺度模型的简单办法，是假设优先情结受到节点的适应性和链接数目的共同影响的乘积。每个节点都通过对比适应连通性乘积来决定和谁链接，并且很可能和乘积高的节点链接，因此它就更具吸引力。对于具有同样链接数的节点来说，适应性高的能够获得更多的链接。然而，假如两个节点的适应性相同，早出现的节点仍占优势。<br>　　这一简单的适应性模型，结合了竞争和增长因素，是我们试图解释 Google 现象的首次努力。该模型的设计使我们能够区分节点的不同，并使后来者有机会出人头地。我们很快就了解到适应性带来的影响比这深远得多。<br>　　由于适应性的作用，早到者未必是最后的赢家。相反，处于主导地位的是适应性，中心节点的得失成败全在于它。在无尺度模型中，节点的连通性增加量相当于时间增加量的平方根。适应性模型预言的行为却极为不同，它告诉我们节点仍旧按照幂律 t<sup>β</sup> 获取链接，但是反映节点获取新链接速度的节点动态指数 β 各不相同。该指数和节点的适应性成正比，也就是说如果某节点的适应性值是其他任意节点的两倍，那么它的动态指数也就是其他节点的两倍。这样一来，节点获取链接的速度就不再是最重要的因素，适应节点就不再受何时进入网络的影响，很快就能把适应性低的节点抛在后面。Google 就很好地证明了这一点：虽然是个后来者，但凭借高超的搜索技术，它比竞争者获取链接的速度都快，并最终超越了所有的竞争者，如同美貌战胜了资历。</p><p>　　在常温下，气体原子以不同的速度相互碰撞，有的快，有的慢。用物理学上的行话说，就是有的原子能量高，有的能量低。如果给气体降温，所有原子的速度都会慢下来。要想让它们彻底停下来，就要把气体降到绝对零度，这一温度是无法达到的。爱因斯坦预计，如果全同的粒子足够冷却，粒子中的一大部分会安顿在最低的能量点上。也就是说，在绝对零度以上的某个临界温度，原子可以处于最低能量状态。当粒子进入这一状态后，它们会形成新的形态，称作“玻色-爱因斯坦凝聚”。<br>　　如今，我们了解到爱因斯坦的发现不仅适用于气体，在许多和气体很不一样的量子系统中，都存在类似粒子凝聚的现象。玻色-爱因斯坦凝聚成了理论物理学家的标准工具箱，帮助我们理解诸如恒星形成、超导电性等看起来彼此毫无联系的现象。比安柯尼在试图理解适应性模型的行为模式的时候使用的就是这个工具箱。</p><p>　　通过简单的数学转换，比安柯尼用适应性取代了能量，为适应性模型中的每个节点分别赋予了能量值。突然之间，计算结果就有了意想不到的意义：结果和爱因斯坦在发现凝聚现象的 8 年前经历的有些相似。这有可能完全是出于巧合。但是事实上，在适应性模型和玻色气体之间确实存在精确的数理对应关系。根据这种对应关系，网络中的每个节点都对应玻色气体中的一个能量级。节点的适应性越高，其对应的能量级就越低。网络中的链接对应气体中的粒子，每个也都有特定的能量级。往网络中添加新的节点，就好比是往玻色气体中添加新的能量级；往网络中添加新的链接，就好比是往玻色气体中添加新的玻色粒子；在这种对应关系中，复杂网络和巨大的量子气团相似，其中的链接的行为类似于亚原子粒子。<br>　　我们没有预料到网络和玻色气体竟有这种对应关系。毕竞，玻色气体是量子力学中独特的现象。它受亚原子物理学原理的控制，允许出现违反直觉的、在宏观世界不会发生的事情。这些原理，和我们这本书中谈及的控制网络的原理十分不同。例如，互联网中的节点、链接是宏观对象；对路由器和电缆我们也可以随意连通或切断。谁都不会真的相信它们会受量子力学的支配。然而，几十年来，我们一直把网络当作数学领域的几何模型。发现真实网络是快速演变的动态系统后，将复杂网络的研究推到了物理学的怀抱里。也许我们面临着另一个文化转换。确实，比安柯尼发现的对应关系意味着，网络和玻色气体在控制其行为的原理上是相同的。复杂网络的一些特性将微观和宏观世界联系到一起，其带来的效应，和这种联系的存在本身一样令我们好奇。<br>　　这种对应关系带来的最重要预言，就是某些网络会出现玻色-爱因斯坦凝聚现象。简言之，就是，在某些网络中，胜者通吃。就像在玻色-爱因斯坦凝聚中，所有的粒子都凝聚到低能量级，使得其他能量级没有粒子；在某些网络中，最适应的节点从理论上讲会吸引所有链接，其他节点一个也捞不着。结局就是胜者通吃。</p><p>　　每个网络都有独特的适应性分布，这种分布告诉我们网络中的节点相似性或差异性有多大。某些网络中的大多数节点的适应性大体相当，其分布符合钟形曲线。而另一些网络的适应性范围差别很大，少数节点比大多数的适应性高出许多。比如，对于所有的网络浏览者来说，Google 就比我的个人网页有趣上千倍。事实上，几十年前发展出的用来描述量子气体的数学工具使我们看到，网络的行为和拓扑结构可以独立于链接和节点的属性，而仅仅受其适应性分布的支配。虽然从万维网到好莱坞每个系统都有各自独特的适应性分布，比安柯尼的计算仍旧表明，以拓扑结构而论，所有的网络只划分为两个可能的类别。大多数网络中的竞争对于网络的拓扑结构没有明显的影响。然而，在某些网络中，胜者通吃，会获取所有的链接，因而带有明显的玻色-爱因斯坦凝聚特征。<br>　　第一种类型包括所有的此种网络：虽然内部节点为获取链接而激烈竞争，但网络仍保持无尺度的拓扑结构。这种网络呈现出适者致富的行为特征，意味着最适应的节点必将成为中心节点。不过，赢家的优势一直不明显。最大的中心节点后面紧紧跟着较小的节点，第一和后面的差距不大，网络随时呈现出等级节点的分布符合幂律的现象。在大多数的复杂网络中，幂律和争取链接的竞争并不会发展到水火不容之势，而是能够和平共处。<br>　　如果网络属于第二类，就会出现胜者通吃现象，也就是说最适应的节点获取所有链接，留给其他节点的很少。这样的网络呈现星状拓扑结构，其中的所有节点都连接到中心节点。在这样的中央辐射状网络中，孤家寡人的中心节点和其他节点之间有着巨大的差异，因此胜者通吃型网络和我们早先谈及的无尺度网络有着很大的差别。在无尺度网络中，节点有明显的等级分布，符合幂律。胜者通吃型网络不是无尺度的。相反，这种网络中有一个单一中心节点和多个微型节点，这是一个重要的区别。实际上，Google 的迅速崛起并不是胜者通吃行为的表现。它只向我们说明，适者致富。当然，Google 是适应性最强的中心节点之一，但是它从来没能获取所有链接，变成中心的明星。它和其他几个链接数量和自己差不多的节点共享这份荣光。如果真是胜者通吃，就不会存在潜在的挑战者。<br>　　有没有真的反映出胜者通吃规律的真实网络？我们现在可以预言，可以通过查看网络的适应性分布，来判断它是遵循适者致富还是胜者通吃的规律。不过，适应性一直是一种难以捉摸的属性，因为我们尚未完全发展出精确度量单一节点适应性的工具。但是胜者通吃行为对网络结构的影响一眼就能看出，因此它只要存在，我们就不会看走眼。它会破坏无尺度拓扑结构中中心节点的等级分布，使其变成星状网络，某个单一的节点会获得所有链接。现实世界中，有那么一个节点，绝对不会逃出我们的观察。该网络具有玻色-爱因斯坦凝聚特点。这个节点就是微软公司。</p><p>　　我们可以把操作系统看作是争夺链接（即用户）的节点。每当有用户安装了 Windows，就等于给微软增加了一个链接。无尺度模型预言最早出现的操作系统应该是最流行的。如果真是那样，我们用的都应该是 DOS。而在更现实的适应性模型中，较适应的操作系统会从不太适应的操作系统那里获取用户，不论那个操作系统出现得早或晚。<br>　　如果市场上占主导地位的是适者致富的无尺度网络，就应该存在操作系统的等级分布，在里面最流行的操作系统后面紧紧跟着其他的操作系统。事实上大多数行业中都存在这样的等级分布。例如，电脑制造商就是一例。根据 2000 年的全世界的出货量，康柏占有 13% 的份额，戴尔占有 11%，惠普和 IBM 各占 7%，富士通-西门子占 4%。其他的制造商合在一起占 55% 的份额，将市场进一步细分为更小的部分。由于大多数的调查只公布前五名的电脑厂商，因此很难检验它们的分布是否真的符合幂律。不过，我想它大致应该如此。电脑市场的严格等级表明，电脑制造商受适者致富原则的影响，在这个市场中，没有任何厂家能够左右一切。<br>　　然而，在操作系统市场上，根本就不存在这样健康的竞争和等级分布。没错，Windows 不是唯一的操作系统，所有的苹果电脑产品依然使用 MAC OS（苹果电脑的操作系统名称，指 Macintosh Operating System）。现在许多电脑仍装有 Windows 的前身 DOS，微软霸权的唯一像样的挑战者 Linux 的市场份额也在不断扩大，大多数需要大量数据处理的科学家和网络工程师使用的主要是 UNIX。但是在 Windows 的阴影下，这些操作系统都显得十分渺小。Windows 的各个版本占据了 86% 的个人电脑。第二大操作系统是苹果电脑的 MACOS，只占有 5% 的份额。古老的 DOS 占有 3.8%。紧接着是 Linux，所占份额是 2.1%。剩下的所有其他操作系统，包括 UNIX 在内，只占不到 1% 的份额。<br>　　从本质上说，微软处于通吃的地位，它这个节点可不是比竞争对手略大一点点。以用户的数量而论，没有任何竞争对手可以和它相比。我们的行为都像玻色粒子，凑成了 Windows 用户这一个凝聚。我们购买电脑，安装上 Windows，就等于为微软凝聚添砖加瓦。操作系统软件市场带有典型的玻色-爱因斯坦凝聚特征，显示出明显的胜者通吃规律。虽然也有其他操作系统不断竞争，力图不被人们遗忘，但微软牢牢处于凝聚中心，成为链接到绝大多数消费者的中心明星。</p><p>　　只要我们认为网络是随机的，就会把它们理解为静态的。无尺度模型反映了我们认识上的进步，了解到网络是动态系统，由于节点和链接的增加而不断变换。适应性模型使我们能够用竞争的系统的概念来描述网络。现在，玻色-爱因斯坦凝聚又解释了为什么一部分赢家会获得通吃的机会。<br>　　承认了适应性的存在，是否就等于否定了无尺度模型？事实绝非如此。在呈现出适者致富的网络中，竞争会导致无尺度拓扑结构的产生。到目前为止我们研究的大多数网络——如万维网、互联网、细胞、好莱坞网络以及其他许多真实网络——都属此类。赢家和其他依次分布的中心节点共享荣耀。<br>　　然而玻色-爱因斯坦凝聚为胜者通吃网络的存在提供了理论解释。一旦发生这种情况，无尺度拓扑结构就会消失。到目前为止，在真实系统中，只有操作系统市场出现了胜者通吃的现象，微软独占整头。是不是还有其他系统呈现类似的现象呢？很可能。不过，要想全面认识这样的网络，尚需假以时日。</p><h1 id="第-9-章-阿基里斯的脚踵"><a href="#第-9-章-阿基里斯的脚踵" class="headerlink" title="第 9 章　阿基里斯的脚踵"></a>第 9 章　阿基里斯的脚踵</h1><p>　　随着美国全国对电能的依赖逐年俱增，只要一停电，人们就惊恐万分。电力公司为了增加电网的稳定性，并降低成本，共享电力设施，在出现紧急情况的时候会相互支援。结果，原先各为孤岛的电网开始连接到一起，制造出了人类制造的最大的结构，所有线路的总长相当于地球到月球一个来回。<br>　　如今的电网上有数千台的发电机组，有数百万千米的线路，10 亿以上的载荷。这个巨大的电能巨兽具有高度的连通性，而且非常敏感，几千千米外的扰动都能测出。但是 1996 年的大停电事故凸显了这个强大系统内隐藏的弱点。相互连通的系统的确提高了全国资源的使用效率，并降低了成本。但是，这也意味着，如果系统中出了问题，就会在整个系统内传播开来。西部大停电造成的破坏和生产力损失达到了 15 亿美元以上，这凸显了复杂网络中经常被人忽视的一个问题：由连通性所导致的脆弱性。</p><p>　　所有人类设计的东西都会出现错误或故障。例如，汽车发动机出了故障，车主往往被迫叫来拖车。与此类似，电脑电路上的小小的布线错误很可能导致电脑完全瘫痪。然而自然系统却与之不同。纵观地球的整个地质历史，物种是以每年百万分之一的速度在消亡。据估计，地球上有 300 万到 1 亿种物种，那么这就意味着每年有 3~100 种物种消亡。不过这种自然的物种灭绝看来没大有什么危害。经历了数百万年的演化，面对错误和故障，生态系统产生了一种令人惊叹的包容能力，就连尤卡坦陨星撞击这样的大灾难都能承受。这次陨星撞击灭绝了成千上万的物种，其中就包括恐龙，但整个生态系统仍然挺了过来。因此，生态系统显示出一种人造系统所不具备的容错性。<br>　　一般说来，自然系统具有独到的生命力，能抵御多种特殊情况。虽然内部的故障也会影响其行为，但是它们却能在高故障率的情况下保持基本的功能。这和大多数人造产品截然不同。对于人造产品来说，某一个部件的错误往往会导致整个设备的瘫痪。近来，所有专业的科学家都开始认识到了自然设计的弹性，并希望我们人类能够找到办法，改善人造物品的设计。因此，稳健性就越来越成为许多科学领域所探索的一个特性。<br>　　稳健性是生物学家主要关注的对象，他们想了解细胞如何在极端的环境，以及时常出现的内部故障的情况下存活并保持功能的。社会学家和经济学家关注它，是因为它能解决人类组织面临饥荒、战争、社会和经济政策改变的情况下如何保持稳定性的问题。它也是生态学家和环境科学家关注的问题，它引起了全世界对于饱受工业发展威胁的生态系统的可持续性发展的研究热情。对于相互依存的通讯系统来说，稳健性是专家们的终极目标，因为这样的系统必须保证时刻准备就绪，不论其构成部分出现何种问题。<br>　　大多数容错性高的系统都有一个共同的特点：它们的功能是通过高度互联的复杂网络保证的。细胞的稳健性在于拥有复杂的调节网络和新陈代谢网络；社会的适应力植根于相互联系的社会网络；经济的稳定由精巧的金融和调节机构构成的网络来保证；生态系统的稳定性是由物种相互作用精心编织的网络实现的。看来，自然界通过相互连通性来达到高稳健性。网络架构上的这种共同点似乎不仅仅是由于巧合。</p><p>　　节点故障很容易使网络变成孤立的无法交流的碎片。例如，同时关闭进出佛罗里达的杰克逊维尔市和莱克市的公路，不仅会把这两个城市孤立起来，而且会切断整个佛罗里达半岛和美国其他地区的公路联系。这种碎片现象是典型的网络故障特点，数学家和物理学家对此作过很多研究。概括说来，我们的问题就是：如果随机删除网络节点，它需要多长时间才能变成相互隔离的碎片？我们需要删除互联网上多少个路由器，才能孤立联网的电脑，使它们之间无法再通讯？<br>　　显然，删除的节点越多，就越有可能孤立更多的节点。然而对随机网络进行了几十年的研究之后，我们发现网络的崩溃不是渐进的过程。只删除几个节点，对网络的整体性影响不大。然而，如果移除的节点数量达到某个临界点，系统会突然间分裂成不相联系的孤岛。随机网络中的故障给我们提供了一个反相变实例：有一个错误临界阀值，只要不达到这个点，系统就会相对完整；然而，一超过这个阀值，网络就会崩溃。<br>　　我们在 2000 年 1 月使用电脑实验测试了互联网对于路由器故障的容错性。我们使用了现有的最好的互联网地图，随机选择节点并移除。我们逐渐增加移除的节点数量，希望找到互联网崩溃的临界点。让我们惊讶的是，网络拒绝崩溃。我们一直删除了 80% 的节点，剩下的 20% 的节点还连在一起，形成一个紧密互联的节点串。这一发现证明互联网和人类发明的其他系统不同，它具有高度的稳健性，能够抵御路由器故障。事实上，密歇根大学的安·亚伯的研究也证实在任意时间里，互联网上都有几百个路由器发生故障。虽然有这么多时常发生，而且不可避免的错误，网络用户却很少注意到互联网服务有什么明显的中断。<br>　　很快，我们就明白，这种特点并不是互联网独有的。我们在按照无尺度模型生成的网络上所做的电脑仿真证明，任何无尺度网络，都可以承受相当比例的节点损失而继续工作。无尺度网络的稳健性，来自它迥异于随机网络的一个特性。对于互联网、万维网、细胞以及社会关系网络等无尺度网络来说，它们的稳健性来自其拓扑结构——这对于依靠这些网络的诸位来说不啻为好消息。<br>　　这种拓扑稳健性的根源在哪儿？无尺度网络的明显特点在于网络内部存在中心节点，这些高度连通的节点使网络能够连成一体。故障并不区分普通节点和中心节点，所有节点发生故障的概率是相同的。这好比是从一个装有 9990 个白球、10 个红球的袋子里随机掏出 10 个球来，最有可能出现的情况是取出了 9 个白球，1 个红球。因此，如果所有的节点发生故障的概率相同，更多的故障影响的是小节点，因为小节点的数量多。<br>　　而小节点对网络的整体所起的作用是有限的。假如我们随机选择机场将其关闭，被选中的极有可能是多如牛毛的小机场。对于整个美国来说，这些小机场的消失不大会引起人们的注意。少了这样的小机场，你仍然能够从纽约飞到洛杉矶，或是从圣达菲飞到底特律。只有少数的恰好需要途径这样的小机场的人才会受到影响。即使有十几、二十几个这样的小机场都关闭了，也只有一小部分乘飞机的人会受到影响。<br>　　与此类似，在无尺度网络中，故障最有可能降临在小节点头上。这样一来，这些网络就不会由于一定数量的故障而崩溃。偶然删除一个中心节点也不会带来致命的危害，因为按等级分布的中心节点中会有其他的保持网络的整体性。因此，这些网络的拓扑可靠性根源在于无尺度网络的结构不均衡性：故障更多地影响小节点。<br>　　哈维林立即意识到，无尺度网络对于故障必然有独特的反应。他和自己的学生一起，计算了对于随机选择的网络，不论是随机网络还是无尺度网络，需要移除多大比例的节点才能使网络崩溃。一方面，他们的计算证明了一条有名的结论，即随机网络在节点被删除到某一临界点时会崩溃。另一方面，他们发现对于无尺度网络来说，如果次数幂等于或小于 3，这一阀值就不存在。令人惊讶的是，大多数值得研究的网络，不论是互联网还是细胞，都是无尺度的，而且其次数幂都小于 3。因此，这些网络只有当所有节点被移除后才会崩溃。也就是说，无论如何，它们都不会因为移除部分节点而崩溃。<br>　　我们通过模拟侵截者攻击互联网的中心节点的行为进行了一系列新的实验。攻击者选取的不是随机节点，而是网络的中心节点。我们在仿真实验中也首先移除最大的中心节点，依此类推。我们的攻击造成的结果是显而易见的。删除第一个中心节点并不会使系统崩溃，因为剩下的中心节点仍然能把网络聚拢为整体。然而，在删除了多个中心节点后，造成的破坏就开始明显地呈现出来。大片的节点脱离了网络，成为与主网络隔绝的节点串。我们进一步删除更多的中心节点，就目睹了网络的大崩塌。虽然在一般的故障情况下根本就不会出现的崩溃临界点，在网络遭受攻击的时候突然出现了。在临界点附近，删除了仅仅几个中心节点，就把互联网分割成了细小的相互隔绝的碎片。<br>　　即便是圣达菲或是其他任意一个小机场同时关闭，人们也不大会注意到，但是如果芝加哥奥海尔机场关闭几小时，肯定会成为报纸的头条消息，因为这会影响整个美国的空中运输。万一有什么事件，迫使亚特兰大、芝加哥、洛杉矶、纽约的机场同时关闭，即便是其他的所有机场仍然开放，美国的空中交通也会在几小时内陷人停顿。电脑仿真告诉我们，互联网也有类似的问题。如果侵截者对互联网的最大的一些中心节点成功实施了攻击，其潜在的危害是巨大的。这一结果并不是由于互联网设计不好，或是其协议存在缺陷。这种面对攻击的脆弱性，是所有无尺度网络与生俱来的特性。<br>　　事实上，我们的研究小组在研究了酵母细胞，试着将高度连通的蛋白质从其交互网络移除之后，也发现了类似的网络崩塌现象。生态学家在实验中删除食物链的高度连通节点后，也发现了同样的系统崩溃现象。当把最大的节点移除后，到达一个临界点，网络就会瘫痪。因此，无尺度网络面临攻击的情况，和随机网络面临故障的情况类似。不过这之间也存在重大的区别，我们无需删除大量的节点就能到达临界点。破坏少数几个中心节点，一个无尺度网络就能立即瘫痪。</p><p>　　综合这些成果，我们发现无尺度网络不怕故障。然而这种容错性却使它们面对攻击具有天生的脆弱性。删除了连通性最强的节点后，网络很快就分裂成了相互无法通讯的孤岛。因此，无尺度网络结构中隐藏着人们未曾料到的阿基里斯的脚踵，其面对故障的稳健性和面临攻击的脆弱性是共存的。<br>　　复杂系统内稳健性和脆弱性共存的现象，是我们理解其行为模式的关键。仿真实验证明了，细胞的蛋白质网络，在发生随机突变的情况下不会崩溃。事实上，我们可以删除细胞网络中的许多节点，而不会对生物体造成致命伤害。不过，假如某种药物或疾病关闭了编码生成连通性最强的蛋白质的基因，细胞就无法生存了。与此类似，生态系统可以很容易地挺过随机的物种灭绝。不过，如果高连通性的关键物种被移除，生态系统会瞬间崩溃。</p><p>　　在这个问题上，人们对加利福尼亚的海獭研究得比较深入。19 世纪的时候，由于人们过度捕猎获取海獭的毛皮，它在加州海岸消失了。联邦执法官员在 1911 年禁止猎捕这种可爱的动物，海獭种群迅速恢复了。由于海獭以海胆为食，海獭多起来后，海胆数量减少了。海胆一少，海胆最喜欢吃的食物海藻的数量大幅增长了起来。海藻的增加也就为海洋鱼类增加了食物，避免了加州海滩的退化。因此，保护好了一个物种，即处于中心节点的物种，就极大地改变了海岸的经济和自然生态。<br>　　虽然无尺度网络难以抵御攻击，但要想使其崩溃，需要同时移除数个中心节点。这往往意味着需要同时移除 5%~15% 的中心节点。因此，网络侵截者需要同时攻击破坏数百个互联网上的路由器，而这是非常耗费时间的。这样一来，虽然互联网有自己的弱点，但其拓扑结构中依然蕴涵了能够抵御随机故障和恶意攻击而不至于瘫痪的机制。不幸的是，仔细分析后，我们发现事实并非如此。接下来我们会发现，面对攻击，把宝押在拓扑稳定性上，是错误的做法。</p><p>　　电线受热会膨胀，这种热量可能来自炎热的天气；但是如果线路负荷过重，电线也会发热，使其膨胀变长。1996 年 8 月 10 日 15 点 42 分 37 秒，气温达到了创纪录的水平，俄勒冈州的奥尔斯泰特-基勒线路因发热延长而下坠，靠近了一棵树。一道闪电过后，这条 1300 兆瓦的线路就瘫痪了。电能是无法存储的，因此这股巨大的电流必须立即转到附近的线路上。转移是自动进行的，电流被压到了附近喀斯喀特山脉东边的 115 千伏和 230 千伏低压线路上。<br>　　然而，这两条线路可没法长时间承载这么强大的电流。两条线路的发热率达到了 115%，也因此瘫痪了。115 千伏的线路发生了连锁故障，过量的电流使罗斯-莱克星顿线路也出现了过热现象，垂落到一棵树上。事情到了这一步，局面就无可挽回了。Mc-Nary Dam 电厂的 13 个发电机组出现了故障，造成了电流和电压扰动，立即将加利福尼亚-俄勒冈州边界处的南北太平洋电网分割开了。这样，西部电网就分割成了相互隔绝的孤岛，造成了美国 11 个州和 2 个加拿大省份的大停电。<br>　　1996 年大停电事故就是一场典型的科学家所说的级联故障。网络如作为交通传输系统，本地的故障会将故障效应或责任传递给其他节点。如果额外的载荷小得可以忽略不计，那么系统的其他部分可以很容易不留痕迹地吸纳它，几乎使人察觉不到发生了故障。而假如额外的载荷过大，相邻的节点无法承载，它们或者自身出现故障，或是重新把载荷传递给相邻的节点。不论发生哪种情况，都会出现我们所说的级联故障，而故障的规模和影响力取决于首先出问题的节点在系统中所占的位置及其能力。</p><p>　　级联故障并非电网所独有。在互联网上，如果某个路由器出了问题，会自动提示传输协议跳过故障节点，将信息包发送到其他的路由器。如果出现故障的路由器承担的流量非常巨大，那么就会给相邻的节点带来巨大的压力。路由器不会由于单纯的流量过大而瘫痪，它们仅仅会造成排队现象，即尽自己所能处理尽量多的信息包，把剩下的抛开。因此，路由器如果流量太大，就会造成拒绝服务攻击，只有少量的信息包可以通过。由于信息包出现丢失使得发送者无法接到信息送达的确认，就会重新发送信息，这将进一步加剧网络的拥堵。这样，只要删除互联网上几个大的节点，就能很容易地造成类似俄勒冈州电力传输系统出现的那种灾难性故障。<br>　　经济领域也经常出现级联故障。比如，很多专家将 1997 年的亚洲经济危机国际货币基金的诱因，归结到国际货币基金组织（IMF）给亚太国家的中央银行施加压力，限制其向出现问题的商业银行提供紧急信用保障这一做法上。此问题我们将在第 14 章详细探讨。这些商业银行转而向公司企业寻求贷款，使国际货币基金组织——这一尚存争议的最大中心节点——所作的决定变成了一连串的银行和企业崩溃案例。<br>　　生物体系统也经常出现级联故障，这种现象往大处说，能影响到生物栖息地；往小处说，能影响到细胞。正如我们通过海獭的例子所看到的，失去某些物种，会引发一连串的反应，导致生态系统的重组。与此类似，细胞内分子聚集如果出现了巨大的变化，也会导致级联反应，最终致使细胞死亡。<br>　　显然，删除的节点连通性越高，就越有可能使整个系统瘫痪。哥伦比亚大学的邓肯·瓦茨的发现证明了这一点，他研究了一个专门为弄清级联故障的遗传特点而设计的模型。这个模型既能描述大停电这样的现象，也能描述相反的现象，比如书籍、电影、唱片等的级联走红现象。他的仿真实验证明大多数的级联反应并不是瞬间发生的：故障往往存在了很长时间而无人注意，最终导致了整体的瘫痪。然而，试图降低这种级联反应的频率则会带来不可避免的后果，即一旦发生了级联反应，那么该反应会更具破坏性。<br>　　除了这几点以外，我们对级联故障的理解是极为有限的。拓扑稳健性是网络的结构特点。而级联故障则是复杂系统的动态特点，相对而言这一领域较少有研究涉及。要是人们发现仍有许多未知的规则控制着级联故障，我不会感到诧异。这些规则的发现将对从互联网到市场营销等许多领域造成深远的影响。<br>　　本章所讨论的容错性对我们来说不啻为好消息。网络稳健性意味着如果我们体内有某种化学物质出了故障，造成了小小的不适，我们仍然能继续保持正常的机能。网络稳健性揭示了，为什么我们极少注意到互联网的路由器故障，以及为什么某些物种消失了，不会导致环境灾难。<br>　　然而，这种拓扑可靠性的代价，是面对攻击时的脆弱性。将任意这种系统中高等级的中心节点移除，就会使系统崩溃。对于互联网，这是个坏消息，因为这意味着侵截者可以设计出相应的战略，危害整个互联网的基础设施。这对我们的经济体系也是个坏消息，因为这意味着针对经济网络的特点，也可以设计出战略来使其崩溃。本章所描述的研究结果，迫使我们承认，拓扑结构、稳健性和脆弱性三者是共存的。任何复杂系统都有自身的弱点。我们了解到拓扑结构的重要性，使我们能够充分认识中心节点的作用。这是保护它们的第一步。<br>　　2001 年发生的“9·11”恐怖袭击事件同时表明了两点：一是中心节点的强大影响力；二是网络的承受力。很显然，袭击的目标不是随机选定的：这些目标都是美国最显而易见的经济和安全目标。恐怖分子选择这些目标，就是意图摧毁全球资本主义的中心节点。虽然“9·11”袭击造成了美国 20 年来最惨重的人类悲剧，但恐怖分子并没有达到他们的最终目的：摧毁整个网络。不过，他们的确诱发了一连串的级联故障，不断扰动我所描述的世界。然而，虽然世贸中心的双塔被摧毁了，但所有的网络——包括互联网、经济网络——依然完好。这生动地表明了中央化的人类计划体系所带有的脆弱性和自组织网络的承受力之间的差别。</p><h1 id="第-10-章-病毒与时尚"><a href="#第-10-章-病毒与时尚" class="headerlink" title="第 10 章　病毒与时尚"></a>第 10 章　病毒与时尚</h1><p>　　杜加斯曾居住在是加拿大法语区，曾是飞机乘务员，他常被称作“艾滋病零号患者”。这倒不是因为他第一个被检查出患有艾滋病，而是因为 1982 年 4 月在 248 个检查患有艾滋病的人中，有 40 个曾和他有性关系，或是与和他曾有性关系的人进行过性交。他处于一个正在形成的复杂的男同性恋网络的中心，这一网络存在于北美的东西海岸，范围包括旧金山、纽约、佛罗里达和洛杉矶等地。<br>　　他的核心地位不是凑巧获得的。杜加斯是北美第一个被检查患有卡波西水痘样疹的人。到了 1983 年，事情越来越明朗了，杜加斯和其他几百个同性恋男子所患的疾病是传染性的，而杜加斯又是其中第一个知道这一点的。但是他继续坚持说自己得的只是皮肤癌。而癌症是不传染的，因此，好几年来，他<br>　　一直不承认他会给自己的性伙伴带来危害。他对自己迷人的容貌和性方面的征服力非常自豪。后来他对医疗人员坦白了自己性爱好的许多秘闻。他估计自己每年的性伙伴在 250 人左右。有人估计他的性伙伴人数高达 20000.10 来年的时间里他在同性恋俱乐部和公共浴室乱交，至少有过 2500 个性伙伴。<br>　　艾滋病以往是一种同性恋传播为主的罕见疾病，现在开始危及北美医疗保障体系。这只用了短短几年的时间，杜加斯在其中起了极大的作用。他的经历开了传统的流行病防治方法失败的可怕先例，证明了在我们现今这个高度流动、高度连通的社会中中心节点的作用。的确，一旦和病毒与流行病联系起来，中心节点的作用就和普通节点大为不同了。</p><p>　　赖安和克洛斯发现每年接受新品种的农民逐年迅速增加，形成一条曲线，直到达到某个最大值，随后增长速度又几乎以同样的速度降下来。这形成了一条钟形曲线。新产品跨越了创新者的试用这一关之后，在他们的推荐下，早期的接受者会很快跟上。接下来就是大批的早期大众，直到有一半早晚会接受新品种的人都参与进来。超过这一点后，新增加的人数开始减少，这些人特别慎重，直到新品种带来的好处看得见摸得着，铁板钉钉之后才会接受。这些迟到的大多数，是那些直到自己的庄稼地周围种的玉米都变成了杂交玉米之后才会心悦诚服地接受新品种。曲线的末尾，必然是落在后面的少数几个人，这些人直到自己变成了少数派之后，才会接受新生事物。<br>　　赖安和克洛斯所研究的钟形曲线，并不是爱荷华州的农民所独有。大多数创新的推广，都遵循类似的规律，这是市场营销和规划专家预测新产品需求的时候的一个有力工具。不过，使用这一工具却无法回答从流行病学家到首席执行官都关心的一个问题：社会网络对于病毒或创新的传播起到了什么作用？</p><p>　　研究人员利用药房的处方记录，跟踪药物沿着社会链接推广的路线。研究结果表明，最早期采用新药的，和第一批大规模采用新药的人，都是那些拥有大量社会链接的人。这些高度连通的医生，更有可能和创新者有关系，因而能更快地了解新药。这些医生接受了之后，新药就会从这些中心节点推广到社会关系较少的同事那里，这些人形成了较晚些的大规模接受者群。最后就轮到了那些落后者，即那些坚持到最后才肯采用新药的人。<br>　　辉瑞制药的研究证明创新是从创新者传播到中心节点，然后从中心节点将信息传递给他们所拥有的无数链接，通过社会或专业网络，到达最广大的人群。中心节点是无尺度网络的有机构件，它们的实际数量很少，但却高度连通，是它们将社会关系网络连成一体。</p><p>　　在市场营销学中，中心节点一般被称作“观点领袖”、“强力用户”或“影响者”。这些人比普通大众能就某种产品和更多的人接触。他们通过自己广泛的社会关系，是最先注意到并使用创新者的经验的人。虽然他们自己并不一定是创新者，但是他们接受新思想或创新后，对其传播所起的作用却至关重要。如果中心节点拒绝某种产品，就会形成一堵难以穿越且影响巨大的高墙，面对这堵墙，这种创新只有失败。如果他们接受某种产品，就能影响大批的人群。<br>　　社会学家和市场营销专家非常清楚这种观点领袖的存在。但是以前他们一直把中心节点看作是特殊现象，并不了解其中的原因，也不知道有多少这样的中心节点。这种情况直到最近才改变。社会网络模型不允许中心节点的存在，只有无尺度网络才第一次使中心节点的存在变得合理起来。我们将会发现，中心节点对于思想、创新、病毒等的传播，都带来了变化。</p><p>　　对于理解传播和扩散理论来说，意识到超过某一关键阈值是时尚或病毒传播的前提，是一个重大的理论进步。现在，所有的扩散理论都引入了关键阈值的概念。流行病学家将其加入到传染病传播模型中，研究像艾滋病病毒这样的传染病大流行的可能性；市场营销类的教科书中也谈论它，用来估计某种产品在市场上畅销的可能性，或是用来解释为什么有些产品就是卖不出去；社会学家用它来解释女性之间相互传授计划生育的方法；政治学者利用它来解释政党和运动的生命周期，并预测和平示威转变为骚乱的可能性。<br>　　几十年来，在研究扩散问题时，一个简单但同时有说服力的范例主导着我们的思维方式。如果想估计某种创新传播的可能性，我们只需要了解其传播速率和关键阈值即可。没有人对这种范例提出疑问。然而，最近我们了解到，某些病毒和创新根本就无视这种范例的存在。</p><p>　　电脑病毒的传播无法用传统的流行病模型进行预测。在互联网上，电脑不是随机连接的。相反，互联网的网络实质是具有无尺度的拓扑结构。因此，应该使用无尺度网络来建立电脑病毒模型，而不是此前的研究所使用的随机网络。在更接近实际的无尺度网络中研究病毒传播，结果非常惊人：在无尺度网络中，传染性阈值神奇地消失了！也就是说，即使病毒的传染性不强，也照样会传播，并且经久不散。这一发现否定了 50 年来扩散理论研究积累的成果。在无尺度网络中，病毒传播根本无视值的存在，人们简直就没有办法阻止它们的传播。<br>　　病毒这种难以预测的行为方式根源于互联网的拓扑结构的不平衡，无尺度网络被中心节点主宰控制。因为每个中心节点都和大批的电脑相连，因此受到其中某个感染的几率也就高一些。一旦中心节点被感染，就会把病毒传播给所有与它相连的电脑。因此，中心节点成了病毒存在和传播的重要途径。虽然毒性强的病毒能很快传播到任何网络的所有节点，可是在无尺度网络环境中，传染性不那么强的病毒照样畅通无阻，而且生存能力同样强。<br>　　这些研究成果不只适用于电脑病毒。模型稍加改动，就能描述观念、创新、新产品和传染病的扩散。而且这些模型还大体上描述出了促进宗教传播的因素：保罗是一个高度连通，而且移动性很强的中心节点，他使得早期基督教传播到了尽可能多的人。观念和创新也沿着社会网络的链接一级一级传播。因为社会网络具有无尺度拓扑结构的特征，电脑病毒的异常现象也就存在于这些系统中。</p><p>　　在我们每个人的上百个社会链接中，只有极少数的关系亲近到能相互传播性病。因此，在我们这个高度互联的社会网络中，艾滋病只能沿着某个极为稀疏的亚网络传播。相对而言，艾滋病的传染性不强，按说，它的传播速度该下降了不少了，而且应该近乎消失了。不过，尽管如此，艾滋病已经感染了 5000 万的人，而且这一数字依然在上升。人们很可能忍不住要把的里雅斯特的研究成果简单化，用来解释艾滋病在社会网络中无尺度拓扑结构的快速传播。然而由于并非所有的社会链接都是性链接，我们就有必要问一下，传播这种致命疾病的性网络的拓扑结构如何？</p><p>　　早期的艾滋病传播，主要是由于同性恋行为，然而现在异性恋已经成了主要的传播方式。我们已经证明了，中心节点对于传播过程起关键作用。鉴于他们的特殊角色，相应的解决办法大胆但又残忍：因为资源有限，就应该先治疗中心节点。也就是说，当有了疗法，但是却缺乏资金为所有的需要的人提供治疗，就应该先提供给中心节点。结果表明，如果我们试图为所有程度大于预先设定的值的节点提供治疗，不论把限度设定在何种程度，这一传染病的阈值都会是有限的。治疗的中心节点越多，该传染病的阈值越高，这一病毒消亡的可能性就越高。<br>　　问题在于我们无法确知中心节点在哪里。因此，佐尔丹·戴索着手解决一个更困难的问题。虽然我们无法很确定地识别中心节点，但是几十年来的研究，已经使我们掌握了大量的社会学研究方法，使我们能够在既定的社会群体内识别高危人群，以及极有可能成为传染源的个体。社会地位、年龄、职业和其他许多因素都起作用。因此，我们能够大体识别中心节点。毫无疑问，在找到其中一些节点的同时，许多其他的中心节点仍然无法发现。但是我们最需要问的，是这一并不完美的办法是否有效。由于即使尽了最大努力去识别中心节点仍然不够，那我们能建立起控制这一传染病的阈值吗？为了回答这一问题，我们必须假定，节点不是随机接受治疗的，医疗机构会采用一种不均衡的政策，优先治疗性链接多的个体。这一包含预测在内的方式使我们能够将这些识别治疗高度连通的节点比较有效的政策和随机治疗的方式进行比较。负责作此对比的是佐尔丹·戴索。结果让我们都非常惊讶。当然，如果采取随机治疗的政策，病毒传染的阈值持续为零，我们无法阻止病毒传播。但是，只要是采取偏向高连通性节点的政策，即便是轻微的偏向，就能使阈值变成有限值。也就是说，即便是我们无法找到所有的中心节点，但只要朝着这个方向做，就能降低疾病传播的速率。<br>　　但是这种有所选择的政策会带来重大的伦理问题。事实上，我们的研究结果表明，在资源有限的情况下，应该给那些滥交的人提供药品：某个人的性伙伴越多，其被选中治疗的可能性就越高。对滥交的人治疗得越好，受传染的人就越少。我们是否有此准备，为了大多数人的利益，放弃链接少的病人？我们是否有准备为性链接多的妓女提供药品，而忽略更富有，但性链接少的中产阶级患者？<br>　　只有一种学术上的办法能解决这一道德争议：疫苗。目前，全世界每年在艾滋病疫苗研究上的费用为 3.5 亿美元。相比之下，美国和欧洲每年花费在艾滋病治疗上的药品费用为 30 亿美元，而一架喷气式战机的价格也在 10 亿美元以上。可见，花在疫苗研制上的费用实在是太少了。在争论谁该先得到治疗的同时，我感到我们应该采取一切可能的措施来阻止这一疾病的蔓延，即便这种政策可能意味着向滥交者提供优越条件。</p><h1 id="第-11-章-互联网的觉醒"><a href="#第-11-章-互联网的觉醒" class="headerlink" title="第 11 章　互联网的觉醒"></a>第 11 章　互联网的觉醒</h1><p>　　自从 1995 年美国国家自然科学基金会（NSF）放弃了对互联网的指挥操纵权之后，就没有任何中央权威机构控制或记录互联网的增长和设计了。<br>　　目前，互联网的演变完全受按需求的、本地化的、分布式的决策所决定。任何人，从企业到教学机构，都无需中央机构的允许，就能为互联网添加节点和链接。而且互联网也不是单一的网络，有许多独立的、互联的网络共存，其中包括 WNET、vBNS 或 Abilene 等。<br>　　大家可能以为会有那么个组织，在必要的时候能关闭停止整个互联网。这种想法错了。虽然我们能说服某个机构关闭它所管理的一部分网络，但是任何公司或个人，所能掌控的也只是互联网上微不足道的一部分。互联网背后的网络已经变得极其分布式、非中央化、本地化，即便是想绘制一个完整的网络图都变得不可能了。<br>　　试图绘制完整的互联网图具有重要的现实意义。如果不知道互联网的拓扑结构，就不可能设计出更好的工具和服务。目前互联网上使用的协议，是根据一个很小的网络，以及 20 世纪 70 年代的技术和需求设计的。随着网络的增长，新的应用出现了，这些协议开始变得无法满足我们的需要。事实上，当今互联网的大多数应用，对于当初设计其基础设施的人来说是不可想象的。例如，电子邮件的产生就比较偶然。黑客汤姆林森（Rag Tomlinson）当时想找到一种办法，通过修改文件传输协议，让网络也能传输信件内容。对于自己技术上的突破，汤姆林森一直秘而不宣。他第一次给同事演示自己创造的系统时，警告对方说：“这事儿谁也不要告诉！这不是我们该干的。”不过电子邮件的秘密还是泄漏出来了，而且成了早期互联网上最重要的应用。<br>　　万维网的出现也与此类似。互联网的基础设施并没有对万维网的出现做好准备。万维网是一种典型的“成功灾难”，这种新功能设计泄漏到现实世界后以极高的速率迅速增殖，而此时其设计尚未完善。现在，浏览万维网和收发电子邮件几乎成了互联网应用的全部。假如互联网的创造者能预见到这一切的话，他们肯定会设计一套完全不同的基础设施，使人们的上网体验更加流畅。而现实是，我们使用的技术，必须经过极大的改进，才能适应人们对互联网不断增长、不断创新的需求。</p><h1 id="第-12-章-破碎的万维网"><a href="#第-12-章-破碎的万维网" class="headerlink" title="第 12 章　破碎的万维网"></a>第 12 章　破碎的万维网</h1><p>　　大多数搜索引擎其实根本就不试图索引整个网络。原因很简单：拥有索引文档最多的搜索引擎，并不一定是最好的。当然，如果你要找的信息很偏，那么覆盖率高的引擎效果会更好。但是，如果搜索的是常见的话题，更大的索引并不一定能带来更好的结果。我们大多数人，看见搜索引擎返回的成千上万的搜索结果，已经不知所措了。我们更不愿意看见有朝一日某个搜索会带来上百万个结果。因此，超过某个特定点后，改进算法从搜索引擎数据库中选择最佳的页面，要比单纯增加搜索结果更有益。<br>　　涉及万维网浏览，不论是人工浏览还是网络机器人浏览，经济方面的激励（或是缺乏此种激励）都已经不再是唯一的限制因素。万维网的拓扑结构就限制了我们无法看到网络的全部。万维网是一个无尺度网络，由千千万万的中心节点、节点和链接构成。但是，接下来我们会注意到，这一大尺度拓扑结构中，还有无数的小尺度结构，它们严重影响了我们通过单击所能找到的链接的能力。<br>　　虽然万维网上有 10 亿份以上的文档，但十九度分隔决定了，万维网很容易浏览。它很大，同时也很小。但是万维网背后的小世界却有些误导作用。如果两个文档之间存在联系路径，该路径通常应该很短。但是实际上，并不是所有的页面都能相互链接。从任何一个页面出发，我们只能链接跳转到 24% 的其他文档。其余的文档对我们来说是不可见的，无法浏览到。<br>　　这一结果的产生，是由于技术方面的原因，万维网的链接是有方向的。换句话说，沿着某个特定的 URL 地址，我们只能单向旅行。在有向网络中，如果两个节点之间没有链接，你可以通过其他节点将它们连起来：例如，如果想从 A 出发到D，你可以从节点 A 开始，到节点 B，而 B 和节点 C 相连，C 的链接又指向节点 D。但是倒回来却不行。在非有向网络中，你可以正着走，也可以倒着走，A→B→C→D 如果是通的，那么反过来 D→C→B→A 也行。然而，在有向网络中，我们却不能保证反向路径一定存在。极有可能的是，你要想回来，就必须沿着不同的路径：从 D 开始，你可能需要访问一大堆中间节点才能回到 A。万维网上到处都是这种有向的路径。这从根本上决定了万维网的适航性，或称可浏览性。<br>　　有向网络并不是一种从根本上全新的网络类型：不管网络是无尺度的还是随机的，其链接可能是有向的，也可能是非有向的。到目前为止，我们接触的大都是非有向链接。事实上，大多数网络，从社会网络到蛋白质网络，都是非有向的。但是另外一些网络，从万维网到食物链，则是有向的。这种有向性对网络的拓扑结构产生了影响。对于万维网研究来说，Alta-Vista 的安德烈·布罗德（Andrei Broder）和 IBM 及康柏的研究人员合作，确定了有向性对万维网的影响。他们研究了 2000 万个节点，这近乎是 1999 年整个网络所有页面的 1/5。他们的测算表明，有向性带来的最重要的结果，就是万维网并不是一个单一的均匀网络。事实上，万维网分隔成了 4 个主要的大陆（参见图 12.1），在每个大陆上，我们都要适应不同的交通规则。</p><p><img data-src="/linked/linked-3.png"><br>　　图 12.1　有向网络形成的大陆。像万维网这样的有向网络，自然而然会分隔成几个大陆。在中央处，每个节点都能从另外的节点链接到。处于 IN（入）大陆的节点排列特点在于，通过链接，你能最终回到中央，但是从中央出发，你却无法回到 IN 大陆。相比之下，处于 OUT（出）大陆的节点能从中央出发链接到，然而当你到达 OUT（出）大陆后，却找不到回到中央的链接；最后，在 OUT（出）大陆和 IN（入）大陆之间，有管道相连。处在触须上的节点，只和 IN 大陆或只和 OUT 大陆相连；少数节点则形成了孤岛，无法从任何剩余节点链接到。</p><p>　　第 1 个大陆包括整个网络的 1/4。这个大陆一般称作中央网络，包括了像雅虎、有线电视新闻网（CNN）等网站。其典型特点在于这里浏览便捷，属于这些网站的任意两个文档间都有路径。这并不是说中央网络的任意两个节点间都有直接链接。而是说在中央网络，任意两个节点间，都存在能够相互访问到的路径。<br>　　第 2 个和第 3 个大陆分别叫做 IN 大陆和 OUT 大陆，和中央网络规模相当，但导航困难。从 IN 大陆的页面，你可以到达中央网络，但是从中央网络出发却没有路径能让你回到 IN 大陆。相比之下，从中央网络出发，很容易到达 OUT 大陆的节点，但是一旦离开了中央网络，就找不到回来的链接了。OUT 大陆上主要是公司网站，很容易从外部进入。但是一旦进入后，却出不来。第 4 个大陆是由网络触须和隔断的孤岛构成的。所谓的孤岛就是与外界隔绝的相互链接的页面，从中央网络出发无法链接到这些页面。某些此类隔绝的区域包含有成千上万的网络文档。万维网上有 1/4 的文档处在这种孤岛或触须上。通常，网页的位置和内容没有什么关系；它主要是由其关系决定，通过出和入的链接，与其他文档产生关系。<br>　　4 个大陆的存在严重限制了万维网的适航性。我们在上面能航行多远，取决于出发点在哪里。从中央网络的某节点出发，就能到达属于该大陆的所有页面。然而，不管我们点击多少次，万维网上仍有大约一半的内容对我们来说是不可见的，因为从中央出发，无法到达 IN 大陆和孤岛。如果我们跳出中央，进入 OUT 大陆，很快就会走进死胡同。如果我们从触须或是孤岛出发，万维网就会显得非常小，因为我们只能看见处于同一个孤岛上的文档。如果你的网页处于孤岛上，搜索引擎就永远无法发现它，除非是你主动将 URL 地址提交给搜索引擎。<br>　　因此，我们能否绘制整个万维网的地图，就不仅仅是资源或经济条件是否具备的问题。链接的有向性造成了碎片状的网络，使它分隔成 4 个大陆。搜索引擎对于网络的一半内容，即互联的部分和 OUT 大陆部分，很容易绘制出地图，因为属于这些地方的节点，很容易从人们经常访问的中央网络的某一节点出发访问到。然而，万维网的另一半，即孤岛和 IN 大陆的那一部分，却处于隔离状态。不管网络机器人多努力，也找不到那上面的文档。这就是为什么大多数搜索引擎都允许用户提交其网站的地址。提交后，网络机器人就开始从该地址出发，发现以前从未见过的万维网区域。假如你不愿意主动提供此类信息，许多节点就会继续处于这种未发现的区域之中。<br>　　存在大陆这一现象，并不是万维网所独有，所有的有向网络都存在这样的情况。比如，论文相互引用形成的“引用网”就是如此。每篇科学论文都会引用其他相关论文。某篇数学论文可能会引用其他的探讨相似问题的数学论文，间或引用生物学或物理学论文，用以说明其研究结果的应用性。这样一来，所有的发表的科学作品就都是某个网络的组成部分，在这个网络中，其节点是学术作品，而链接则是引用关系。这种链接是有向的。比如，从本书末尾的参考书目出发，大家可以找到我所引用的论文。然而从那些论文出发，你却无法回到本书，因为那些文章没有引用本书。引用网是一个非常特殊的有向网络，其中的 IN 和 OUT 部分反映的是研究论文的历时性，其中央部分即使存在的话，也非常小。自然界中也有一些有向网络。食物链告诉我们哪些物种依靠哪些物种生存。这些链接很少是双向的：比如狮子吃羚羊，但反过来就不成立。<br>　　2000 年 6 月，芝加哥大学的法律教授卡斯·桑斯坦（Cass Sustein）对 60 个政治网站进行了随机调查，发现其中只有 15% 的站点有指向不同政见网站的链接。相比之下，60% 的站点有指向政见类似网站的链接。旨在研究万维网上民主话语的研究也得到了类似的结果：只有 15% 的网页有指向不同意见网站的链接。桑斯坦担心，由于网站都限制指向不同意见的链接，正在出现的网络世界其实助长了社会分化和隔离。万维网上社会和政治分化背后的机制其实是自我加强的：这些机制还会改变万维网的拓扑结构，将网络世界分隔开。因此，4 个大陆并不是万维网所仅有的分隔。仔细观察后能发现大陆还会进一步分为更小的村庄和大城市。这里的村庄和城市指的是由某个共同的观念、爱好或习惯所联系到一起的网站，构成了社区。比如爵士乐爱好者就形成了很完整的基于网络的社会群体，喜欢观鸟的人也一样。东欧的宗教原教旨主义者和他们的在美洲的意识形态相同的人也拥有共同的虚拟空间。欧洲的反全球化活动人士和他们在日本的同盟采取同样的战略和行动。<br>　　社区是人类社会的基本构件。格拉诺维特的朋友圈，即社区的基本成分，就表明了这一点。不过，最近这些社区的行动越来越被万维网的拓扑结构显示出来，这一点也许是社区成员未曾注意的。我们的数字生活带来的一个副作用，就是我们的信仰和从属关系都公开化了。我们每次上网，都在将网络的用途和我们才智上的好奇心相联系。因此，热衷于观鸟的人会把我们带到与此有关的网站，使我们能够估测观鸟爱好者的社会群体。<br>　　识别、判断这种基于网络的社区具有巨大的潜在用途。比如，找到喜欢跑车的社会群体，就能使汽车生产商最有效地推广他们公司的产品，比如在这样的中心节点放置相关广告。反艾滋病的活动人士可以利用社会群体方面的知识，调动那些关心这一疾病的人，把他们变成强有力的游说人士和活动团体。民族特色节日的组织者可以利用基于网络的社区方面的优势，宣传最近的一些民族活动，促进草根阶层组织的产生。问题在于，在整个万维网上，有数十亿的页面。在如此巨大的网络上，我们能找到所需的社区吗？<br>　　1964 年，最高法院大法官波特·斯图尔特曾说过一句很有名的话：“今天我不应试图进一步（对淫秽）做出定义。另外，也许我根本就没办法成功地做出易于理解的定义。但是当我看到这类东西的时候，我就知道这是淫秽的。”我们在试图定义“基于网络的社区”的时候也面临类似的问题。看见此类社区，我们都知道它们就是，但是每个人心里又各自有略为不同的标准。造成此种现象的其中一个原因，在于不同的社区之间没有明显的分界。事实上，同一个网站可以同时隶属于不同的团体。例如，某个物理学家的网页可能混杂有指向物理学、音乐、登山，以及其他个人爱好方面的链接。我们该把这个网页归到哪一个社会群体？<br>　　将内容和拓扑结构两者结合起来考虑，问题就不那么困难了。例如，我们可以专注于找到包含一个或两个关键词的文档。斯坦福大学的拉达·亚当米克（Lada Adamic）最近研究了一些通过搜索“abortion-pro choice”（堕胎——选择优先，即支持堕胎）和“abortion-pro life”（堕胎——生命优先，即反对堕胎）而找到的网络社区。其中 pro-life（反对堕胎）查询找到的文档有 41 个，人们能从每个网页跳转到任何其他的网页。相比之下，pro-choice（支持堕胎）行动则“碎裂”成多个相互断开的网站。<br>　　这种相互竞争的社区的结构，对它们推销、组织自己的能力产生了很大的影响。亚当米克指出，反对堕胎人士搞的反对堕胎法案消息能够很容易地传播到其他的反对堕胎网站，因为它们之间的链接比较多。而且，由于支持堕胎网站上有反对堕胎网站的链接，支持堕胎的人也能读到这些信息。然而，支持堕胎的人要想获得类似的宣传效果，就得在多个相互断开的网站进行宣传。因此，反对堕胎不仅宣传做得好，而且组织也好——因为这方面的网站相互联系更紧密。<br>　　万维网远远不是节点和链接平均分布组成的海洋，而是分裂为 4 个大陆，每个大陆上都有各自的村庄、城市，看上去就像是相互重叠的社区。我们所有的人都具有虚拟的身份，隶属于其中的一个或多个。<br>　　和建筑师设计的建筑一样，万维网的架构是两个重要因素共同作用的结果：代码和人类的集体行为作用于代码的结果。代码可以由法庭、政府、公司等管理。然而，第二个因素，即人类的集体行为，却不是个别用户或机构所能控制的，因为万维网的设计就没有中央——它是自组织的。这需要数百万的用户各自的活动集合起来才能达到。其结果是，万维网的架构远远超过各部分简单的相加所得到的和。万维网大部分真正重要的功能，和后来出现的属性，都来自于其大规模自组织拓扑结构。<br>　　万维网上的民主就是一个很好的例子。我们已经认识到，无尺度拓扑结构意味着网络上绝大多数文档都是不可见的，因为大部分链接都被少数的高度受欢迎的网站占有了。是的，在万维网上我们有言论自由。然而，我们的声音却太微弱了，其他人听不见。只有少数几个接入链接的文档不可能通过随意的浏览发现。我们浏览时一次又一次转向中心节点。某个文档是否可能被搜索引擎索引上，在很大程度上倚赖指向它的链接。只有一个指向自身链接的文档，被搜索引擎索引的几率只有 10%。相比之下，有 21 个到 100 个内指链接的文档被网络机器人找到并索引的可能性接近 90%。<br>　　你能否找到我的网页，只受一个因素的影响：它在网络上的位置。如果许多人发现我的网页比较有趣，并添加指向我的网页的链接，那么这个节点就会慢慢变成一个较小的中心节点，搜索引擎最终肯定会注意到它。如果所有的人都无视我的网站，那么搜索引擎也不会注意它。这样我的网站就会加入不可见的网站行列，而其实这是大多数网站的命运。因此，万维网的大尺度拓扑结构进一步加强了对我们行为和可见度的限制，其力量超过了政府部门或业界。规则来了又走，但是不变的是控制它的拓扑结构和基本的自然法则。只要我们继续将链接目标的选择权交给每个人，就无法显著地改变万维网的大尺度拓扑结构，而且必须接受其带来的结果。</p><h1 id="第-13-章-生命地图"><a href="#第-13-章-生命地图" class="headerlink" title="第 13 章　生命地图"></a>第 13 章　生命地图</h1><p>　　1987 年 2 月，《自然》杂志刊登了一个划时代的发现：人们找到了躁狂抑郁症（manic depression 或 bipolar disorder）的基因。在美国，躁狂抑郁症影响到 1%<del>5% 的成人，其中有 25%</del>50% 的人会至少有一次尝试自杀。如果直系亲属中有人患有躁狂抑郁症，那么个体罹患这种病的可能性要高 5~10 倍，因此人们普遍认为躁狂抑郁症和基因紊乱有关。人们刚刚掌握了查找特殊基因和疾病之间的关系的方法，研究人员就展开了查询躁狂抑郁症基因的竞赛。经过研究宾夕法尼亚州兰开斯特的安曼家族，确定了罪魁是 11 号染色体。然而 2 年后，该研究小组放弃了这一研究结果。不过这个错误没有使其他的基因研究人员灰心。1996 年，在第一项发表的研究结果公布约 10 年后，3 个独立的研究小组发表了他们的研究结果，找到的是其他染色体上的基因。其中一项对安曼家族再次进行研究，确定的是 6 号、13 号和 15 号染色体。另一项研究的对象是哥斯达黎加中央峡谷的一个孤立的种族，确定了是 18 号染色体。研究一个苏格兰大家族的报告则锁定了 4 号染色体。<br>　　这些结果并不相互矛盾。它们只是说明，大多数疾病，从躁狂抑郁症到癌症，并不是由特定的某一个致病基因引起的。事实上，多基因通过隐藏在我们的细胞中的复杂网络相互作用，它们同时起作用。科学家面对的是找出细胞的构造物的巨大任务，从基因到蛋白质他们都要考虑到。因此直到最近为止，科学家一直都只关注生物学上的问题，而不是网络。但是现在人们已经找到了相关的零件，后染色体生物学开始关注全局问题。新的振奋人心的发现，正在给生物学和医学带来变革，这些发现向我们清晰明确地表明：如果我们想理解生命——并最终战胜疾病——就必须从网络的角度思考问题。</p><p>　　不久前，人们还广泛认为与生物体的生物进化相关的重要信息都储存在基因中。基因的确具有复杂的结构，决定其编码的蛋白质的结构和功能范围，并可将这一信息遗传给下一代。然而，最近科学家发现，基因也具有重要的功能，是复杂的细胞网络成员。基因的主要功能在细胞所有环境因素的调节下才能表现出来。基因的复杂结构可以通过其序列图查出来。我们现在已经掌握了好几种重要生物的基因序列，这包括从大肠埃希菌（Escherichia coli）到人类。不过我们只是刚刚开始这第二场具有同等革命性意义的科学实践：查明基因的功能。为了达到这一目的，我们需要启动第二个基因组计划，即是绘制细胞内部网络地图。我们有了“生命之书”。现在我们需要的是生命地图。</p><p>　　细胞内部是个分隔小于三度的小世界。也就是说，大多数分子经过 2<del>3 个反应路径就能联系到一起。因此细胞中的扰动绝不限制在原地：某个分子的化学物质富集变化很快就会传递到大多数其他分子。新墨西哥大学的安德里亚·瓦格纳（Andreas Wagner）和牛津布鲁克斯大学的戴维·A·费尔（David A.Fell）的研究支持这一发现，两人都独立得出了 E.coli 的新陈代谢网是无尺度的，并具有小世界的特性的结论。<br>　　虽然三度分隔小得出乎我们的意料，但这并不是我们的发现中最吸引人的。因为这 43 种生物体体积各不相同，我们估计分隔会随着生物体变大而变大，就像万维网的直径会随着文档的增多而变大一样。令人惊讶的是，测算表明，不论是细菌的微型网络，还是多细胞生物的发达的系统，网络中的分隔都是一样的。虽然原始细菌的细胞和多细胞生物的细胞之间结构的差别可能像纽约市和小村庄之间的差别，一归结到它们的动态相关网络，所有的细胞看上去都像是个小城镇。进一步挖掘，我们意识到大多数细胞的中心节点也一样。也就是说，大多数生物体内连通性最强的分子都是一样的。三磷腺苷(ATP）几乎毫无例外都是中心节点，紧跟其后的是二磷腺苷(ADP）和水。<br>　　ATP、ADP 和水成为中心节点一点也不让人惊讶。在细胞中，ATP 是多功能、便捷的能量存储库，由它驱动数百种生物化学反应。通过给反应提供能量，ATP 会失去一个磷酸基，转变成 ADP；这样，在新陈代谢网络中，ATP 和 ADP 都和大批分子相连，参与获取能量的反应。把连通性最强的前 10 种分子合在一起看，就能比较容易地看出端倪了。对于无尺度模型，一个重要的预计就是链接数量多的节点是较早进入网络的节点。从新陈代谢的角度来看，这意味着连通性最强的分子应该是细胞内最“老”的分子。瓦格纳和费尔的分析也确实表明，连通性最强的分子的进化历史较早。这些分子中的一部分可能是所谓的“核糖核酸（RNA）世界”的残余物，这是 DNA 出现前的进化步骤，而其他一些则是最古老的新陈代谢方式的组分。因此，首发优势似乎遍布于生命出现的过程中。<br>　　假如所有的生物体都具有同样的无尺度拓扑结构，以及同样的节点分隔度数，共享同样的中心节点，那么不同生物体的细胞之间如何区分呢？细菌细胞和人体细胞之间存在结构上的差异吗？事实上，它们之间的差异非常之大。对比一下所有 43 种生物体的新陈代谢网，我们发现只有 4% 的分子在所有的生物体中都存在。虽然中心节点是一样的，但是不同生物体的连通性不那么强的分子却是五花八门，各不相同。生命就像是城市的某个郊区，所有的房子都是一个设计师设计的，但是房子的建筑工人和内部装修人员却不同，使各个房子具有不同的特点，这可能表现在地板的材料、窗子的大小等等方面。从空中看，所有的房子外观都相似，然而我们靠得越近，就越能看出它们的不同。<br>　　结果表明，蛋白质相互作用网络具有无尺度拓扑结构。也就是说，细胞中的大多数蛋白质都担负特定的功能，与其他另外一个或两个蛋白质相互作用。不过，少数蛋白质却有能力和大量的其他蛋白质建立物理上的联系。这些中心节点对于细胞的正常运作和生存具有决定性的作用。事实上，我们能够证明；改变某个中心节点蛋白质的基因，在 60%</del>70% 的情况下都会导致细胞的死亡。相比之下，影响连通性不强的蛋白质的突变，导致细胞死亡的可能性小于 20% 。<br>　　结合这些研究结果，新陈代谢的大尺度拓扑结构和蛋白质相互作用网络表明，在细胞架构中有高度的和谐：不论研究哪种层次的组织，都会发现无尺度拓扑结构。这些细胞中的探索说明好莱坞和万维网只是重新发现了生命活动在 30 亿年前就发明了的拓扑结构。细胞只是非常非常小的世界，具有其他一些非生物网络的拓扑结构。似乎生命就只能设计出这样的网络。<br>　　在这种架构下，生命是如何形成的？我们刚一提出这个问题，就得到了答案。在我们的关于蛋白质相互作用网络拓扑结构的发现发表半年后，我在一个月内收到了 3 份电子邮件。每一份都是不同的研究小组撰写的论文。令人惊讶的是，这 3 个研究小组中，每一个都独立提出了同样的简单而美妙的解释，说明细胞的无尺度拓扑结构是源于细胞繁殖过程中的常见错误。<br>　　细胞繁殖是通过复制自身物质，再分裂而实现的。说到繁殖的细节，简单的细菌和复杂的人体细胞可能有所不同。不过某些步骤却是一样的。首先，要想制造出有同样的遗传属性的下一代细胞，就必须忠实地复制 DNA 信息。然而这一过程并不是完全不出错的。虽然细胞具有精致的复制机制，能够保证DNA 序列能够相当忠实地继承下去，但是有 1/1000 的信息却会每 200000 年随机变异 1 次。另一个常见的错误是基因复制。<br>在复制过程的某一罕见的事故中，断裂 DNA 分子的末端会连接在一起，出现基因复制。其结果是，上一代 DNA 的不同长度的片断，会在后代的基因组中出现两次。这种复制在有些时候会让细胞死亡。但是在其他一些情况下，同一基因的多个副本可能具有进化上的优势，并传递给未来的世代。血色素就是个很好的例子。<br>　　起初细胞只有 1 个血红蛋白基因。大约 5 亿年前，在高等鱼类的进化过程中，出现了一系列的基因复制，使基因组中出现了 4 个血红蛋白基因。现在，每个血红蛋白基因分别编码血红蛋白中 4 种珠蛋白。<br>　　基因复制对细胞网络有重大影响。它制造出了两个同样的基因，它们又制造同样的蛋白质，反过来又和同样的蛋白质相互作用。这样就创建出了新的节点，即复制基因产生的蛋白质。其相邻的蛋白质，即复制蛋白质与之相互作用的蛋白质，现在会既同上一代蛋白质，又和同样的下一代蛋白质相互作用。因此，与复制蛋白质有联系的蛋白质中的每一个，都获得了一条额外的链接。在这一场博弈中，高度连接的蛋白质获得了属性优势：和连通性较差的伙伴相比，它们更有可能和复制的蛋白质拥有链接。并不是说中心节点经常复制。而是说，由于中心节点和更多的蛋白质链接，它们有可能和复制的节点之间具有链接，这样它们就有了一条额外的连接，这也是一种形式的优先情结。<br>　　这一解释的最重要的特点，就是它将无尺度拓扑结构的来源，和众所周知的生物机制，即基因复制联系了起来。它指明，基因复制可以同时向蛋白质结构网络中添加额外的一种蛋白质，使其增长；并经常向连通性强的蛋白质添加新的链接，从而导致优先情结的产生。要想判断这是不是唯一成立的解释，现在为时尚早，因为可想而知，不同的机制有可能生成同样的拓扑结构，只不过我们尚未探索这些机制。这究竟能否解释新陈代谢中的无尺度结构也还不清楚。无论如何，这一解释说明了细胞现存的机制可以生成无尺度拓扑结构。因此，此时我们已经准备好了，可以转向下一个重要的问题了：生命地图是否会帮助我们更好地理解致病机制，并促使我们最终能够治愈所有的疾病？</p><p>　　在所有的人类疾病中，癌症是研究得最深入的了。医学界对癌症所投入的异乎寻常的精力，的确带来了几项重大的突破。其中最重要的可能要数 p53 基因的发现。沃格尔斯坦认识到 p53 基因编码的 p53 蛋白质是肿瘤抑制物质。它的作用就好似车上的刹车装置，肿瘤抑制基因的作用就是使细胞维持在静止期，甚至使细胞产生自杀作用。健康细胞存在少量的 p53 细胞周期调控因子。如果放射线或其他伤害损害了这个细胞，p53 基因就会抑制细胞的异常生长，使细胞有时间自我修复，避免向恶性转化。然而，如果损害无法修复，p53 蛋白质就会激活一组基因，使细胞产生自杀作用。<br>　　如果细胞的“刹车”——p53 编码的蛋白质——出了问题，这个细胞就会失去控制，异常生长。癌症细胞和健康细胞的不同之处，就在于它们能够异常生长。事实上，50% 的人类所患的癌症，都和 p53 基因突变有关。这一发现激发了雪崩似的研究潮，从 1989 年起，相关论文超过了 17000 篇。为了纪念人类认识 p53 细胞周期调控因子在癌症研究中的中心地位，1993 年《科学》杂志将其命名为“年度细胞周期调控因子”。鉴于 p53 细胞周期调控因子得到了这么大的关注，大家可能以为人们现在一定已经找到了治愈癌症的办法。因为我们只需开发出能够保证 p53 细胞周期调控因子正常工作的药物就行。但是，为什么这么大规模的研究，一直没能带来治疗癌症的特效药呢？<br>　　虽然 p53 基因对于人类所患的癌症具有重大的意义，但是仅仅修复 p53 基因却无法治愈这一致命疾病。网络是症结所在。我们之所以无法彻底理解癌症，是因为细胞像互联网一样，是个网络。<br>　　三位研究者辩道，我们必须摆脱对 p53 细胞周期调控因子的迷信，而应关注他们称作“p53 网络”的东西，即与 p53 细胞周期调控因子相互作用的分子和基因的集合。他们这样写道：“细胞和互联网类似，都是‘无尺度网络’：一小组蛋白质高度连通，控制着大量其他蛋白质的活动，同时大多数蛋白质只和少数其他的蛋白质相互作用。在这个网络中，蛋白质就是节点，连通性最强的节点是里面的中心节点。在这个网络中，随机去除某些节点，几乎不会影响网络的性能。但这样的系统也有阿基里斯的脚踵。”<br>　　大家可能记得，网络的“阿基里斯的脚踵”，指的是其中心节点的脆弱性。细胞中连通性不强的分子失去作用，不会带来严重的影响，但是像 p53 细胞周期调控因子这样的细胞网络中心节点的突变，却会让细胞癌变，使生物体死亡。这就说明了为什么使用药物联合攻击和 p53 细胞周期调控因子相互作用的分子，慢慢会对细胞造成更严重的影响，就像攻击 p53 细胞周期调控因子的效果一样。<br>　　沃格尔斯坦、莱恩和莱文在《自然》杂志发表的论文证明了通过网络的角度思考问题具有普遍的意义。为了保护互联网、量化黑客攻击等目的而想的办法对细胞生物学产生了积极的影响，因为细胞生物学考虑的是保护健康人体细胞不受致病生物体的威胁。互联网研究和细胞生物学研究的核心问题是相似的。第一步，是绘制这些系统背后的网络地图。然后，从这些地图出发，归纳出控制这些网络的规律。<br>　　p53 网络最重大的意义，已经超出了其对于细胞和互联网的类推关系的启发。它指出了药物治疗和药品开发的新思路。研究 p53 网络的最终目的是寻求治愈癌症的方法。我们接下来会讨论这一问题，而且这是一个反复筛选的过程。在大多数情况下，癌症疗法都是以破坏为目的：这些方法通过药物或放射线破坏癌细胞的细胞网络来杀死癌细胞。随着我们对 p53 网络的理解的深入，使我们看到了另一条道路：我们首先需要破译这一网络的拓扑结构，彻底了解里面所有的相互作用。有了这样的地图，我们就能开始从正面着手，找到修复 p53 细胞周期调控因子功能的药物，而无需破坏其周围的网络。<br>　　直到不久以前，我们还只能治疗一些疾病的表征，这包括癌症、心脏病、精神疾病等。从化学实验室到热带雨林，我们到处找寻稀有的化学物质，希望借助它们能够制造出治疗某些疾病的神奇药物。根据某些资料的估计，市场上现有的药物，其治疗目标，只是 30000 种人体蛋白质中的 500 种。虽然对于许多疾病，都有多种药物，但这经常是一种反复筛选的过程，以确定哪种药物对某个特定的病人有作用。<br>　　深入了解细胞内的生物化学网络后，将彻底改变这种臆测的治疗方式。有了关于细胞网络图表精确的了解，加上能够确定不同的细胞相互作用强度的诊断工具，未来的医生将能够在不让病人服药的情况下，测量人体细胞对某种药物的反应。生命地图中包含有基因协同作用的详尽知识，有了这些，有朝一日，对于像躁狂抑郁症或癌症这样的疾病，在发病前我们就能诊断出来。这样的知识能够帮助我们开发极为精细、准确的药物，这样的药物只对出问题的细胞起作用，而不影响健康细胞。换句话说，这样的药物能够提供真正的治疗。<br>　　通过药物改变人体内某种化学物质的浓度，能够减轻某种疾病的症状。不过，由于细胞是由具有小世界特性的复杂网络控制的，由药物导致的扰动，不可避免地会影响许多其他的化学物质，很可能导致人们不想要的副作用。使用药物治疗躁狂抑郁症，可能会使病人死于并发的心脏病。而令某人并发心脏病发作的药物，可能对另外的病人没有任何副作用。毕竟，我们大家的眼睛、头发的颜色都不同，因此我们对于不同药物产生不同的新陈代谢反应也丝毫不感到奇怪。手中有了生命地图，加上新近开发的 DNA 芯片这样的能够监督基因间链接的工具，医生将能够获得某种药物对分子和基因的影响的详细信息。确定药物是否会产生副作用将不再是全靠主观臆测。到时候，我们会有个性化的药物，允许市场上销售只对 10% 的人口有效，而对其他人可能致命的药物。<br>　　近年来，如果你曾受到躁狂抑郁症的折磨，那么，你第一次去看医生，可能要花 1 小时的时间，让医生仔细了解你的想法和情绪。最终医生会给你开一服药。假如以前你从未想过中枢神经系统化学物质和大脑的活动以及健康状况之间有什么关系，那么服过药后，你就会有些了解了。注射进你体内的化学物质很快就能控制你的行为和冲动。你会发现自己的行为、思考方式都是以前从未经历过的。在大多数情况下，第一种药没有效果。它可能使你变得躁狂，也有可能更加抑郁。几周后，为了获得更好的效果，有可能需要换药。病人通常需要在几个月的时间内换 5~6 种药，才能找到效果最好的药物。这些药虽然能够减轻症状，却无法治愈疾病。它们只是暂时改变人中枢神经系统化学物质的属性，抵消基因网络故障带来的变化。一旦停药，中枢神经系统化学物质的不平衡立即会恢复，同时躁狂抑郁症的症状也会重新出现。</p><p>　　1996 年，酵母基因组计划的完成令科学界震惊：酵母基因组包含有 6300 个基因。人们预计到的，只是其中的 1/4，并且只能模糊地阐明这 1/4 基因的功能。考虑到人类在生物进化中的重要地位，生物学家估计人类基因组至少会有 100000 个基因。人们认为只有这个数量，才能解释智人（现代人）的高度复杂性。2001 年 2 月，人类基因组计划成果公布了。结果是，我们的基因数量，只是预计的 1/3——只有大约“30000 个”。考虑到线虫的 20000 个基因只需编码 300 个神经细胞，而我们人类只多了 10000 个基因，却要对付大脑中的 10 亿个神经细胞，因此，基因数量仅仅是 1/3 的增长，也足够能解释我们和简单的线虫之间的差别了。<br>　　简言之，基因的数量和人类的复杂性并不成正比关系。那么，复杂性意味着什么呢？网络给出了答案。从网络的角度考虑，我们的问题就成了：基于同样数量的基因，能够产生多少不同的、具有潜在特性的行为方式的遗传网络？原则上讲，假如有两个同样的细胞，只要它们的某个特定基因，一个是开启，另一个上的是关闭，它们的行为就会不同。假设这每个基因都能独立地开启或关闭，那么有 N 个基因的细胞，就能表现出 2<sup>N</sup> 个不同的性状。如果我们把典型细胞表现出的潜在行为特性看做是复杂性的度量标准，那么蠕虫和人类的差异就十分巨大：人类的复杂性是蠕虫的 10<sup>3000</sup>  倍！<br>　　人们将 20 世纪看做是物理学的世纪，而预言 21 世纪是生物学的世纪。10 年前，我们可能想把它称作基因的世纪，现在，面对这个我们刚进入的世纪，很少有人会这么说了。这个世纪极有可能是复杂性科学的世纪，它也一定会是生物网络的世纪。要说有某个领域，在其中从网络出发的思维模式会引发革命的话，我认为那就是生物学领域。</p><h1 id="第-14-章-网络经济"><a href="#第-14-章-网络经济" class="headerlink" title="第 14 章　网络经济"></a>第 14 章　网络经济</h1><p>　　这些并购案都有自己的理论依据吗？当然，反全球化的活动人士不这么认为，他们谴责大企业控制了从政策到时尚等的一切。不过，如果我们将公司视作复杂的网络，其节点就是公司，链接则是各种经济和金融纽带，那么这些现象就是不可避免的。事实上，在网络化的经济中，中心节点必须随着网络的增长而增长。为了满足他们对链接的渴求，商业网络上的节点学会了吞掉较小的节点，这是其他网络中未曾见过的新方式。由于全球化迫使节点增长，并购就成了不断增长的经济所带来的自然的结果。<br>　　受到物理学和数学网络复兴的推动，最近一批新发现记录了从公司结构到市场中网络的巨大能力。我们已经了解到，一个只包括少数几个独裁者的节点稀疏的网络控制了《财富》1000 强公司中所有的重要约会；在生物技术领域，同盟网络决定了公司的成败；公司内部的结构网络决定了企业是否能够适应瞬息万变的市场；充分利用了消费者特点的战略能够带来市场营销的成功。链接和联系越来越重要，理解网络成了适应快速演变的新经济的关键。<br>　　所有 20 世纪产业背后的网络都有相同的结构，这与其所处的领域没有关系。这是一种树形结构，首席执行官就是树根，枝枝权权代表的是不断专业化、相互不重叠的部门经理和员工。沿着树枝往上，责任越来越小，来自树根部的命令到这里声音就显得很微弱了。<br>　　虽然这种树形结构无所不在，但里面也存在不少问题。首先，信息向上传达的时候必须小心过滤。假如过滤不理想，所有的枝权信息传到最上层就会出现信息过载。随着公司的扩张，树不断长大，最上层的信息不可避免要出现爆炸似的增长。其次，整合带来的是难以预料的组织僵化。典型的例子是福特汽车工厂，这里是最先完全实行分级管理的制造工厂之一。他们的问题是，组织级别搞得太好了。福特的生产线高度整合优化，即便是汽车设计上的小小变动，也需要将工厂关闭数周或数月。这种优化导致了所谓的“拜占庭式巨无霸”，使公司组织过于庞大，难以对商业环境的变化作出反应。<br>　　树形结构特别适合大规模生产，而这是直到最近为止经济成功的模式。然而现在经济价值蕴含在新观点和信息之中。我们已经达到了能够生产所有能想象得到的东西的程度。现在，重要的问题是：该生产什么？<br>　　公司面临着信息爆炸，另外在瞬息万变的市场上，又需要前所未有的灵活性，因此企业模式正处于彻底转型的过渡阶段。这并非是指少数员工的工作性质描述上的变化。这要求人们对如何在伴随信息经济而来的后工业时代适应新商业环境重新进行根本性思考。<br>　　这种重新思考最显眼的一点，就是从树形结构转换到网络或网络组织，一种平面的，具有大量相互连接的节点的组织。有价值的资源从实物财产转变成了比特和信息，公司运作从垂直整合转向了虚拟整合，商业的触角从地域性的变成了全球性的，库存的生命周期从几个月缩短成几个小时，商业战略从自上而下变成了自下而上，工人则转变成了雇员和自由经纪人。<br>　　新产品需要公司内外的同盟支持，这就要求公司有新的拓扑结构。为了满足这一点，中层经理开始消失。原本处于从属地位的雇员开始负责主要产品的生产管理。项目小组、公司内外的同盟组织，以及外包生产等越来越时兴。因此，想在变化迅速的市场上进行竞争的公司，正从静态的优化的树形结构转变为动态的、演变的网络结构，以获得适应性更强、更灵活的管理结构。拒绝作出这种变化的公司很容易就会被挤到边缘。<br>　　公司内部的变革只是网络经济带来的结果之一。另一个结果是使人们认识到公司不可能独立运作。公司总要和其他的机构合作，采纳其他企业证明成功可行的商业模式。这种与其他的企业保持高层联系的任务，往往落在首席执行官和董事会成员身上。接下来我们就会看到，网络的效用对这些相互作用起到了根本性的作用。</p><p>　　公司的董事会，一般由十来个人组成，对于公司的未来具有莫大的权力。它负责作出所有的重大决策，包括让业绩不佳的首席执行官下课，以及批准重大的并购等。因此，各个企业都不遗余力招纳人脉畅通，经验丰富的经理。成功的首席执行官、律师以及政客都常有人找上门来，同时出任好几个公司董事会的职务。<br>　　虽然有人担心董事会成员如果在多个董事会任职，就没有时间在每个地方都做好，大多数公司还是希望他们的董事会成员有在其他董事会任职的经历。由于董事们会将在某个董事会中学到的知识和经验用到解决另一个董事会遇到的问题上，这种董事会成员组成的相互联结的网络，就对企业经验的传播，以及大公司政治经济影响力的保持，起到了至关重要的作用。<br>　　在经理网络中，每个节点是一个董事会成员，和处于同一董事会的其他成员建立有链接。当公司数量达到了数千个，每个公司的董事会成员有十几个，这个网络的规模就相当不小了。《财富》1000 强公司组成的网络，包括了 7682 个经理，10100 个管理位置。如果每个经理只在一个董事会任职，这个网络就会分隔为小小的，各自闭合的圆圈，每个圆圈就是一个董事会。然而，实事并非如此。79% 的人只在一个董事会任职，14% 的人在两个董事会任职，约 7% 的人在 3 个或 3 个以上的董事会任职。这个结果表明，这些少数重叠任职的经理，建立了一个只有五度间隔的小世界网络。事实上，对于整个包含 6724 个经理的网络，任何两个经理之间的距离，是 4 到 6 次握手。<br>　　经理网络之所以有小世界的特性，是因为有 21% 的人任职于一个以上的董事会，他们将这个复杂网络联系成了一体。在这些人中，弗农·乔丹所起的作用非常特殊。他在 10 个董事会任职，常常与《财富》1000 强企业的 106 个经理人会面。乔丹是企业精英中最具核心地位的经理，他和其他大多数经理的距离是 3 次握手。<br>　　乔丹的职业给我们提供了一个生动的例子，证明了公司主管组成的相互联系的小世界决定了公司的大部分任职情况。事实上，在大多数情况下，如果乔丹加入了某个董事会，他至少认识一个其他的董事会成员。20 世纪 70 年代早期，乔丹是颇有影响力的公民权利组织全国城市联盟（National Urban League）的头儿，他反复呼吁黑人应该加入企业的精英阶层。1972 年，化学产品制造商赛拉尼斯企业（Celanese Corpora-tion）的总裁约翰·布鲁克斯（John Brooks）告诉他说：“我觉得你该通过你的嘴巴来赚钱……你一直在谈黑人加入董事会的事儿，你干嘛不加入赛拉尼斯的董事会呢？”<br>　　乔丹加入赛拉尼斯董事会后不久，他又接到两个电话，有人邀请他加入美国海丰银行（Marine Midland Bank）和银行家信托公司（Bankers Trust）的董事会。乔丹不知道自己该选择接受哪一个，就给约翰·布鲁克斯打电话，咨询他的意见。约翰的回答很简洁：“你别无选择。对方可是银行家信托公司。”乔丹问他那又怎么了，布鲁克斯只是简单回答道：“你觉得自己是怎么得到提名，邀请你加入银行家信托公司的董事会的？我就在那个董事会。是我提名你的。”在银行家信托公司董事会，乔丹和威廉·M·埃林豪斯（William M.Ellinghaus）共事，后者也担任 JC Penny 公司的董事。一年后，乔丹接到邀请，要他加入 JC Penny 的董事会。<br>　　三年后，乔丹请施乐公司的首席执行官彼得·麦克库劳（Peter McCullough）担任全国城市联盟的总裁。后者提出了下面的条件：“只要你来施乐的董事会，我就当你公司的总裁。”乔丹同意了。三年后，乔丹成了施乐的主管，又接到邀请加入美国运通（American Express）的董事会，当时该董事会中已经有了另外两个施乐的主管。1980 年，乔丹加入了 RJ Reyn-olds 的董事会，就不足为奇了。事实上，赛拉尼斯的首席执行官和另外一个 JC Penny 的董事会成员都在 RJ Reynolds 的董事会，而且乔丹和 RJ Reynolds 的首席执行官私交甚厚，后者是赛拉尼斯董事会的主管之一。<br>　　早先结交的熟人使经理人员后来有人可挖。因此，小世界的动能协助创造了拥有巨大权力的“老伙计网络”，或称精英阶层。他们对经济和政治生活具有无可比拟的影响力。乔丹目前就职于 Akin, Gump, Strauss, Hauer &amp; Feld 律师事务所，这是华盛顿最大的一家律师事务所。他之所以在这里，也可以和“老伙计网络”扯上关系：拉乔丹进来的事务所合伙人罗伯特·施特劳斯（Robert S. Strauss），是施乐董事会的主管之一。<br>　　乔丹的职业路途也绝非独一无二。在各个行业中，都存在网络效应。例如，在硅谷，公司间大量的人员流动创造了紧密的公司间人际关系链接。在招募新雇员，吸引管理人员加盟的时候，这种微妙的社会关系网络被充分加以利用。和董事们相互拉拢其他公司的董事一样，公司现在的雇员也可以利用他们的社会链接，通过社会关系网络招募的雇员辞职不那么频繁，而且比通过其他途径招募来的人工作勤勉。<br>　　董事会管理位置的关系和硅谷雇员这两个网络中所体现出的微妙的、环环相扣的关系，很好地揭示了美国经济背后复杂的社会和权力网络。但是要想了解经济究竟如何运作，我们还需要理解这些高度相关、相互影响的经理，是如何操纵企业和其他经济实体的。</p><p>　　制药业数据库（Pharmaceutical Industry Database）为 1709 家公司和研究所之间的 3973 项研究和开发协议提供信息。分析表明，中心节点并不是偶然出现的，而是根植于制药业背后的网络的无尺度天然属性。事实上，与恰好 k 个其他研究机构建立伙伴关系的公司的数量，反映了它们在网络内部拥有的链接的数量，这一数量符合幂律，表明这是一个无尺度拓扑结构。等级分布的高度连通的大企业，将大量的小公司聚拢在一起，将它们无缝地编织进无尺度的不断演变的经济体系中。<br>　　研究、创新、开发、销售都变得越来越专门、独立，我们的经济正变成网络经济，在这个体系里，所有行业中的企业，要想生存，就必须依赖战略同盟和伙伴关系。德国和意大利的公司间的供应商、转包商之间的关系记录得很全面；日本企业长期以来就依靠公司间的合作来分担技术创新的责任；而韩国商业模式则是将多元的小公司置于大型集团的伞下；硅谷的公司经常借助大公司和小公司的合作来获得技术转化的优势。这些同盟关系，有时又称作市场变换，或伙伴关系变换，使我们得以一窥世界商业环境之一斑。<br>　　虽然这些公司间的同盟对于经济运行有重大的影响，然而经济理论对它却一直漠视，这十分令人惊讶。直到最近，经济学家还将经济系统看做是一系列自治的、匿名的个体仅仅通过价格体系相互作用的组织，这种模型往往被称作是经济学的标准正式模型。一般认为，公司和消费者的个体行为对市场的状况影响极小。经济状况实际上是由就业、产量、通货膨胀等合在一起的总量影响的，与构成这种总量的相互联系的微观活动关系不大。公司企业是和“市场”相互作用，而不是公司与公司之间相互作用。这个市场，是个虚拟的，所有经济活动都与之交互的媒介。<br>　　现实中，市场只不过是个有向网络。公司、企业、金融机构、政府部门，以及其他所有的潜在经济的参与者都是里面的节点。链接则量化了这些机构之间各种各样的相互作用，其中包括销售、购买、合作研究和市场营销项目等。链接的“权数”则表明这些交易的价值，并且表明从服务商到接收者的这种交易方向。这一有权数、有方向的网络的结构和进化，决定了所有宏观经济活动的结果。<br>　　在市场中，标准的策略是在当前的交易中获取最大的利益。而在网络中，优选的方案则是从长远上计议，让对方感到受了恩惠，对你有信心。因此，从网络的视角看经济，买方和卖方并不是竞争关系，而是合作关系。他们之间的关系经常是长期的、稳定的。<br>　　这种链接之间的稳定性，使公司可以关注各自的核心业务。如果这种合作伙伴关系破裂，其后果将是严重的。大多数情况下，关系的破裂只影响到链接的双方。然而，有时候这种破裂关系也会传遍整个经济体系。我们接下来将会看到，宏观经济问题会将整个国家带入金融危机，而合作伙伴关系的破裂则会严重影响新经济中的明星产业。</p><p>　　一家虽然规模不小，但远非主导地位的财产发展公司的破产，为何会引发世界最大的股票市场的动荡，并让“世界上经济最强大的国家”的总统在两年之后还要对其做出解释？如果我们把经济视作高度相连的公司和金融机构网络，就有可能理解这些事件发生的原因了。在这样的网络中，节点故障很少影响系统的完整性。然而，有时候特定节点的故障却会带来级联故障，动摇整个系统。<br>　　亚洲金融危机就是一场大规模的级联金融故障的实例。我们在第 9 章就讨论过这一问题，它是连通性和相互依赖所带来的自然结果。不过，亚洲金融危机却并非是其首例：两年前，南美和墨西哥曾经历过类似的级联故障，而且可以肯定，这也不是最后一例，虽然银行、政府部门都竭力避免出现这种情况。<br>　　在假设所有的公司组织都和想象的市场相互作用的经济框架中，这种情况是无法解释的。级联故障是网络经济的直接结果，是由全球经济体系中没有任何单一组织可以独立运作这一事实带来的必然结果。从网络的角度理解了宏观经济的相互依赖性，能帮助我们预见并限制未来的危机。从网络的角度考虑问题，能教会我们监督破坏的路径，通过识别、加强节点，来为网络添加防火墙，阻止小故障变成烧毁宏观经济的烈火。<br>　　我们不能将亚洲及拉丁美洲金融危机这种级联故障看作是快速发展的国家不稳定的金融系统带来的副作用。发达国家的经济，例如美国经济，虽然有资金、有相应的专业人士在危机发生发展成全球危机之前来根除其根源，也并非对这种级联故障完全免疫。对于稳定的经济体系，与相关性紧密联系的脆弱性依然存在，例如电子商务泡沫的破碎就是一例。<br>　　康柏、思科系统以及其他一些公司，是一种新的商业战略的领袖：外包生产。不久前成为首家破产超过万亿美元的思科公司，是这一趋势的推动者。该公司通过一种崭新的、大胆的制造模式，实现了利润 30%<del>40% 的增长：它销售的所有产品都不是自己造的。思科和大量的制造商建立了稳固的关系，这些公司生产、装配带思科品牌的产品。康柏和其他许多企业竞相效仿思科的模式。<br>　　外包生产需要建立紧密的供应商体系，保证所有的原件都能按时交货。因此，当某些供应商无法交付某种基本零件，如电容、闪存等，康柏的生产网络就瘫痪了。当时，该公司手持电脑设备方面零件的缺货就达到了 600000</del>700000 件。定价 499 美元的康柏随身电脑在易趣和亚马逊网站上拍卖的价格达到了 700~800 美元。思科也遇到了一个不同的问题，但其危害却相似：订单都满足了之后，思科忘了让自己的供应链停下来，结果其零部件库存猛增到了 300%。<br>　　这个问题带来的最终结果非常惊人：从 2000 年 3 月到 2001 年 3 月，采取外包模式的公司的市场损失，——包括思科、戴尔、康柏、Gateway、苹果、IBM、朗讯、惠普、摩托罗拉、爱立信、诺基亚、Nortel——超过了 120000 亿美元。这些公司和他们的投资者所遭受的惨痛损失，生动地表明了忽略了网络效应将带来的后果。这种唯我的态度，即认为公司的财务平衡是唯一重要的因素，限制了人们从网络的角度进行思考。不理解一个节点的行为如何会影响到其他节点，很容易就会摧毁一部分网络。<br>　　专家们一致认为，这种级联效应损失并不是网络化经济不可避免的缺陷。这些公司之所以遭受了挫折，是因为他们未能完全理解这种变革对其商业模式带来的要求，就开始进行外包生产。等级式的思考无法适应网络化经济。在传统的企业组织中，组织内部可以作出快速的变化，以其他方面的收益弥补局部的损失。可在网络化经济中，每个节点都必须盈利。可是参与网络游戏的公司没有看到这一点，在不知道如何借助网络优势盈利的情况下却要面对连通性带来的风险。一出问题，它们又无法作出正确的决断。比如在思科案例中，公司遇到麻烦后，管理层关闭了供应链，结果却导致了更大的麻烦。<br>　　在宏观经济和微观经济两个层面，网络化经济都站住了脚。虽然好几家公司实行外包生产模式经历过重大损失，但这种模式依然变得越来越普遍。金融相互依存，越来越无视洲际、国家的界限，它只能通过全球化来加强。管理方面正面临革新。我们必须采取新的、以网络为出发点的看待经济的方式，理解相互关系所带来的影响，抚平发展的道路。</p><p>　　当时为 Hotmail 提供最初资金的德雷珀，费希尔和尤尔韦特松风险资本公司（Draper,Fisher and Jurvetson）的蒂姆·德雷珀（Tim Draper），说服了巴蒂亚和史密斯在每份 Hotmail 电子邮件的末尾加上这么一句：“Get Your Private, Free Email at <a href="http://www.hotmail.com.”/">http://www.hotmail.com.”</a> (登录 <a href="http://www.hotmail.com/">http://www.hotmail.com</a> 注册获得个人免费 Hotmail 账户）因此，只要 Hotmail 用户一给朋友发送电子邮件，就等于为该公司做了宣传。有关 Hot-mail 的消息在无尺度网络中散播开来，利用的正是“爱虫”病毒传播的途径。由于在这样的网络中，不存在创新的传播临界阈值，因此 Hotmail 才有可能获得成功。不过，它能这么快、获得这么大的成功，却完全出乎人们的意料。<br>　　Hotmail 的巨大成功的源泉来自何处？传播速率高的创新和产品，获得网络更大部分的几率也更高。Hotmail 通过去除影响个人接受它的阈值来加强了传播速率。首先，它是免费的；因此选择它的时候人们无须判断决策是否明智。其次，Hotmail 的用户界面很容易注册，只需两分钟，人们就能注册完成；因此花费的时间也几乎为零。第三点，一旦注册了，每发送一份电子邮件，就等于为 Hotmail 做了一个免费的广告。将这三个特点结合起来，该服务就具备了极高的传染性，这种传染性是传播的内在机制。传统的市场营销理论告诉我们，将免费服务、较低学习路径和通过消费市场快速获取结合起来，就能将产品置于阈值之上。正因如此，这样的产品才能抓住每一个消费者。基于对复杂网络中扩散的新的理解，我们现在知道，上面的解释只说对了一部分。没错，这样的产品传播速率很高，但同时也没有阈值。产品和观念，只有在得到消费者网络中高度连接的中心节点的青睐后，才会传播开。<br>　　Hotmail 模式能复制吗？千万别在这上面下赌注。以 Epi-demicMarketing.com 为例。该公司 2000 年花了 210 万美元，为其超级碗（Super Bowl）大做广告，梦想发掘出网络的巨大能量。在超级碗（Super Bowl）广告中，一个男子走进一间公厕，里面的清洁工给了他一份小费，这正好和通常的情况反了。Epidemic 公司希望人们能理解他们的广告中巧妙表述的信息，即该公司会对顾客作出的努力进行回报。他们的商业模式，是向那些在自己发出的电子邮件中添加了该公司提供的商业链接的人支付酬金。这样一来，关于某公司或促销的信息就能口口相传，再现 Hotmail 的巨大成功。然而，该模式却缺乏病毒式营销的关键因素：人们对于向亲戚朋友发送这些链接不感兴趣。因此，Epidemic 公司在 2000 年 6 月赔掉了它筹集的 760 万美元后，炒了 60 名员工的鱿鱼并关门大吉，也就毫不奇怪了。<br>　　Hotmail 表明了消费者网络的巨大能量。某些产品无须昂贵的电视和报纸广告就能卖得动。它们能像病毒那样迅速传播。虽然这一模式未必适合所有的产品，但利用病毒式营销的某些方面却往往能促进各种商品的销售。不过 Epidemic 公司的失败表明 Hotmail 的成功模式无法简单复制。Hotmail 的经验应该是新的市场营销方式的出发点，提示人们将传统的战略和对网络效应的理解结合起来。</p><p>　　电子商务泡沫的破灭，往往是因为许多热衷于互联网的人的片面的思维模式。大多数新公司的建立，都是依靠简单的想法，认为只要提供在线服务，就足以复制新经济中的成功案例。然而，除了很早下手的一些公司，如亚马逊、美国在线，或易趣，大多数别的公司都失败了。互联网带来的真正财富，不是成千上万新的网络公司的诞生，而是现有商业的转型。从夫妻店到大型的跨国集团公司，我们都能看见互联网的踪迹。<br>　　网络并不是万能的灵丹妙药，它并不能使哪一家公司在具体的商业环境中百毒不侵。网络在所扮演的角色中真正重要的一方面，是它能帮助现有的企业迅速适应变化的市场状况。网络的概念，暗含了多维思考。<br>　　在商业和经济中，网络的多样性令人目眩。有政策网络、所有权网络、协作网络、企业网络、网络市场营销等——只要你能叫出名堂来，就有这样的网络。我们不可能把所有的各式各样的相互作用整合进一个单一的包容一切的网络。然而，不论我们审视哪一个级别的公司组织，都能找到自然界网络中起主导地位的稳健、通用的法则。经济和网络研究所面临的困难，是如何将这项法则应用于实践。</p><h1 id="第-15-章-没有蜘蛛织网的网络"><a href="#第-15-章-没有蜘蛛织网的网络" class="headerlink" title="第 15 章　没有蜘蛛织网的网络"></a>第 15 章　没有蜘蛛织网的网络</h1><p>　　虽然现实中的网络虽然并不如艾尔德和莱利预言的那么的随机，但机会和随机性确实在其形成过程中起到了非常重要的作用。真实网络不是静态的，增长对其拓扑结构的形成起了关键作用。真实的网络不像星状网络那么中央化，而是具有等级，不同级别的中心节点将网络连为一体。高度连接的节点下面有连接数量稍逊的节点，其后又有更小的节点。没有处于中央位置的，控制、监督一切的中央节点。也没有任何节点能够具有不可或缺的地位，拿掉任何一个都不会导致网络的坍塌。无尺度网络是一种没有蜘蛛的网络。<br>　　由于没有蜘蛛，这个网络就不是小心翼翼设计出来的。真实网络是自组织的。它们提供了生动的实例，使我们看到数百万节点和链接的独立个体行为，能够导致惊人的行为方式的产生。这种没有蜘蛛的无尺度拓扑结构是其进化的必然结果。自然界每创造一个新的网络，都要遵循创造先前的网络时所遵循的同样的法则。控制复杂网络出现的法则的稳健性，解释了无尺度拓扑结构为何普遍存在。它可以描述各种各样非常不同的系统，如语言网络、细胞内蛋白质链接、人与人之间的性关系、电脑芯片的设计图、细胞的新陈代谢网络、互联网、好莱坞网络、万维网、共同创作论文形成的科学家网络、经济网络，等等。</p><p>　　新科学诞生中最迷人的一面是其创造的新语言，使我们能够利用这些新的语词传播思想。在这种新语言诞生之前，我们绞尽脑汁也难以表达清楚。网络理论的复兴也为我们这个相互连接的世界创造了新的语言。社会中的连接者，好莱坞的明星，生态系统中的关键物种，忽然就联系到了一起。他（它）们在各自环境中的重要性，使他（它）们成了所在环境中的中心节点。从网络的角度思考这一策略，将影响人类的所有活动领域，以及大多数的研究领域。这不仅仅是一种有用的换位思考或研究工具。网络自身是最复杂的系统中的一员，节点和链接使用各种手段建立起我们这个相互链接的大千世界。<br>　　这一新语言存在的生动案例，在 2001 年 9 月 11 日后显示了出来，当时网络获得了大多数人们此前所不熟悉的意义。导致悲剧的大多数因素都充分利用了网络思维。肇事者是基地组织这个恐怖分子网络，他们不是一星期就能建立起来的。他们被宗教信仰所驱使，对现有的社会政治秩序不满，成千上万的人在连续多年的时间里加人到这一组织中。这个网络不时增加一个节点，具有无蜘蛛网络的所有特点。事实上，基地组织没有变成有中央集权的网络，它也没有使用军队和 20 世纪的企业所惯常采用的树形结构。它发展成了一个自组织无蜘蛛网络，网络中的等级化的中心节点使组织联系在一起。<br>　　“9·11”事件后，管理咨询师沃尔迪斯·克雷布斯（Val-dis Krebs）绘制了一幅 4 架飞机上的 19 个劫机犯，以及官方认定和他们有联系的 15 个人之间的网络图。克雷布斯以前就经常用网络理论分析企业之间的通讯联络。克雷布斯小心地把公布于众的 34 个恐怖分子之间的联系输人，依据其关系的亲疏给每个链接赋予了权数。他所获得的网络非常能说明问题，任何想理解这个发动致命攻击的社会细胞内部机理的人都能看懂。对于了解真实网络形态的人，看到这幅图一点都不奇怪。据传袭击的设计者是穆罕默德·阿塔（Mohamed Atta），他确实是链接最多的节点。不过，他也只是与 23 个节点中的 16 个有联系。紧随他的是马尔瓦·沃希（Marwan Al-Shehhi），他的链接是 14 条。沿着这个列表往下看，会看到链接极少的节点，他们是该组织周边的人。<br>　　该图也显示了，虽然阿塔居中心地位，但拿掉他并不能使这个组织瘫痪。其他的中心节点依然能将网络维持在一起，在没有他参与的情况下也可能发动袭击。很多人认为“9·11”事件的肇事者的组织结构特点，也正是所有恐怖分子组织结构的特点。由于具有分布式的自组织拓扑结构，基地组织极为分散，又能自给自足，即便是去除了本·拉登和他最亲近的亲信，也可能无法根除它带来的威胁。这个网络中没有真正的蜘蛛。<br>　　现今世界上最具进攻性的组织，从基地组织到哥伦比亚的毒枭，都不是等级森严的军事组织，而是自组织恐怖网络。在它们之中没有明显的组织和秩序标志，我们经常称之为“非正规军”。不过这样称呼它们，我们又将复杂性和随机性等同看待了。实际上，恐怖分子网络遵循严格的法则，形成其拓扑结构、组织结构，以及它们的功能。它们利用自组织网络的所有的自然优势，包括适应性和对内部故障的容忍度。我们最大的敌人，可能在于对这种新秩序不熟悉，而且缺乏有效的语言来表述我们的经历。<br>　　当然，针对基地组织的战斗最终将取得胜利。其手段，可能是去除网络中足够多的中心节点，到达使其崩溃的临界点；或是切断其所有的资源，促使其发生内部级联故障。然而，促使基地组织崩溃并不能终结这场战争。别的观念和功能类似的网络毫无疑问会取而代之。恐怖网络并不是本·拉登和他的手下发明的。他们只是利用了伊斯兰好战分子的愤怒，并充分利用了自组织法则。我们要是想赢得这场战争，唯一的希望是对付恐怖组织产生的根源，即促使网络增长背后的社会、经济、政治根源。我们必须努力根除恐怖分子节点建立链接的需求和渴望，为他们提供机会，使他们有机会融人更具建设性、更有意义的网络。对于赢得每个网络战争，不论我们多么高明，如果无法对付其建立链接的渴望，即形成自组织网络的前提条件，这种战争就永远不会结束。</p><p>　　德国国会大厦这个权力的最高象征，从楼梯到旗杆，完全被包裹在金属银色的织物下面，将其变成了一件公共艺术品。5000 英尺（约 1525 米）的蓝色绳子将超过 100 万平方英尺（约 9.3 万平方米）的聚丙烯织物连在一起，覆盖了这个建筑的每一寸，成了我们生活的时代中最壮观的艺术景观。<br>　　这一作品的作者是生于保加利亚的艺术家克里斯托（Christo）和法国艺术家珍妮-克劳德（Jeanne-Claude）。他们的作品包括《包装新桥》（Wrapped Pont Neuf)（用黄色的织物包装了塞纳河上的新桥），《围绕群岛》（Surrounded Islands)(以约 56 万平方米的粉红色布料捆绑在佛罗里达州迈阿密比斯坎湾内的 11 座岛屿周围）。从多个角度看，《包装德国国会大厦》是他们几十年的包装艺术的顶点。然而，若仅仅将这两位艺术家看作是包装建筑、桥梁或其他对象的人，就过于简单化了。他们的作品蕴含了深厚的哲学意义：“通过遮盖获得启示。”（revelation through concealment）他们的作品通过遮盖细节，使我们将注意力完全集中到外部形式上。这种包裹强化了我们的视觉，使我们更注意所观察的对象，将日常的已经变得平凡无奇的对象变成不朽的雕塑和建筑艺术作品。<br>　　从某种意义上讲，在本书中，我们就是沿着克里斯托和珍妮-克劳德的思路观察世界的。为了观察细胞或社会这种复杂系统背后的网络，我们先遮盖了所有的细节。只观察节点和链接，我们有机会观察整体架构的复杂性。通过与具体细节拉开距离，我们得以一窥复杂系统背后的组织原则。遮盖显示出了控制网络状世界进化的基本法则，使我们理解这个错综复杂的剧情的架构如何能影响从民主制度到癌症治疗等事物。<br>　　到达了这一步之后，我们该继续朝何处走？答案非常简单。我们必须揭开遮盖物。我们的目标是理解复杂性。为了达到这一目标，我们必须跨越结构和拓扑结构，开始关注链接上的动能。网络只是复杂性的骨架，是使我们的世界运转的公路系统。要想描写这个社会，我们必须弄清楚社会网络的链接上的相互动态作用。要想理解生命，我们就要研究新陈代谢网络的链接上的反应动能。要想理解互联网，我们必须在错综复杂的链接中加入交通流动。要想理解某些物种为何在生态系统中消失，我们必须承认某些生物更容易被捕获。<br>　　在 20 世纪，我们已经竭尽全力去揭示、描述复杂系统中的零件。我们试图理解自然的努力，就好像是打碎了玻璃屋顶，却不知如何将碎片拼合起来。我们面临的复杂问题，从通讯系统到细胞生物学，都要求提出新的框架。如果手头没有地图就匆忙上路是不成的。好在不断发展的网络革命已经提供了许多关键的地图。虽然前面的未知世界中还有许多“恶龙”，但新世界的形状已然可辨，一个个大洲逐步出现在我们的视野中。最重要的是，我们弄明白了网络绘图法的法则，使我们在面临新的系统的时候总能绘制出新的地图。现在我们的任务就是沿着这些地图，完成我们的旅行，将一个个节点和链接片断连缀起来，弄清楚它们之间的相互动态作用。我们还有 90 多年的时间来达到此目标，将 21 世纪变成复杂性科学的世纪。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/201.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="复杂性科学" scheme="https://qianling.pw/categories/%E5%A4%8D%E6%9D%82%E6%80%A7%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="书摘" scheme="https://qianling.pw/tags/%E4%B9%A6%E6%91%98/"/>
    
    <category term="复杂性科学" scheme="https://qianling.pw/tags/%E5%A4%8D%E6%9D%82%E6%80%A7%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>RedmiBook（AMD）解锁高级 BIOS 启用 S3 睡眠方法</title>
    <link href="https://qianling.pw/redmibook-s3-enable/"/>
    <id>https://qianling.pw/redmibook-s3-enable/</id>
    <published>2022-12-24T11:11:46.000Z</published>
    <updated>2022-12-24T15:25:48.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/267.webp"></p><hr><p><strong><center>本文参考自：<a href="https://zhuanlan.zhihu.com/p/587609347">睡眠后风扇还在转，鼠标一动就亮屏？电脑只能s0睡眠，不能s3睡眠怎么办？固件bios不支持s3睡眠?RedmiG 高级BIOS（看这篇文章就够了）</a><br>作者 @蛋壳 所用型号为 Redmi G 2021 锐龙版。<br>本文机型虽不同，但使用作者提供的高级 BIOS 引导包同样操作成功，推测 RedmiBook 锐龙版均可通用，在此重述步骤并补充部分注意事项。</center></strong></p><span id="more"></span><hr><h1 id="睡眠类型科普"><a href="#睡眠类型科普" class="headerlink" title="睡眠类型科普"></a>睡眠类型科普</h1><p>电脑的睡眠方式分为：</p><ul><li>S0 低电量待机；</li><li>S1 CPU 停止工作。唤醒时间：0 秒；</li><li>S2 CPU 关闭。唤醒时间：0.1 秒；</li><li>S3 除了内存外的部件都停止工作。唤醒时间：0.5 秒；</li><li>S4 内存信息写入硬盘，所有部件停止工作（休眠状态）。唤醒时间：30 秒；</li><li>S5 关闭。</li></ul><p>查看当前支持的睡眠状态方法：按下 Win+R，输入 cmd 打开命令提示符，输入 <code>powercfg -a</code> 查看。</p><p>2019 年后生产的电脑，均已采用 S0 睡眠模式，且不支持注册表、组策略方式变更，只能在高级 BIOS 内变更，但大多数厂商均不提供高级 BIOS 解锁。</p><p>S0 睡眠极度耗电且发热严重，相当于关闭屏幕待机，其他部件依然处于工作状态，如果您发现笔记本合盖后风扇依然转动、发热严重、耗电严重，那一定处于 S0 待机模式。</p><p>本文提供了 RedmiBook 锐龙版的高级 BIOS 引导包，如果您使用的是其他厂商的电脑，且厂商未提供高级 BIOS 解锁方式，则无法更改设备睡眠模式，建议使用休眠替代（S4 睡眠）。</p><h1 id="操作环境"><a href="#操作环境" class="headerlink" title="操作环境"></a>操作环境</h1><ul><li>笔记本型号：RedmiBook Pro 15 2021 锐龙版</li><li>处理器型号：AMD Ryzen 5 5600H</li><li>系统版本：Windows 10 企业版 LTSC 21H2（19044.1381）</li></ul><h1 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h1><ul><li>U 盘</li><li><a href="http://o.qianling.pw/f/25078497-754561795-5f04ed?p=320860">RedmiBook（AMD）高级 BIOS.zip</a>（访问密码: 320860）</li></ul><h1 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h1><ol><li>格式化 U 盘为 <code>FAT32</code> 文件系统；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-8.webp">  </li><li>解压 <code>RedmiBook（AMD）高级 BIOS.zip</code>；</li><li>将解压获得的 4 个项目移动至 U 盘，如图所示；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-1.webp">  </li><li>重启电脑，启动时按 F2 进入 BIOS；</li><li>进入「安全菜单」，选择「设定管理员密码」，建议设为 <code>1</code>，方便后续输入；</li><li>设置完密码后，将「安全启动模式」设为「关闭」；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-2.webp"> </li><li>进入「启动菜单」，按下 F5 调换启动设备顺序；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-3.webp">  </li><li>按下 F10 保存并退出 BIOS；</li><li>等待自动重启，此时将自动进入高级 BIOS；</li><li>将 <code>Select Language</code> 对应语言切换为 <code>English</code>，否则无法显示修改项；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-4.webp">  </li><li>进入 <code>Device Manager</code>；</li><li>进入 <code>AMD PBS</code>；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-5.webp">  </li><li>将 <code>S3/Modern Standby Support</code> 设置为 <code>S3 Enable</code>；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-6.webp">  </li><li>按下 Esc 并按下 Y 保存设置；</li><li>再次按下 Esc 返回首页，将语言切换回中文；</li><li>按下 Ctrl+Alt+Delete 重启；</li><li>启动时按下 F2 再次进入 BIOS；</li><li>进入「安全菜单」，将「安全启动模式」设为「关闭」；</li><li>选择「设定管理员密码」，输入旧密码后，新密码及确认密码处留空回车即可删除管理员密码；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-9.webp">  </li><li>进入「启动菜单」，按下 F5 恢复启动设备顺序；</li><li>按下 F10 保存并退出 BIOS；</li><li>等待自动重启，开机后按下 Win+R，输入 cmd 打开命令提示符；</li><li>输入 <code>powercfg -a</code> 查看已启用睡眠状态；<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-7.webp">  </li><li><code>待机（S3）</code>启用则代表修改成功。 </li></ol><h1 id="彩蛋"><a href="#彩蛋" class="headerlink" title="彩蛋"></a>彩蛋</h1><p>出于未知原因，在高级 BIOS 内修改完毕后，启动菜单里出现了 5 个新启动项。<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-10.webp"><br>当选择 <code>UEFI Misc Device 3</code> 后，即使不插入 U 盘，也能进入 高级 BIOS，且 UI 变为 MIUI，支持鼠标操控。<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-14.webp"><br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-13.webp"><br>选择 <code>UEFI Misc Device 5</code> 甚至能够进入 Redmi G BIOS 界面。<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-12.webp"><br>推测与高级 BIOS 内此项 <code>Reset</code> 有关，如想开启高级 BIOS 入口，可尝试 <code>Reset</code> 重置 BIOS。<br><img data-src="/redmibook-s3-enable/redmibook-s3-enable-11.webp">  </p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/267.webp&quot;&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;&lt;center&gt;本文参考自：&lt;a href=&quot;https://zhuanlan.zhihu.com/p/587609347&quot;&gt;睡眠后风扇还在转，鼠标一动就亮屏？电脑只能s0睡眠，不能s3睡眠怎么办？固件bios不支持s3睡眠?RedmiG 高级BIOS（看这篇文章就够了）&lt;/a&gt;&lt;br&gt;作者 @蛋壳 所用型号为 Redmi G 2021 锐龙版。&lt;br&gt;本文机型虽不同，但使用作者提供的高级 BIOS 引导包同样操作成功，推测 RedmiBook 锐龙版均可通用，在此重述步骤并补充部分注意事项。&lt;/center&gt;&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="软件技巧" scheme="https://qianling.pw/categories/%E8%BD%AF%E4%BB%B6%E6%8A%80%E5%B7%A7/"/>
    
    
    <category term="软件技巧" scheme="https://qianling.pw/tags/%E8%BD%AF%E4%BB%B6%E6%8A%80%E5%B7%A7/"/>
    
    <category term="Windows" scheme="https://qianling.pw/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>影视资源挑选与下载方法</title>
    <link href="https://qianling.pw/film-and-tv-resources/"/>
    <id>https://qianling.pw/film-and-tv-resources/</id>
    <published>2022-12-23T02:18:46.000Z</published>
    <updated>2022-12-23T14:43:16.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/18.webp"></p><p><strong><center>网络流传的大部分电影和电视剧资源均为未经许可发行的盗版资源，由于获取视频的来源、方法各不相同，资源质量良莠不齐。<br>本文介绍了影视资源的挑选方法，帮助获取更佳观影体验。</center></strong></p><span id="more"></span><hr><h1 id="命名格式"><a href="#命名格式" class="headerlink" title="命名格式"></a>命名格式</h1><p>标准的影片资源命名中，各部分对应含义如下所示：</p><p>The.Good.the.Bad.and.the.Ugly.1966.EXTENDED.REMASTERED.1080p.BluRay.H264.AAC-RARBG<br>英文片名.发行年份.(加长版).(数字修复).分辨率.片源.视频编码.音频编码-压制组</p><p>英文片名：The.Good.the.Bad.and.the.Ugly<br>发型年份：1966<br>加长版（少数再发行影片）：EXTENDED<br>数字修复（少数再发行影片）：REMASTERED<br>分辨率：1080p<br>片源：BluRay<br>视频编码：H264<br>音频编码：AAC<br>压制组：RARBG</p><h1 id="数字修复"><a href="#数字修复" class="headerlink" title="数字修复"></a>数字修复</h1><p>指修复存储不佳致损的胶片电影并数字化发行，如《大话西游》、《哈利波特》。<br>修复过程大致为：先修复胶片实体，再经数字扫描后使用软件逐帧修复刮痕、颜色、坏点等。<br>电影帧率为每秒 24 帧，时长 2 小时的电影相当于要精修 17.2 万张图，且声音也需要修复，工程量极大，出于胶片质量及修复成本考量，一般仅修复为 2K 分辨率，少数影片才修复为 4k。</p><h1 id="分辨率"><a href="#分辨率" class="headerlink" title="分辨率"></a>分辨率</h1><p>P：纵向像素行数<br>K：横向像素列数<br><img data-src="/film-and-tv-resources/film-and-tv-resources-2.webp">  </p><p>电视分辨率标准：<br>标清：360p、480p<br>高清：720p、1080p（2k）、1440p（2k）<br>超高清：2160p（4k/UHD）、4320p（8k）</p><p>注：若采用 16:9 的显示比例，实际像素并未达到标准 4k 的 4096×2160。</p><p>分辨率越高，文件越大，CPU 计算量越大：<br><img data-src="/film-and-tv-resources/film-and-tv-resources-3.webp"><br><img data-src="/film-and-tv-resources/film-and-tv-resources-4.webp"><br><img data-src="/film-and-tv-resources/film-and-tv-resources-5.webp">  </p><h1 id="片源"><a href="#片源" class="headerlink" title="片源"></a>片源</h1><p>蓝光光碟：Remux、BluRay、BDRip<br>视频网站：WEB-DL、WEBRip<br>高清电视录制：HDTV、HDRip<br>DVD-Video：DVDRip、DVDScr<br>电影院片源有损转录：TC<br>电影院偷录：CAM、TS</p><h1 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h1><p>重编码作品：发布组利用其内部渠道获得的 DVD 或 Bluray-Disc 片源，通过转换视频编码格式压缩体积，封装为 avi、mp4、mkv 文件。</p><p>视频编码：h265、h264、x265、x264<br>音频编码：DTS、DD5.1、AAC、AC3</p><p>264/265 编码视频对比：大小差六倍，视频质量无明显区别。<br><img data-src="/film-and-tv-resources/film-and-tv-resources-6.webp"><br><img data-src="/film-and-tv-resources/film-and-tv-resources-7.png"><br><img data-src="/film-and-tv-resources/film-and-tv-resources-8.png">  </p><h1 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h1><ul><li><a href="https://rarbgprx.org/">RARBG - Torrents , movies , download</a></li></ul><p>下载影片时应观察文件名中所示各参数，综合影片大小挑选。<br><img data-src="/film-and-tv-resources/film-and-tv-resources-9.webp">  </p><h1 id="字幕"><a href="#字幕" class="headerlink" title="字幕"></a>字幕</h1><ul><li><a href="https://assrt.net/">射手网(伪)</a></li><li><a href="https://zmk.pw/">字幕库</a></li><li><a href="https://subhd.tv/">SubHD</a></li><li><a href="https://r3sub.com/">R3SUB</a></li></ul><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>片源优先选择：Remux、BluRay、EXTENDED、REMASTERED。<br>分辨率依显示器大小选择，如手机观影则无须下载 4k 片源，1080P 足矣。<br>体积相近时，1080p 优于 720p、265 编码优于 264 编码、10bit 优于 8bit。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/18.webp&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;center&gt;网络流传的大部分电影和电视剧资源均为未经许可发行的盗版资源，由于获取视频的来源、方法各不相同，资源质量良莠不齐。&lt;br&gt;本文介绍了影视资源的挑选方法，帮助获取更佳观影体验。&lt;/center&gt;&lt;/strong&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="科普" scheme="https://qianling.pw/categories/%E7%A7%91%E6%99%AE/"/>
    
    
    <category term="软件技巧" scheme="https://qianling.pw/tags/%E8%BD%AF%E4%BB%B6%E6%8A%80%E5%B7%A7/"/>
    
    <category term="科普" scheme="https://qianling.pw/tags/%E7%A7%91%E6%99%AE/"/>
    
  </entry>
  
  <entry>
    <title>电商运营数据分析常用宏</title>
    <link href="https://qianling.pw/vba/"/>
    <id>https://qianling.pw/vba/</id>
    <published>2022-11-24T15:18:02.000Z</published>
    <updated>2023-10-30T23:29:09.694Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/268.webp"></p><span id="more"></span><hr><p><strong>可根据注释自行调整参数</strong></p><h1 id="成品"><a href="#成品" class="headerlink" title="成品"></a>成品</h1><h2 id="表"><a href="#表" class="headerlink" title="表"></a>表</h2><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 二维表转一维表()</span><br><span class="line">    <span class="keyword">Dim</span> application <span class="keyword">As</span> <span class="type">Object</span></span><br><span class="line">    <span class="keyword">Dim</span> sh <span class="keyword">As</span> <span class="type">Object</span></span><br><span class="line">    <span class="keyword">Dim</span> rng <span class="keyword">As</span> Range</span><br><span class="line">    <span class="keyword">Dim</span> arr() <span class="keyword">As</span> Variant</span><br><span class="line">    <span class="keyword">Dim</span> crr() <span class="keyword">As</span> Variant</span><br><span class="line">    <span class="keyword">Dim</span> brr() <span class="keyword">As</span> Variant</span><br><span class="line">    <span class="keyword">Dim</span> rng2 <span class="keyword">As</span> Range</span><br><span class="line">    <span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Long</span>, j <span class="keyword">As</span> <span class="type">Long</span>, j2 <span class="keyword">As</span> <span class="type">Long</span>, k <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line">    <span class="keyword">Dim</span> rnum <span class="keyword">As</span> <span class="type">Long</span>, col <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">Set</span> application = GetObject(, <span class="string">&quot;Excel.Application&quot;</span>)</span><br><span class="line">    <span class="keyword">Set</span> sh = application.ActiveSheet</span><br><span class="line">    <span class="keyword">Set</span> rng = application.Selection</span><br><span class="line">    </span><br><span class="line">    arr = rng.Value</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">If</span> rng.Columns.Count = <span class="number">2</span> <span class="keyword">Then</span></span><br><span class="line">        <span class="comment">&#x27; 二列数据转一列数据或一列数据转二列数据</span></span><br><span class="line">        <span class="keyword">If</span> IsNumeric(arr(<span class="number">1</span>, <span class="number">2</span>)) <span class="keyword">Then</span></span><br><span class="line">            <span class="comment">&#x27; 二列数据转一列数据</span></span><br><span class="line">            <span class="keyword">Dim</span> d <span class="keyword">As</span> <span class="type">Object</span></span><br><span class="line">            <span class="keyword">Set</span> d = CreateObject(<span class="string">&quot;Scripting.Dictionary&quot;</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> UBound(arr)</span><br><span class="line">                <span class="keyword">If</span> d.Exists(arr(i, <span class="number">1</span>)) <span class="keyword">Then</span></span><br><span class="line">                    d(arr(i, <span class="number">1</span>)) = d(arr(i, <span class="number">1</span>)) + arr(i, <span class="number">2</span>)</span><br><span class="line">                <span class="keyword">Else</span></span><br><span class="line">                    d(arr(i, <span class="number">1</span>)) = arr(i, <span class="number">2</span>)</span><br><span class="line">                <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">            <span class="keyword">Next</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">Set</span> rng = application.InputBox(<span class="string">&quot;请选择结果存放区域&quot;</span>, <span class="string">&quot;提示&quot;</span>, Type:=<span class="number">8</span>)</span><br><span class="line">            rng.Resize(d.Count, <span class="number">1</span>).Value = application.Transpose(d.Keys)</span><br><span class="line">            rng.Offset(<span class="number">0</span>, <span class="number">1</span>).Resize(d.Count, <span class="number">1</span>).Value = application.Transpose(d.Items)</span><br><span class="line">        <span class="keyword">Else</span></span><br><span class="line">            <span class="comment">&#x27; 一列数据转二列数据</span></span><br><span class="line">            <span class="keyword">Dim</span> t <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">            </span><br><span class="line">            t = arr(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">ReDim</span> brr(UBound(arr) - <span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">For</span> i = <span class="number">2</span> <span class="keyword">To</span> UBound(arr)</span><br><span class="line">                brr(i - <span class="number">2</span>, <span class="number">0</span>) = arr(i, <span class="number">1</span>)</span><br><span class="line">                brr(i - <span class="number">2</span>, <span class="number">1</span>) = t</span><br><span class="line">                brr(i - <span class="number">2</span>, <span class="number">2</span>) = arr(i, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">Next</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">Set</span> rng = application.InputBox(<span class="string">&quot;请选择结果存放区域&quot;</span>, <span class="string">&quot;提示&quot;</span>, Type:=<span class="number">8</span>)</span><br><span class="line">            rng.Resize(UBound(arr) - <span class="number">1</span>, <span class="number">3</span>).Value = brr</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">GoTo</span> EndSub</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&#x27; 二维表格数据转一维表格数据</span></span><br><span class="line">    <span class="keyword">If</span> IsNumeric(arr(<span class="number">2</span>, <span class="number">2</span>)) <span class="keyword">Then</span></span><br><span class="line">        <span class="keyword">Set</span> rng2 = rng.Offset(<span class="number">0</span>, <span class="number">1</span>).Resize(<span class="number">1</span>, UBound(arr, <span class="number">2</span>) - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">Else</span></span><br><span class="line">        <span class="keyword">Set</span> rng2 = application.InputBox(<span class="string">&quot;请选择数据对应的标题字段&quot;</span>, <span class="string">&quot;提示&quot;</span>, Type:=<span class="number">8</span>)</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">If</span> rng2.Row &lt;&gt; rng.Row <span class="keyword">Then</span></span><br><span class="line">        MsgBox <span class="string">&quot;标题行错误&quot;</span></span><br><span class="line">        <span class="keyword">GoTo</span> EndSub</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">    </span><br><span class="line">    brr = rng2.Value</span><br><span class="line">    rnum = rng2.Rows.Count</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">If</span> rnum &gt; <span class="number">2</span> <span class="keyword">Then</span></span><br><span class="line">        MsgBox <span class="string">&quot;最多只能选择2行&quot;</span>, , <span class="string">&quot;提示&quot;</span></span><br><span class="line">        <span class="keyword">GoTo</span> EndSub</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">    </span><br><span class="line">    col = rng2.Column - rng.Column + <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">If</span> rnum &gt; <span class="number">1</span> <span class="keyword">Then</span></span><br><span class="line">        <span class="keyword">For</span> i = <span class="number">2</span> <span class="keyword">To</span> UBound(brr, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">If</span> brr(<span class="number">1</span>, i) = <span class="string">&quot;&quot;</span> <span class="keyword">Then</span> brr(<span class="number">1</span>, i) = brr(<span class="number">1</span>, i - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">Next</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">ReDim</span> <span class="keyword">Preserve</span> crr((UBound(arr) - rnum) * UBound(brr, <span class="number">2</span>) - <span class="number">1</span>, col)</span><br><span class="line">    k = -<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">For</span> i = rnum + <span class="number">1</span> <span class="keyword">To</span> UBound(arr)</span><br><span class="line">        <span class="keyword">For</span> j = <span class="number">1</span> <span class="keyword">To</span> UBound(brr, <span class="number">2</span>)</span><br><span class="line">            k = k + <span class="number">1</span></span><br><span class="line">            <span class="keyword">For</span> j2 = <span class="number">1</span> <span class="keyword">To</span> col - <span class="number">1</span></span><br><span class="line">                crr(k, j2 - <span class="number">1</span>) = arr(i, j2)</span><br><span class="line">            <span class="keyword">Next</span></span><br><span class="line">            crr(k, col - <span class="number">1</span>) = brr(<span class="number">1</span>, j)</span><br><span class="line">            crr(k, col) = arr(i, col + j - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">Next</span></span><br><span class="line">    <span class="keyword">Next</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">Set</span> rng = application.InputBox(<span class="string">&quot;请选择结果存放区域&quot;</span>, <span class="string">&quot;提示&quot;</span>, Type:=<span class="number">8</span>)</span><br><span class="line">    rng.Resize(UBound(crr) + <span class="number">1</span>, UBound(crr, <span class="number">2</span>) + <span class="number">1</span>).Value = crr</span><br><span class="line">    </span><br><span class="line"><span class="symbol">EndSub:</span></span><br><span class="line">    <span class="keyword">Set</span> application = <span class="literal">Nothing</span></span><br><span class="line">    <span class="keyword">Set</span> sh = <span class="literal">Nothing</span></span><br><span class="line">    <span class="keyword">Set</span> rng = <span class="literal">Nothing</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 删除包含关键词的行()</span><br><span class="line">    <span class="keyword">Dim</span> lastRow <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line">    <span class="keyword">Dim</span> cellValue <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">    <span class="keyword">Dim</span> keywords() <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">    <span class="keyword">Dim</span> k <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line">    <span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&#x27;设置要删除的关键词</span></span><br><span class="line">    keywords = Split(<span class="string">&quot;关键词1,关键词2&quot;</span>, <span class="string">&quot;,&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">&#x27;获取 A 列的最后一行</span></span><br><span class="line">    lastRow = Cells(Rows.Count, <span class="number">1</span>).<span class="keyword">End</span>(xlUp).Row</span><br><span class="line">    </span><br><span class="line">    <span class="comment">&#x27;遍历 A 列的每个单元格</span></span><br><span class="line">    <span class="keyword">For</span> i = lastRow <span class="keyword">To</span> <span class="number">1</span> <span class="keyword">Step</span> -<span class="number">1</span></span><br><span class="line">        cellValue = Cells(i, <span class="number">1</span>).Value</span><br><span class="line">        </span><br><span class="line">        <span class="comment">&#x27;检查单元格值是否包含任何一个关键词</span></span><br><span class="line">        <span class="keyword">For</span> k = <span class="number">0</span> <span class="keyword">To</span> UBound(keywords)</span><br><span class="line">            <span class="keyword">If</span> InStr(<span class="number">1</span>, cellValue, keywords(k), vbTextCompare) &gt; <span class="number">0</span> <span class="keyword">Then</span></span><br><span class="line">                <span class="comment">&#x27;如果包含关键词，则删除该行</span></span><br><span class="line">                Rows(i).Delete</span><br><span class="line">                <span class="keyword">Exit</span> <span class="keyword">For</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span> k</span><br><span class="line">    <span class="keyword">Next</span> i</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 日期格式标准化()</span><br><span class="line">    <span class="comment">&#x27;将形如20231026的单元格改为2023/10/26标准日期格式</span></span><br><span class="line">    <span class="keyword">For</span> <span class="keyword">Each</span> cell <span class="keyword">In</span> Range(<span class="string">&quot;A2:A&quot;</span> &amp; Cells(Rows.Count, <span class="number">1</span>).<span class="keyword">End</span>(xlUp).Row)</span><br><span class="line">        cell.Value = Format(DateSerial(Left(cell.Value, <span class="number">4</span>), <span class="keyword">Mid</span>(cell.Value, <span class="number">5</span>, <span class="number">2</span>), Right(cell.Value, <span class="number">2</span>)), <span class="string">&quot;YYYY/MM/DD&quot;</span>)</span><br><span class="line">    <span class="keyword">Next</span> cell</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 数字格式标准化()</span><br><span class="line">    <span class="comment">&#x27;&lt;声明变量类型 Begin&gt;</span></span><br><span class="line">    <span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line">    <span class="keyword">Dim</span> lastCell <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">    <span class="keyword">Dim</span> cell <span class="keyword">As</span> Range</span><br><span class="line">    <span class="comment">&#x27;&lt;声明变量类型 End&gt;</span></span><br><span class="line">    <span class="comment">&#x27;&lt;关闭屏幕刷新、警告框、更新链接窗口 Begin&gt;</span></span><br><span class="line">    application.ScreenUpdating = <span class="literal">False</span></span><br><span class="line">    application.DisplayAlerts = <span class="literal">False</span></span><br><span class="line">    application.AskToUpdateLinks = <span class="literal">False</span></span><br><span class="line">    <span class="comment">&#x27;&lt;关闭屏幕刷新、警告框、更新链接窗口 End&gt;</span></span><br><span class="line">    <span class="comment">&#x27;&lt;取消以文本形式储存的数字 Begin&gt;</span></span><br><span class="line">    <span class="keyword">With</span> ActiveSheet.UsedRange</span><br><span class="line">      <span class="keyword">For</span> i = <span class="number">1</span> <span class="keyword">To</span> .Columns.Count <span class="comment">&#x27;遍历每一列</span></span><br><span class="line">        <span class="keyword">Dim</span> maxLen <span class="keyword">As</span> <span class="type">Long</span> <span class="comment">&#x27;定义一个变量存储最大长度</span></span><br><span class="line">        maxLen = <span class="number">0</span> <span class="comment">&#x27;初始化为0</span></span><br><span class="line">        <span class="keyword">For</span> <span class="keyword">Each</span> cell <span class="keyword">In</span> .Columns(i).Cells <span class="comment">&#x27;遍历每一列的单元格</span></span><br><span class="line">          <span class="keyword">If</span> Len(cell.Value) &gt; maxLen <span class="keyword">Then</span> <span class="comment">&#x27;如果单元格内容长度大于最大长度</span></span><br><span class="line">            maxLen = Len(cell.Value) <span class="comment">&#x27;更新最大长度</span></span><br><span class="line">          <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span> cell</span><br><span class="line">        <span class="keyword">If</span> maxLen &lt;= <span class="number">15</span> <span class="keyword">Then</span> <span class="comment">&#x27;判断最大长度</span></span><br><span class="line">          .Columns(i).Value = .Columns(i).Value <span class="comment">&#x27;取消以文本形式储存的数字</span></span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">      <span class="keyword">Next</span> i</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">    <span class="comment">&#x27;&lt;取消以文本形式储存的数字 End&gt;</span></span><br><span class="line">    <span class="comment">&#x27;&lt;自动调整行高、列宽 Begin&gt;</span></span><br><span class="line">    Cells.EntireColumn.AutoFit</span><br><span class="line">    Cells.EntireRow.AutoFit</span><br><span class="line">    <span class="comment">&#x27;&lt;自动调整行高、列宽 End&gt;</span></span><br><span class="line">    <span class="comment">&#x27;&lt;恢复屏幕刷新 Begin&gt;</span></span><br><span class="line">    application.ScreenUpdating = <span class="literal">True</span></span><br><span class="line">    <span class="comment">&#x27;&lt;恢复屏幕刷新 End&gt;</span></span><br><span class="line">    <span class="comment">&#x27;&lt;保存 Begin&gt;</span></span><br><span class="line">    ActiveWorkbook.Save</span><br><span class="line">    <span class="comment">&#x27;&lt;保存 End&gt;</span></span><br><span class="line">    <span class="comment">&#x27;&lt;复制表头外全域数据 Begin&gt;</span></span><br><span class="line">    ActiveSheet.Range(<span class="string">&quot;A2:&quot;</span> &amp; Cells(Rows.Count, ActiveSheet.UsedRange.Columns.Count).<span class="keyword">End</span>(xlUp).Address).Copy</span><br><span class="line">    <span class="comment">&#x27;&lt;复制表头外全域数据 End&gt;</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 自动调整行高·列宽()</span><br><span class="line">    Cells.EntireColumn.AutoFit</span><br><span class="line">    Cells.EntireRow.AutoFit</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 跨列居中()</span><br><span class="line">    Selection.UnMerge</span><br><span class="line">    <span class="keyword">With</span> Selection</span><br><span class="line">        .HorizontalAlignment = xlCenterAcrossSelection</span><br><span class="line">        .VerticalAlignment = xlCenter</span><br><span class="line">        .WrapText = <span class="literal">False</span></span><br><span class="line">        .Orientation = <span class="number">0</span></span><br><span class="line">        .AddIndent = <span class="literal">False</span></span><br><span class="line">        .IndentLevel = <span class="number">0</span></span><br><span class="line">        .ShrinkToFit = <span class="literal">False</span></span><br><span class="line">        .ReadingOrder = xlContext</span><br><span class="line">        .MergeCells = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 工作表名称替换()</span><br><span class="line">    <span class="keyword">Dim</span> ws <span class="keyword">As</span> Worksheet</span><br><span class="line"></span><br><span class="line">    <span class="keyword">For</span> <span class="keyword">Each</span> ws <span class="keyword">In</span> ActiveWorkbook.Worksheets</span><br><span class="line">        ws.Name = Replace(ws.Name, <span class="string">&quot;0501-0507&quot;</span>, <span class="string">&quot;19&quot;</span>)</span><br><span class="line">        ws.Name = Replace(ws.Name, <span class="string">&quot;0508-0514&quot;</span>, <span class="string">&quot;20&quot;</span>)</span><br><span class="line">        ws.Name = Replace(ws.Name, <span class="string">&quot;0515-0521&quot;</span>, <span class="string">&quot;21&quot;</span>)</span><br><span class="line">        ws.Name = Replace(ws.Name, <span class="string">&quot;0522-0528&quot;</span>, <span class="string">&quot;22&quot;</span>)</span><br><span class="line">        ws.Name = Replace(ws.Name, <span class="string">&quot;0529-0604&quot;</span>, <span class="string">&quot;23&quot;</span>)</span><br><span class="line">        ws.Name = Replace(ws.Name, <span class="string">&quot;0605-0611&quot;</span>, <span class="string">&quot;24&quot;</span>)</span><br><span class="line">    <span class="keyword">Next</span> ws</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><h2 id="数据透视表"><a href="#数据透视表" class="headerlink" title="数据透视表"></a>数据透视表</h2><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 去除数据透视表字段标题前缀()</span><br><span class="line">    <span class="keyword">Dim</span> pt <span class="keyword">As</span> PivotTable</span><br><span class="line">    <span class="keyword">Dim</span> CT <span class="keyword">As</span> PivotField</span><br><span class="line">    <span class="keyword">For</span> <span class="keyword">Each</span> pt <span class="keyword">In</span> ActiveSheet.PivotTables</span><br><span class="line">        <span class="keyword">For</span> <span class="keyword">Each</span> CT <span class="keyword">In</span> pt.DataFields</span><br><span class="line">            <span class="keyword">With</span> CT</span><br><span class="line">                <span class="keyword">If</span> Left(.Caption, <span class="number">3</span>) = <span class="string">&quot;求和项&quot;</span> <span class="keyword">Then</span> .Caption = Right(.Caption, Len(.Caption) - <span class="number">4</span>) &amp; <span class="string">&quot; &quot;</span></span><br><span class="line">                <span class="keyword">If</span> Left(.Caption, <span class="number">3</span>) = <span class="string">&quot;计数项&quot;</span> <span class="keyword">Then</span> .Caption = Right(.Caption, Len(.Caption) - <span class="number">4</span>) &amp; <span class="string">&quot; &quot;</span></span><br><span class="line">                <span class="keyword">If</span> Left(.Caption, <span class="number">4</span>) = <span class="string">&quot;平均值项&quot;</span> <span class="keyword">Then</span> .Caption = Right(.Caption, Len(.Caption) - <span class="number">5</span>) &amp; <span class="string">&quot; &quot;</span></span><br><span class="line">                <span class="keyword">If</span> Left(.Caption, <span class="number">4</span>) = <span class="string">&quot;最大值项&quot;</span> <span class="keyword">Then</span> .Caption = Right(.Caption, Len(.Caption) - <span class="number">5</span>) &amp; <span class="string">&quot; &quot;</span></span><br><span class="line">                <span class="keyword">If</span> Left(.Caption, <span class="number">4</span>) = <span class="string">&quot;最小值项&quot;</span> <span class="keyword">Then</span> .Caption = Right(.Caption, Len(.Caption) - <span class="number">5</span>) &amp; <span class="string">&quot; &quot;</span></span><br><span class="line">                <span class="keyword">If</span> Left(.Caption, <span class="number">3</span>) = <span class="string">&quot;=乘积项&quot;</span> <span class="keyword">Then</span> .Caption = Right(.Caption, Len(.Caption) - <span class="number">4</span>) &amp; <span class="string">&quot; &quot;</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">        <span class="keyword">Next</span> CT</span><br><span class="line">    <span class="keyword">Next</span> pt</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 隐藏数据透视表字段标题前缀()</span><br><span class="line">    <span class="keyword">Dim</span> pt <span class="keyword">As</span> PivotTable</span><br><span class="line">    <span class="keyword">Dim</span> pf <span class="keyword">As</span> PivotField</span><br><span class="line">    <span class="keyword">Dim</span> cellContent <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&#x27;遍历活动工作表上的所有数据透视表</span></span><br><span class="line">    <span class="keyword">For</span> <span class="keyword">Each</span> pt <span class="keyword">In</span> ActiveSheet.PivotTables</span><br><span class="line">        <span class="comment">&#x27;选择每个数据透视表的字段标题</span></span><br><span class="line">        <span class="keyword">For</span> <span class="keyword">Each</span> pf <span class="keyword">In</span> pt.DataFields</span><br><span class="line">            pf.LabelRange.<span class="keyword">Select</span></span><br><span class="line">            cellContent = Selection.Value</span><br><span class="line">            <span class="keyword">If</span> InStr(cellContent, <span class="string">&quot;:&quot;</span>) &gt; <span class="number">0</span> <span class="keyword">Then</span></span><br><span class="line">                <span class="keyword">Dim</span> textAfterColon <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">                textAfterColon = Trim(<span class="keyword">Mid</span>(cellContent, InStr(cellContent, <span class="string">&quot;:&quot;</span>) + <span class="number">1</span>))</span><br><span class="line">                Selection.NumberFormatLocal = <span class="string">&quot;\:;;;&quot;&quot;&quot;</span> &amp; textAfterColon &amp; <span class="string">&quot;&quot;&quot;&quot;</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span> pf</span><br><span class="line">    <span class="keyword">Next</span> pt</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 刷新工作簿内所有数据透视表()</span><br><span class="line">    <span class="keyword">Dim</span> oWB  <span class="keyword">As</span> Workbook</span><br><span class="line">    <span class="keyword">Set</span> oWB = Excel.ActiveWorkbook</span><br><span class="line">    oWB.RefreshAll</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 数据透视表字段添加条件格式()</span><br><span class="line">    <span class="keyword">If</span> Selection.FormatConditions.Count &gt; <span class="number">0</span> <span class="keyword">Then</span></span><br><span class="line">            <span class="keyword">Dim</span> selectedCell <span class="keyword">As</span> Range</span><br><span class="line">            <span class="keyword">Dim</span> pt <span class="keyword">As</span> PivotTable</span><br><span class="line">            <span class="keyword">Dim</span> ptField <span class="keyword">As</span> PivotField</span><br><span class="line">            <span class="keyword">Dim</span> dataRange <span class="keyword">As</span> Range</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">Set</span> selectedCell = ActiveCell</span><br><span class="line">            <span class="keyword">Set</span> pt = selectedCell.PivotTable</span><br><span class="line">            <span class="keyword">Set</span> ptField = pt.PivotFields(selectedCell.PivotField.Name)</span><br><span class="line">            <span class="keyword">Set</span> dataRange = ptField.dataRange</span><br><span class="line">            </span><br><span class="line">            dataRange.FormatConditions.Delete</span><br><span class="line">        <span class="keyword">Else</span></span><br><span class="line">            Selection.FormatConditions.AddDatabar</span><br><span class="line">            Selection.FormatConditions(Selection.FormatConditions.Count).ShowValue = <span class="literal">True</span></span><br><span class="line">            Selection.FormatConditions(Selection.FormatConditions.Count).SetFirstPriority</span><br><span class="line">            <span class="keyword">With</span> Selection.FormatConditions(<span class="number">1</span>)</span><br><span class="line">                .MinPoint.Modify newtype:=xlConditionValueAutomaticMin</span><br><span class="line">                .MaxPoint.Modify newtype:=xlConditionValueAutomaticMax</span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">            <span class="keyword">With</span> Selection.FormatConditions(<span class="number">1</span>).BarColor</span><br><span class="line">                .Color = <span class="number">13012579</span></span><br><span class="line">                .TintAndShade = <span class="number">0</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">            Selection.FormatConditions(<span class="number">1</span>).BarFillType = xlDataBarFillSolid</span><br><span class="line">            Selection.FormatConditions(<span class="number">1</span>).Direction = xlContext</span><br><span class="line">            Selection.FormatConditions(<span class="number">1</span>).NegativeBarFormat.ColorType = xlDataBarColor</span><br><span class="line">            Selection.FormatConditions(<span class="number">1</span>).BarBorder.Type = xlDataBarBorderNone</span><br><span class="line">            Selection.FormatConditions(<span class="number">1</span>).AxisPosition = xlDataBarAxisAutomatic</span><br><span class="line">            <span class="keyword">With</span> Selection.FormatConditions(<span class="number">1</span>).AxisColor</span><br><span class="line">                .Color = <span class="number">0</span></span><br><span class="line">                .TintAndShade = <span class="number">0</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">            <span class="keyword">With</span> Selection.FormatConditions(<span class="number">1</span>).NegativeBarFormat.Color</span><br><span class="line">                .Color = <span class="number">255</span></span><br><span class="line">                .TintAndShade = <span class="number">0</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">            Selection.FormatConditions(<span class="number">1</span>).ScopeType = xlSelectionScope</span><br><span class="line">            Selection.FormatConditions(<span class="number">1</span>).ScopeType = xlFieldsScope</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 修改单元格格式()</span><br><span class="line">    <span class="keyword">Dim</span> currentColumn <span class="keyword">As</span> Range</span><br><span class="line">    <span class="keyword">Dim</span> pt <span class="keyword">As</span> PivotTable</span><br><span class="line">    <span class="keyword">Dim</span> pf <span class="keyword">As</span> PivotField</span><br><span class="line">    <span class="keyword">Dim</span> strFormat <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">    <span class="keyword">Dim</span> intChoice <span class="keyword">As</span> <span class="type">Integer</span></span><br><span class="line"></span><br><span class="line">    intChoice = application.InputBox(<span class="string">&quot;请选择需要的格式：&quot;</span> &amp; vbCrLf &amp; _</span><br><span class="line">        <span class="string">&quot;1. 整数&quot;</span> &amp; vbCrLf &amp; _</span><br><span class="line">        <span class="string">&quot;2. 保留一位小数&quot;</span> &amp; vbCrLf &amp; _</span><br><span class="line">        <span class="string">&quot;3. 保留两位小数&quot;</span> &amp; vbCrLf &amp; _</span><br><span class="line">        <span class="string">&quot;4. 保留一位小数并添加万后缀&quot;</span> &amp; vbCrLf &amp; _</span><br><span class="line">        <span class="string">&quot;5. 保留一位小数并添加w后缀&quot;</span> &amp; vbCrLf &amp; _</span><br><span class="line">        <span class="string">&quot;6. 整数百分比&quot;</span> &amp; vbCrLf &amp; _</span><br><span class="line">        <span class="string">&quot;7. 保留一位小数的百分比&quot;</span> &amp; vbCrLf &amp; _</span><br><span class="line">        <span class="string">&quot;8. 保留两位小数的百分比&quot;</span>, <span class="string">&quot;格式选择&quot;</span>, Type:=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">Select</span> <span class="keyword">Case</span> intChoice</span><br><span class="line">        <span class="keyword">Case</span> <span class="number">1</span></span><br><span class="line">            strFormat = <span class="string">&quot;0&quot;</span></span><br><span class="line">        <span class="keyword">Case</span> <span class="number">2</span></span><br><span class="line">            strFormat = <span class="string">&quot;0.0&quot;</span></span><br><span class="line">        <span class="keyword">Case</span> <span class="number">3</span></span><br><span class="line">            strFormat = <span class="string">&quot;0.00&quot;</span></span><br><span class="line">        <span class="keyword">Case</span> <span class="number">4</span></span><br><span class="line">            strFormat = <span class="string">&quot;0\.0,&quot;&quot;万&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">Case</span> <span class="number">5</span></span><br><span class="line">            strFormat = <span class="string">&quot;0\.0,&quot;&quot;w&quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">Case</span> <span class="number">6</span></span><br><span class="line">            strFormat = <span class="string">&quot;0%&quot;</span></span><br><span class="line">        <span class="keyword">Case</span> <span class="number">7</span></span><br><span class="line">            strFormat = <span class="string">&quot;0.0%&quot;</span></span><br><span class="line">        <span class="keyword">Case</span> <span class="number">8</span></span><br><span class="line">            strFormat = <span class="string">&quot;0.00%&quot;</span></span><br><span class="line">        <span class="keyword">Case</span> <span class="keyword">Else</span></span><br><span class="line">            <span class="keyword">Exit</span> <span class="keyword">Sub</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">Select</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">If</span> <span class="built_in">Not</span> pt <span class="built_in">Is</span> <span class="literal">Nothing</span> <span class="keyword">Then</span></span><br><span class="line">        <span class="comment">&#x27; 修改选中单元格所在数据透视表字段格式</span></span><br><span class="line">        <span class="keyword">Set</span> pf = ActiveCell.PivotField</span><br><span class="line">        <span class="keyword">With</span> pt.PivotFields(pf.Name)</span><br><span class="line">            .NumberFormat = strFormat</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">    <span class="keyword">Else</span></span><br><span class="line">        <span class="comment">&#x27; 修改选中单元格所在已使用区域∩所在列区域格式</span></span><br><span class="line">        <span class="keyword">Set</span> currentColumn = Selection.Cells(<span class="number">1</span>).CurrentRegion</span><br><span class="line">        <span class="keyword">If</span> VarType(currentColumn.Cells(<span class="number">1</span>, <span class="number">1</span>).Value) = vbString <span class="keyword">Then</span></span><br><span class="line">            <span class="keyword">Set</span> currentColumn = currentColumn.Offset(<span class="number">1</span>).Resize(currentColumn.Rows.Count - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        Intersect(currentColumn, Selection.Cells(<span class="number">1</span>).EntireColumn).<span class="keyword">Select</span></span><br><span class="line">        Selection.NumberFormat = strFormat</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><h2 id="图"><a href="#图" class="headerlink" title="图"></a>图</h2><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 折线统计图线条设为平滑线()</span><br><span class="line">    <span class="keyword">Dim</span> cht <span class="keyword">As</span> ChartObject</span><br><span class="line">    <span class="keyword">Dim</span> ser <span class="keyword">As</span> Series</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">For</span> <span class="keyword">Each</span> cht <span class="keyword">In</span> ActiveSheet.ChartObjects</span><br><span class="line">        <span class="keyword">For</span> <span class="keyword">Each</span> ser <span class="keyword">In</span> cht.Chart.SeriesCollection</span><br><span class="line">            ser.Smooth = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">Next</span> ser</span><br><span class="line">    <span class="keyword">Next</span> cht</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 折线统计图线条设为带数据标记的折线图和平滑线()</span><br><span class="line">    <span class="keyword">Dim</span> cht <span class="keyword">As</span> ChartObject</span><br><span class="line">    <span class="keyword">Dim</span> ser <span class="keyword">As</span> Series</span><br><span class="line"></span><br><span class="line">    <span class="keyword">For</span> <span class="keyword">Each</span> cht <span class="keyword">In</span> ActiveSheet.ChartObjects</span><br><span class="line">        <span class="keyword">For</span> <span class="keyword">Each</span> ser <span class="keyword">In</span> cht.Chart.SeriesCollection</span><br><span class="line">            <span class="keyword">If</span> ser.ChartType = xlLine <span class="keyword">Then</span></span><br><span class="line">                ser.ChartType = xlLineMarkers</span><br><span class="line">                ser.Smooth = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">        <span class="keyword">Next</span> ser</span><br><span class="line">    <span class="keyword">Next</span> cht</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 折线开端添加系列名称()</span><br><span class="line">    <span class="keyword">Dim</span> srs <span class="keyword">As</span> Series</span><br><span class="line">    <span class="keyword">For</span> <span class="keyword">Each</span> srs <span class="keyword">In</span> ActiveChart.SeriesCollection</span><br><span class="line">        srs.Points(<span class="number">1</span>).<span class="keyword">Select</span></span><br><span class="line">        Selection.ApplyDataLabels</span><br><span class="line">        <span class="keyword">With</span> Selection.DataLabel</span><br><span class="line">            .Position = xlLabelPositionLeft</span><br><span class="line">            .NumberFormat = <span class="string">&quot;General&quot;</span></span><br><span class="line">            .Caption = srs.Name</span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">    <span class="keyword">Next</span> srs</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><h2 id="单元格"><a href="#单元格" class="headerlink" title="单元格"></a>单元格</h2><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 提取选区公式()</span><br><span class="line">    <span class="comment">&#x27; 需 Alt+F11-工具-引用-浏览：&quot;C:\Windows\System32\FM20.DLL&quot;，启用 Microsoft Forms 2.0 Object Library</span></span><br><span class="line">    <span class="comment">&#x27; 此宏从选区提取公式并写入剪贴板</span></span><br><span class="line">    <span class="keyword">Dim</span> rng <span class="keyword">As</span> Range <span class="comment">&#x27; 选定范围</span></span><br><span class="line">    <span class="keyword">Dim</span> cell <span class="keyword">As</span> Range <span class="comment">&#x27; 选定范围内每个单元格</span></span><br><span class="line">    <span class="keyword">Dim</span> formula <span class="keyword">As</span> <span class="type">String</span> <span class="comment">&#x27; 每个单元格的公式</span></span><br><span class="line">    <span class="keyword">Dim</span> formulas <span class="keyword">As</span> <span class="type">String</span> <span class="comment">&#x27; 所有单元格的连接公式</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">Set</span> rng = Selection <span class="comment">&#x27; 设置选定范围</span></span><br><span class="line">    formulas = <span class="string">&quot;&quot;</span> <span class="comment">&#x27; 初始化公式字符串</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&#x27; 循环遍历选定范围内每个单元格</span></span><br><span class="line">    <span class="keyword">For</span> <span class="keyword">Each</span> cell <span class="keyword">In</span> rng</span><br><span class="line">        formula = cell.formula <span class="comment">&#x27; 获取当前单元格公式</span></span><br><span class="line">        <span class="keyword">If</span> formula &lt;&gt; <span class="string">&quot;&quot;</span> <span class="keyword">Then</span> <span class="comment">&#x27; 如果单元格不为空</span></span><br><span class="line">            formulas = formulas &amp; cell.Address &amp; <span class="string">&quot;: &quot;</span> &amp; formula &amp; vbNewLine <span class="comment">&#x27; 连接单元格地址和公式</span></span><br><span class="line">        <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line">    <span class="keyword">Next</span> cell</span><br><span class="line">    </span><br><span class="line">    <span class="comment">&#x27; 将公式复制到剪贴板</span></span><br><span class="line">    <span class="keyword">Dim</span> obj <span class="keyword">As</span> <span class="built_in">New</span> DataObject</span><br><span class="line">    obj.SetText formulas</span><br><span class="line">    obj.PutInClipboard</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><h1 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h1><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;禁用文档检查器 Begin&gt;</span></span><br><span class="line">ActiveWorkbook.RemovePersonalInformation = <span class="literal">False</span> <span class="comment">&#x27;禁止保存时弹出“请注意！文档的部分内容可能包含文档检查器无法删除的个人信息。”</span></span><br><span class="line"><span class="comment">&#x27;&lt;禁用文档检查器 End&gt;</span></span><br><span class="line"><span class="comment">&#x27;&lt;保存当前工作簿 Begin&gt;</span></span><br><span class="line">ActiveWorkbook.Save</span><br><span class="line"><span class="comment">&#x27;&lt;保存当前工作簿 End&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;禁止屏幕刷新、警告框、更新链接窗口 Begin&gt;</span></span><br><span class="line">Application.ScreenUpdating = <span class="literal">False</span></span><br><span class="line">Application.DisplayAlerts = <span class="literal">False</span></span><br><span class="line">Application.AskToUpdateLinks = <span class="literal">False</span></span><br><span class="line"><span class="comment">&#x27;&lt;禁止屏幕刷新、警告框、更新链接窗口 End&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;筛选-时间顺序排列 Begin&gt;</span></span><br><span class="line">Cells.AutoFilter</span><br><span class="line">Application.ActiveSheet.AutoFilter.Sort.SortFields.Add <span class="keyword">Key</span>:=Range( _</span><br><span class="line">    <span class="string">&quot;A1&quot;</span>), SortOn:=xlSortOnValues, <span class="keyword">Order</span>:=xlAscending, DataOption:= _</span><br><span class="line">    xlSortNormal</span><br><span class="line"><span class="keyword">With</span> Application.ActiveSheet.AutoFilter.Sort</span><br><span class="line">    .Header = xlYes</span><br><span class="line">    .MatchCase = <span class="literal">False</span></span><br><span class="line">    .Orientation = xlTopToBottom</span><br><span class="line">    .SortMethod = xlPinYin</span><br><span class="line">    .Apply</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line"><span class="comment">&#x27;&lt;筛选-时间顺序排列 End&gt;</span></span><br><span class="line"><span class="comment">&#x27;&lt;筛选-时间降序排列 Begin&gt;</span></span><br><span class="line">Cells.AutoFilter</span><br><span class="line">Application.ActiveSheet.AutoFilter.Sort.SortFields.Add2 <span class="keyword">Key</span>:= _</span><br><span class="line">    Range(<span class="string">&quot;A1&quot;</span>), SortOn:=xlSortOnValues, <span class="keyword">Order</span>:=xlDescending, DataOption _</span><br><span class="line">    :=xlSortNormal</span><br><span class="line"><span class="keyword">With</span> Application.ActiveSheet.AutoFilter.Sort</span><br><span class="line">    .Header = xlYes</span><br><span class="line">    .MatchCase = <span class="literal">False</span></span><br><span class="line">    .Orientation = xlTopToBottom</span><br><span class="line">    .SortMethod = xlPinYin</span><br><span class="line">    .Apply</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line"><span class="comment">&#x27;&lt;筛选-时间降序排列 End&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;定位A列中首个空单元格 Begin&gt;</span></span><br><span class="line">Cells(Rows.Count, <span class="string">&quot;A&quot;</span>).<span class="keyword">End</span>(xlUp).Offset(<span class="number">1</span>, <span class="number">0</span>).<span class="keyword">Select</span></span><br><span class="line"><span class="comment">&#x27;&lt;定位A列中首个空单元格 End&gt;</span></span><br><span class="line"><span class="comment">&#x27;&lt;定位第22行中首个空单元格 Begin&gt;</span></span><br><span class="line">Range(<span class="string">&quot;XFD22&quot;</span>).<span class="keyword">End</span>(xlToLeft).Offset(<span class="number">0</span>, <span class="number">1</span>).<span class="keyword">Select</span></span><br><span class="line"><span class="comment">&#x27;&lt;定位第22行中首个空单元格 End&gt;</span></span><br><span class="line"><span class="comment">&#x27;&lt;选择E2到D列末尾单元格区域 Begin&gt;</span></span><br><span class="line">Range(<span class="string">&quot;E2:D&quot;</span> &amp; [e65536].<span class="keyword">End</span>(xlUp).Row).<span class="keyword">Select</span></span><br><span class="line"><span class="comment">&#x27;&lt;选择E2到D列末尾单元格区域 End&gt;</span></span><br><span class="line"><span class="comment">&#x27;&lt;复制E2到BE列末尾单元格区域 Begin&gt;</span></span><br><span class="line">Range(<span class="string">&quot;A1:BE&quot;</span> &amp; [e65536].<span class="keyword">End</span>(xlUp).Row).Copy</span><br><span class="line"><span class="comment">&#x27;&lt;复制E2到BE列末尾单元格区域 End&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;删除非当前月数据 Begin&gt;</span></span><br><span class="line"><span class="keyword">Dim</span> currentMonth <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">currentMonth = Format(<span class="type">Date</span>, <span class="string">&quot;mm&quot;</span>)</span><br><span class="line"><span class="keyword">Dim</span> i <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line"><span class="keyword">For</span> i = Range(<span class="string">&quot;D&quot;</span> &amp; Rows.Count).<span class="keyword">End</span>(xlUp).Row <span class="keyword">To</span> <span class="number">2</span> <span class="keyword">Step</span> -<span class="number">1</span> <span class="comment">&#x27;从 D 列的最后一行开始循环到 D2</span></span><br><span class="line">    <span class="keyword">Dim</span> month <span class="keyword">As</span> <span class="type">String</span></span><br><span class="line">    month = <span class="keyword">Mid</span>(Cells(i, <span class="number">4</span>).Value, <span class="number">6</span>, <span class="number">2</span>) <span class="comment">&#x27;截取 D 列当前行的月份</span></span><br><span class="line">    <span class="keyword">If</span> month &lt;&gt; currentMonth <span class="keyword">Then</span></span><br><span class="line">      Rows(i).Delete</span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">If</span></span><br><span class="line"><span class="keyword">Next</span> i</span><br><span class="line"><span class="comment">&#x27;&lt;删除非当前月数据 End&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;清除选中单元格公式 Begin&gt;</span></span><br><span class="line"><span class="keyword">For</span> <span class="keyword">Each</span> Cell <span class="keyword">In</span> ActiveSheet.UsedRange</span><br><span class="line"><span class="keyword">If</span> Cell.HasFormula <span class="keyword">Then</span> Cell.Formula = Cell.Value</span><br><span class="line"><span class="keyword">Next</span> Cell</span><br><span class="line"><span class="comment">&#x27;&lt;清除选中单元格公式 End&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;取消选中 Begin&gt;</span></span><br><span class="line">SendKeys<span class="string">&quot;&#123;ESC&#125;&quot;</span></span><br><span class="line"><span class="comment">&#x27;&lt;取消选中 End&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;选择 F 列到 AM 列已使用行 Begin&gt;</span></span><br><span class="line">Range(<span class="string">&quot;F:AM&quot;</span>).Resize(ActiveSheet.UsedRange.Rows.Count).<span class="keyword">Select</span></span><br><span class="line"><span class="comment">&#x27;&lt;选择 F 列到 AM 列已使用行 End&gt;</span></span><br><span class="line"><span class="comment">&#x27;&lt;选择表头外 A 列到 B 列已使用行 Begin&gt;</span></span><br><span class="line"><span class="keyword">Dim</span> usedRange <span class="keyword">As</span> Range</span><br><span class="line"><span class="keyword">Set</span> usedRange = ActiveSheet.Range(<span class="string">&quot;A2:B&quot;</span> &amp; ActiveSheet.usedRange.Rows.Count)</span><br><span class="line">usedRange.<span class="keyword">Select</span></span><br><span class="line"><span class="comment">&#x27;&lt;选择表头外 A 列到 B 列已使用行 End&gt;</span></span><br><span class="line"><span class="comment">&#x27;&lt;复制表头外全域数据 Begin&gt;</span></span><br><span class="line"><span class="keyword">With</span> ActiveSheet</span><br><span class="line">    <span class="keyword">Dim</span> lastRow <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line">    <span class="keyword">Dim</span> lastCol <span class="keyword">As</span> <span class="type">Long</span></span><br><span class="line">    lastRow = .Cells(.Rows.Count, <span class="number">1</span>).<span class="keyword">End</span>(xlUp).Row</span><br><span class="line">    lastCol = .Cells(<span class="number">1</span>, .Columns.Count).<span class="keyword">End</span>(xlToLeft).Column <span class="comment">&#x27;获取最后一列列号</span></span><br><span class="line">    .Range(<span class="string">&quot;A2&quot;</span>, .Cells(lastRow, lastCol)).Copy</span><br><span class="line"><span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line"><span class="comment">&#x27;&lt;复制表头外全域数据 End&gt;</span></span><br><span class="line"><span class="comment">&#x27;&lt;复制表头外全域数据 Begin&gt;</span></span><br><span class="line">ActiveSheet.Range(<span class="string">&quot;A2:&quot;</span> &amp; Cells(Rows.Count, ActiveSheet.UsedRange.Columns.Count).<span class="keyword">End</span>(xlUp).Address).Copy</span><br><span class="line"><span class="comment">&#x27;&lt;复制表头外全域数据 End&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Sub</span> 已使用单元格专题()</span><br><span class="line">    <span class="keyword">With</span> ActiveSheet</span><br><span class="line">        .UsedRange.Columns(<span class="string">&quot;I&quot;</span>).Value = .UsedRange.Columns(<span class="string">&quot;I&quot;</span>).Value <span class="comment">&#x27;将 I 列单元格格式设为常规格式</span></span><br><span class="line">        .UsedRange.Columns(<span class="string">&quot;D&quot;</span>).<span class="keyword">Select</span> <span class="comment">&#x27;选择 D 列已使用单元格</span></span><br><span class="line">        .UsedRange.Columns(<span class="string">&quot;D&quot;</span>).Offset(<span class="number">1</span>).<span class="keyword">Select</span> <span class="comment">&#x27;选择 D 列向下偏移 1 行已使用单元格</span></span><br><span class="line">        .UsedRange.Columns(<span class="string">&quot;D:E&quot;</span>).Clear <span class="comment">&#x27;清除 D 列、E 列已使用单元格数据</span></span><br><span class="line">        .UsedRange.Offset(<span class="number">1</span>).Clear <span class="comment">&#x27;清除表头外所有已使用单元格数据</span></span><br><span class="line">        .UsedRange.Copy <span class="comment">&#x27;复制所有已使用单元格数据</span></span><br><span class="line">    <span class="keyword">End</span> <span class="keyword">With</span></span><br><span class="line">    ActiveSheet.UsedRange.Columns(<span class="string">&quot;I&quot;</span>).Value = ActiveSheet.UsedRange.Columns(<span class="string">&quot;I&quot;</span>).Value <span class="comment">&#x27;非 With 写法</span></span><br><span class="line"><span class="keyword">End</span> <span class="keyword">Sub</span></span><br></pre></td></tr></table></figure><figure class="highlight vb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&#x27;&lt;依据 1、3 列字段删除重复值 Begin&gt;</span></span><br><span class="line">ActiveSheet.Range(<span class="string">&quot;表&quot;</span>).RemoveDuplicates Columns:=Array(<span class="number">1</span>, <span class="number">3</span>), Header:= _</span><br><span class="line">    xlYes</span><br><span class="line"><span class="comment">&#x27;&lt;依据 1、3 列字段删除重复值 End&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/268.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="运营" scheme="https://qianling.pw/categories/%E8%BF%90%E8%90%A5/"/>
    
    
    <category term="运营" scheme="https://qianling.pw/tags/%E8%BF%90%E8%90%A5/"/>
    
    <category term="电子商务" scheme="https://qianling.pw/tags/%E7%94%B5%E5%AD%90%E5%95%86%E5%8A%A1/"/>
    
    <category term="电商运营" scheme="https://qianling.pw/tags/%E7%94%B5%E5%95%86%E8%BF%90%E8%90%A5/"/>
    
    <category term="Office" scheme="https://qianling.pw/tags/Office/"/>
    
  </entry>
  
  <entry>
    <title>《别做正常的傻瓜》书摘</title>
    <link href="https://qianling.pw/don&#39;t-be-a-normal-fool/"/>
    <id>https://qianling.pw/don&#39;t-be-a-normal-fool/</id>
    <published>2022-11-20T04:09:08.000Z</published>
    <updated>2022-11-20T04:09:08.000Z</updated>
    
    <content type="html"><![CDATA[<p><img data-src="/images/covers/264.webp"></p><span id="more"></span><hr><p><strong><center>别做正常的傻瓜/奚恺元著. --2版. --北京：机械工业出版社，2006.8<br>ISBN 7-111-19683-X</center></strong></p><hr><h1 id="第1章-10元等于两个5元吗——心理账户对行为的影响"><a href="#第1章-10元等于两个5元吗——心理账户对行为的影响" class="headerlink" title="第1章 10元等于两个5元吗——心理账户对行为的影响"></a>第1章 10元等于两个5元吗——心理账户对行为的影响</h1><p>　　天晴的时候，大多数人愿意在外面多走走或骑车或乘公交车，出租车的生意就一般，经常到晚上很晚收工才能賺到足够的钱。但是在雨天，出租车生意特别好，经常是你“有钱也坐不到”，最好的情况下司机半天就能净赚 500 元。如果你是一名出租车司机，你是该在晴天多工作一点呢，还是在雨天多工作一点呢？学过经济学的人应该知道，最有效率的做法就是在晴天生意不好的时候早点收工，在雨天则多工作几个小时，因为在相同的工作时间里，雨天要比晴天賺得更多。为了保证每个月能有一笔大致固定的收入，出租车司机往往会给自己定一个日收入计划，比如每天要賺到 500 元才能回家休息。因此晴天生意不好的时候，他们工作的时间过长，通常要做到很晚才能揣着计划收入回家，而在雨天生意好的时候，他们又很快就赚到 500 元过早地回家去了。<br>　　其实出租车司机也知道，雨天多工作一个小时就可以让晴天少工作两个小时，可就是人为设置的心理账户在作祟，使得今天的工资和明天的工资似乎不可以互补或是替代。从这个问题中我们可以引申出关于工作效率的一个道理：人的工作状态是有周期的，有时候兴致好效率也高，就像出租车司机的雨天，工作一个小时就能出很多活儿，而有些时候状态不佳，好比出租车司机的晴天，工作效率低。如果你的工作没有严格的时间限制，或者你正在忙碌的项目离最后期限还有一段时间，你完全可以根据自己的状态来调整工作时间，而不必给自己定一个日工作量。<br>　　如果你的精神状态好，那就趁着这股劲头多干一点，如果你感觉没劲乏味，那就先休息会儿，回头再来干。虽然这样看起来有些不够有计划性，但是你必须认识到，完全按照每日定量的计划行事在效率上并不一定是最优的。<br>　　作为子女的你可能会有这样的经历，每当你在年终给父母一大笔钱以示孝心，希望他们能买点营养补品，或者买套保暖内衣等等的时候，他们就会把这笔钱放入储蓄的心理账户中，往往会把这笔钱存入银行，不舍得花。这个时候你不妨将这笔钱分若干次以小额的形式给他们，比如将原来一次性的 3000 元分十次，每次给他们 300 元，这样，这 300 元就会被归入零花钱的心理账户里，说不定他们就会将每次的 300 元花到日常的饮食起居的开销中，这个时候你的孝心就得到了真正的实现。<br>　　我还要介绍一种将会贯穿本书的方法——换位法，考虑如果自己处在相反的或者其他的情形时会如何决策。</p><h1 id="第2章-你买过没用的东西吗——交易偏见"><a href="#第2章-你买过没用的东西吗——交易偏见" class="headerlink" title="第2章 你买过没用的东西吗——交易偏见"></a>第2章 你买过没用的东西吗——交易偏见</h1><p>　　现在有一种冬被，原来的价格是 300 美元。其中有一个星期做促销，促销价格是 200 美元。天气转凉以后，有两个人都到商店来买这种被子。第一个人到商店的时候被子前一天刚刚做完促销，价格刚刚从 200 美元回升到 300 美元；第二个人来商店的时候这种被子已经有一个多月没有做过促销了，现在按原价 300 元销售。如果这两个人本来都觉得 300 美元的价格是符合他们的心理价位的，那么你觉得哪个人现在购买这种被子的可能性更大呢？理性的讲，第一个人应该现在购买被子。因为上个星期刚刚做过促销，这意味着这种被子在以后的一段时间都不太可能做促销了，要等到下一次促销可能是两个月以后的事情了，到那个时候冬天可能已经过的差不多了，再买也盖不了几天。而对于第二个人来说，他倒是可以等一等。既然这种被子已经有一个多月没有做过促销了，那么很有可能用不了多久它又将降价了。然而，事实表明，第一个人在听说了被子昨天才卖 200 美元时，多半会马上改变购买的主意。他心里会想，我要是早一天来买，就可以得到一个 100 美元的折扣，现在却只能按原价购买，真是太不划算了。如果我现在花 300 美元买下这种被子，岂不是相当于平白无故损失了 100 美元吗？索性再看看，以后再说吧。第二个人却会觉得一个多月钱这种被子的促销价格和现在关系不大，反正我错过这个促销已经一个多月了，也没什么好遗憾的。所以，第二个人反而会倾向于不改变购买决定，当场买下被子。其实，理性的想一想，上个星期是否做过促销对这种被子现在的价格和第一个人对被子的需要都是没有影响的。如果他现在需要被子，又觉得 300 美元的价格是可以接受的，那么就应该买，否则，就不要买。买或者不买的决定都不应该受到已经成为历史的昨天那个促销价格的影响。然而人们却因为难以不受昨天的促销价格这个无关参考价的影响而改变了购买的决定。<br>　　还记得本章前面提到的“好梦”药片的例子吗？法兰克福机场卖 250 元一片时，人们更倾向于购买它，因为上海的“好梦”价格是 500 元，这两者之间 250 元的差价让人觉得是一个合算的交易。而当“好梦”在法兰克福机场卖 200 元一片时，愿意购买的人反而少了，因为他们知道上海“好梦”的价格是每片 5 元，这不正是不合算交易偏见在起着作用吗？<br>　　合算交易偏见和不合算交易偏见使得我们做出欠理性的决策。理性的决策者应该不受表面合算交易或无关参考价的迷惑，而真正考虑物品实际的效用。将物品对你的实际效用和你要为该物品付出的成本进行比较权衡，以此作为是否购买该物品的决策标准。<br>　　如果你想少几分正常多几分理性，你应当只考虑商品能够给你带来的真正效用和你为此所付出的成本。<br>　　假设某天你在 A 商店看到一个售价 100 元的闹钟，你当时正缺一个闹钟，觉得这个样式和功能都很不错，想将之购入囊中。正在你打算付款时，你的一个好朋友碰巧路过商店，他得知你要买这个闹钟后告诉你，他刚从不远处的 B 商店过来，在那里这一款完全相同的闹钟正在搞促销活动，售价为 60 元。你知道从 A 商店到 B 商店骑车需要 10 分钟，此时你会不会掉头去 B 商店购买呢？<br>　　再来看看下面这道题：<br>　　假设又有一天你在 C 商店看到一款心仪已久的名表，售价为 6600 元。你正打算付款购买时，你的一个好朋友碰巧路过商店，他得知你要买这款手表后告诉你，他刚从在不远处的 D 商店过来，在那里也有一款完全相同的名表，售价为 6550 元。你知道从 C 商店到 D 商店骑车也是 10 分钟路程，此时你是否会去 D 商店购买呢？<br>　　我猜如果你是“正常”的话，你的答案会和我们调查的大多数人一样，在第一种情况下，更愿意花 10 分钟时间骑车去购买促销的节省 40 元的闹钟；而在第二种情形下，要花 10 分钟路程去买从 6600 元降到 6550 元的名表，就不那么兴致勃勃了。其实仔细的想想这两种情况，不管是从商店 A 到商店 B，还是从商店 C 到商店 D，大家都是为了省钱而骑 10 分钟的车，从商店 A 到 B 商店花 10 分钟可以省 40 元，从 C 商店到 D 商店花 10 分钟可以省 50 元。花费同样多的时间和精力，到另外一个商店买手表会比到另外一个地方买闹钟多省 10 元钱。理性的决策者面临这两个问题的时候，他应当考虑的是自己是否值得为节省这些钱而付出 10 分钟的时间和精力。如果觉得花费 10 分钟去节省 40 元是值得的，那么他就应该到另外一家商店去买闹钟来节省 40 元，更应该到另外一家商店去买手表来节省 50 元。如果决策为了节省 50 元而骑 10 分钟的车不值得，那么他就不应该为节省 50 元而到另外一家店去买手表，更不会为节省 40 元而到另外一家店买闹钟。总之，不管怎么样，相比节省 40 元的闹钟，理性的决策者都应该更加倾向于去购买那个节省 50 元的手表。可是事实上，人们的选择却是与之相反的。这是因为这两笔交易给人们带来的“交易效用”是不一样。人们觉得骑车 10 分钟去买 100 元降到 60 元的东西要比买 6600 元降到 6550 元的东西更加值得，虽然从绝对数值上来看，后者省的反而更多，但“正常人”会这样考虑：100 元的闹钟降价到 60 元，那是节省了 40%，而 6600 元的手表降到 6550 元，降价幅度不到 1%。同样的道理，你是否对一辆优惠 100 元的汽车无动于衷，但是却会关注一只优惠 100 元的微波炉？在这里也是交易效用在起着作用，不过这里的交易效用是由于价格差额与售价的相对比例所引起的，因而我们将此称之为“比例偏见”。<br>　　不管是换个地方买闹钟还是换个地方买手表，我们所需要付出的成本都是骑 10 分钟的自行车，这是没有差别的。100 元和 6600 元是闹钟和手表的原价，这两个数字和换家商店可以得到的收益是没有关系的。10 分钟的时间是一个绝对值，在成本相同的情况下，我们应该看究竟省了多少绝对的量，而不该受到节约量与原价比例的影响。但是大多数的正常人往往过多地看重比例，而忽视实际收益的价值。<br>　　消费时，通常更加关注优惠的比例而不是优惠的绝对值。<br>　　如果你想少几分正常，多几分理性，你应当仅仅考虑你所能得到的优惠的数额以及你为获得优惠所花费的成本。<br>　　中介表示，3% 的佣金中有 2% 是要由中介公司得到的，这一部分是没有办法免去的，但由于中介本人在这场交易中没有出什么力，所以他愿意将本该由他个人获得的 1% 的佣金免去。但是，这样一来，原先签订的合同就要有所改动，需要我朋友在交房前去中介公司修改先前的合同。这家中介公司离我朋友的家比较远，去的话需要花上半天的时间。我朋友想了想，觉得辛辛苦苦花上半天的时间去省这 1% 似乎不太合算，为了免这些钱花半天时间还要耗费精力，还是算了吧。最后，他为了半天的时间就这样放弃了原本可以省下的 20 万的 1%，也就是 2000 美金。当时的 2000 美金可是一笔不小的数目。但是光从这点来看，很难判断说他这样做是欠理性的，也许他本身就很富有，也或许他的时间相比这笔本可省下的钱更宝贵。<br>　　但是，后来有一次我到他家去做客，发现他家并不像我想象中那么富有，家具摆设都非常简单甚至简陋，我还在他家发现了另一件趣事：在他家的冰箱上贴满了五颜六色的小纸片，仔细一看，原来是从报纸上剪下来的各式各样的优惠券，大多都是些诸如 1 美元的鸡蛋优惠 30%，3 美元的牛奶打 6 折等等。去他家的那天，他家一岁大的小宝宝哭着嚷着要喝牛奶，可是当时他家却没有。我好奇的问他：为什么不去附近的超市购买呢？只见他仔细的从冰箱上面五颜六色的优惠券中挑出一张，指着它对我说：牛奶要等到星期天才搞促销活动，星期天买牛奶可以节省 1 美元多呢，所以当然要等到星期天才买咯，没办法，只好委屈宝宝忍耐一下了。<br>　　这时我才意识到他是多么欠理性，在前面委托中介买房的过程中，他不愿花半天时间去省那 1% 的佣金额，也就是 2000 美元。然而，在平时的生活中他却更愿意花时间来剪那些优惠 30%、40%，实际上才省了 1 美元左右的优惠券。让我们想一想，他要花多少时间和精力来剪这些优惠券才能省出 2000 美元呢？不是半天，也不是半个星期，也许是半年或者更多的时间。当然，这其中可能还有其他的因素，比如在买房的事情中，可能是他碍于面子而不愿意去修改合同或者他本人特别享受这种剪优惠券的过程。但是，相比这两种情况，有更大的可能是因为他受了比例偏见的影响做出这样自相矛盾的事情。由于比例小而忽视了实际更大的金额，因为折扣比例大而将自己局限在了那些微不足道的小钱上，实际上是捡了芝麻丢了西瓜。<br>　　回过头来看看我们的日常生活，是否也有很多类似过于看重比例而轻视绝对收益的行为呢？大多数人往往会受到比例的影响，过多地注重于小处的节约，而对大处小比例的节约却视而不见。很多人和正常的傻瓜一样，在晚上坐出租车时还要跟司机讨价还价一番，去饭店吃饭总要费尽口舌的向服务员要求一点折扣，可以花上 10 分钟时间将一件 200 元的衣服还价到 150 元并为此沾沾自喜，却不肯花上 200 倍的精力在购买 100 万的房子时争取 1% 的优惠。这正是大多数正常人欠理性的一个表现，即在小的地方斤斤计较，却对于大的事件麻木不仁。殊不知，大件中的一点点节约就能为你省下很多，比起小处的节约不知要翻多少个番了。<br>　　在消费过程中，正常人往往会受到交易效用偏见的影响，从而做出欠理性的消费决策行为。你可以通过克服交易效用偏见而变得少几分正常，多几分理性。你需要意识到，做决策时不应该受到成本和收益之外的因素影响，许多参考价都是与决策无关的，不要被它们蒙住了双眼。惟一需要关注的是物品带来的真实效用和你为此所付出的成本。不要因为贪便宜而去买自己不需要的东西，同样，也不要因为价格比较髙而不买自己确实需要的东西。不忍心放过那些看似合算的交易往往会在事后让你后悔。同时，切不可仅仅关注相对收益而忽视了实际上更重要的绝对收益。只有权衡绝对收益和绝对成本，才能得到理性的决策依据。</p><h1 id="第3章-坚持到底一定是胜利吗——沉没成本误区"><a href="#第3章-坚持到底一定是胜利吗——沉没成本误区" class="headerlink" title="第3章 坚持到底一定是胜利吗——沉没成本误区"></a>第3章 坚持到底一定是胜利吗——沉没成本误区</h1><p>　　他总是带着一条颜色过于张扬的领带，其实这种夸张的颜色与他的身份是很不相配的。有一天，当我终于忍不住告诉他这条领带并不适合他时，他的回答让我大吃一惊：“哎”，他叹了口气说，“当初看中这条领带的时候觉得挺好看的，发了奖金一时冲动就买了下来，戴上了才发现这条领带实在是很不适合我，可是没有办法啦，花了五百多块钱买的，总不能就扔在抽屉里睡大觉吧？那不是白白浪费了？”<br>　　我们所说的“既然买了领带，就戴上吧”，“既然买了票，就去听音乐会吧”，“既然好不容易追到，就忍受着吧”。实际上都是想通过这种“把事情进行下去”的方式来挽回沉没成本。可是我要问你，你花钱买领带的目的是什么？是希望带上它能让你更有风度和魅力。你花钱买音乐会票的目的又是什么？是希望可以通过精神享受而感到快乐。如果领带和音乐会不能达到你花钱购买的目的，那还有什么回报可言吗？真正的回报并不是带上领带或者去听音乐会，终极的回报是自己开心。如果你带自己不喜欢的领带或者冒着风雪去听音乐会给你带来的是负效用，那么你不仅没有“挽回”曾经沉没的成本，反而是自己找罪受，招致更大的浪费。反正钱也花了，浪费五百多元钱也就算了吧，可是因为这个而继续带一条不好看的领带，岂不是更亏；去还是不去听音乐会，都已经是花了 800 元了，可是去听了呢，在寒风中来回一个小时，也许一路的怨声载道已经把音乐会带来的快乐都磨光了，弄不好还招致几天的感冒。<br>　　不要因为存在沉没成本而影响了你的理性决策。你仅仅需要站在现在的时刻考虑某件事情本身的成本和收益，至于以前和这件事情相关的成本你是不应该考虑在内的。<br>　　买领带这类的装饰物是为了让你更加帅气，你带上领带如果能让你更加好看，你就应该带上。如果不适合你，让你更丑，那你为什么本身已经付出了五百元的代价之后，还要在外表上再损失一些呢？在你对要不要戴花 500 元钱买来的不合适你的领带犹豫不决的时候，利用“换位法”换个角度去思考一下，如果这条领带不是你买的而是朋友送给你的或者抽奖抽来的，你还会戴它吗？<br>　　在投资时应该注意：如果发现是一项错误的投资，就应该立刻悬崖勒马，尽早回头，切不可因为顾及沉没成本，错上加错。事实上，这种为了追回沉没成本而继续追加投资导致最终损失更多的例子比比皆是。许多公司在明知项目前景暗淡的情况下，依然苦苦维持该项目，原因仅仅是因为他们在该项目上已经投入了大量的资金（沉没成本）。<br>　　因为花了钱而去做自己本不愿意的事情，是我们在消费中经常犯的错误。我们总认为真正消费了才对得起花的钱，但如果你已有的投入是错误的，接着做下去就是不太理性的了。这种“追加错误投资”的例子不光在企业内存在，在生活中也是屡见不鲜。<br>　　正常的傻瓜有一个 7 岁大的女儿。现在很多家长都希望小孩子懂音乐，会弹奏一种乐器，这样既能陶冶情操、还能开发智力，正常的傻瓜就是这样的典型。他咨询了很多人，最后决定先买一台 2000 元的电子琴。可是他的热情并没有激发起女儿的兴趣，她一放学就喜欢出去和小伙伴一起玩耍，天黑了才回家，吃完饭又要写作业，没有多少时间练琴。电子琴买回来的前几天，小姑娘还觉得新鲜好玩，但马上就腻了。这个孩子天生就喜欢运动，对音乐没有表现出多大的兴趣，加上现在父母总是唠叨着让她弹琴，她变得越来越逆反了，就算难得有时间弹上一会儿，也总是听见她弹的断断续续的，还不时抬头看钟，一副心不在焉的样子。渐渐地电子琴还是落上了灰。不久后正常的傻瓜的一个同事介绍有一位音乐学院钢琴专业的老师可以给他女儿作电子琴家教，这个时候你认为正常的傻瓜还有必要为女儿请家教吗？<br>　　正常的傻瓜和爱人商量：“电子琴都买了，要学就好好学，请一个老师教教，要不就浪费这个琴！”最后他们决定还是请家教，说好每个月十个小时，500 元。这是一笔不小的投入，可是小孩子一旦对这个东西失去了兴趣，父母又不停得逼着，兴趣只会越来越小。本来一种休闲放松的爱好成了另外一门功课，小姑娘自然不愿意。就这样，每次老师来教她都心不在焉的应付着，学得也不用心，平时更是能偷懒就偷懒，只有被逼的没办法了才去弹一会儿琴。半年后，眼看着女儿在弹琴方面的长进很小，正常的傻瓜只能承认女儿在这方面没有什么天赋，终于放弃了这个主张。但是在这半年里面，为了不浪费这个电子琴，他们继续浪费了 3000 元的家教费！<br>　　正常人的想法是，股价高于买入价要抛，低于买入价则留，天经地义。但是，理性地讲，多少钱买进这只股票与你现在是否应该抛售它是完全没有关系的。无论你是否抛售它，买进时的这笔钱都已付出，是收不回来的。股票的走势也决不会受到你是多少钱买进的影响。我们在特定时间考虑是继续持有股票还是立即抛售股票，应该以该股票的走势、其他备选投资股票的情况和你当时所需的资金为考虑依据，而不应该囿于买入时的价格（沉没成本）。如果你觉得这支股票未来前景看好，而且其他没有更好的可供选择的投资方案，你目前又不缺现金，那你不要管现在到底是赚了还是亏了，就先留着；如果你觉得这支股票将来一定会跌得更惨，或者你有更好的投资机会，或者你现在需要资金，那么不管你当初是多少钱买进的，你都应该抛掉它，否则你只会承受更大的损失。割<br>　　决定是否卖出某只股票时，应当只考虑这个股票未来的走势，是否有其他备选投资方案和你目前是否需要的现金，而不该注重当初的买入价和现价之间的差异。<br>　　“保本”这一观点一向是商家遵循的最基本的经营方针，“起码要保本”看似天经地义，无可厚非，孰不知，这种观念是错误的，其本身就包含了沉没成本谬误。许多零售商都喜欢用他们的批发价来决定零售价的底线，不愿意以低于成本的价格出售商品，因为他们不愿意承担亏损，但这种想法是错误的。设想你是一位电脑销售商，你几年前买进的 100 台单价为 8000 元/台的奔腾 III 电脑现在已经过时了，某学校愿意以 4000 元/台的价格买下，你会卖吗？许多零售商不愿意，因为他们认为这样就每台都亏损了 4000 元。但如果你是一个理性决策者，你完全不应当考虑这 8000 元的原价，它是已经成为过去式的沉没成本，这和你现在的决策毫无关系。你应当考虑的是将来你是否能以高于 4000 元的价格卖掉你的电脑。如果不能，那么这 4000 元/台的价格是你最佳的卖出价，为什么不卖呢？<br>　　一个女孩子非常喜欢她的男朋友，想把男朋友永远留在自己身边，那么她该怎么做呢？当然，她有很多的办法，但是有一个一举两得的办法是一般大家都不容易想到的，就是多多地让男朋友请她吃饭，给她买东西。久而久之，她的男朋友会觉得已经在这个女孩子身上投入了这么多的“成本”，就更加舍不得离开自己的女朋友了。<br>　　沉没成本误区：正常人往往出于想挽回已经发生却无法收回的所谓沉没成本，而做出很多欠理性的行为。如何纠正这种谬误呢？当你进行了一项欠理性的购买后，应该忘记已经发生的购买行为和你支付的“沉没成本”，只要考虑这项消费之后需要耗费的精力和能够带来的好处，再综合评定它能否给自己带来正效用。进行投资时，把目光投向前方，审时度势，如果发现这项投资并不能盈利，应该及早停掉，不要吝惜已投下去的各项成本：精力、时间、金钱……<br>　　可怜的正常的傻瓜，不仅没有追到女孩子，还被关到了警察局，真是赔了夫人又折兵啊。如果我是正常的傻瓜，当我听到女孩子的父亲的话以后，我并没有生气的破口大骂，而是面带笑容非常冷静的对女孩子的父亲说：“那么请问你还有别的女儿吗？”因为我知道过去的失败已经无法挽回，在前途不好的时候就应该适时收手。既然已经花了钱买了票又做了那么精心的准备，就要往前看寻找新的机会。千万不能让沉没成本困住前进的步伐。</p><h1 id="第4章-你有自知之明吗——过于自信"><a href="#第4章-你有自知之明吗——过于自信" class="headerlink" title="第4章 你有自知之明吗——过于自信"></a>第4章 你有自知之明吗——过于自信</h1><p>　　过于自信则是一般人的通病，一般体现在人们对自我的评价上，而且通常让人察觉不到。<br>　　在和别人作比较的时候，人们常常对自己的知识或能力过于自信。斯文森（Svenson）在一个研究里发现，如果要评价自己的驾驶水平在一群人中的位置，90% 的人都说自己的驾驶技术要在平均水平以上，而很少有人说自己比平均水平要差。但是事实上，根据平均水平的定义，有 50% 的人的驾驶技术高于平均水平，就一定有 50% 的人的驾驶技术低于平均水平。<br>　　大多数的人都觉得别人酒后开车可能会出车祸，但是自己喝了酒以后却是可以控制住的，这也是过于自信的表现。<br>　　有些商品的营销活动就是根据人们的过于自信设计的。比如在美国买一台打印机，原价是 80 美元。商家给消费者两个选择，可以当场打折，折扣率是 5%，也就是说 80 美元的打印机可以用 76 美元购得；消费者也可以选择邮购返券的方式（mail－in－rebate），现在以 80 美元购买打印机，只要在购买后 3 个月内将相关凭证寄回给公司，就可以得到 25% 的折扣，也就是可以得到 20 美元的现金返还，这 20 美元会以支票的形式寄回给消费者，这样相当于花 60 美元买了这个打印机。想一想，如果你有这样两个选择，你会选哪种折扣方式呢？大多数人都会选择第二种，这种方式可以得到更大的折扣，自然吸引力更大。但是，对于商家而言，哪种方式可以让他们赚更多的钱呢？其实也是第二种。第一种直接折扣，每台打印机肯定要少赚 4 美元；第二种方法虽然看上去每台少赚 20 美元，其实真的会在买了以后把凭证寄回的人是很少的。由于人们的过于自信，每个人在购买时都以为自己一定会把凭证寄回公司，但买了以后很快就会忘记。有数据显示，面对这类 20 元上下的优惠，真的会在购买以后把凭证寄回给商家的顾客大概只有 7% 左右。这里还有一个有趣的现象，如果给出的期限是 3 天而不是 3 个月，寄的人反而会更多。因为给出的期限短，大家都会一回去就把这件事情做好；给出的期限长，反而让人们觉得有的是时间做这事，不妨先放一下，然后就再也想不起来了。<br>　　成功的喜悦常常使人产生飘飘然的感觉，人们在这种“飘飘然”的感受的驱动下就会过于自信。而成功的喜悦，或者说飘飘然的感受，并不仅仅是认知上的一种状态，它也有其生理上的基础：人的身体受到强烈的情感刺激后，会产生肾上腺素，肾上腺素就会让人感到兴奋，高兴，从而导致过于自信。<br>　　如果你是一个广告创意人员，当你想到一个新鲜的广告创意的时候，你感到非常欢欣鼓舞，恨不得马上把这个主意向上级汇报。但是别急，新鲜的广告创意带给你的兴奋感也许会使你对这个点子过于自信。你应该暂时冷静一下，全面地考虑一下采用一个新创意所需要考虑的所有因素，比方说可行性、成本费用等。<br>　　其实这种对自己相貌的过于自信在很多人身上都有所表现。生活中大多数人在拿到自己的相片时都会十分失望，我经常听到别人对着自己的照片抱怨说：“哎，我怎么一点也不上照。”<br>　　过于自信往往会产生所谓的“自我实现预言”。如果你觉得自己能力不错，善于学习，能够成功完成某项任务，那么确实，这种心理暗示将会有助于你顺利地实现目标，并形成一种良性循环，指引你在日后的学习工作中同样有出色的表现。但是，如果自信不足的话，那就是一种恶性循环了，心理暗示自己不行，实际上也做不好，更加强了原先的不自信。<br>　　那些被老师们认为智力发展会显出进步的学生，他们的 IQ 平均提高幅度显著高于其他学生。因为老师对学生行为的期望转化成了学生的自我实现预言。当老师期望某个孩子会表现出较大程度的智力提高的时候，这名学生就真的出现了较大程度的智力提高。<br>　　这个实验还显示了一个结果：低年级中那些被老师认为智力将有发展的学生的 IQ 提高幅度要比高年级中被老师认为智力将有发展的学生更大，也就是说这种自我实现的预言在低年级的学生中的效果更明显。这可能是因为低年级的学生可塑性更强，或者低年级的学生在老师心里还没有形成牢固的印象。<br>　　最近在美国的研究发现，身高与年均收入有一定的正相关性，平均身高每高 1 厘米年均收入多约 150 美金。你知道这是为什么吗？因为高个子的人对自己更有自信。而且研究发现，在发育期身材比较高但是最终身材不算高的人和那些高个子的人的收入水平差不多。因为在青春期这个形成个性的重要阶段，身高给了这些人较高的自信，并能够帮助他们形成比较自信的性格，有助于事业的发展和成功。<br>　　从“自我实现的预言”还可以引发出许多对我们人生有益的启示。有的父母在教育孩子的时候常常使用责备的方式比较多，告诉孩子不能做这个不能做那个，当孩子做错事情的时候就会责骂他，“你真是没出息”，“你看隔壁的某某某，你就是不能和他比”等等。其实，越是责骂，越是会打击孩子的自信心，久而久之，孩子就会产生这样的想法，认为反正自己总是不行的。相反，有的家长在教育孩子的时候就比较擅长用鼓励的方式，他们会告诉孩子“你可以的，我知道你行的，我们支持你”等等，在这样的鼓励下，孩子就会慢慢相信自己真的行，满怀着信心去做，自然容易成功。与此类似的是上司管理员工的方式。如果多采用正面鼓励的方法，就容易激发员工的信心，使其形成“自我实现的预言”。<br>　　过于自信的人看问题会比较全面，他们比较善于抓住问题大的方向，而不太拘泥于小的细节。又由于过于自信的人一直拥有积极的态度，他们会比较有创造性，容易想出创意的点子。<br>　　正常的傻瓜通常对计划过于乐观。<br>　　这就是过于自信的一个典型表现，行为经济学家称之为“规划的误区”（Planning Fallacy）。规划的误区实际上非常普遍，不要说普通人，即使是一个经过仔细规划的大型项目，仍旧可能比计划的完工时间推迟许多。<br>　　心理实验：他们让心理系的学生尽可能准确地估计完成一篇论文需要多长时间，包括（1）平均时间；（2）如果一切进展顺利的话完成论文需要的时间；（3）如果遇到了一切可能发生的困难，完成论文需要的时间。这些学生估计，一般情况下，完成一篇论文平均需要 34 天；如果一切顺利，完成论文需要 28 天；如果进展不畅，完成论文需要 49 天。那结果究竟如何呢？这些学生完成他们的论文竟然花了 56 天－－就算所有人都遇上了最困难的情形，与他们的估计相比，学生们看起来都过于自信了。<br>　　在金融市场上，和女性相比，男性也常常不自觉地认为自己有能力捕捉到市场的风云变幻，能在市场上驾驭自如。<br>　　论文数据显示，男性开户者的年均换手率是女性开户者的 1.5 倍，而男性的平均收益率却比女性的低 0.94 个百分点。<br>　　不同企业的失败原因各不相同，但是三位学者对如此之高的失败率给出了一个共同的深层次的解释：企业的管理层对自己的经营能力过于自信。三位学者认为，公司的管理者在作经营决策时可能会犯如下的错误：他们能够相对准确地预见到竞争的程度，但是他们过于自信地认为尽管许多企业都会最终失败，但是他们的企业与别人的不同，是终将成功的。三位学者还发现，如果决策者的注意力集中在和技术能力有关的方面，他们更加相信自己的企业有更大的成功的可能性。而实际上，由于这种过于自信使得他们没有在经营管理和战略决策上做好应有的充分准备，从而导致较高的企业失败率。<br>　　人们在进行评价的时候，常常忘记了他们的参照物：人们只记得自己的优势，却忘记了其实你的竞争对手也有自己的长处。比方说，在实行淘汰制的体育比赛中，运动员每进入下一级比赛，自信心就更加强烈一些。可运动员没有注意到，他每进入下一级比赛，其它进入下一级比赛的运动员的水平也相应较之前一轮的竞争对手要更高。<br>　　在鼓励士气、鼓舞斗志的时候，我们应该充分地自信；而在具体行事时，我们应该谨慎而有自知之明，做好充分的准备，不打无准备之仗。<br>　　证实偏见是我们过于自信的根源之一。因此，我们在做判断的时候，应该尽量避免证实偏见。避免证实偏见最好的办法就是多做证伪检验。比如你觉得丰田车不错，想买一辆丰田汽车，你去问那些买了丰田汽车的人，他们会告诉你丰田车好在哪里，这会让你越来越相信丰田汽车真的很好，这就是证实检验。<br>　　你还应该去问问那些可以买丰田车却没有买丰田车的人，问问他们为什么没有买丰田车，也许他们会告诉你他们不买丰田汽车的理由，从他们的口中你可以知道丰田汽车有些什么不足，这就是证伪检验。</p><h1 id="第5章-你会习以为常吗——适应性偏见"><a href="#第5章-你会习以为常吗——适应性偏见" class="headerlink" title="第5章 你会习以为常吗——适应性偏见"></a>第5章 你会习以为常吗——适应性偏见</h1><p>　　车祸给人们带来的负面影响要大于中奖给人们带来的正面影响，并且这种负面影响并没有随着时间的推移而完全消失。<br>　　住在哈尔滨的人往往觉得昆明的人肯定非常舒服，因为那里气候宜人；而住在昆明的人一想到哈尔滨的寒冷就要打冷战。所以，大多数人觉得，就气候而言，住在昆明的人肯定比住在哈尔滨的人开心。但是，人的适应性又在这里发挥了作用，住在昆明的人真的搬到了哈尔滨，也很快就适应了；住在哈尔滨的人总是觉得，在昆明的人一定很开心，他们觉得要是自己有机会搬到昆明，他们肯定比现在开心，但是事实上，就气候而言，住在两个城市的人高兴程度差别并不大。而一直住在昆明的人，也早就对昆明的气候产生了适应性，并不会因为自己能够住在四季如春的城市感到多高兴。<br>　　很多人在没有结婚前总认为，如果自己可以和心仪的对象结婚，那就一定可以幸福一辈子。事实上，幸福一辈子只是我们美好的愿望，但我们的适应性会使得我们对这种幸福习以为常。曾做过这样的实验，追踪一批人，调查他们在结婚前五年到结婚后五年的幸福程度，你猜结果是什么样的？实验证明，结婚的确可以给人带来幸福，从结婚前五年开始，越临近结婚，幸福程度越高，当结婚那个美好的时候终于来临时，这种幸福程度达到了顶峰。可遗憾的是，这种美好的情景维持不了多久，很快，幸福程度就开始下降，甚至是在刚结婚初期，幸福程度是急剧下降，一直到结婚后的第五年，此时的幸福程度已经和结婚前的五年没有差别了。<br>　　离婚带来的痛苦往往要比结婚带来的幸福更加大，这就如同车祸带来的负面影响比中奖带来的正面影响更大一样。<br>　　如果现在有两个女孩子可以让你选择，一个是相貌漂亮但是性格不太好的，另一个是性格很好可惜长相一般的，你会选哪个呢？大多数年轻的男孩子都会选择那个漂亮的。其实，相貌是比较稳定的东西，不管好看难看，看多了都是很容易适应的；而性格脾气却是不容易适应的，一个坏脾气的女孩子每天换着法子跟你“作天作地”，这实在是让人难以招架。难怪我经常听到有人和太太离婚，是因为再也受不了她的“作”，却从来没有听到有人和太太离婚是因为受不了她的丑。<br>　　人有很强的适应性。因此，不要以为你现在对某样东西非常满意，就认定你以后也一定会因为这样东西而获得很多快乐。然而，正常人往往会低估自己的适应性，花很多精力和金钱去追求那些以为可以给自己带来长久快乐的东西，结果却未必能如想像中那么快乐。<br>　　在满足了一定的物质需要之后，你应该更加关注和精神以及心灵相关的东西，把钱用在能给你带来最大快乐的地方。</p><h1 id="第6章-存银行还是买股票——风险决策"><a href="#第6章-存银行还是买股票——风险决策" class="headerlink" title="第6章 存银行还是买股票——风险决策"></a>第6章 存银行还是买股票——风险决策</h1><p>　　期望效用理论描述的是一个理性的决策者应该怎么做决策，而前景理论准确描述了事实上大多数正常人的日常决策行为，这也是前景理论和期望效用理论的本质区别。<br>　　期望效用理论认为，人们的选择以效用最大化为标准，总是选择给他带来更大效用的可能选择。<br>　　前景理论的主要内容可以用四大规律来概括：<br>　　1. 在得到的时候，正常的傻瓜和理性决策者一样，都是风险规避的。<br>　　2. 在失去的时候，理性的决策者是风险规避的，而正常的傻瓜却是风险喜好的。<br>　　人们常受沉没成本左右，一条路走到黑，当失去得越多的时候，理性也跟着逐渐消失。理性的作法是：该刹车时就刹车。<br>　　3. 理性的决策者对得失的判断不受参照点的影响，而正常的傻瓜对得失的判断往往根据参照点决定。<br>　　比如，正常的傻瓜在不同的场合下，对同样的商品给予不同的价值，比如在小卖店，买一瓶雪花啤酒花 5 元都觉得贵了，但在酒店里花 20 元买一瓶雪花啤酒反而觉得值。啤酒还是那个啤酒，只是因为地点变了，在正常的傻瓜眼里，它的价值就不一样了<br>　　4. 正常的傻瓜通常是损失规避的。</p><h1 id="第7章-损失100元和得到100元，哪个对你影响更大——损失规避"><a href="#第7章-损失100元和得到100元，哪个对你影响更大——损失规避" class="headerlink" title="第7章 损失100元和得到100元，哪个对你影响更大——损失规避"></a>第7章 损失100元和得到100元，哪个对你影响更大——损失规避</h1><p>　　损失规避（lossaversion）：相同的一样东西，人们失去它所经历的痛苦要大于得到它所带来的快乐。<br>　　如果要你卖掉一个你已经拥有的全新的东西，你索取的价格会不会比你愿意买这个东西的出价高？这就是赋予效应，<br>　　让我们回到杯子的实验上：在买杯子的时候，我们的心理是处在一个“得”的状态中，但要卖杯子的时候，我们的心理是处在一个“失”的状态中。根据损失规避的理论，我们对“失”更加敏感，于是索价也就更高了。<br>　　正常的傻瓜在家电展销会上闲逛，看到有一家品牌的彩电经销商保证在 7 天内可以无条件退货。正常的傻瓜心想，我家客厅有一台电视，但是卧室里还没有，不如把这台电视买下来先回去看看，要是不好，反正下星期还可以回来退掉。厂家还安排上门送货和取退货，正常的傻瓜甚至觉得在这里买彩电，可以每星期来换一次，这样家里的电视永远都是新的。想到这里，他不禁为自己的小聪明一笑，立刻买下了一台 29 寸的大彩电。买回家后，正常的傻瓜把彩电放在卧室里面，每天晚上和爱人、女儿一起躲在被子里看电视，一家人其乐融融。他们对新买的电视机很爱护，看完后用防尘套盖好。电视机本身也没有什么大问题，虽然有时候接收某些频道清晰度不够髙，但是大家似乎都不介意。一个星期后，没有人提出去退掉彩电，虽然那只需要打一个电话而已。至今，那个 29 寸的彩电还安放在正常的傻瓜的卧室里呢。<br>　　真正来退货的顾客很少。由于赋予效应的存在，人们一般不会选择去退货。这就是赋予效应在商业中的一大应用。事实上，现在已经有越来越多的商家注意到了这种赋予效应的存在，他们正运用这种赋予效应来提升自己的销售业绩。许多大商场都打出了无条件退货的口号，<br>　　正常的傻瓜因为在改变现状时的损失规避，所以往往会满足于现状。<br>　　正因为赋予效应使人们对自己拥有的东西加上了非常髙的价值，导致人们不愿意去做决策改变现状，这种安于现状也是损失规避的一种表现。<br>　　虽然在生活中，因为各种原因大家经常需要忍痛割爱，但对现状偏爱的心理使我们做出的选择或者决定常常不是最优的。<br>　　关干语义效应，还有一个很有意思的小故事：有一次一个年轻的牧师问主教：“主教，请你告诉我，祷告的时候可不可以吸烟？”<br>　　主教严肃地摇了摇头：“祷告是如此重要而严肃的事情，祷告的时候应该心无杂念专心致志，当然不可以吸烟。”<br>　　过了几天，这个年轻的牧师又问主教说：<br>　　“主教，请你告诉我，吸烟时可不可以祷告呢？”<br>　　没想到主教的回答却是：<br>　　“当然可以，我们可以在任何时候祷告。”<br>　　同样的两个问题，主教的回答为什么前后不一致甚至自相矛盾了呢？<br>　　知道了语义效应以后，你一定一眼就看出了问题的关键，正是语义效应在这里起着作用。<br>　　怎么说话要比说什么话更为重要。<br>　　同样一个数据，用手术成功率来说服病人接受手术治疗要比用死亡率来说服病人有效得多。另外，同样是使用存活率，不一样的表述也会带来不一样的效果。让我们来看看以下两种情形：情形一，医生告诉原来有 80% 存活率的病人接受手术能让其存活率增加到 90%，或者说，增加 10% 的存活率，情形二，医生告诉病人如果不做手术他的存活率将从 90% 减少到 80%，或者说，不进行手术将使其存活率减少 10%。客观上讲，这两种情形是一样的，都是说手术能增加 10% 的存活率。但是用不同的方式来描述时，这两种情形所达到的效果是不一样的：情形二中的病人往往比情形一中的病人更愿意接受手术治疗，因为他们不想失去 10% 的存活率，而对能否得到额外的 10% 的存活率相对关心得较少。这里不存在伦理道德问题，医院既没有歪曲事实、夸大自己的医疗水平，也没有隐瞒任何信息。医生只是希望病人能够更加勇敢地接受治疗，克服心中的畏惧和恐慌，才采取情形二的这种方法。他们实际上是把病人从损失规避下的敏感心理状态中解放出来，帮助他们更加客观地对待手术。<br>　　根据损失规避，正常人对失更敏感的特点，强调失去一样东西所带来的成本和损失达到的效用，要比仅强调其正面的好处更有效。<br>　　把一件事情描述成”得”或”失”，可以有效地改变人们的选择。<br>　　面对人脑对于语义辨别的失灵，商家在和顾客打交道时也在不自觉地加以利用。比如一个 700 元的打印机，商店可以告诉你，打印机的价格是 700 元，如果你需要送货上门，你还要再支付 50 元。人们通常会觉得没有必要承担这 50 元的送货费用，所以宁愿自己搬回家。如果这个商家很聪明，他就会跟你说这个打印机的价格就是 750 元，而且他们可以负责免费送货上门，但是如果你觉得可以自己搬回家不需送货上门的话，他们可以退给你 50 元。这个时候人们就不会觉得有任何损失，高髙兴兴地付 750 元让商家送货上门了。实际上在这两种定价方式下商品的价格是一样的，只不过第一种情况下，人们把打印机的价格定位在 700 元上，觉得再额外支付 50 元送货费有点舍不得；但是第二种情况下，人们把打印机的价格定位在 750 元上，所以如果让商家送货上门，只不过可以拿到手的 50 元没拿到手罢了，并不觉得是自己的“真正”损失。两种不同的说法，就轻易改变了人们对损失与否的判断，进而轻而易举地改变了人们的支付方式。<br>　　我曾经尝试着用两种方式去激励他们更好地做问卷。一种方式是告诉他们对于做了问卷的学员，我会在考评上多给他们一些分数。另一种方式是告诉他们我会在课程结束的考评中把不做问卷的学员的分数扣除一些。我顺便介绍一下我们 EMBA 教学的评分规则，评分采用的都是相对分数，比如一个班里成绩总分数前 20% 的学生我们给 A，接下来 50% 的学生给 B，然后 20% 的学生给 C，最后的 10% 给 D。<br>　　我用第一招奖分政策的时候，同学们并没有表现得很踊跃，有些当时缺课没有做问卷的学生后来听到了也不以为然。但我使用第二招扣分政策的时候，学员们都非常积极地做问卷，生怕被扣分。而那些缺席的学员更是专门跑到我的办公室来，要求做这个问卷。这就是语义效应引起的正常人行为的不同。这也说明了强调不做事情的成本和损失要比强调做事情的好处更能有效激励人们做你希望他们做的事情。<br>　　我们可以用损失规避系数来描述人们对不同东西损失规避的程度。对于一般的消费品，损失规避系数大概是 2，也就是说，人们需要得到两倍于原先的价格才肯放弃已经拥有的商品。损失规避系数因不同的事物而不同，如果涉及到情感等方面的因素，损失规避系数就会大大上升，一且涉及到健康和生命等问题，损失规避系数就成百上千地增长了。</p><h1 id="第8章-损失100元和没有得到100元，哪个让你更痛心——忽视未得收益"><a href="#第8章-损失100元和没有得到100元，哪个让你更痛心——忽视未得收益" class="headerlink" title="第8章 损失100元和没有得到100元，哪个让你更痛心——忽视未得收益"></a>第8章 损失100元和没有得到100元，哪个让你更痛心——忽视未得收益</h1><p>　　当我们要卖出杯子时，应该考虑如果现在自己并不拥有这个杯子，而是要买这个杯子愿意出多少钱，这样就能发现自己其实并不愿意出太多钱买这个杯子，所以在卖出杯子时自己的要价过高，从而调低自己的出价。同理，如果在买杯子的时候我们也考虑卖杯子的心理，就能知道自己的出价过低。<br>　　在被语义变换干扰的情况下，如果用换位法，我们很容易就能发现这只是一个硬币的两面，没有任何区别。比如在打印机的例子中，我们从反面考虑一下就可以发现原价 700 元的打印机，要送货上门再多支付 50 元，和原价 750 元的打印机，不用再付钱商家就送货上门实际上是同一回事。之后我们来决定是不是需要商家送货上门就真真正正是自己的选择了。这里我们并不是说要求送货上门好还是不好，而是希望你能根据自己的意愿，不受语义变换的干扰，做出真正希望的有利于自己的选择。<br>　　这家饭店的生意的确很好，大堂里面的桌子已经放得满满的了，于是我们被安排进了一间包间。由于生意太好，这间包间里也已经放了好几个小桌子，每个桌子边都坐满了人。包间里面挂着一个电视机，当时正播放一场球赛，好几桌的人都一边吃饭一边兴致勃勃地看球。我和朋友坐下后就点了菜，这里的水煮鱼果然味道鲜美，我们都说总算不枉等候了半个小时。到差不多七点的时候，我们已经吃完了，不过我和这个朋友好久没见了，自然有很多话可聊，于是我们就坐在位子上喝着荼聊聊天。正在此时，我们突然听到外面的大堂传出了争吵的声音。我和朋友出去一看，原来是一位顾客和领班发生了争执，起因好像是顾客认为服务员送来的饮料不是他原本点的，所以他喝过了却不肯付钱，领班执意认为既然顾客喝过了就应该付钱，于是双方就争执不下了，一直到经理出来都没有解决。我和朋友出来看了一下以后又回到包房中继续聊天，一直到八点半的时候才买单离开了饭店。等我们走出饭店的时候才发现，居然还有不少人在饭店门口排队等候座位。这个时候我仔细一想，虽然我们如数付了饭钱，但是我们给这家饭店造成的损失要比那个不肯付饮料钱的顾客造成的损失大多了。我们吃完后多坐了一个半小时，这是占着桌子不吃饭，这点时间饭店本来可以多接待一桌客人，现在却可能有人看到那么长的等候队伍而望而却步，使饭店少做了一笔生意。一杯饮料，大概就是十块钱左右，却让领班耿耿于怀》饭店外面一直有人在等待座位，我和朋友吃完了饭坐在里面聊天却没有人来干涉，我们离开时服务员还都微笑着欢迎我们下次光临，这是多么欠理性啊。<br>　　究其原因，是因为不付饮料钱是给饭店造成了直接损失，而吃完了饭不走给饭店带来的是未得收益的损失。客观上讲，这两种损失是一样的，饭店也应该以同样的态度对待。可事实上我们可以看到，不光是顾客很少能够意识到自己给饭店造成的未得收益方面的损失，从饭店的服务员到领班到经理，显然也都没有对这两种损失一视同仁，而是把注意力都放在直接损失上，却对未得收益非常麻木。<br>　　有一天我和一位朋友在这家餐厅吃饭聊天，由于等待的顾客实在太多，服务生很不好意思地过来问我们什么时候能离开。当时我让他把经理叫过来，看似开玩笑，其实却是十分认真地问了经理一个问题：“我在你们餐厅就餐，您的服务生希望我早点离开，我也知道排队的人很多，我们也愿意把座位留给他们。但是您能不能给我 8 折优惠作为尽早离开的补偿？”<br>　　经理当即皱起了眉头，他说我们餐馆从来都不打折的。于是他拒绝了我的提议，还是让我们继续坐在那里聊天。<br>　　试想一下，餐饮业是利润率很髙的行业，一位客人来消费 30 美元，他们的食物成本只要 15 美元。客人占着位子吃 2 个小时不走，因此影响了另一位排队吃饭的客人的决策，这一个小时餐馆只嫌到了第一个顾客的 15 美元。如果他给我 20% 的优惠，我半小时就离开，那么他从我这里赚了 9 美元的利润，并可以从挽留住的下一位客人身上賺取另外 15 美元的利润。哪种情况下更划算呢？餐厅经理不能接受少賺 6 美元的“损失”，但是可以接受为保留住这 6 美元而失去賺下一笔 15 美元的机会。这个例子也是直接损失和未得收益这两种理论上相同的东西给我们带来的不同结果的体现。相信你们能从中捕捉到损失规避的影子。事实上，我们日常生活中有绝大部分损失并不是来源于直接损失，而是由于忽视未得收益而带来的损失。<br>　　作为餐馆饭店的经营者，首先应该明确地认识到，顾客吃完后占着位子不走给饭店带来的未得收益损失和不付饭钱造成的直接损失都是饭店的损失。现在，不如让我们站在饭店经营者的角度，来看看可以通过什么方法来减少这种未得收益损失。作为饭店的管理者，当然是希望客人越多越好，而且最好，每个人都吃得越快越好，这样他可以做更多的生意，賺更多的钱。可是有的顾客吃好饭以后却不马上付账离幵，这个时候有什么办法能够让他早点离开呢？像美国的那家比萨店直接问客人什么时候离开，这样的方法显然很失礼，这会给人一种你在赶他们走的感觉，或许干脆不做回头客了。有的自助餐馆对顾客进行限时服务，但是这种方法得到的效果其实并不理想。20 世纪 90 年代初期，上海刚刚开始流行吃自助餐的时候，有不少餐馆实行限时供应，每个人只能吃 2 个小时，超过时间就要付双倍的价钱。从表面上看，这种方法好像可以使客人吃好早点走，但实际上，我曾经做过统计，与不限时的餐馆相比，限时供应的餐馆中平均每个客人吃的时间可能更长。因为如果餐馆没有限时，客人吃好可能就走了；但如果餐馆提出限定 2 小时，那么很多客人都会想一定要吃足 2 个小时才没有吃亏，这样，反而吃的时间更长了。同样，上海有一家规模很大的自助餐厅，刚开始的时候，餐厅规定每个客人可以吃两只生蚝，过不了多久就发现这个方法并不合算。因为一旦规定每人两只，即使本来不太喜欢吃的人也一定要拿两只以免自己吃亏。我就亲眼看到一个老太太，明明不习惯生竓的味道却一定要吃。第一个吃得吐了出来，却仍然忙不迭地把第二个往嘴里塞。后来，餐厅取消了这个规定，每个人各取所需，于是，爱吃的人可以吃好几个，他们自然更加满意；不爱吃的人也不会为了不想吃亏而一定要去拿，我想这样并不见得需要增加生蚝的供应。<br>　　其实有很多婉转的方法可以解决这个问题。比如提出在几点前结束用餐的客人可以得到返券，这样既让客人有吃好早点离开的动力，又鼓励了客人再次到饭店来消费。客人会很高兴地拿着返券离开，以为自己賺了便宜，但事实上，却不一定会有很多人真的再来用这个返券，这是过于自信在起作用。还有不少餐厅都提供免费的停车服务，但是规定只能免费 2 个小时，2 个小时以后停车就要收费。为了节省停车的费用，客人也不会在用完餐以后逗留很久。很多人愿意付 2000 多元吃一顿饭不觉得心疼，却不愿意多付一小时的停车费。这是因为他们把吃饭的钱和停车的钱放在不同的心理账户中，对这两个账户的态度不同。同时，当他们已经得知 2 小时停车不需要付钱以后，再要付出的钱就是直接损失，对直接损失的敏感和损失规避导致他们对停车的费用比较在意。<br>　　作为餐厅的经营者，要想吸引客人来，又最好让他们吃完就早些走，最好的方法莫过于让他们在刚进来时感觉很舒服，但是随着时间的推移却越待越不舒服。这是完全可以做到的。比如可以在冬天的时候把暖气开得特别足，在夏天的时候把冷气开得特别冷。这样一来，刚从外面进来的客人都会觉得非常舒服，但是时间久了就会觉得太热或者太冷，而不愿意久留了。也可以给客人喝很多茶水，但是餐馆中的厕所却要排很长时间的队。我想诸如此类的方法还有很多，都可以帮助餐馆经营者达到吸引客人来又减少未得收益损失的目的。<br>　　我发现一旦房客不按时交房钱，房东都会非常生气。但是如果房子有一两个月空闲着没有租出去，他们却不那么着急。<br>　　大多数正派人士都不愿意去买别人偷来的手表，他们认为这是赃物，买赃物就是助长了犯罪，这是不道德的。但是他们都会在买盗版软件的时候觉得无愧于心。客观地讲，盗版的软件其实就是偷来的软件，而偷来的软件和偷来的手表从本质上看是没有区别的，只不过软件是一种知识产品，手表是一种物质产品。<br>　　人们对待知识产品和对待物质产品持有不同的态度，这是由很多原因造成的，当然离不开文化因素、法律环境和人们的从众心理。但我要在这里归纳几个除此以外的其他重要原因。<br>　　第一是因为大家都知道微软的比尔•盖茨是个超级富豪，所以就有一种想当然的印象，以为所有做软件的公司都有很高的盈利。事实上，大多数做软件的公司还没有大多数做手表的工厂賺钱多，但正常人受到明显性启示的影响，以偏概全，我姑且把这叫做“微软效应”，这是造成人们对软件盗版无所谓的第一个原因。<br>　　第二个原因是受害者是否具象。几乎每个人都有这样一种特性，如果受害者很近，以具象的形式出现，你知道他是谁，就会不太愿意去伤害他 I 如果受害者离你很远，是个抽象的概念，你也不知道是谁，就会觉得伤害他也无所谓。一块手表被偷了，你很清楚受害者是谁，那就是制造手表的手表厂，如果你偷了学校的一台电脑，也很清楚受害者是学校。这个时候受害者是很具体的，于是你就不愿意去买偷来的手表。而如果你去学校电脑房盗版一个软件，受害者到底是谁就比较模糊了，可能是软件的创作者，可能是开发商，可能是发行人，又似乎没有伤害到什么人，而且那些人都离你很遥远，于是你对他们的同情就会减少，那么买盗版软件似乎也没什么愧疚感了。受害者是具象还是抽象给我们的感觉是非常不一样的。如果你是一个军队的指挥员，现在有需要派手下去炸毁敌方的一个碉堡。你知道如果派小董一个人去，他可以炸掉那个碉堡，但是小董也肯定会在炸碉堡的过程中牺牲；或者，你可以派一支 100 人的小部队去，但是你知道其中会有 5% 的人死亡。那么你会让小董一个人去舍身炸碉堡，还是让 100 个人去呢？我想你情愿派 100 人的小部队去，宁愿不知道哪 5 个人在炸碉堡的过程中死亡，也不要指派小董一个人去送死，对吗？原因很简单，小董是一个具象的人，而那 5 个不知道是谁的人是抽象的。<br>　　前面这两个原因的确是造成人们对知识产品和物质产品不同态度的重要理由，但最关键的原因可能和我们前面所讲的对未得收益的麻木有关。<br>　　在人们的心里，手表和其他的物质产品是偷一个少一个的东西，如果你买了偷来的手表，就是给手表厂造成了直接损失，而软件这类知识产品则不同，软件的复制和盗版似乎并没有给开发商造成什么损失。其实，使用盗版软件就减少了对正版软件的购买，<br>　　软件的开发商就无法收回成本。也许大家都觉得软件就那么一个小小的光盘，能有多少成本？其实软件的大部分成本都凝结在开发过程当中，开发商需要收回的也正是这些幵发成本。<br>　　正常的傻瓜经常由于忽视未得收益而对知识产品和物质产品持有不同的态度。<br>　　软件有很高的前期成本，但每一张软件的单位成本比较低。一般消费者总认为自己付的钱应该为商品的单位成本负责，却对前期成本考虑得比较少。使用盗版软件使得软件开发商难以收回投入的前期成本，其实是给软件开发商造成了未得收益方面的损失。正常人普遍对未得收益比较麻木，自然会对物质产品和知识产权持不同态度了。<br>　　不仅是消费者会对未得收益麻木，连我们的法律也更注重对直接损失的保护而忽视未得收益。事实上，贪污一万元和逃一万元的税给社会造成的损害是一样的，但法律中却对贪污的惩罚比逃税更大，原因就在于贪污是造成了直接损失，逃税是带来了未得收益损失。另外，现行的法律在对精神损失和时间损失的赔偿上也有失公允。不过让人欣喜的是，法律也在逐渐注重对未得收益的保护，比如賠偿误工费的法律规定，就是考虑到了未得收益。<br>　　人们普遍对知识产品和物质产品持有不同的态度，盗版软件、盗版音像制品和盗版书在市场里横行霸道，占据了半壁江山。正派人士大多不愿意买偷来的物质产品，却欣然接受盗版的知识产品，这其中主要的原因是由于人们普遍对未得收益比较麻木，忽略了盗版软件对软件开发者造成的未得收益方面的损失。</p><h1 id="第9章-谈判中应该让对方先开价吗——定位调整偏见"><a href="#第9章-谈判中应该让对方先开价吗——定位调整偏见" class="headerlink" title="第9章 谈判中应该让对方先开价吗——定位调整偏见"></a>第9章 谈判中应该让对方先开价吗——定位调整偏见</h1><p>　　为什么“第一印象”会对我们产生那么大的影响呢？不管是判断一个人还是一件事情，你对其第一印象就是一种可以定位的“锚”（anchor），一旦定下来，后面接收的信息常常会受到这个“锚”的影响，而且很多情况下你是没有察觉的。即使你会尽量根据新的信息来调整自己的判断，但这种调整往往是不充分的，最后你的判断仍然很难逃出第一印象的圈子。如果定位不准确，调整又不够，定位调整偏见也就产生了。<br>　　一张纸折叠 100 次以后的厚度大概是多少呢？<br>　　对于这道题，很少有人给出的答案大于几米，大多数人都和正常的傻瓜一样，认为最多不过 2 米左右了。因为大家都知道纸是很薄的东西，在人们心里，即使折上 100 次也还厚不到哪里去。其实答案远远不止几米。假设一张纸的厚度是 0.1 毫米，折叠 100 次的厚度就等于 0.1 毫米乘以 2 的 100 次方，大约是 1.27x10^23 公里一是地球和太阳之间距离的 8000000000000000 倍之多！这样的答案通常很令人惊讶，因为在人们心里，纸是很薄的东西，即使折了几次以后也并不厚，所以人们的想像和估算都来自干刚开始的几次折叠，这就是形成了一个很低的锚，而让人忽视了平方的效应。<br>　　定位效应这个名词还是让你觉得有点陌生，但在实际生活中，很多情况下你都会不知不觉地受到它的影响。日常生活中我们做判断的时候很少有机会能得到完整的信息，大部分判断和决策都建立在不完全的信息基础上。<br>　　选择：（1）赌一次性从装有 50% 红球和 50% 白球的袋子中能取出红球，（2）赌从装有 90% 红球的袋子里连续七次取出红球；（3）赌七次，只要有一次从装有 90% 红球的袋中取出一只白球就算胜利。贏的人可以得到一笔奖金。研究发现，相比（1）和（2），人们更愿意玩儿游戏（2），而相比（1）和（3），人们又愿意玩儿游戏（1）。那我们来算一算到底这三种情况下哪种游戏最容易中奖。（1）从装有 50% 红球 -50% 白球的袋子中取出一次红球的概率是 50%，（2）从装有 90% 红球 -10% 白球的袋中七次取出红球的概率是 90% 的七次方，为 48%，（3）从装有 90% 红球 -10% 白球的袋中试七次只要一次取出白球的概率是 1-48%=52%。这么算下来，第三种游戏贏的概率最大，大家应该选择玩儿游戏（3）。而恰恰选择这项最有利规则的人数却最少。<br>　　一般而言，人们容易高估连续事件的成功概率，而低估独立事件的成功概率。很多经理人表现得过于乐观，高估成功的可能性也是出于此，这也是定位效应的影响。在估计概率的时候，90% 先给你一个很深的高概率的印象，这个数字成了定位点，你虽然知道连续相乘之后概率会降低，但是往下的调整总是不够充分的，因此正常人就往往被 90% 这个数字框住了自己的判断。相反，10% 这个数字会让你高估可以多次尝试的事件的难度。<br>　　这个心理效应，类似于我们平时经常说的“先入为主”。人们被第一印象框住后，以后接收的信息都会带有主观的偏向性，之后获得的信息往往会偏向于用以证明自己的第一判断，而忽视甚至扭曲一些可以纠正自己先验判断的信息。<br>　　大仲马有一次看中了一件古董，但是卖主开价很高，他希望能够以比卖主开价低得多的价格买下这件古董。干是他让自己的两个朋友先后到店里去，装作想买下古董的样子。先去的第一个朋友给这个古董开出了一个不可思议的低价，卖主说：“你疯了，我根本不可能卖给你。”接着第二个朋友又去那家店，开出了一个虽然比前者高但仍然很低的价格，卖主当然又说：“太低了，我不能卖给你。”这时候，真正的买家大仲马出现了，他只在第二个朋友开价的基础上稍微加一点儿价，就如愿地以他期望的价格买下了这件心仪已久的古董。<br>　　在商家竞争中，“先入为主”已成为一个重要策略。顾客容易形成品牌忠诚，有的时候并不是比较出来的结果，而是第一次使用了某种品牌的商品之后就根本不会去试用其他品牌。例如电子邮箱，很多人都有自己偏好的网站，<br>　　在接触新的电子邮箱系统时，你总是会尽力发现和强调自己原有邮箱的优点，对于系统欠缺或不完善的地方却总会低估其重要性。这也是我们前面讲到的安于现状的表现。<br>　　商家非常注意发掘和稳定自己的目标消费群，培养他们的品牌忠诚度，在很多时候甚至实行“从娃娃抓起”的战略。像麦当劳这样的连锁店更是不惜财力物力，千方百计地通过发行一款又一款玩具来吸引小顾客，培养他们的品牌忠诚度，这样一来，有助于从小形成他们独特的口味偏好，把他们的口味定位在麦当劳所希望的那个点上，从而抓住未来这批潜在的消费群。不知道你吃过奶酪没有？很多中国人都不能接受奶酪的味道，特别是那些发霉做出来的奶酪。同样的，很多外国人也觉得中国的大饼、油条不对胃口，这可能就是定位效应的作用了，我们小时候习惯吃的东西早就把我们锚在那里了。<br>　　商家在价格上也充分利用“先入为主”为自己争取更大的盈利空间。相信大家都有过讨价还价的经历，在一些商店，衣服的价格定得非常高，然后他们会告诉你如果真的想要可以给你打折。这个非常高的价格就是“锚”，它定在那里，商家知道消费者会把他们的价值往下调整，但是这个调整是不充分的，所以商家也就有了盈利空间。商家这种高的出价产生了两种效果，一是稳定住了自己的盈利空间，二是为顾客创造出虚幻的“折扣”和“优惠”，让顾客为自己争取到的低价产生成就感。这种成就感也就是一种“交易效用”，从而刺激了顾客的购买欲。<br>　　定位效应在谈判中也能大显身手。大多数人都认为，在谈判中最好让对方先开价，这样你就可以去估计对方的低价，可以拥有更多的信息。<br>　　但事实上，让对方先开价，这个价格就会成为谈判中的一个锚，即使你努力调整，也很难摆脱这个定位效应的影响。其实，你应该抓住机会先开价。想像一下如下的情景：你要卖一个古董，但没有人知道它的价值。<br>　　如果你找到了一个买主，那么你会让他先开价探探其口风呢，还是自己先报个价？如果你是理性的话，你应该先开价以求得到更多有用的信息。<br>　　如果你确定他知道的信息比你多，那么让他先开价也是无可厚非的，你可以从他那里得到有用的信息。但如果在对方也不清楚的情况下，就应该自己主动开价，而且开价越高越好，先发制人。同样，如果你是买家，也应该争取先开价的机会，而且价开得越低越好，给对方一个锚。<br>　　有研究证明，先幵的价格往往会影响最终的成交价。很多聪明的消费者在讨价还价的时候也会毫不留情地把自己能接受的价格报得非常低，形成买方价格的“锚”，他们当然允许商家再提高价格，但是他们知道商家在“低价锚”的影响下所做的调整是不充分的，所以还是能够为自己争取到一些低价的空间。<br>　　如果要在谈判中争取到报价的有利位置，应该遵循：<br>　　1.争取先开价。<br>　　2.开价越极端越好。<br>　　3.在开价前先提醒对方所开之价是荒唐的。<br>　　我有一个在美国生活的朋友，他经常会把几十美元买来的工艺品带到跳蚤市场上去卖，却从不标价。每当有顾客来问价，他就说：“我开的价格是非常非常高的，但你别在意，可以还价的。”他还真的是狮子大开口，开价说：“1000 美元！”<br>　　买主自然大吃一惊，说：“你这是诈骗啊！”顾客几乎不想买了，当即就转身打算离开，但在我朋友的劝说下买主还是出了个他觉得可以接受的价：100 美元。这正中我朋友下怀，于是他继续和买主讨价还价，最终总是可以在 200 美元上下卖出原来 30 多美元的东西。这便是定位效应发挥了作用，买主被我朋友开的高价给锚住了，虽然他明明知道这个价格是离谱的。<br>　　当然，还有一种可能性是存在的，就是由于你的报价过于离谱而惹怒了对方。要避免出现这一麻烦，最好在报价之前提醒对方，比如告诉对方我开的价格是很高的，并让他们有还价的权力，正如我朋友的做法。<br>　　这也是定位效应的有趣之处，妙就妙在对方即使明知你是瞎开价，最终他还是会被你所开的价格影响，就像刚才有关西罗马帝国灭亡年代和家庭电话号码的问题。<br>　　要克服定位效应，首先要克服过于自信，去怀疑自己的第一判断，接受新的信息去修正自己的判断。其次要明了“兼听则明，偏信则暗”<br>　　的道理，综合各方面的建议，这样才能使产生的“锚”不会有太大的偏差。如果只接受一面之词，正好反映出人们偏好肯定性意见这一弱点。<br>　　要记住：忠言逆耳利于行！<br>　　在讨价还价、谈判的时候，通过换位法，我们也能检査自己是不是被潜意识锚住，陷入了先入为主的误区。<br>　　如果你有问题想询问别人的意见，最好在咨询別人之前先进行独立的思考，以免别人提出的意见成为一个定位的锚而影响你的决策。同时，如果你希望从别人那里得到对方真实的想法，最好在征询他人意见的时候不要先过多阐述你对事情的看法和主意，以免把对方锚定，你就难以获得对方真实的意见了。在谈判之前要做好充分的准备，以免受到对方定位策略的影响，同时也要利用定位效应使谈判的结果向有利于自己的方面靠近。</p><h1 id="第10章-你的孩子会长多高——违背概率规律"><a href="#第10章-你的孩子会长多高——违背概率规律" class="headerlink" title="第10章 你的孩子会长多高——违背概率规律"></a>第10章 你的孩子会长多高——违背概率规律</h1><p>　　他不服气，反而越挫越勇，因为他坚信按照概率，出了这么多黑球下一个必为红球！事情仿佛总是不能如愿，正常的傻瓜抱着必胜的信念在赌场沉醉不归，执著等待着红球的出现，一直到输光了口袋里面所有的钱。<br>　　正常的傻瓜往往误解了概率规律，以为好运气和坏运气是交替产生的。<br>　　我们说一枚均匀的硬币，随便扔出去，出现正反面的概率是相等的。假设你已经扔了 4 次，出现的都是正面，下一次的结果会怎样呢？<br>　　很多人会不假思索地认为下一次应该是反面啦。但实际上，下一次出现正、反面的可能性还是一样的，各 50%。这也是賭博的时候经常让赌徒停不下来的一个心理因素，尤其是对输了钱的賭徒。他们认为既然事件的结果完全是靠运气的，那么运气的分布应该是好坏的概率都一样。输了的賭徒总是认为自己下一次就会贏回来，很多时候就是这样越输越多，倾家荡产。<br>　　你是某百货店的销售预测师，该店共有 5 家分店，所有分店的大小和销售的产品都是一样的。假设现在是 12 月。今年的销售情况如下（百万元）：<br>　　分店今年明年 1102931148？512？你预测认为明年 5 家店的销售总额与今年的总额相同。现在你的任务是预測明年第四家店和第五家店的销售额。请写下你的预测：_____对于这道题，你的预测是怎样的？有的人觉得既然第四家店今年的业绩比较差，第五家店今年的业绩比较好，那么明年的状况也许会和今年相同，所以就预测第四家店明年的销售额也是 8，第五家店明年的销售额也是 12。这样的预测对吗？第四家店今年销售额特别不好，但是明年却会向平均值有所回归，不会再那么差；同样，第五家店今年销售情况特别好，但是明年也会向平均值回归，不会那么好了。所以，对第四家店明年销售额的预测应该是在 8<del>10 之间的一个数，比如 9，第五家店明年的销售额最可能是 12</del>10 之间的一个数字，比如 11。这其中的道理就是中值回归。<br>　　中值回归还可以解释和预测许多其他问题。如果有一个父亲长得很高，比如 1.95 米，那么他的儿子最有可能多高呢？当然，儿子可能比父亲更高，但这并不是最有可能发生的情况。<br>　　事实上，根据中值回归，儿子最可能的身高是比一般人高一些，但没有父亲那么高。儿子的身高会受父亲身高的影响，因此两者之间是不独立的，但儿子的身高还受其他因素，包括母亲身高的影响，因此表现为有所回归却没有完全回归。同样，如果有一个父亲长得特别矮，那么他也无需太着急，他的儿子很可能会比一般人要矮一点，但是会比他高。<br>　　考试，我们经常会发现这次考得好的学生下次往往会差一点，这次考得差的学生下次却往往会有所进步，这是为什么呢？<br>　　现在你应该已经知道这是中值回归的道理。考得好的学生下次可能没那么好了，但还是会高于平均水平；考得差的学生下次会有所进步，但还是会比平均水平低一点。至于回归的程度到底有多强，这就取决于考卷的质量了。如果考卷的质量很高，可以完全测试出学生的真实水平，那么学生成绩的回归程度就会很弱，甚至不回归，也就是说前几名的学生一直是这几个，因为他们的确是班里学得最好的。反之，如果考卷不能真实反映学生水平，甚至和学生学习水平完全没有关系，那么回归程度就会非常强，大家的成绩都跟着忽上忽下很不稳定。<br>　　特别高或特别矮的父亲生出的儿子身高会向中间回归，可是那些本来身高就在平均值附近的父亲，他们生的儿子身高却会向两边发散。我们总是只说中值回归，却很少提起中值发散，那是因为中值回归告诉了我们回归的方向，能够帮助我们对事物进行更准确的预测，而中值发散却不能告诉我们发散的方向，因此没有太多的实用价值。<br>　　正常的傻瓜每年都会给手下的销售员进行销售业绩的排名。通常他会对销售业绩排名特别靠前的几位销售员进行奖励，而对排名靠后的几个进行惩罚。可是几年下来，正常的傻瓜发现这样一个规律，凡是前一年得到奖励的销售员，下一年的业绩总会下滑；反而是前一年得到惩罚的销售员，下一年的业绩会有所好转。这个现象让正常的傻瓜总结出一条经验，那就是奖励是没有用的，得到奖励的销售员容易骄傲自满，所以下次业绩就下滑；而惩罚却是有作用的。其实，了解了中值回归以后你就知道，这只是中值回归的自然现象而已，与奖励和惩罚都没有关系。<br>　　排名第一的那个经理总是会被许多公司出大价钱哄抢，他们都希望这位业绩最佳的基金经理在下一年为自己公司创造更多的财富。<br>　　可惜的是，每次抢到了第一名的公司在第二年过后都会失望，因为这位排名第一的经理并不像他们想像中那么厉害，也没有给公司带来想像中那么丰厚的收益。其实，基金经理的业绩有自己水平的因素，也有随机的因素。根据中值回归的自然规律，第一名的经理在下一年自然会有所下滑，那些公司的失望也就在意料之中了。<br>　　我们可以做一下引申。不光是股票基金经理，在人才市场、婚姻市场或者其他地方，第一名总是特别受人賴目而被人追棒。<br>　　其实在很多时候，第一名的价值都普遍被高估了。许多人都不愿意退而求其次，结果却难免失望。此时，蓦然回首，“第二名”就在灯火阑珊处。<br>　　2003 年春天，SARS 在中国肆虐，报纸、杂志、电视等媒体每天都花大量时间来报道有关 SARS 的新闻，这段时间市民的注意力也都集中在“抗非典”上，几乎所有人都谈 SARS 色变，不敢坐公交车，不敢出门逛街。我的一个美国朋友本来打算 2003 年春天来上海与一家公司做一笔生意，已经定好了所有行程，也请了 10 天的假，最后还是因为 SARS 取消了上海之行。之后，他用这空余下来的 10 天租了一辆车，载着全家人从芝加哥开到佛罗里达的奥兰多度假，往返 4000 公里。但实际上，如果我们算一下比例关系，就会发现在上海患上 SARS 而死亡的几率要远远低于从芝加哥开车去佛罗里达来回路上由于车祸所增加的死亡几率。<br>　　但朋友仍然认为自己做出了一个正确的决定，殊不知他恰恰主动选择了危险，而且更白白丧失了本来可以赚钱的生意机会。很多人在 SARS 高峰的时候就这样取消了去中国的旅程，但就算在 SARS 最厉害的时候，出门染病死亡率仍远远低于在高速公路上开车遇上车祸死亡的可能性。<br>　　当时在上海，仅仅有两三起 SARS 病例，而且得到了很好的控制，就算 SARS 在 10 天内突然增加到 100 起，朋友在上海患上 SARS 的概率也远远小于开车往返于芝加哥和奥兰多遭遇车祸的概率。然而人们却注意并高估了 SARS 的概率，而低估了车祸这种相对不引人注目却更危险的事件发生的概率。于是一时间很多人都戴口罩而不系安全带。2002 年中国因车祸死亡的人数超过 13 万人，平均每天有 300 人丧生车轮下，2/3 的车祸死亡都是由于不遵守交通规则，如超载超速、酒后驾车、忘系安全带等引起的。据中国吸烟与健康协会统计，去年中国烟民人数约 3.2 亿，死于和吸烟有关疾病的人数超过 100 万，也就是说烟草正以每天 2700 多人的速度，直接或间接地吞噬着中国人的生命！<br>　　2002 年 10 月的时候美国华盛顿地区出现了一个神秘狙击手，对无辜群众放冷枪，在三周不到的时间里流窜作案，杀死了 10 个人。一时间人人惊恐莫名，华盛顿及其附近三个州的人们都不敢出门，天天躲在家里。<br>　　但如果我们能冷静地分析一下几率，就能发现车祸死亡的几率比被狙击手盯上的几率要大一些。美国大约有 2.8 亿人口，一年车祸死亡的人数是 45000 人，即每个人一年内遇上车祸死亡的概率是 0.000016，而在三周之内遇上车祸死亡的概率是 0.0000009。华盛顿及其附近三个州的人口是 1500 万，三周死了 10 个人，这个概率比 0.0000007 要稍微低一些，更低于三周之内遇上车祸死亡的概率。我们并不是说应该在狙击手逍遥法外、猖撅行事的非常时期依旧毫不设防、招摇过市，但人们对干这一概率较低但印象深刻的事件比概率较高的车祸要明显惊恐得多，这便是可获得性的误区了。<br>　　要对付可获得性带来的错觉，我们介绍一种反向调整法。让我们再次回到前面自杀和谋杀的例子。我们的第一感觉往往是谋杀比较多。这时，知道了有可获得性的误区存在，我们就应该检视一下是不是因为我们对谋杀更熟悉、记忆更深刻而高估了其存在的比例。然后，再做相应地反向调整。<br>　　正常人做决策经常受到事情鲜明与否或者看上去像什么类型因素的影响而忽视了概率规律，这会导致欠理性的决策行为。<br>　　在判断事物的时候，除了关注描述的细节以外，还要注意到集合的基本规律。除了要看它像什么，还要看它是什么的可能性有多大，也就是要注意有没有先验概率。不要让自己被比较显眼的数据事实锚定，而忽视了它之上还应该加一个事件的先验概率。<br>　　在对事物做预测的时候，不要忘记中值回归这个普遍存在的自然规律对事物发展趋势的影响，不要因为忽视中值回归而抱有不切实际的期望。<br>　　要知道，正常人会普遍高估令人印象深刻的事件的发生频率，所以要用反向调整法调整自己，以免错误评价其真实比例和重要性。</p><h1 id="第11章-多一定比少好吗——联合评估与单独评估"><a href="#第11章-多一定比少好吗——联合评估与单独评估" class="headerlink" title="第11章 多一定比少好吗——联合评估与单独评估"></a>第11章 多一定比少好吗——联合评估与单独评估</h1><p>　　假设你在考虑是不是买一辆 ABC 牌的轿车。此轿车的外观和性能均与尼桑蓝鸟相似。有一个知名并可靠的市场调研公司对 5000 名 ABC 车的拥有者进行过一次满意度调查，其结果是 82% 的人对此车满意，18% 的人对此车不满意。你的哥哥在一年前正好也买了一柄 ABC 车，在这一年中他用此车开遍了全国各地，累计里程已达到 6 万公里，但此车性能依旧卓越，从未出过一点小毛病。你哥哥曾经开过尼桑蓝鸟，他认为 ABC 的性能比蓝鸟还好，他对此车赞不绝口。现在这种型号的车价格为 18 万人民币，你会买这辆车吗？<br>　　假设你在考虑是不是买一辆 ABC 牌轿车。此轿车的外观和性能均与尼桑蓝鸟相似。有一个知名并可靠的市场调研公司对 5000 名 ABC 车的拥有者进行过一次满意度调查，其结果是 88% 对此车满意，12% 对此车不满意。<br>　　你的哥哥在去年也曾经买过这辆车，在这一年中，这辆车给他带来了不少的麻烦，车买了不久，就有一次在高速公路上突然抛锚停车，你哥哥差点被后面驶来的车辆撞死。修好不久，有一次雨天开车时刹车失灵造成车祸，你哥哥受了伤，到现在此事仍未解决，你哥哥的伤情也未痊愈。这种型号的车现价为 18 万人民币。你会买这辆车吗？<br>　　虽然在这里把这两个问题写在一起，但我们还是想请您做一个单独评估。有实验发现，在单独评估的时候，人们在第一种情况下更倾向于在单独评估时，正常的傻瓜往往会受到极端个别案例的影响，而忽视基于大样本的更科学可靠的统计数据。<br>　　不做正常的傻瓜，你就不能忽视统计数据，应该尽可能地寻找可比较的参照信息，降低重要因素的评估难度，从而使你的决策更理性。<br>　　ABC 车满意的人要比第一种情况下多出 300 人。虽然调査是随机的，但是 5000 人的 6% 要比你哥哥的意见可靠得多。<br>　　所以，尽管事实上 82% 和 88% 的差别是难以评价的因素，但这并不意味着你在做决策的时候可以忽略它。为了使决策更为合理，在单独评估的情况下，应该尽量寻找一些参考信息，从而使你能做一个类似于比较评价的判断。<br>　　许多白领女性都愿意花上五六百元去买一瓶名牌香水，她们不仅相信名牌香水的味道比一般香水好闻，而且坚信别人也会闻得出她们用的是名牌香水。我曾经找来一批自称对香水很熟悉的白领女性，请她们帮我做一个香水实验。我蒙上她们的眼睛，把各种类型的香水喷在餐巾纸上让她们闻。结果我发现除非是她们自己用惯的已经记住味道的香水，她们对其他香水的分辨能力远远没有自己以为的那么强。在联合评估的情况下，她们的确可以分辨出五六百元的香水和几十元的香水，但是区分不出五六百元的香水和三四百元的香水。等到做单独评估的时候，她们甚至分辨不出五六百元的高档香水和几毛钱买来的香味餐巾纸的味道。<br>　　本章中主要讲了评价的两种方式——单独评估和联合评估。<br>　　正常人在单独评估时，往往会被那些易评价但不是特别重要的特征所影响，从而做出失误之举。所以为了更理性些，你应当尽可能地寻找可比较的参照信息，将难评价因素变得易评价些，从而使你的决策更理性。<br>　　而如果要推销自己或者推销产品的话，应考虑与竞争对手之间的强弱关系。在敌强我弱或者敌强我强时，应尽量创造单独评估的环境让评价人判断。而如果是敌弱我强或者敌弱我弱时，则应尽量创造联合评估的环境让评价人对你进行判断。如果你和竞争对手在难评价特征和易评价特征上各有千秋，则应视不同情况而定，具体原则如下：<br>　　（1）如果我比竞争对手强，应该争取被联合评估。<br>　　（2）如果我比竞争对手弱，应该避免被联合评估。<br>　　（3）如果我和竞争对手都强，应该避免被联合评估。<br>　　（4）如果我和竞争对手都弱，应该争取被联合评估。<br>　　（5）如果在难评价特征上我强于对手，但在易评价特征上不如对手，则应该争取被联合评估。<br>　　（6）如果在难评价特征上我不如对手，而在易评价特征上强于对手，则应该避免被联合评估。</p><h1 id="第12章-抓住老鼠的一定是好猫吗——结果偏见"><a href="#第12章-抓住老鼠的一定是好猫吗——结果偏见" class="headerlink" title="第12章 抓住老鼠的一定是好猫吗——结果偏见"></a>第12章 抓住老鼠的一定是好猫吗——结果偏见</h1><p>　　以成败论英雄的确一直被认为是常理，事实上大多数企业也是这么做的。可这是不是就意味着正常的傻瓜的企业也要遵循这个常理呢？事实上，许多常理并不是真理，大多数企业这么做也未必是对的。<br>　　在第 4 章讲过于自信的时候我曾经提到一组数据：对美国市场多年的数据进行研究后发现，大致有 61% 的企业在创立 5 年内退出市场；有 79% 的企业在创立 10 年后退出市场，以失败告终。失敗企业的数量要远远大于成功企业的数量。因此，如果你的企业只是想和大多数企业一样，那么你的企业必将和大多数企业一样以失败告终。常理不一定是最好的，大多数的作为也不一定是正确的。<br>　　企业面临许多不确定决策，的确是一个风险经营的过程。但是风险有好有坏，并非所有的风险都值得去冒。从 A、B 两个项目本身的情况来看，B 项目的期望值是负的。一个理性的企业经营决策者是不应该去选择一个期望值为负的项目进行冒险的。<br>　　乙经理的起点比较差，结果却成功了，但这并不能说乙经理一定在项目进行过程中做了很多努力。许多事情的成败取决于随机因素，并非都可以找到原因。但是人们往往不愿意承认有时事情的成败不能人为控制却取决于随机因素，总希望可以找出一些原因来解释。因此，正常的傻瓜认为乙经理的成功一定和他自己后来的努力有关系，这是没有任何根据的。<br>　　正常的傻瓜认为乙经理有运气有灵气就等于有本领。这样的论点是不正确的。运气与灵气往往是灵光一闪，可以带来这次的成功却不能确保以后的成功。而真正的本领可以确保公司长远盈利的能力，<br>　　奖励是一个信号。我们首先应该明确企业进行奖励的目的，一个企业进行奖励起码是为了以下几个目的：给别人看，鼓励好的行为，改变坏的行为，影响员工的去留。企业的奖励与奧运会的奖励是不同的，奥运会的奖励更类似于作秀，只以结果论英雄自然无可厚非，但企业的奖励却不简单是作秀。企业的奖励要给员工一个导向，让员工知道什么样的行为是好的，什么样的行为是不好的。从甲经理和乙经理两个人的行为来看，企业肯定应该鼓励甲经理的仔细分析而批评乙经理的随意冒险。我们不妨再想一想，也许奖金分配会影响到两个经理的去留意向。<br>　　如果得到奖金多的那个经理将留在企业，得到奖金少的那个经理会辞职，那么请想一想，你更愿意把哪个经理留下来呢？我想大多数人都希望留下甲经理吧。<br>　　任何结果都等于过程与随机因素也就是运气的和，其中过程是可控的，是可以通过改进而更加完善的，而随机因素和运气是我们不可控的。如果我们只奖励结果，就相当于把一部分的奖励浪费在了不可控的随机因素上，而奖励过程却是对可控因素的直接奖励。当然，前提是企业中有记录过程、监督过程的机制，企业的管理者也愿意去看过程。<br>　　企业进行奖励的目的不光是作秀，还要考虑到奖励会给其他员工带来的导向作用和对员工去留的影响，要考虑到企业的长久发展。而一个好领导区別于一般领导的两点也正在于此：有耐心设计机制来记录和监督过程，并且能够看得懂过程。<br>　　在中国市场规范相对而言不是那么完善的时候，有许多人都是靠运气成功的；但是随着市场经济的成熟和完善，靠运气成功的可能性越来越小，越来越多的人开始相信科学的过程是成功的保障。<br>　　有一次，正常的傻瓜和朋友一起开车到浙江旅游。浙江的秀丽山水让他们流连忘返，两人决定再开车多玩儿一天。于是那天，他们开车来到一个地图上没有标明的地方。出现在他们面前的是一条岔道，两个人都不太清楚到底是左边的路还是右边的路会通往他们的目的地。朋友看了看四周以后对正常的傻瓜说，我看应该走左边的路。正常的傻瓜当时没有提出反对意见，于是两人就沿着左边的路开了下去。15 分钟以后，他们发现自己正身处一片树林之中，周围没有路也没有游人，很显然，他们是迷路了。朋友着急地问正常的傻瓜现在该怎么办，正常的傻瓜忽然愤怒地大声对朋友喊道：“我早就知道应该走右边那条路的，都是你走错了路。”<br>　　正常的傻瓜有后视偏见，在亊后以为自己亊先就可以预测到事情的结果，而亊实往往并非如此。<br>　　1959 年英国摩托车占据了美国进口摩托车市场的 49%，而到了 1966 年，仅日本本田一家公司就占据了美国进口摩托车市场的 63%。事后，英国政府请 BCG（波士顿咨询公司）对这一情况进行分析，想找出日本企业特别是本田公司能够快速超越英国公司，在美国市场上取得成功的原因。1975 年，BCG 发表报告称，本田公司在美国市场上的成功主要是由于其采用了大批量、低成本的做法，从小排量摩托车入手，占据了中产消费者的市场。在那以后，哈佛等学校先后依据此事编写了研究案例，作为指导企业战略行为的成功典范。<br>　　但不无讽剌意味的是，有人专门飞赴日本拜会了当时参与本田公司在美国市场开拓的经理，经理们叙述的情况与 BCG 的报告结论大相径庭。<br>　　实际上，本田公司当时并没有设定详细的战略构想，只是尝试性地进入美国市场。本田公司本来看好的是排量为 250cc 和 305cc 的大排量摩托车，认为这些车的车把看上去像佛祖的眉毛，应该会是个好卖点。他们心中认为美国市场的目标顾客应该是那些穿着黑色皮夹克追求时尚和另类的人，而不是一般的上班族。可是进入美国市场以后，这两种型号的车却迟迟打不开局面，倒是销售员自己用的 50cc 的小排量摩托车引起了人们的注意，意外地收到了订单，从此以后销售量戏剧性地增长，并由此带领本田公司进入了中产消费者的市场，最后反过来带动了大排量摩托车的销售。<br>　　后视偏见的领导会更多地以结果来衡量下属的表现，这就又回到了我们在本章开头讲述的甲经理和乙经理的例子。一个好的领导应该利用机制去监督和控制过程，并且要有能够看得懂过程的能力和耐性。<br>　　只以成敗论英雄的结果偏见在许多企业中存在，读完这章后你应该明白，结果并非是最好的评价因素。事实上，优秀企业与一般企业的区别也许就在于它是不是有监督过程的机制，优秀领导与一般领导的区别也就在于他是不是有能力并且有耐心来看过程。<br>　　后视偏见，也就是“马后炮”现象普遍存在。后视偏见让人们难以从经验中学习，并且对别人的成绩不给予充分肯定，对别人的错误又太过严厉。<br>　　总之，在评价事情的时候，我们应该站在当时的角度来看。我们只能要求别人对当时他可以得到的信息负责。</p><h1 id="第13章-钱越多越幸福吗——财富与幸福"><a href="#第13章-钱越多越幸福吗——财富与幸福" class="headerlink" title="第13章 钱越多越幸福吗——财富与幸福"></a>第13章 钱越多越幸福吗——财富与幸福</h1><p>　　幸福学研究的主题是在财富一定的情况下如何极大化人们的幸福，我将教你几个不增加財富却可以增加自己或他人幸福的办法。</p><h2 id="幸福准则一：好事一起享受不如分开享受"><a href="#幸福准则一：好事一起享受不如分开享受" class="headerlink" title="幸福准则一：好事一起享受不如分开享受"></a>幸福准则一：好事一起享受不如分开享受</h2><p>　　如果你有几个好消息要公布，你是该分开宣布呢，还是把它们一起发布？假设今天老板奖励了你 1000 元作为额外的奖金，同时你今天在一家百货商店的抽奖活动中贏了 1000 元，你是今天一天内全告诉爱人，还是分两天告诉她？答案是：好事一起享受不如分开享受。<br>　　对于好消息就应该把它们分开发布。你把这两个好消息分两天告诉爱人会让他/她开心两次。根据前景理论，人在得的时候是边际效用递减的，所以分两次听到两个好消息等于经历了两次快乐，这两次快乐的总和要比一次性享受两个好消息带来的快乐更大。双喜临门固然非常令人高兴，可是天天有喜也许能够带来更多的欢笑。所以如果你有两个好消息，最好分两次告诉他人。这个原理运用到公司奖励和送礼上也一样。<br>　　如果你打算送朋友两件礼物：一只猫和一只狗，或一本书和一瓶酒，你知道这都是他很喜欢的东西，那么最好分两次送。每次送一样礼物带来的开心要比一次送两样礼物带来的开心更大。<br>　　同样，如果你要给员工发 1 万元奖金，那么最好分两次，每次给他 5000 元，这样尽管他拿到的总和还是 1 万元，但较之你一次性给他，他所获得的快乐更大。好事分开享受可以带来更大的快乐，<br>　　到底分几次发最合适要取决于员工对每次奖金的心理期望。如果你知道员工对奖金的心理期望是每次 1000 元，你就可以把 1 万元奖金分 5 次，每次发给员工 2000 元#这样，员工每次拿到的奖金都高于他们的心理期望，自然每次都会很开心。但如果分 20 次，每次 500 元发给员工，那么员工每次拿到奖金都觉得低于自己的心理期望，反而不会产生满意的感觉。</p><h2 id="幸福准则二：坏事分开忍受不如一起忍受如果你有几个坏消息要公布，你是该分开宣布呢，还是一起宣布呢？比方说如果今天你弄丢了钱包里的-1000-元钱，祸不单行，你还不小心弄坏了爱人价值-1000-元的手表，你是把两个消息一同告诉她呢，还是分两天告诉她？"><a href="#幸福准则二：坏事分开忍受不如一起忍受如果你有几个坏消息要公布，你是该分开宣布呢，还是一起宣布呢？比方说如果今天你弄丢了钱包里的-1000-元钱，祸不单行，你还不小心弄坏了爱人价值-1000-元的手表，你是把两个消息一同告诉她呢，还是分两天告诉她？" class="headerlink" title="幸福准则二：坏事分开忍受不如一起忍受如果你有几个坏消息要公布，你是该分开宣布呢，还是一起宣布呢？比方说如果今天你弄丢了钱包里的 1000 元钱，祸不单行，你还不小心弄坏了爱人价值 1000 元的手表，你是把两个消息一同告诉她呢，还是分两天告诉她？"></a>幸福准则二：坏事分开忍受不如一起忍受如果你有几个坏消息要公布，你是该分开宣布呢，还是一起宣布呢？比方说如果今天你弄丢了钱包里的 1000 元钱，祸不单行，你还不小心弄坏了爱人价值 1000 元的手表，你是把两个消息一同告诉她呢，还是分两天告诉她？</h2><p>　　根据前景理论，把几个“失”结合起来，它们所引起的边际效用递减会使各个坏消息加总起来的总效用最小。所以，你应该把这两个坏消息一起告诉他/她。想想看，你爱人是一次性听到两个坏消息更不高兴，还是分两次听到这两个坏消息让他/她受的打击更大呢？当然是后者使他她更不开心。人们常常讨厌雪上加霜、火上浇油的做法，可是在能够承受的限度内，对于很多人来说还是快刀斩乱麻来得更加爽快一些。</p><h2 id="幸福准则三：大好事小坏事分开经历不如一起经历"><a href="#幸福准则三：大好事小坏事分开经历不如一起经历" class="headerlink" title="幸福准则三：大好事小坏事分开经历不如一起经历"></a>幸福准则三：大好事小坏事分开经历不如一起经历</h2><p>　　如果你有一个大大的好消息和一个小小的坏消息，应该怎么做呢？<br>　　是应该一起说还是分开说呢？你应该把这两个消息一起告诉别人。这样的话，小小的坏消息带来的不大的痛苦会被大大的好消息带来的大快乐所冲淡，负面效应也就少了。比如你的工作得到了上司的肯定和支持，今天你得到升职了，但不巧的是，你在挤公车的时候不小心掉了 100 元钱，那么你回家该把这两个消息一起告诉家人。虽然掉了 100 元，但比起升职这么个喜讯也算不了什么了，家人一定不会在意那丢失的 100 元钱。所以，大大的好消息和小小的坏消息要一起告诉对方。</p><h2 id="幸福准则四：大坏事小好事一起经历不如分开经历"><a href="#幸福准则四：大坏事小好事一起经历不如分开经历" class="headerlink" title="幸福准则四：大坏事小好事一起经历不如分开经历"></a>幸福准则四：大坏事小好事一起经历不如分开经历</h2><p>　　如果你有一个大大的坏消息和一个小小的好消息，该分开公布还是一起公布呢？答案是应该分别公布。这样的话，好消息带来的快乐才不至于被坏消息带来的痛苦所淹没，人们还是可以享受好消息带来的快乐。<br>　　举例来说，现在股市不景气，你买的股票今天股价暴跌，使你损失了 5 万元。不过，你的运气还算不错，在超市购物时中了一盒价值 50 元的巧克力。那么你应当将这两个消息分两天带回家。尽管爱人得知股票亏损的消息会很沮丧，说不定还会怪你没有投资眼光，不过这并不妨碍他/她第二天品尝巧克力的甜美。但是，如果你一次性把两条消息同时告诉他/她，相比股市损失的 5 万元，一盒 50 元的巧克力实在是小巫见大巫，说不定他/她吃起巧克力来感觉味道也是苦的。大大的坏消息和小小的好消息要分开告诉对方。</p><h2 id="幸福准则五：好事晚说不如早说"><a href="#幸福准则五：好事晚说不如早说" class="headerlink" title="幸福准则五：好事晚说不如早说"></a>幸福准则五：好事晚说不如早说</h2><p>　　如果你今年业绩出色，公司奖励你一次去巴黎旅游的机会，那么请你想一想，你什么时候最开心呢？是在巴黎游玩的时候吗？可能不是，在巴黎你可能会因为跟不上旅游团的行进速度而迷路，或者为听不懂法语而苦恼。其实，最开心的时候是你听到这个消息以及期盼着去巴黎的那段时间，是在你为巴黎之旅进行规划和整理行囊的时候。很多时候，快乐来源于对快乐的期待，期待也是一种快乐。所以，如果要给员工奖励的话，晚说不如早说更能极大化他们的快乐，当然也就更能达到激励的效果。<br>　　如果你决定送别人一件礼物，并且肯定这是一件令人高兴的东西，那么早点告诉他那是什么吧。如果你要请一个朋友到一家高级的自助餐厅吃饭，你知道他一定非常想去，那么不要在吃饭那天的下午才告诉他，而要提前一个月就告诉他。在以后一个月中，你最好再提醒他几次，这样，他就有很多时间去憧憬那个高档餐厅的情景和美食，好像享受过好几次一样。所以，提前告诉别人你准备请他好好地美餐一顿，你能花一顿饭的钱让朋友感到十顿饭的欢愉。<br>　　人们不是常说，真正重要的是过程，而不是结果吗？所以，应该让接受奖励或者礼物的人在期待奖励或礼物的过程中得到持久的心理满足，在他一遍又一遍地想像收到奖励或礼物时的欢愉，你在他心中的作用也一遍又一遍地加强。让他去期待吧，让你的奖励或礼物随着时间不断增值。</p><h2 id="幸福准则六：坏事早说不如晚说"><a href="#幸福准则六：坏事早说不如晚说" class="headerlink" title="幸福准则六：坏事早说不如晚说"></a>幸福准则六：坏事早说不如晚说</h2><p>　　正常的傻瓜的女儿正在换牙，有一次，正常的傻瓜要带她去医院拔牙，在拔牙前，正常的傻瓜提前一个月就把这个事情告诉了她，好让她做好充分的心理准备。可是他却没有想到，正是这拔牙前的一个月把小姑娘折磨坏了。她每天都对着日历数数，看看到底还有几天要去拔牙。眼看着拔牙的日子越来越近，好像每一天都是世界末日一般。<br>　　所以，如果你要带孩子去拔牙，根本就不要事先告诉他，等到拔牙的那天把他从学校接出来直接带往医院，还没等他明白过来是怎么回事，牙齿已经被拔掉了。</p><h2 id="幸福准则七：静止的好事不如变动的好事"><a href="#幸福准则七：静止的好事不如变动的好事" class="headerlink" title="幸福准则七：静止的好事不如变动的好事"></a>幸福准则七：静止的好事不如变动的好事</h2><p>　　正常的傻瓜管理的部门这几年经济状况比较好，于是他想给手下人增加报酬以提高他们的工作积极性。提高员工的报酬有两种最直接的方法，第一种是加工资，比如把员工原来 50000 元的年薪加到 55000 元*第二种方法是发奖金，就是保持员工现在 50000 元的年薪不变，但是每年不定期地给员工发几次奖金，奖金的总额约为每年 5000 元。正常的傻瓜不知道该采用哪种方式为好，就去问了手下的员工。他手下的员工众口一词地说要加工资。正常的傻瓜心想，既然员工们自己都选择要加工资，<br>　　这虽然是大多数员工的选择，但也许并不是最好的办法。事实上，对公司而言给奖金要比加工资好，这主要有以下两个原因：<br>　　第一，尽管大家会选择加工资，但在总数相同的情况下，给奖金却会使人更幵心。一次性涨工资最初可能给人带来很大的快乐感，但别忘记我们前面说过，人有很强的适应性，并不能为物质方面的东西快乐多久。时间久了，人们也就适应了，他们的幸福程度又回到了没有涨工资时的水平。而间歇性地，特别是不定期地发奖金给人的快乐一直在发生，这种变动的快乐是不容易适应的，因此和涨工资比起来，发奖金带来的快乐更频繁，更持久，更能够提高人们的幸福程度。<br>　　第二，发奖金给公司带来较大的回旋余地。公司给员工增加报酬可以使用增加工资和发放奖金两个办法。可是经济难免会有不景气的时候，任何一家公司都不能保证能持续地快速发展。在经济不景气的时候，紧缩成本是一项必备的举措，其中可能不乏裁员、减薪。如果公司本来采用加工资的形式来增加报酬，那么就不得不降低员工的工资水平。这样一来，对于员工来说，心里当然不是滋味，“由俭入奢易，由奢入俭难”，这正符合了前景理论中的损失规避，减工资给员工带来的不开心程度要比加工资给员工带来的开心程度更大。如果公司原先采取发放奖金来增加员工报酬，那么在不景气的时候当然是停发奖金了，因为以前是不定期地发奖金，现在不发或停发，对员工来说也不是什么不正常的事。况且在员工心里，奖金和工资是不一样的东西，用我们前面讲过的损失规避的内容来解释，降工资是一种直接损失，而没有得到奖金则是一种未得收益损失，人们往往对直接损失较之未得收益损失更敏感，毋庸置疑，降工资这种直接损失给人带来的痛苦要大于没拿到奖金的失落。<br>　　由以上两点可以发现，涨工资不如发奖金给员工带来的快乐大，同时，发奖金又比涨工资有更大的回旋余地。<br>　　当然，选择采用发奖金的方式来代替涨工资也是有条件的，那就是最好该行业的所有企业都有这样一种默契或者说共谋，大家都选择发奖金作为激励的手段。如果有的企业采取涨工资，而有的企业采取发奖金，那些采取涨工资的企业的工资水平势必高于那些发奖金而不涨工资的企业，这样一来，就会造成人才都流动到高工资水平的企业，那么发奖金的企业也不得不靠提高工资水平来吸引人才，这样一来，大家都只能采取涨工资的做法，而无法尝到发奖金所带来的甜头。所以，最好行业中的企业对此看法一致，大家都采取发奖金的方式。</p><h2 id="幸福准则八：变动的坏事不如静止的坏事"><a href="#幸福准则八：变动的坏事不如静止的坏事" class="headerlink" title="幸福准则八：变动的坏事不如静止的坏事"></a>幸福准则八：变动的坏事不如静止的坏事</h2><p>　　如果现在你的经济状况发生了困难，你有两个选择来解决这个问題，要么把现在你和爱人居住的 120 平米的房子换成 90 平米的，但还是住在原来住的地方附近，离工作单位也不远；或者你可以把现在的房子卖掉，到远一点的地方买同样大小的房子，但是离工作单位比较远，每天要在路上多花 2 个小时，请问你会怎么选择？<br>　　□把房子换小 □把房子换远<br>　　不管是把房子换小还是把房子换远，都是不好的选择，不幸的是你必须在两者中选择一个。也许不少人会情愿搬得远一点也不肯将房子换得小一点，其实这样的选择未必好。房子变得小一点，虽说一开始会觉得比较拥挤，但是两口之家住 90 平米的房子还是可以适应的，用不了多久，你也就会习惯了。但是搬到很远的地方住就不一样了，每天路上多花两个小时，这种痛苦是很难适应的。许多人都觉得一天中最不高兴的时候就是在上班路上，如果你每天要多挤两个小时车，这份痛苦不仅难以习惯，而且会越来越难以忍受。即使你可以自己开车，每天多两个小时在路上也大大增加了你遇到车祸的风险。况且，花费在路上的时间越多，你可以自由支配享受生活的时间就越少。你不得不放弃和朋友交往的乐趣，放弃和家人共处的温暖，而这些都是人们幸福的来源。<br>　　这也与我们前面讲到的人的适应性问题不谋而合。对于静止的东西，人们总是容易适应的，但是对于变动的东西，适应起来就没那么容易了。<br>　　所以宁愿要一个一直有恒定噪音的空调，也难以忍受一个声音时响时轻的空调，这是一样的道理。</p><h1 id="第14章-选择越多越幸福吗——选择与幸福"><a href="#第14章-选择越多越幸福吗——选择与幸福" class="headerlink" title="第14章 选择越多越幸福吗——选择与幸福"></a>第14章 选择越多越幸福吗——选择与幸福</h1><h2 id="幸福准则九：小奖不如不奖"><a href="#幸福准则九：小奖不如不奖" class="headerlink" title="幸福准则九：小奖不如不奖"></a>幸福准则九：小奖不如不奖</h2><p>　　一般人们总认为要让别人做点事情，就应该给他们奖励，不管多少、不论大小，有总比没有的好，但其实不然。<br>　　在一个海边小镇，有一个老头独自居住在一个偏僻的海边小屋内，那里非常清净，老人过得挺舒心。<br>　　不知从何时起，经常有一群调皮的孩子从远处的镇上跑到海边玩耍，他们发现独居的老头，就经常用小石头砸老头的木屋，跟他捣蛋。他知道，对于这种顽皮的孩子，你越是要赶他们走，他们越是要和你捣蛋。终于有一天，老头想出了个法子。在小孩子又一次跑到老头家门口吵闹的时候，老头走出门，和蔼地将他们叫到身边，对他们说，我一个人住在这里挺寂寞的，你们的到来为我带来了很多乐趣，我挺喜欢你们这样跟我闹着玩儿的。这样吧，以后你们每天都来吧，每次来，我给你们 5 块钱。<br>　　孩子们听了很开心，本来就喜欢这样，现在又有零花钱拿，何乐而不为呢。这样，孩子们每天大老远地跑去丢石头，然后从老头那里换取 5 块钱。<br>　　这样过了一星期，老头对孩子们说，我手头的钱有点紧，下次来只能给你们每人 5 毛钱了。孩子们听后闷闷不乐，从 5 块降到 5 毛，总让人不舒服，之后去的人数减少了大半。又过了一星期，老头对孩子们说，现在我自己的生活有困难了，下次你们来我给不起你们 5 毛钱了，只能给你们 5 分钱。孩子们听后很不髙兴，愤愤不平地对老人说：才给 5 分钱还要我们那么大老远跑过来，我们才不干呢。之后这些孩子再也不去老头家门口向他的屋子丢石头了，老头也可以继续享受他清净的生活了。<br>　　从这个故事中，我们可以看到，孩子们做向老头屋子丢石头这件事的整个激励过程有四个阶段：<br>　　（1）没有任何奖励；（2）奖励 5 元；（3）奖励 5 毛；（4）奖励 5 分。<br>　　在整个过程中，孩子们做这件事，一开始是好玩儿，捣蛋，后来就是为了经济报酬了。比较第（1）和第（3）阶段，在第（1）阶段中，孩子们完全出于兴趣去干这件事，没有任何奖励，他们还干得挺乐意。而在第（3）阶段里，5 毛钱的小奖对他们的推动力就小了很多，使得有大半的人都不参加了。而第（4）阶段给 5 分钱奖励，虽然也有奖励，对孩子们来说有 5 分钱比起第一阶段完全没有奖励总要好些，但此时孩子们已经忘记这件亊情是自己本身髙兴做的，而把它当做是一种经济行为，因为一件事一旦掺杂经济利益就很难回到原先做这件亊的初衷了，孩子们觉得为了 5 分钱跑那么远来不合算，所以他们都不愿意来了。由此我们又看到一个小奖不如不奖的例子。<br>　　也就是说，要激励他人积极地做事，除非给予和这件亊情相匹配的外在激励，否则小的外在激励抹杀了内在动力，还不如没有效果更好，因为小“意思”最后挤走了大意义。<br>　　这个道理用在教育孩子或者激励员工上都很适合。如果您的孩子对画画很感兴趣，或者公司员工出于内在的动力很积极地投入工作，最好不要采用外在激励的手段去鼓励他们，因为一旦有外在激励加入，内在的动力容易被扼杀，让人感觉做这件事情只是一个经济行为，尤其是奖励比较小的时候，人们会觉得不值得为这点小钱去做事，于是连本来不拿钱自己也愿意做的事情都不想做了。</p><h2 id="幸福准则十：小罚不如不罚"><a href="#幸福准则十：小罚不如不罚" class="headerlink" title="幸福准则十：小罚不如不罚"></a>幸福准则十：小罚不如不罚</h2><p>　　反之，如果是用惩罚来避免某些事情发生，这个原则同样适用，即“小的惩罚不如没有惩罚”。<br>　　心理学家格尼兹（Gneezy）和鲁斯蒂奇（Rustichini）曾经在几家幼儿园做了个实验。这些幼儿园通常在下午 4 点下班，因此老师们总希望家长能在 4 点之前接走自己的孩子，但是总有那么几个家长每次都姗姗来迟，弄得老师们都无法按时下班。心理学家们让其中的几家幼儿园发布了一条规定，对于超过 4 点才来的家长，每晚到十分钟罚款 2.5 美元。结果发现发布这个规定的幼儿园在规定实施后，晚来的家长人数有增无减。而没有发布规定的幼儿园晚来的家长人数没有发生什么变化。原来那些家长看到幼儿园张貼出的罚款规定，反而觉得这真是件划算的事情一迟到十分钟罚款 2.5 美元，这就意味着花上 15 美元就能让幼儿园多照看孩子 1 小时。几周后，在实验者的要求下，那些颁布罚款规定的幼儿园撤销了原来的规定。规定撤销后，这些幼儿园中晚来的家长没有减少，甚至更多了。家长们晚来的理由是，原先还要花 15 美元才能让幼儿园多照看孩子 1 小时，现在分文不花就能为我照看，不是更好嘛!我想看了上面的实验你可能不禁哑然失笑吧。笑过之余，是否也发现其中的道理呢？罚 2.5 美元对家长们来说实在是太小的惩罚了，相对于原来的不罚，反而更不能约束他们的迟到行为，因为有了惩罚之后，错误似乎被合理化了，家长也乐得花钱买迟到，而且还是买得相当划算。<br>　　因此，我们建议你，不论是奖励也好，惩罚也罢，不管是激励员工，还是教育孩子，都请记住：人们做事往往是出于自己的内在动力，而一旦与奖励挂钩，就变成了一个经济交易。所以给小奖反而不如不给奖。<br>　　惩罚也是如此，小的惩罚反而不如没有惩罚。</p><h2 id="幸福准则十一：好事有选择不如无选择"><a href="#幸福准则十一：好事有选择不如无选择" class="headerlink" title="幸福准则十一：好事有选择不如无选择"></a>幸福准则十一：好事有选择不如无选择</h2><p>　　当一个公司准备奖励员工时，假设公司可以让员工去度假旅游，也可以送他们每人一台高清晰度的数码电视机，并且两者是等值的。究竟应该给他们选择的权力好呢，还是不让他们选择好呢？<br>　　乍看之下，好像是给出更多的选择是对员工好，绝大多数员工也希望可以得到选择，以为那样可以更加满意，其实不然。在让他们自由选择的情况下，选了度假的员工会感到自己是放弃了实用的电视机作为代价来参加旅游的，旅游回来看到同事家的那台电视肯定心中不悦：而选择电视的人，在家里看到电视中的那些度假胜地，想到其他员工正在尽情游玩，一定会顾影自怜了。因此，当你知道两件事情对方都喜欢的时候，就不要给对方选择，免得导致他患得患失。<br>　　送礼不该给出选择，虽然人们会选择能给他们带来最大效用的礼品，但很多时候这种选择并不能给他们带来最大程度的满足。在有些情况下，选择还会带来负面效应。当几件礼物优劣差异不大时，单独给任何一种东西都比让别人在两种甚至几种东西里选一样让人得到的满足感更大。<br>　　送礼的人在选择礼物时，为了满足收礼者的最大效用，经常会问他们想要什么。但这种做法其实不明智。为什么呢？有两个原因：第一，给接受礼物的人选择会使他们觉得放弃哪个都不舒服，最后拿到哪个礼物都觉得不完美；第二，正如我们在前面说的，接受礼物的人往往会从经济利益的角度来选择，而经济效用大并不一定会让他们更开心。</p><h2 id="幸福准则十二：坏事没选择不如有选择"><a href="#幸福准则十二：坏事没选择不如有选择" class="headerlink" title="幸福准则十二：坏事没选择不如有选择"></a>幸福准则十二：坏事没选择不如有选择</h2><p>　　如果一定要对方接受一件你知道他不太愿意接受的事情，那怎样才能把他的不高兴程度降低呢？这个时候，如果给他自己选择，从两件同样是不好的事情中选择一个，这会让他的感觉好一点，觉得到底是自己做出的选择。<br>　　如果你的企业要利用周末给员工做培训，你知道大部分员工都不太愿意来参加这种培训。那么你可以设计两个类似的培训让员工从中选择一个来参加，这就给员工一种自己选择的感觉，培训的效果会比企业硬性规定更好。</p><h2 id="幸福准则十三：大中之小不如小中之大"><a href="#幸福准则十三：大中之小不如小中之大" class="headerlink" title="幸福准则十三：大中之小不如小中之大"></a>幸福准则十三：大中之小不如小中之大</h2><p>　　轻礼有时会比重礼更显得慷慨大方，情意深厚，而人们往往并没有意识到这一点。<br>　　正常的傻瓜给两个朋友送礼物。他买了一条价值 400 元的羊绒围巾送给一个朋友，还买了一件价值 500 元的羊毛大衣送给另一个朋友。两者比较而言，围巾相对便宜，大衣的价格更贵。但是后来正常的傻瓜从别人那里听说，接受围巾的朋友觉得正常的傻瓜很大方，她认为正常的傻瓜为她挑选了那么高档的围巾，可见他的确是把她当真正的朋友了。而收到羊毛大衣的人呢，她似乎并没有收到围巾的人那么高兴，反而觉得正常的傻瓜挺小气的，不够朋友。正常的傻瓜听到这些话以后觉得非常纳闷，他想自己明明在后面这个朋友身上多花费了 100 元钱，为什么她反而觉得自己小气呢？你知道这是为什么吗？每个东西都有它所属的范畴。围巾是一个比较便宜的范畴，而在当年一条 400 元的围巾是这个范畴中比较贵的东西，大衣是一个比较贵的范畴，一件 500 元的大衣是这个范畴中比较便宜的东西。<br>　　这个例子引申出一个常常为人们所忽视的送礼之道。那就是，在送礼物的时候，一个礼物到底值多少钱虽然重要，但并不像你想像的那样重要，你更要关注的，是这个礼物在它所属的类别里面是不是昂贵。送礼的时候，在一个不太昂贵的礼物类別中选择一个比较贵的礼物，要比在一个比较昂贵的礼物类别里选一个比较便宜的礼物收到的效果更好。<br>　　一般来说，在不太昂贵的礼物类别里选择一个最好的当做礼物显得大方又有礼。大中之小不如小中之大。对企业，这种方法同样能够一举两得，既能激励员工，又可以节约成本。</p><h2 id="幸福准则十四：有用的不如无用的"><a href="#幸福准则十四：有用的不如无用的" class="headerlink" title="幸福准则十四：有用的不如无用的"></a>幸福准则十四：有用的不如无用的</h2><p>　　其实，朋友结婚送钱是一种很糟糕的送礼方式。这种方式不仅俗气透顶，而且新人们往往不会记得张三李四都送了多少钱，惟一有可能的是当你送的钱比别人少的时候你会被记住。送礼最好是送“四不掉”的东西，即吃不掉、用不掉、送不掉也扔不掉的东西。这样的礼物最适合表达你的心意，也最容易让收礼的人产生愉悦之情，从而对你感激备至并久久难以忘怀。能吃掉的礼物的作用会随着消化系统作用的结束而消失，会用掉和扔掉的礼物也会随着时间的流逝而被淡忘。<br>　　那什么东西才是吃不掉、用不掉、送不掉、扔不掉的呢？往往是能够体现个性的礼物。所以在朋友搬新家的时候，送给他一幅他的画像倒不失为一个好选择。而且画像上的他最好比他本人还好看一点，不是他现实中的样子，而是他想像中自己的样子。画像显然是吃不掉也用不掉的，他也不会将自己的画像拿去送人，毕竟还没有那么伟大，当然，他也不会舍得把自己的画像扔到垃圾桶里。朋友看到自己的画像，并且画像上的自己还是那么英俊或美丽，自然很开心。于是，他肯定会把你送的画像挂在新家客厅的墙上，每天都会看到它，也会想起来这是你送的礼物。有其他朋友到他家参观，他还会得意地把画像介绍给朋友们看，告诉他们这是你送的礼物。这样有个性的礼物一定会让对方长久地记得你这个朋友。<br>　　但是送礼的时候，有用的东西往往不如无用的东西。从接受礼物的人的角度来讲，对他们有用的东西并不一定是能让他们高兴的东西。而从赠送礼物的人的角度上来说，送礼的目的不是要给接受礼物的厶带来多大实用价值，而是要让他们感激你，记得你。吃得掉、用得掉、送得掉、扔得掉的东西会很快被人遗忘，所以你送的礼物应该是吃不掉、用不掉、送不掉也扔不掉的东西。</p><h2 id="幸福准则十五：说要的不如想要的"><a href="#幸福准则十五：说要的不如想要的" class="headerlink" title="幸福准则十五：说要的不如想要的"></a>幸福准则十五：说要的不如想要的</h2><p>　　有类似的实验研究可以证明，在没有其他选择时，收到 1000 元髙级饭店餐券的员工髙兴程度大于收到 1000 元现金的员工。<br>　　这些从来没有去过那么髙档的餐厅就餐的员工会永远记得老板给他们提供的那次特殊的髙贵享受，而那 1000 元钱放进自己的钱包之后，人们往往忘掉了他们是怎样花掉了这些钱，当然这个礼物就慢慢地失去了它代表的意义。<br>　　人们会有各种各样的原因限制自己去购买一样自己很喜欢的东西，有时是经济上的限制，有时是社会习惯的限制（比如成人不该经常买儿童漫画），有时是家人和朋友的约束（比如有些女孩子不喜欢男朋友在节假日买球票看球）。我们上面的例子其实就是这样。员工要在 1000 元现金和在髙档法国餐厅就餐之间进行选择，几乎所有的人都希望能够到高档法国餐厅去体验一回，可是他们又会觉得没有借口说服自己去奢侈一回，所以大部分人都会选择 1000 元现金。“说要的不如想要的”说的就是要送别人很想买却没有理由买的东西，或者不好意思买的东西，有时这些礼物的价值虽不大，但其效果却是极佳的。<br>　　萨勒教授曾举过一个非常有趣的例子：有一对夫妇很喜欢在每天晚餐的时候来一瓶葡萄酒，他们担心自己爱喝酒的习惯会让他们破产，就给自己定了一个规矩，每晚在酒上的花费平均不得超过 10 元，而一瓶酒最贵不得超过 20 元。他们这样做完全是为了控制开支，怕自己破例以后就很难回头。这时，想想如果你送给他们一瓶超过他们预算的法国葡萄酒，他们会有多么髙兴！<br>　　收礼人是从经济学的角度或是以自己通常的状态来考虑选择什么礼物或是奖励的，但当他们享受礼物的时候，情况并不是这样简单。经济学的效用并不等于心理的满足感。优质的法国葡萄酒也许并不比五瓶普通葡萄酒对这对夫妇的价值更大，但是却能让他们更高兴，更喜欢你这个朋友。<br>　　通过上面的例子，我们应该可以澄清两个槪念了。第一点，你要弄清楚你给别人送礼的目的是什么。其实你送礼的目的并不应该是真正使收礼人得到最大的效用，而应该是为了使自己的地位在收礼人的心目中得到最大程度的提高。对公司激励员工来说更是如此。如何才能达到这个目的呢？当然是对方越髙兴越好，越能记住自己越好，越能受到激励越好。第二点即经济学意义上的效用大并不代表心理学意义上的髙兴程度大，而你应该意识到，接受礼物的人对你的礼物或者奖励是否满意对你们之间的关系影响更大。<br>　　将这一理论运用得最生动的案例莫过于美国的全国橄榄球联合会了。<br>　　在每年超霸杯后的一个星期都要举行一次职业杯比赛（就是请球星来打表演赛），曾经有好几年这场全明星赛都无法吸引到所有的超级球星来参加。提髙奖金和出场费对这些七位数收入的球员来说几乎没有什么剌激作用。主办方是怎么解决这个问题的呢？他们把比赛场地转移到了夏威夷，每个参赛球员有两张免费的一等舱机票，可以带上女伴，并且两人在夏威夷的食宿也免费提供。这些超级球星尽管腰缠万贯，有足够的财力去夏威夷游玩，但是他们的时间是有限的，甚至是受到严格控制的，他们平时忙于训练，往返于各地参加比赛，也很少有时间能陪伴自己的女友，更不用说带女友去夏威夷度假游玩了。现在有了参加职业杯做度假的理由，球星的积极性就提高了，他们纷纷带着女友一起到夏威夷参加比赛。同样是遨请明星参加球赛，在了解了他们想要什么以后，用这样一个方式吸引他们，在財力上同提髙奖金和出场费等手段比起来，也许更加节省，但是在效果上却大不一样了。<br>　　所以，应该把人们想买却不舍得买或者不好意思买的东西送给他们做礼物或作为奖励。</p><h2 id="幸福准则十六：公开的不如不公开的"><a href="#幸福准则十六：公开的不如不公开的" class="headerlink" title="幸福准则十六：公开的不如不公开的"></a>幸福准则十六：公开的不如不公开的</h2><p>　　有些公司对员工的工资和奖金公开。从管理透明，避免作弊来讲，这可能是好的。但从员工的开心来讲，则不然。对于员工而言，公开还不如不公开好。<br>　　首先讲讲不公开有些什么好处。一方面，人往往是过于自信的，他们一般会认为自己的能力比别人强，因而在工资水平不公开的情况下，他们也会认为自己比别人拿得多。这种过于自信会让他们产生一种满意感，因而对公司来说，也能起到安抚、稳定的作用。另一方面，不公开也就没有比较，也就无从知道分配是不是公平。<br>　　再来看看公开工资或奖金有什么坏处。由于大家都觉得自己比别人好，自己比别人的贡献大，如果两个人拿的钱一样，两个人都不满意。<br>　　如果有一方拿的钱比较多，拿钱比较多的那个觉得这是理所当然的，拿钱少的那个肯定非常不开心，说不定还会暴跳如雷。大家都要求公司为自己涨工资，结果是公司不得不为所有的人涨工资，最后大家仍旧觉得自己拿的钱应该比别人多，所以还是不开心。<br>　　送礼并不是为了能给对方最大的效用，所以送礼的时候请不要以效用最大为标准做出你的判断。记住，送礼不是为了别人好，是为了你自己好。奖励或送礼的目的并不是真正给对方最大的效用，而是要让对方开心，并且感谢和记住你。<br>　　以上两章我们总结的幸福准则多是物质上的，其实对人最大的奖励莫过于精神上的。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/images/covers/264.webp&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="心理学" scheme="https://qianling.pw/categories/%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    
    
    <category term="书摘" scheme="https://qianling.pw/tags/%E4%B9%A6%E6%91%98/"/>
    
    <category term="心理学" scheme="https://qianling.pw/tags/%E5%BF%83%E7%90%86%E5%AD%A6/"/>
    
  </entry>
  
</feed>
